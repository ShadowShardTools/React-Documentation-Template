import{c as f,r as p,j as e}from"./index-BPy2T0rv.js";import{X as L}from"./x-CzNIZz4e.js";/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],_=f("arrow-down",E);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],M=f("arrow-up",D);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["polyline",{points:"9 10 4 15 9 20",key:"r3jprv"}],["path",{d:"M20 4v7a4 4 0 0 1-4 4H4",key:"6o5b7l"}]],C=f("corner-down-left",$),R=({isOpen:o,onClose:c,searchTerm:i,onSearchChange:k,results:r,onSelect:m})=>{const[d,u]=p.useState(0),y=p.useRef(null);return p.useEffect(()=>{o&&setTimeout(()=>{var t;return(t=y.current)==null?void 0:t.focus()},100)},[o]),p.useEffect(()=>{const t=s=>{o&&(s.key==="Escape"?(s.preventDefault(),c()):s.key==="ArrowDown"?(s.preventDefault(),u(l=>Math.min(l+1,r.length-1))):s.key==="ArrowUp"?(s.preventDefault(),u(l=>Math.max(l-1,0))):s.key==="Enter"&&(s.preventDefault(),r[d]&&(m(r[d]),c())))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[o,d,r]),o?e.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-start justify-center pt-24 px-4",onClick:c,children:e.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-lg shadow-lg overflow-hidden border",onClick:t=>t.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center border-b px-4 py-2",children:[e.jsx("input",{ref:y,type:"text",value:i,onChange:t=>{k(t.target.value),u(0)},placeholder:"Search documentation...",className:"flex-1 px-3 py-2 text-sm focus:outline-none"}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-black",children:e.jsx(L,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:i?r.length===0?e.jsx("p",{className:"text-gray-500 text-sm text-center py-6",children:"No results found"}):e.jsx("ul",{children:r.map((t,s)=>{var l,w;return e.jsxs("li",{onClick:()=>{m(t),c()},className:`px-4 py-3 cursor-pointer ${d===s?"bg-blue-50":""}`,children:[e.jsx("div",{className:"text-sm font-medium text-gray-800",dangerouslySetInnerHTML:{__html:t.title.replace(new RegExp(`(${i})`,"ig"),'<mark class="bg-yellow-200">$1</mark>')}}),(()=>{var g,j;const x=i.toLowerCase(),a=(g=t.content)==null?void 0:g.find(n=>{var v,N;return["description","quote"].includes(n.type)||(v=n.type)!=null&&v.startsWith("title")?n.content.toLowerCase().includes(x):n.type==="list"?(N=n.items)==null?void 0:N.some(b=>b.toLowerCase().includes(x)):n.type==="code"?n.content.toLowerCase().includes(x):!1}),h=(a==null?void 0:a.type)==="list"?(j=a.items)==null?void 0:j.find(n=>n.toLowerCase().includes(x)):a==null?void 0:a.content;return h?e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-2",dangerouslySetInnerHTML:{__html:h.replace(new RegExp(`(${i})`,"ig"),'<mark class="bg-yellow-200">$1</mark>')}}):null})(),e.jsxs("div",{className:"text-[11px] text-gray-400 mt-0.5 italic",children:[((l=t.category)==null?void 0:l.title)||"General",(w=t.subcategory)!=null&&w.title?` â€º ${t.subcategory.title}`:""]})]},t.id)})}):e.jsx("p",{className:"text-gray-400 text-sm text-center py-6",children:"Start typing to search..."})}),e.jsxs("div",{className:"border-t px-4 py-2 text-xs text-gray-400 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),e.jsx(_,{className:"w-4 h-4"}),"to navigate"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-4 h-4"}),"to select"]})]}),e.jsx("span",{children:"esc to close"})]})]})}):null};export{R as default};
