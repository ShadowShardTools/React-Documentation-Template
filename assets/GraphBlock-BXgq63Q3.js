import{g as jr,r as vr,j as Ur}from"./index-BPy2T0rv.js";var xr={exports:{}},kr;function Gr(){return kr||(kr=1,function(Yn){(function(){var _n={GraphingCalculator:!0,FourFunctionCalculator:!0,ScientificCalculator:!0},kn="59c0109323576627d7f9f42dd14d80bdd5d68587";(function(Cn){var Dn=document.createElement("style");Dn.innerHTML=`@font-face {
  font-family: Abraham;
  src: url(data:application/font-woff;base64,d09GRk9UVE8AABesAAoAAAABsHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAGCAAAESoAAZxTwK+1TU9TLzIAAAFMAAAASAAAAGBqcY7HY21hcAAAArwAAAM/AAAM5C7FvppoZWFkAAAA9AAAAC8AAAA2C10Dp2hoZWEAAAEkAAAAHwAAACQGhwJ4aG10eAAAFzQAAAAkAAACiN3nXcBtYXhwAAABRAAAAAYAAAAGAKJQAG1ldGEAABdYAAAAUQAAAFXVMTtBbmFtZQAAAZQAAAEmAAACx11IF6xwb3N0AAAF/AAAAAwAAAAgAAMAAHgBY2BkYADh+nP6yvH8Nl8ZmJlfMADBlQ8P9BH0f3OmFGYjIJeZgQkkCgBSDwurAHgBY2BkYGBW+2/HwMD0myHl/xymX0ARVLAIAIH7BgMAAABQAACiAAB4AWNgZvrC+IWBlYGBqYtpNwMDQw+EZrzPYMjIxIAKmMEkC4QTAQQMDgy8GvbMav/tgJJGDCeBwoxghXLMcgwKQMgAAHxDCyh4AUzOuwkCYRBF4TP7frO7ghgZiBhbwGbagJFlWIAlmduFPckPN7jZx8wwHOAcXwIACJCDHbmcUbPJOUcecmE3JSc+csWBp1zbz8bcmjtzbx7Mo3kyz9awWOea5mlTtEBGyMGFvZwxcZNzNl5yYTcld35yxZW3XNvPxtyaO3NvHsyjeTLP1rBY55rm/6rGGFVDGAjCc5RcQFGws7Kxs7Gwj7pqMCaw6v3/wTwehJCE3Rm+z8B0s9rDXkWIoXiDW+Iq6DBDYXHwXigQEBH4v3wdFk4rZJT99VYxQrAz8ixrXVZV0/4xiUzE/26NEhVPgzaXJEUuyMmT6O1iMMnQx/Dc4jcz2FOUS64xsa+44T6WyWz9t3uYCjw2pgMsTk6amqn9A7mESTQAAHgBDMVlMwQBAADQt9gxY8Y3P0Bb3b2a1d3d3Vzccfx23peHIsUCVPxfRhgrCSOCJKBUgnKVqlSrUatOvQaRRk2atWjVpl2HTl269ejVp9+AQUOGxUaMGjNuwqQp02YkZs2Zt2DRkmUrVq1Zt2HTlm07du3Zd+DQkWMnTp05d+HSlWs3bt259+DRk2cvXr159+FTSlpGVk7el28FP379sU/fOE4GUBDHne1dh83BOdt/55yD78LJEBXX4BbUnIH+Y4opOIAlhOQZ/YrXjvS+EiJMhCgx4iRIkuKOe9JkyJLjgUeeeOaFV95454NP8hQoUqJMhSo16jRo0qJNhy7Qo8+AISPGTJgyY86CJSvWbNiyY8+BIyfOXIJAK15lx9uOwe/g13/dHz+//Nvq26+RWzISSn739U3+TtbCUrOI1C0qDYtJ0+LSsoS0LSkdS0nX7gS7l56lpW8ZGVhWhpaTkT3I2B5lYk8ytWeZ2YvM7VUW9iZLe5eVfcjaPmVjedlaQXZWlL2V5GBlOVpFTlaVs9XkYnX5wwI93TAAAAAQXa22bdt2O3tzyX28BV5AXAfFdQheh8V1RFxHxXVMXMfFdUJcJ8V1SlynxXUGXmfFdU5c58V1QVwXxXVJXJfFdUVcV8V1TVzXxXVDXDfhdQtet+F1B1534XUPXvfh9QBeD+H1CF6P4fUEXk/h9Qxez+H1Al4v4fUKXq/h9QZeb+H1Dl7v4fUBXh/h9Qlen+H1BV5f4fUNXt/h9QNeP+H1C16/4fUHXn/h9U9/EujaCAEAAGAg7u4CfcZmVC6X4hd4r3/qmoG6ZqiuGcVrxvGaSbxmGq+ZxWvm8ZpFvGYZr1mpa9bqmo26Zquu2alr9uqag7rmqK45qWvO6pqLuuaqrrmpa+7qmoe65qmuealr3uqaj7rm+y8pro4aAAAoCF4luLu7lIZD3F1I0mnezH3srHjLK+I9r4qPvCY+87r4yhviO2+Kn7wlfvO2+Ms7opB3RTHviVLeF+V8ICr5UFTzkajlY1HPJ6KRT0Uzn4lWPhftfCE6+VJ085Xo5WvRzzdikG/FMN+JUb4X4/wgJvlRTPOT+M/PYpZfxDy/isUS0BD9swB4AWNgZsALAAB9AAR4AVTRe3RU1RUG8O/bNzElREIAiSEPE9NoxIbm/aCyXAHkUUgoxKYBFpI7M2cyQ2bundyZSYAlVqstVowghVItlAq0gFiEghYFhTZVIxUVSSuIysMSpUBBYyFpinbIYa2u/nN/e+117t777EPEESTTql2O6TODlm1FLb/b9qhZqikaMB2QzO9NR2+G9GYYvZlxy/rn9b3ctzw+E4iX5Nj3hntSlmWCa+uGYZOAyEU5xmESpmEmZsMNP0JYhEfQjjVYj43Ygu3YjZfwCg6gA514C+/iCI7iI5xCNy6iB734mgkcxEQOZhJv5BAmcyhTOIzDOYI3cSRTeTPTOIrpzGAms3gLs5nDW5nLMazgBNaygfN4H+ezkSZddNNDRS+b6KOfC9jMAIO0aDPEFjoMM8IoW9nGB/kw27mGm7mdL3AfO3iQh3mUJ9jNC/yS/SIySIZKqmRJnnxLSmSsVMsUmSH1Mk880iyOLJIHZak8IatlrWyUZ2Wn7JH98rocki45LqflrFySK/KVEW8kGcONUUaOkW982yg3xhkTjWnGLGO20Wg01Ssn7Let7KIxhYWl35lkW5GwCniza8xm5cSSsfT1JyuwbKvg/x/NHTvt2IEJs8Ih063UQnfADLZE7YjyuAJWNOi6VrrJ8tiB2NmQctzKipjBWBA2Lc/AubDfagqokOkoK6C8kYHA8Tf5ImY4ohx/uDkUiIbddjBo+haFfMoKxZK2Jxwww77FyrFtS0Xa7IjPUcprRx2vvzVWcWFYtSpLXati+S3ltgO2FVZB/0AQUOGwaomagSZHmbEWLVEVjsSub0aqx0+YeM+kyVOmfnfa9JraGd+bOavu3u/X/6Bh9pzY9d3NKnJtQFcsGuh+PXd9Vrff7/Y77mgwanmUExvYUU2O2apMl9ujvE0+/4LmQNCyQy1OOBJtbVu4aPG1/5Wu6AzE/6sU8Qc8KrZrl6PM5th+BnYb23txZWGhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURrvAEWFmiJNsaZEU6op05RrKjSVmiqNqXFp3BqPRml0v+JCTZGmWFOiKdWUaco1FZpKTZXG1Lg0bo1HozS6X0mhpkhTrCnRlGrKNOWaCk2lpkpjalwat8ajURovAD7GZXyc7XyCy7mCT3Ilf8ZVXM2fcw1/waf4NH/JtVzHX3E9f81nuIEbuYm/4W+5mVu4lc9yG5/j77idz3MHd/L33MXdfIEv8g/cw5f4MvdyH1/hq9zPA/wj/8QO/pmv8XW+wU6+yYP8C9/iIb7Nd/guD/M9HmEX/8q/8X0e5TF+wOP8kB/xY57gSZ7iaX7Cv/MMu/kpP+NZ/oPneJ4X+E9e5CV+zi/Ywy/5L17mFfayj/9mP//Dq/yKXwuEImJInMTLDZIg35BBkiiDJUlulCGSLEMlRYbJcBkhN8lISZWbJU1GSbpkSKZkyS2SLTlyq+TKNyVPbpPbJV/ukNHYYAAE4oAEIBGyAvEjkbAWiaORtAPJ5UjZhxHjMbITabVI70LWHGSfRK4XeeeR34o741CwEoXZKN6OsrtQcRBjG3DXadwdQvVlTLwfkwVTH8X0IahdhZmjUHcI9XVoOIa58zHvDBqb4focqg2+AizYhWAV7P2IbETbHVj0PO4vwwN78VA1Hn4DP6nBo0ewbDbaT2CFwspzWN2CNVfw9BKsM7D+p9iQjE2rsXkKtr6N5+7F9g+wsxG7uvFiAHu+wN4teHUMDuxGx1h0ZuHgJhwajXd24L1ydO3D++NxrBMf1uLjLpyag09OotuLz87jnIMLvbj0AHri0JOAngZcHozep9Cfi6tbiRLKm4yfwYRjTJzPpLNMDjPlKkcsY2oa09YzI49Z25hTxdz9vK2G+Ud4p8mCT1kYZHEPy5aw0uDYdo5L593PcPztnLiTkys49TVOn8baw5w5l3VnWG+zoY9zl/K+FDaupzuPahd9P2bzYFo5DG1juIrRDi6s4eLjXOLnDy/yR1E+0s+lD/GxBD7ezuWpfHIdV+X2ZQ35b3vXH1tXXcXvq5TcdRtFs8rohkPHCjRzndK0lrAR1iZbg6nGpzJmSUqmf1DTwQDdEn4IMoP6VWZeTP8QdGo3S5bGOKKsiUVTQjqXVTeYzKX9Z2Rdt1nMuh9dJm3f8d7PTb/t3mt4vcJp77t8EnLv+L737rnnns/9nPM95/s9vVLr//ffF4xI1fbyEmMKpeCba18x/r/Me09iYPzF7gYTfLTy9Zdk7J2uz5QYcb5Q8z2RtyoWiPPZI5dEDvQ8a9zghGEcDAZc/9TxDXzRG67/HH5s3OCEYe/w6mH/osk9rqSPLxo0uiKcE09tlsStQ6W+mOuP1YlcqPmROAt7tomcu73LuMEJwzgYDLj+qbgVX/SGk7/Hj40bnDDsHTq+4l90uNkVWfb9X+pqAiVwULbJz9pXG9WHNWMUJk59dRAo1LUdUKgrIvHwxiOxsN0kCvPdJlHkQjJItN+n+KNQOlP1ma939YTW5ddB6/KFBsPTa31wQuu3L0Drty8aDGe93jjoinHWt+yHNvF4r9QZImpoxPunCxFrO33A62oCTiQKYzBLUYCI3iyFXGhnKfluO6AwQlxIVucsJQKakNWJQmoSgVidsxN6ZHJhFPwY58jkQnIhNSEXEoVEIblQ6JGZLyQKo4FCD2AbVkjBpqLHJiUlGyckFZ8JKtfNkNSXKen2Af+LZf5wk//jVkgavtH4Qtr8z36Niy71lCnd3y9jZysK8875cwGFUV/CAyQ6rz3UCySGlWSRuM0iMUvSJBJlXWslkBj/BWX6y7Ai4ERU0dh46LCmpAk0DrbsDY9G2jBfNCE3crEtNIkLGruW1wVoDPBlL9mULWkqvoL7srDbli1p6n1J4uUlWywaLfgsGi08JX3fQGoCjdAFYTF0yY6WJ3WZcj8HIT07Wr7qfpy22iFTEs4q4SwOmMCGqmIgQVkTZ0d7BeSo2gQzmIElN2eisc+isRmSik8bX/YD06KxY/eEpOHFARpbIansaus/szw1QzSeT2aisQ+aT3c/VvPQ99NWXR4TNHbsmm90H5bVRFMM40YusmDcyOxOCDGMG6uBr+liAouvEDFBuLhx/OiazUCjfrQVF0+dqjeqAZ1RjxkjwIv00ty8GvV6NOtnXKdIFBKFXJtDBuH+FU5mqQl3lHLvEdcpfhTjQmpCLuR6e3LhzlAofP6YbnIRttMVETIFRk1k6chPRUYT48pgT298U8auPLhhAor7MqH4JQzEv3ki17pGXxOiMB81YRBJ28W5hSdRSBRGP7YgCmk7prjJhSy0EIVEIefIJv3kHOKUPpurIn/3z0Fx/tGyNzL5RXIn/0QQAKZaQvg/aQInfBHD2c8KB4MB685Yb4mQTdKjtz0lY4O/uZyD49S4kBUKaqIwmzlxZ4+Hws4q/3au++TrIpd+vkKc+d/uEzl/9m7j+qe1xh8uw2cG467BuP/Ffnzm/7jbuLiGwe/xmcG4K3LLS13iOB97V9l+/ZvrPPudXqWrDYhTV0Ti8UeHPU3OXZv/c7PuE+0y/sYL3ynxFLznQW943q03iVw+ftJ/SH/Z5QYnjOCA/zVucMIIfmLwczc4YSQ44KL+RXrf6/FEXP/OFv+N+3MDDgYDbnASuVD3CoZFzn0qZdzghGEcDAbc4IQvYhg/9kUkNg0n9bU4oKoFTC7OHYU1+a6J5TjuqmMlj3lDopCVPM46+D6RC2k7opAoZCWPHpkemTWRGKCQHpl/sJ5+jKsv2NCBlTmikLnemHhkemR6ZNZO2GKJrE4UEoWcnbDpIVuWsdEX22Ox9SZRyNiC7ebYpI2akAupCf9QPVtvEoVsvUlN2HqTCwZYdNadyhCFLPcRhWx6SBQShSz3EYW0HVPc5EIWWohCopBzZLbepM9m601yJzHJ1pust7D1JisU1IStN9l6k6032XqTrTfZVoSVPDb6IgpZyeOsg+8TuZC2IwqJQlby6JFpO7ZYIhfSI7PRFxt9cY5MFDK2IAqZ66VHJhdy7RmbHpJBiEKikBU8xoVsvcnWm3OIQjY9ZOtNopCxBVtvskkb281dqZ1xxznHaauTsVu6G3L0A2MLu/zThC3sxHntoV4p2FT0mLLm61orZexsRSF3WLNO9H7p89qa7Tkh8vKSLZKe135XSTgB4W5enDU124GTvEeis75l/4z9NsuJIZB4av3RqWSF28cdQ6WwGkNBA2UzNN75B/VX/JEvw3a6mgDsqiKgRBw0sVvvxVnQ3aDmnbn9ntvvR3LwnI0T/a/MRpw4uLV1hnFiZ5W+Fewea3XXeXrVjLWhNtZLczH4XGrCWFGcrp4felKAXnvHTdmKTEVvoLYF9bZsRaaqjUelKwKuE3JmJoaaOHuOjAbZnHCQCQdHSSTaK2w2x9Ka5TlLfJHgQ7aC58IfYA9IzIFYSd93fs8EEvG48BTxuIKHi1GDkexMDkbwKDGag3J0RaSTTbshR5kLOnY1KmtiyVNXjNNWddxoPix1JBKJsdAEEpSRaDM5RZV3q8YkZjbCnqfP9kr646XLcr1T40fXbMY7pWs/Z8cfa/UJy8SGE5HJSXx+2f36mRzAhNNzlXJODGLF6NSfiUbuPmc+kRDR58Too5B/xIr5KKKQKNRndcaH0Qc8d6GTEwkRciL7nDEIiDYnEiKMExsPHdZUxq5PbNlLwDMIICcSIhG1SQRQyAwONVHYSRX5/UcPf+vkrNjuFzfFQBOuSeT6qdwipPHgbXFZf0OvzCY8+cGH+qv4uLKZfCiJgSVbc62MtcpM5qdDK/PM8ntEagrvjNay1RigEe9VDOIMZm7onfNpzmxRyFavjBHnes6czJwz91lf1hz4stPwZQ9M78t2W1+2OHgxWoHEsgxfVl2uHln97Rjsp6sJfJmqCEAkFppYPmQT77lqfsp25BMzlZux7mbKTKXPzlSy8G5nKqHwjplKCutuIka7MZhCdOyaHxXaJSfGgEnYUl4BhfxzACE8M2MM/Wy2bq6KM5Vk00gsnH/QC2x5XWaMCHA3ZWN++iYMByEpG/NTJaEHMmLEuAE+AjFiqn4qTKoBk2mNZ2ESzngGWqiKiBEnxmAaQU5cXYguxsrzZsxTw/XA/UBOV00TvCq6Iuyrkvc2SVzzr+fQxTgHz9kMDnrf6Gdw0PuGifMPVxN54ovFcak1x7++wkRf9G1id09hDU7YmTpY1IafTdlRafaOUqzBiUbCSDpT9XOdiWPdmTnFR36bgcJko13Of8a4AaGAYKZHYZldVtIKFA7fiOX8bdmZOE0R2DGQmp29D1tUNcnqk6jNiYgVPzjgmUSPbZ/ExMmnT0hiZWlVich4+10il4p3ilxu8ERerrxf5OLIYu+D7hpX5N/bfyAy+uZCkf+0/FicT3Q8Ls41i3aLU/L83z0RBRvfEGf+8AZx5u171jscOiLOgqIz3gdrf+X6X3rC+3rFUu+Hqe96l0j+RGR0qNG/bKU/s/nrW5K+Ydk6JpU+9PXAN+yTxKdPHZ40cKc18GoYGB9YAw/dYQ18rzVw76SBt1oDt1sDH7AGXnXRGvhP1sBFfrx5tFmcawvv1dSWlUPGmlHi1YKv9zw3t68deHXs3UdHcqcCvrZIxvpfPRZ/mkBWaWXr7JIitbVVTMS+6lXMGeZJB1JwA5pVM9/OtUO60YTJEUmwUBrxenrEkMhtWwid2yvUa+rM2HMiF6GaeuLUhhXgxbB5MLCovWRTdh7s6r+nW7q/H7z4kZmoASGxSGIaaME8KZEY/ypYdm9cfTSSF99HDFNx8c9xEiLcoxPFnWK24xQ1iYYmRCE1iQCrE4WMLebeJkQhUUguJIMwtuDe7QhVh9j7kXxITRgbEoWMDf8HznRiLwAAeAFj6mJgYFzPkALCTL8Ypg0o/j0y7QeH/W+Y/SMTAwDIkfvpeAFjYGBgZIAAGRA7rTgnDcq2rFZKrSgJSy0qzszPU7JSMtQz1DNQ0lEqTk7MycxLd0tMLskvUrIyNNAzMjAxsDA0MzYyMzU2MDOsBQCPLBJ2AAAA) format('woff');
}@font-face {
  font-family: Symbola;
  src: url(data:application/font-woff;base64,d09GRgABAAAAAChwABEAAAAAQywAAoUeAAAAAAAAAAAAAAAAAAAAAAAAAABHREVGAAAncAAAACcAAAAoAOQA5kdQT1MAACeYAAAAEAAAABAAGQAMR1NVQgAAJ6gAAADFAAABKKK+thVPUy8yAAAhrAAAAE8AAABWjIaoAWNtYXAAACH8AAABFwAAAdz2W760Y3Z0IAAAJQgAAABaAAAAWhEGDTtmcGdtAAAjFAAAAbEAAAJl2bQvp2dhc3AAACdkAAAADAAAAAwAAwAHZ2x5ZgAAAYAAAB5ZAAA15ITPRN9oZWFkAAAgmAAAADYAAAA2+zj5+2hoZWEAACGMAAAAIAAAACQPEwHJaG10eAAAINAAAAC7AAABLm4VHxRsb2NhAAAf/AAAAJoAAACaHqoSHm1heHAAAB/cAAAAIAAAACACRAsCbmFtZQAAJWQAAADmAAABoCEMPvNwb3N0AAAmTAAAARYAAAGdYezlm3ByZXAAACTIAAAAQAAAAEBey7t5eJytWwl8VNW5P+dusyQzuXe2TGayzJKZyWS74U4mk4FAAoEAAQKERSBgQBAVwSgooiKyKVShCuJCtRV5lrr33mHQFltNrXvbV9e4VGy12p/i89WndYFkLu87905CQJbQ9wK599xl5p7vf/7f/3zfd24Qg9rVb5j17F2IRgZUiMoQwn7BTwt+ATu4YCDiDAoJV0yK14YS+a58l3YyHK+ti0kuZn3v60x1e99q6pP71lZJl4+fV/2IutGW2Hf5req+WGlpjPyq33B7j8isepSiD117c+4HOFzn2XVgVJfJO2lh30v6PTGEKPQpPPlZ9iAyIS8SUYrBqCJtYpGdqcByoSgbemSLlKY4ckLO728pRbgC1QwrdWndgl7FAxG6Nl6bgP7lu5wOJ83hjU1NVVXwW8BMLQ5UVgaKpzLvNs1tgv/7RPoBli3zFBZ6yli2b14VdAF1qHupUexh5ESlCMsu8uS0jUMepiJlM5gr9iMbMlXIVknJ1x6NHQBSmBJ4G3mm02FAAo9d1Ch7TvCj7u6Pgjl2t/omrnSraVvRQfwAjsK/Bw4W2Yxu9d3MgcwB9V03eepyeOrUwU/N6Ukj/ak5iDw1xwBPzRt4Kk8ZwGIwlDwOxoOYa6Om6g/Eleqbbq0DVIv6tjpfexyOUJOoSTjiNkJH1PnwzJXUIbqd86II6kApN40q5EAs7WDRcEA4LMl5okzH0jb9GElYLhNlc49i90pS2sChEKBfHJEkJYorFINZsO3ncj2+0vwkUhw2wZaCg2QyCV2FsQlEQnZHYCS2sxyMUqIKw1BJ+SxdKxVhOlQnuRwGlq73+MO5qlp8RZF6zBIKeHGJ+qE3ELJgXHRFMaZyw36P+iH9fW4iYnpC/d2wYSwe/oQpksjdvNlSV2Z6EjfCKfWFJ01ldZbNYN3Dx95ktzO/QvloMkpxwCbZLMpUTLGyn8lOKWU1A6pNVpsJ6OUWZWMPAZfhPpMdUooxkmsMjHPKyJCmMddUoRT0j7dfgDGPC36AP+YXAHqn4JfY7aHMoWg080EkQgWiUSoYolqOH5WGQpn3yThvVa/Ca9C7QKJGlKIIx7ksx+2iLPSkjRwqhzEXSA+QYDGRLQMPd8DDFY4CXJFR0HANESgBOqdDJ0JdvBa3+Jckh1/esjvgsO7y+0efN/rKxXd/4zLm/fT3xQQRqojdTnWBh+UjmRYVA/sZ+cUAjJIzYJxmFTGn95JIhLmLmBGNwqdvh+6vgJ6bUPwE7zzRU82av+jO2e+jOSf5KK7KemTWDQkuSN1DJdn/QhY0Ffhv1ZiGuM9SZo38ZiC/kocr5DrPwZFP/zOMnBVmRjZXW2VTt0KxR2S6G+2naJO5Gn5wClqwl5s8WLPJgHWEMDgolaRUt8EfofCnsGV/zxmOMJ4oZ+D6PKBBM469QXezy1EuKkazUKqQWMayKAxW5oJ/EGcIEytLRNnUk3ZyyA2u4eQVC9aMhSPFB95gcRL+57AwTkixFYJrYCNlAtcg3sATx42E+USdzy7URsI+A+d0wCjmu3yJOnrFjLbV//po9YLJV+GPvaGR6i9HhrB/BJ47MsBs/nnmpj1fvfYAtX3Pd30vYeadK55+ZuXb0b1l/7zm/TfXAIYphOhF0PtidAFKFZO+IxY1kh5KqRzovmLK4X3dYtqondWsYHvSAoe8YB8rEKKzJhPxdc0KgRVscg5YYETQEJKySZC5pJxjk3kwJJEvAeUELhiXEprWCmBB/nAcc4aBQ4anJ+92mVb8x9EN5iKONuYtNTSPHD9aXd40vomqsAWZxrqmG62cv3cxzDWGJo6D3i+D3j8EvQ+hO8ES0vsSVtM/okyEX9DntNWO3BbYZdkWFmVnD/Q3zevzAs8rHAyFh0MuOCqVZA+fDnJoHBwERSUCRvFkaOjcEhgamRP2M6Z8N4yLHLTJIbC0hFhKJ2W7kGKCpeQeqy3FOT2aw8U0CsVrw8EAZ9C0XqNVnY8B1ecM2C/VJWL0Mje+7b0dNy26228wXzOquutTfB5GUyqvUWfiPVvLPLVJm9+Lf/v1e7e8vPp8akV105U/ff+DJ1Zf1rhaXeR/SL2T+MJcYOFBQGIE+gtK1RLrQxrvwGcJA8mIWkSCiA1aHjFdpF+tFtMRFjkILg2izPWkczjtjhxervD1COkajlyUa8R0hd7K4RUXoIV07ALknoSGXCqQIGQIFILXjQTQcmqAwsa8SBWBqkIgCAVsTSaqwFNkC8Vqk5romyxwE+LynOQmjyC7knKRTQYIqwXFl4B9xKYEamAfEuQ64gkOxhchkYSkCUOkGMeAUXwkXIEDoGaJUViD2iBpSJOYAzwm38VzhmJMH1T/pe5fu63pouZxktlcnVp4/aiaWONNy/01ft/aqy9c/OxMil474vwR1y3HBZdvfPD6HX/ASx79pH3BXfGxzRc24SntV3Zgz9wrqjhMGZ+9bemNGy+pbhhRs3n6+PHtat9L0aI/k4ikARj5NrsZ+VAQ/QilvGSGzBXTgj4EnCTnizKKpYP6cQnMkKWiHOgBd0sXc6gQzmEpVRwgUBaTmMEopQLFGrD5cOSWlJCuaPHt73+jK5obFK2gm1WCpiOMHOimUu6CAFE0pSB4XM+CRCtiUtbR4i4C20jsj+M6zQ1hSsL026+a7PtYZsYI9e/1M0ThMocp8xa1no9x1KvqvSqN5z5XbAuB3zXhsFDyXBP9eoHA+fom06a+7wgDlwEDiS/G0QsoFSZ2V8RkTky7dFMFMZ2jMU0uEtOUro9FFLGsyA+WxcR0OUvEEMt1ohzUApm74RYUJFqORCIx/H4HslrBr3UqmsS0VW8hXvEAKRkO5YOaJoB9QRO4bI5gJ+6IBNmfVDxWwZamMOcq0pgnuASbwhTA5RxBNhHapWhEfFYpj4E/xwnZ6nw2HmmRayw7ZR4nXDBgxWRC14IoKRvGkTuwawWeeEj97rf3fHBh5ciRlTa+6LGLd0wdFhpx9dwrZxiLHCZh33e353KO0ts+mD2Pppapn6u3ql98dE/X8MrKEeyFN22dha+beVPLwii1NcA1jGLz+bL7vcCsfg8vQcPQXpTKIz5eqHsxoFytoxzqx1Z2iGk3SxwTyxKZGdNRXeCQJEd5otUELnKC4WWBuLFLP3SJRN2hpcQAR1dUsB3AVq4wVE1c1CekKEceARXgtbs92mQVqgYnphkzgjsUt0PT/Sx6FJm1hFoIczUAdShjxEM58NSI1gBm6qhi50x80eGvnvqqa8aePV3/2B2fmbiI5ZLrpre+jg+HGzduHJcMe64Yu21MKfXof6qH1S3qp989ie1/wpcsHLNqeeXw+uiCWeKNfV9cvKdtww0Xbf/Phc3ztrYSZrYCci+zG1EBWodSBQQ3iz5LWAoIuSwwf6XscBqDMMo2bXYj6i/wih1gcuhHDl4xw5FBx8are2Gt4b2DxAtlCzhhLoQVZi2sgGAil7gghBe5luqTwgoDJzgCcR7b/TAlBO0xSJBifvplu/rJ+YH8ZzD6VLVcVV5UO66Wyi35APeyNT6vetWmD+9Se1auxOvxbXii95f4cYclANlXPyecwIpyTKGUhVhXMKD80eysXaHN2mEOlZEwnZe9ZMBB6scSRRfTXr0V1rU9j0PNcOQj9yDtI0qlbu6hja/kE3OtsoEHqVEKc47I9u79QqHdXrHfpm2LyRYu7w8aAnBYSrYpOOm72XdzkAMfTJKowJZMwRVyEEyiJpNBKCwutdkDwer+H3yqkwRFxeUFRhJcy6KaIxcAQ/ezKCdPD5VggiiFvDMMwVKdDzgHwp/vomvDAY6EGnX22mocIbGTrw7mg171EfUIrkos7vg7jv4js2ByaOntj/1l/7Liv79aOe0n6X+9gI79CS94+G8v7P38Dt+0xdj9wsPbnt1QH4teQU24fNeVz0xx7VyTuXnykktW3PTuxsd2okFeGkQx9GOU8pHxKNPHgxFJokS8lBfTZs03IUlND8vGh7WiXNyTrtK90EjAt+jtKl4pBfw9EhkNQr44OGaVEfTLbAO9KoU5NM04fGU1Gh5mHlzTaLERKSsbRqbXomKPjk02itTkTBcrbR6AkIzzUTwiSkZnnbIIZ2PLg+9veXBN2/zOaL3fW8oZmrZPGb+mwtuu3nkY0weWzvrvZwKjbr55fEWoCbPjEtQv1bVvbYqNWLkkMavQjSeLU3+/5vXXcD7ejHPiu9Q/vNLxi83TfjH7/imbN1x07Bh6CJzzWnoqHyEVhEwQ4rEyUDYKPQz5zo/oVZA1eNDFKJVL4jpei94Ip43ZOM4rytYemZVIom3XhK2/ZePTZi0lgswiZbaROcYMs6dSCLiZrUSsjLxTA4vPzaJImKNnGpKL1pKkgVgNhGlTI0k95jZFPJ3J4bGVt5Q4rJtorqqRpCJ9H+dDzvTG7u9dOfxdSMshv4Uc8k5kR116tiYzMQxyDDmO4tT9yDvzBb/uRyZeNncrguGIzHcf/PhR/TQrMyAnbLdiMxxRBN4oC93oAGsiI5v1jieYwYf98hIiZQWS2GtZC3DfhF3s9qiR6+3yepkdnDHq7n2aGeMuidJUmcXttlBldNSTk1Ezag6C8XgYz2C300kYDzNCx+p4A9mjV062iSU20bpN6Ac2yTT0nepWTGCT+bhNVhI5msxGOGeFLOGIbAObKJM557hNJBfLOdmm45mYKVuyIDZ5e7uINcyY3qfdYB+zw0u1uC2Zd4g5FPzkeKJ05h0L9PxydS81gj0M2Zmo5a9myORNosKQFNYiynSPYiYZI61ljCTg4iTFejxp90v6lhoxVr0Gbxk7Vv0DjsMmapgw/UgHfH8XfP9w7fv9SMaiwsL3GyE1zn4/p2Wk/d+Yzf79AdhSw9Vrxo7FcfUPsN2i7o1GuZ9PJ/xZou6lSY9jaA2SKTEt6eoBQWSe3gLNKDiuGdaedETXiQivGGEsbFK6kkNBEp1LqUqtJlBJDPNImnBEwAGUXJ5M3LkSNI0VMJvnCXIkKRfaFHtQ9wWiE6AUQi1sa4lCCCS8BlaRrAX+QeYGO1d/Cgf/6BHRx7smOiy3rfaXCl9ZHBNXyFHbT2aU57JO8Z57RCebWz7jJzb11/ltsdHll+LkVetNVJjDJYdw8tLy0bEpUcY0q2J8oFP9fG7FwqqqheVz1c87A+MrZpkYgsoD6h70LeT6pA6hVQwYHVnyq9cK7I5sPOb8Ngo/6suAaF8kAp+9FxBdBYjWEkQBR17HEbCN6a2wNlNqiMZF2dUDcXma0zEUpZSLIxi6rIBhRJI5nkz+/VJcB4gimJEUOkYQpcAnFS4fEI0Jsjcph21KiZhVl37QsqKSGEBVB5rgDVgTEdZQJZCu0pHsevwUSEblFTraVItAYFRfJDC25duzOGLn3HKCY8Vc7MziGJ1CoFdfJNATTEN4LZ2h/ohcaBrxDdkcI3nKSLCa1cjWoJUBMElZcnu0WAhpsZDiBqvtIJ0yRSJpGmw25MJ0kwfJv4LsWXsDpTCRaEEyiCoT02JkOnPrq+q7s7dWcHZb8Y4/48jse0ImVyF1e9eDn20qmpBc8dDhXw1DDLpRfYLbzn6NLEDdCWgSrkapSVjLKNKl+hRqlVIhOJOKkwm2TjuXqosTqa+rh3AOkfyjYGDCLZLSE6pK6y0VclMsPSEbFE0WZakn3cChYvis1EA+K9XBIFdJcgOvtGLiQOlyDvkYUkRNlbeSO8oJDVxSqrWcHLWWwlFIUqZkk7J3Dl08WNdp0Dmq+2Bs63s5+ukQL4chVZvkglSttZs6QCQv3JoVQP1o0qBYp4E4qKEe6NQqpArHNJPAu9wmI1IuLQD42aRcKsiGpFI1AY7KknJckBuSJ5ev7MeTP0iTDfH8gdyPVCFj+ISijObPA4kiFjD7F673tRx3GceIsE3dy5rXGri2yFulbcMn53LqQvxhXkHw3qO4eYWVnbb2d4tyw2zOAwZjc5X6elUz8zd1D7vFYjpyvVBmMXGbhCNfrLGZ7E0s24QdZmFNPbXdKWZ2UQ9SbpOTeq5k1Nyqvv+2mZ1wQ+Zu/L5aCuN4o/oktxy44EVRNBmHUMp4vLaTMmlVV1MODHkhGfJyMd3CIj9cadEGqKUVBmi4mI6zqACG0Sv2l7fskhwjMVZjlgxTtAg5TycDmzeoriXn8UoDjG+5RCodkGDKCV6pAWcYrZXa5UmSPJpPt+pZQquotJ3MBW3QlRLgQnE32l9cEgprwz3Q0oY6Ty+cyQ2C4nTBMCds+6vio1pI0lUj7K8ujDWS7Gp0K9w1GYa/pRwaVUl5uCBXw7DblJrR4IBa0S0PCGA/05ieQA58vEBlcA1Up1yDq1M/PvXQZgbzQp3vxJV7Lu7cOuKCePj8A9j4wkjffPVNXLTI4xhRTW364fjSYwfTwujyOHHZz7bPveFqanqw5rwVd+9e1z6lbJqasV+p9oIiNA9ShAVoId6JUgt/oAgLS8m4LSwDNhBxOEEAlIYyrZBZoxOnoYaIekMchrhZ40yjNnrpWXplonUWudw6jVT6F4ny9J50mz72bbxcT3gT45CT0coW9XqrjVeagBRV+m0TyD1zOEK61IQ5pFcTxpm0UL7zB7rSOVhXOjXadmZ15YJz05WFRFc6+3Wl8wRdWThIV+qnQ44QHz6Z6EmbINck5Qm2JrPYMKa5xdA6c1YHoVpnFXCpEPRGOIXeNDfo9GsR5A4QJ5s855xVx8H5Iv2VFYOWh8RrSRWPlPB0LmrTpLYiR8p3Q5aivvY/H0Odly0qr1/QumNORVCeHjwwe9t1TbP3L5rxznlLV8xcchN165BkiV645qf1o5fNGxZuZ2dNGD73/Zh5bcfOZuP4adPPrx82LNk5daPfu6VvnCZUoFQPIydEyVdDjGJHRSiBZLdWZ9XzFrJqIlvFtD2bvhSLsrdH5iVSd9EqrpJSctJ6ChpY/bANtI6vsWR+M7ZZFJvHVpPfamhriy6UsXnBmDELmvvWwwaaZJ6PoKeYDmYXTN5dSEaiwkFPGBFYBDGqQdSCRiBZQdfz4wYF8KzCGI6QLOTgPy54fp6eliC4guEKxx5RWMYIF1EKU6wWvSNM0QzLnZSR4Dh2mjDT0ftHprbvAvpnT+GeYfj189TL1GVaBAI9m9vfM4ieKb1n7Gl6RsHzaXg+LoKeocE9Y6oVijZqF1kWLnLQM0Rzp++ZCcfhP2bm9v6Rvq9vEVNLbVerZ+Od+M4OtRx69hB1CHLTx/SVKyMFMw6tVS8Ht7U4lNVKlXCU3Q2simnVLkgn8bWjZo2C//S48lGjyuEXvr1W7WTs9D2QM9yLUgaS3zp03aFJGzgzB9oGB5ECgwXUjIeHym5IuQKinKctLZNKsUmCVFfOzZYKCvUSf67esvFk1Zekxx79hIcn/OqP4IIQweXbwIkNWt2dTsolejTHF4E0sD6/vlyoGaGt6DsMQZhQYoIjJul7sr4fiTH2zp/PuvCdGSNDu0K337dhz66KUBuVeGrm1RvmfFgw5tCmx25m2MwlX7yymarL0JFxj8wmoy4d+5xpAOsDaBtK8USoDbGUn+DqYtEo6B3KlSDsDGoFEY+eyUP3C3Mq0oX6EaRAeksRwCarprOylSfYkzW1MQQcAgunaTMpnyhWAax1aOVeZ1KhTHBkBHtdJGIvLNZiVr+TJ2pDSiRCkOaI/tjseokyRqbFmJ9pUL9Z7rw/5P54Gn+HeemYZ5IjE5i/4UI6TCf2qjufD+eNef6GHfjqTNO2UTnFOIEfj5YymI/cAFZ3UkX0/dpKKjru4vT9oYw5EqG+zS6Z6vcZfnCf4f7QEbiPG7iPxEW7uTuzcdE4hM5hyncYaJKNkHyJt9clBtchhzLX4xz+zYlua3v7s3iPet9Mj6uhvp4yOPbim846z/fd6HGoRzv2nv/E7NmYwhb8ivUaLAkGhxbz7+auB3uK0XCI+c9DKDS4XkUmCTDQTmSQ117UCA3ZYHsdZFf9Ra2YxF3/0EUb549shThjjLgltpltXr39wEu3tDX/6qhwSvNZYbD59rKCyt9LxZ6q+fNvVo/smBssb59S7mvI9RVPwfblz+CcJ0MX/uIsOBz9zZi/NlzcPuyy4ZfUtENEeqP6lrE3O5ZxNB11nNN4kuVhn746fMZgPs4HA4KTj0lDGWV6WOOIDnVbB2zxlb1PnfoTrU/Dz9lHfUaXOuPSfXu68GOX7uu77Yd3442P4anq7Y+pSpbXV2exmHcuONjPNaQYCgz/dfZg4qzB7bGhhBFg+dSs5QE0Ay0Cy88emp9zFEWfgNjUMwXt9GtnNf2dwUhRY88Yw2eWDQUFdt0g4PpVblmWDQvOhQ00WSL2DazdVWB9kUlXguMrd6PwwMqds24ohJix5ZE/qt8+NjtUWxsyF1zdclF90FP+ZGvY5Csw515/2+IGqqC46+GGUdPOyoveC55Wf3PvpTMrA4HK4ZNm130XnzkxHMaP+5kyr81jLb4s7/MRWVYs01gxGy0ZGiv+DdPtQycGtXOoELx8DvxQ/3R2NJjVJ7GjOYtNDJBZCfPlv2H4uSciJyDF1g8VDNV+dil59IR5Vjg7IlT5ULwK/88JuDGoiuDG0TDXtqOFaDEgd5Zs7f/MKEjfqG9Ok7FRzUPF8I3B+PQl1D109FSJW+ahc+RS5td6DscMmn0SEFXNPIviSC5efzGrTl/h1swlmNAnmW/XV7vJYjcJY04jNPt+fOCpHU/Nbrz2ulmpa9vbJ5ZvrNvJjf3rYKPrCys7Ojq8lS+LnlMJjPrOM2qm++G1uPnb0VXT2tpamwyh4nb1y0uZ5YPDD9O4pbHpOzu2jFw8q4ZYPXXA6qmgsss1TzqtZf8OGUJnQoOtPaXdfX8bKi2YRYMhGnMcIuw9DRz0prMz5LPTI8YO4omIRqLxELOdmSlZyBLaeoouNSfOxfaBNWrscEkEzQh3apqwu6e9ovb+6a3g6PHyJ+mUJA42fvZ1962bFNi9U52w/eDOlbGtj56SJQVT3/vJlpU/XWIXxz73o6sWr59TwBwePDP9ddyCiatqXOdNUS+bftmC28eVTJwNNjdnbbZD3tqO5qOlEKOf1a5z19dTAMFFzmBypumswkq7ToZl/pkRyGwbiq5mvj8lTlMHcBqPZqFOdMmpcfp/8KMhQNX7+r/nRQuHgBg+Nyc6Ja0ArzjBi8OA14AvnRKvM+St7Dnjkik8bRa7fTAO686OA1t6mqy27WzGU8h37A0mlz2ISiGGQZg3UP4ASeSAEvmxuuwrUuTIob0ET15mpLXQz4qdDs2ZmNz196kfP3l04/2fLP+Zj+Indz75aqPBEK5LTInbp+Evdm1+7ZYNBy8IRG66Ib20nS5XX/xafUvF1977uy2Xbp794tYH9+K6SYnhY2vfe/M3qnHLs080frVg04PP/gxhdKH6AZfHPo6GwSDplYgRWIoLfsEBe+egM8SftTKF0wEtp3ady/OqAa93+oSMa8J0b7ZNWuyV2daxYDCY4CxHvk4ESYvt0fdHyxPw7CA8ewM8u5j8bQkm44/9vgSJbv3ZlwHgefYg0IMemXmEquGMmQeoB3HhPZ+3SruOThRY6srMNs7OPnFHbNr397JL+741Wq3mjFOa8rra6uA42kBfbEyqS9+eLJI3H/S33HlOe+MBo9vVFu4NrgXlkxqMxqyITq9G8sKkiXCMe4Pqm2ASLax68QauyPS10cnhLnqpyRPliszM9xNtufSGC4pMhl9x1r53Dbl2RGFebaG+hG8l9WFS28kuVx9vUV9qK9crte2loZDhiVDo+1Z9D70S1Rb6Nfg8KRM58rD+FwXZnSHbPf1PC7I7bcn1tfxX4Nuei0Zv8drL3C9Ho7gB2h5HGTPG5v2f3vGhEDNH3ZLxh0LUun2+iFD0JfPrUKj3IbyG+msolNm0r0R/176F7oVnh/UoW4sGSGnMQFO0tqYdrpX69d2WAO+so6unrL+7WZw4u6w4z1YwKb95zq1t63a31Ey8oLqstrDW3dDGtczcNWmcKbx67n71M3Vr5v2fr7htxh1wJrJ6KfXlR3jbo5f8iDx7FV7MPk9HEekISXhErD9az31iUgmGx5KXfyEcf75718q1r153xd4ZRSbWXfjMHauu//Parlk/9ufluouow3f/c84Dc26vnRdr1FpLppWuJW++rEIXs88zAT6CxiJ0jOUNZI+OEGao5C9C7uTDqAAh/Y2YvidPOO89fp70FXzlRXYm4kHD+qt3A3/u8WLo6PeRCDUvGqXmh8ggM4cA6aDeA+1zwMAJqP8viqrZwyhPZ0rEdPyVHqq6PN+hbsTrHPnlRnU7XmVUXwqL9FX0VWJYsPft69tn7//roEb9G+yD358xYe7OciNepW43wvfgdepGh7oXPkjPo+fZhbDYd0vfLeL/Ao92huUAAAAAAQAAAEwIwADRAHEADAACAAEAAgAWAAABAAHJAAMABAAAAEQARABEAEQAiADDAP0BbAG3AfUCFAJDAoYC5QNEA8kEjQUKBboGVwbEB40IIwgvCI4I6wj4CVUJhQmuCjkKVwrjCzAMNg05DosO1w8kD3EPoBAfEJoQrhDCESoRqBIuEqsTNRO2FEQU4BVtFegWgRb7F48YJxilGPMZMRloGXAZmxm7GfkaNxpoGnUagRqNGqkasRrSGvIAAAABAAAAAoUeC2yUzV8PPPUCnwgAAAAAAMheFaoAAAAAyF4VqvwA/kYMygZGAAAACAAAAAAAAAAAeJxjucQQxAAETDC8iuEFEEcDcQ7zEYYiNnOGVUDxDig9mcmSgYFFmCEYiDcBcRYQRwKxDRLbC0pHMikzrASqXwXSC8NAcwuAOJ/5OkMK4yyGJUB6DosSgyrbLoZWKHYGqWNpZlAHYlWQGSwJDCYseQxGLAwM8RxADFPLGQTX449EOwOxLpq4M5RtymLPoMBWwpDKtoRBGeymVQyTWRgYBYBm6zP/ZmAAihVDMczNYD7TLIZohhwAfaU9ewB4nGNgZGBgc/vnxsDAy/eH4ZsmzykGoAgK8AYAck4E6nicY2BkbmWcwMDCwMBawSrCwMBwAkIzdTEEMX7hYWZlYmRiZAeBBgaGxUB5BwYocCtKTQXyFNRfsrn9c2NgYHNj3AUU5p3EzMAAAP7iDLEAeJyN0E9Kw0AUBvDPpG6KUPpnUUqV+LBJNdgDiBZFlOoVSjeSbgRPUOjWg3gJF13E9BJdmEF0056gm5bx67zg2sAv3xt4M/MSACUAPp1A60+u9tzaR9mtS3hnniFgVcYx+hhihCnW3tyf+WnQEE8qUpOWhBLLQMZRFq2s5Z4AXdc7YW/meuuut8rejutN2Lu01v7Y3H7Y1L7Z3jbZvGyev5rmwvTMuQlN2zTzbf69eF08ucn++xzsXn8bGm4ecH793i71aZ+GhTaNCoc0oSkd0brQAbyM5qxDHjVTOGWmiv8KQZ12d8aAeAqXzIrCFbNKNZ1DWgrXTN4hPBs3zFjhljlQuGMmNGZ9D0SZwgNzSSvWj7/ICEuFAHicXVG7blNBEN0lDwNJiB9BcrQpZhlC471xC1KiXF2EI9uN5SjSLnLBjeMCf4ALpNRE+zVjp6GkoKVBkQskPoFPQGJmHRCi2dmZnXPOnFlSjlSjT7sDT71ZIIWnTdps+ZOQatcB7kg3jpoZaQffabuV0QPXH/o3GGxGa+59EygfeEt5yGjdCdSi/eB/mK/BcJ//ZX4Gg5Y2Wp46s5AeQmC+DbczepvRpps/0zesDjejkSHFNBU3f55K+d/SQ1evwat2Ro8cXIvIF6YBWjvsItD6ix6pgY+TWIJcXhprg4kpG64yEXy8mq5qqpYZtxx8S3a2HbSp0hp5gDPslFPwcHW5opC+HVFmaYhwFjslRoiY5FDIKedO9icFyieSMOZJUjpZNq01sIy8BgZ1eZqL+9lsatt1CMt7cQTfPzeWdPCRDXUxIsRuxFIAK4iEjKryDXWeuyYG5FL/z0CUgOX03b9OBNpwbCJ+lLX1rjBWCAb+2Hzmlz13q3KdF4Xuf6qqsUqnNF94OYceL3l6LAwHjQVvPh/6hQL1elwsNGgOBGPanxz80XrqiKu8Fz6y37gisOAAAAC4Af+FsAGNAEuwCFBYsQEBjlmxRgYrWCGwEFlLsBRSWCGwgFkdsAYrXFgAsAUgRbADK0QBsAYgRbADK0RZsBQr/mIAAAObBTwFvwBSAEoAUAAtADAAOQC8AKoAnQCRACgAowA8ADIAPwClADQANwCIAHsAiwCUAHQAjgBOAGsAWABMALAAoACDAEYAeACWALcAwQBEAHEAKgCsAAB4nF2PTU4CQRBGH4JGN65dkTkBMSQsjCsTo3v/9oDDOMkI2mIInsATcBIP4cJD+bqnjWgmU/2q6qs/YJ8ZXTq9A6Dxb7nDoV7LO/Jb5q78nrlHn03mXY74yLy3VfvJnC9utTVTFtxTUnAhzVnyIs/k4HtmZKqqTJmCa72g/5R0p0YuzUVtlXqcy696i5wdcux3Yt2aRybGG8Zcqa3URQ6s9CZpYpzxV1n8097pBXvXSR37Dxhpb3gw9rN5u+vKihip0vaxbmy89NrC/mvt0qrty+N9z86q1QYzTb7vtzpeOvgGmLtAIAAAeJxtz0lOw0AQBdD/k0BiYmeeGQI3SBo5wwaBEKw4A2CRBrcUnMh2wkVAjFvEHjbcig2wRBjT7Cip9X51qVpqJBDX1z4q+K8OokMkkEQKWZiwkEMeBRRRQjnaqaKGOhpoooVlrGAVa2hjHRvYwjYOcYRjOPjAOz7xygSTTOEa93jGCxe4yDQzNLjELE1azDHPAosssYwb3OEWb3hkhVU8sIYnXOKKdTbYZCs981RH7ArtpuF4k1COpXJ+bkTX7mi7WpGZeDJ0lT8ywotJHAI9srU9bV870A61O0b0hFRnbuiaoetLnYPsqZr/ZTOQc+npJt4Twtb20oE6V2PHt6bSn0pvpE5mURdP+79fEf29gXb4DalzW4kAAAAAAAIABAAC//8AA3icY2BkYGDgYYAAJgYWIKnOwMigyeAMJF0Z3IGkJ4M3AyMAFFIBywAAAQAAAAoADAAOAAAAAAAAeJwtjjFuwkAQRd/GVhQQMbZZEBVFQBRIEEggASKlpKSktyygACFkpeECHIUD5BQ5QO4Ds8sUqzf68//sxwBlekwJ8lOxx26L9Q67z34OWELZcr3iXGZTZDlPbvIv9FsjiuGfR1KOnLnwyx8lybboMuCDbxYsWfEq/goRz6IFMtV480wZesaug7AuKccGfU9L27PKi2fCg/wW8a7pkaYDaRLTZKZXxrrvaMo1nqh2vzBX56f2cY4v1Yx3VOViIn57A23XFhoAAAA=) format('woff');
}.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover {
  width: auto;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom {
  position: absolute;
  top: 43px;
  left: -3px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-bottom .dcg-arrow {
  left: 23px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right {
  position: absolute;
  top: -40px;
  left: 40px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover.dcg-right .dcg-arrow {
  top: 60px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-popover-interior {
  padding: 4px 0;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item {
  cursor: pointer;
  font-size: 80%;
  text-align: left;
  white-space: nowrap;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
  padding: 8px;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i {
  margin: 0 8px 0 4px;
  font-size: 205%;
  vertical-align: middle;
  width: 30px;
  display: inline-block;
  text-align: right;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-expression {
  font-size: 210%;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-table {
  font-size: 200%;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item i.dcg-icon-new-folder {
  font-size: 190%;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-action-newexpression {
  padding: 10px 12px 4px 8px;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-hovered {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-add-expression-dropdown.dcg-popover .dcg-new-item.dcg-disabled {
  opacity: 0.25;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";
  filter: alpha(opacity=25);
}.dcg-calculator-api-container .dcg-basic-list-container {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  overflow: auto;
  border-top: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list {
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-input input,
.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list.dcg-projector-mode .dcg-braille-evaluation input {
  font-size: 135%;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  border-right: 1px solid rgba(0,0,0,0.2);
  border-left: 1px solid rgba(0,0,0,0.2);
  position: relative;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder .dcg-answer-hint {
  -webkit-transition: opacity 1s;
  -moz-transition: opacity 1s;
  -o-transition: opacity 1s;
  -ms-transition: opacity 1s;
  transition: opacity 1s;
  padding: 10px;
  width: 200px;
  opacity: 0.7;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";
  filter: alpha(opacity=70);
  position: absolute;
  bottom: 0;
  right: 0;
  text-align: right;
  padding-right: 30px;
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG0AAADXCAQAAAC6oBfOAAAHuElEQVR42u2daYwVRRDHWwERjFEwuBpDvDDRGBNjNDF+0E/LsRxyS0BBVA4XAmogitHgArLct/zlRhBcELlkAbkkcskpEM6FRPAEFMUTwegzwO4Ku1X95tqd6X9e9cc33dO/Nz093VXVVcZkJCMZiVHwCHLwOK7mgqqPQvyFVHHpzQSWKlOGsaANK4eWwlAOtC0CWgoj3QerKoJdKPnuwxWpcP1cR5uuoqXwittoTS1oKXRyG66dFa6J23AdLWj7cRsv3FLXp5NnLXBwHS7XAuf8h+A1C1wr1+HyVbSvkeU63AQVbqH7S6+FKtybrqNlYT/vG9dERTvo/qDsrsKN4Nx9Xyrt3Yf7TIXLdh2tsYo21v3n9iLtTGkM3lPQdriPVhMnFLg+7sN1UQdlfd5BOcl9tIbqc2vtPlwvBW2VcV+wToHr6D5ac9qPgDGYpMDluo/WQEHbx/Dc+ilwPRjgjotohxjQXlKeW3cGuD0i2nYGtM6UxqpiuB0iWiEDmrYTaMwAV0SqVDAGeaTKIGOQraDlMTy34SLaXga0+rRbHGMwUUSbw4DWklYVpC65BjCg9RHRdhkGwVkR7kkGtFki2nAGtLa0iiBjcJDUiqNaTkczoDVjniW/EOEaMaANFNHeZkCTFa/rOYbkVt615CjetaS8B5jNMSSPCWhHOdDeF59bUwY0WTPJcJoK1US0jzmG5OcC2k8caODdlObxbkplffISjiG5k9QQbAymkho4jMEgXgOH7KI2mWNIniB1TzMGhQLaKQ402XbTgAGtvYg2kAEti9SJ9yLcDwLaCg60Tby77ZnikKzCgCafM23IgCYfLxrEgFaL8rh6MdxJ3l3bNl6T1GIB7UcOtHfFt+1G3umfYoncmHeJfLuINorjbftXQJvJgfa9gLaSA03ySNjGgbZSQDvGgTZbQPuTA0222VzHgCb7kt/NgJbH60WSzetFcqeINpgBrbaINoYBrYqINoVj+v9dQJvLgXZKQFvMgSYd3FvNgSYZ7DdxoG0gPdxsDNYKaAc40CTD73EOtKW8usgCAe00B5pkZfuVA02KWX6eA02OusWQk0NxRKvOgCa7xlzLgCZba2owoE3m1WkRD0hitGm875qMdg0DmhjbLrMaqaAuZSMvCud1fJCoNSSaYHlxJ/7A6yHbmiug/RYf2JUdmRiqtYUJ2q8J0ft7RaxA+C4eMCn+xJ4Q7a1OzOkajIs2sL0YTz4mtPEi2qLA7Unh+nbGg/aUElupZcD2pBgka+OaRvZFGRMLXwptrYkLLS/KmFiiv09clho1vF4gjzicS5R9DQNEtG8CtFRDbGlqfGhaeL2uvlu6OXG2bMyIJqKxMrjj9IhE62giGitTUrx+rFgvdurTSN7aeL2P8XQUmRYwWGzj/gj72QZj0cZvpQ1it2ZFoM+KKCkdcvFziSMiXvZTsWf4iMbKQa9I1AflvPb6+6n8bdgDP+JGNJLwHGI2vw7eq+eHXXJhjVD7cARgU8R+zffegJbgyrPTn5hvL6RrBa5Svrr+du9KVKwjnuufjDoUDq4XdWT+Y1GqGTI6evx/Q8+xZVrMsiSV9LuAU/6jrZ7q3iLWnRAY7C58Ys0KnRNeDeRRW6LErwjow4qHlHh4wdM2iWcHPR2MVKKO5AQCewIHrGAdgjTaTWks7TFkxRX+ngB9aISjVrCg0Z5wKFjaTWWSrhZgnWjDKgrhXK9Eoj4TSHPs2z8LL1jB9uCxcJ/J80Fy+Ipunj5P+FqzdqewEQ+EXdjIK/ivAqxBl0cwXkrKMtQNv2Zr5l9bgpphP9h4ywo2HzdFszeSoz6us9SoJ9YY6fmOQ61gs/xPR9qNWvhNlopWYWJpYaQVbHq0KoWN/nKdY3TwCGiW3OoVESJCTSzdQrl+dtAdtuKNV5GqPmXXPcXHNjStBhrVlL+kpAyrXEOHuOTCEeHKzWnuUBvzrGAVp8HEae+RX/CPcOU8a+t1scwK9mpFaiflCbnI8ybW8p7gPkWtW1K6VaziNUe5bd9yVw70N/XjUSVgfmBTin+4Am/aEozxM/WjgZKcoqS0rQyFuWbr7lzmuo+Ea84pbTa1YgXcvAaBKxRvXyZoA3Z59T9BOyvWgUo86qw+tyt2uvjFm9IBXa1g2/Fw5VpxdqUz4yp21XLeXmp66mKTF+41lStqh0qHjmJXK/P9U1PlFvsp4FZT+YIzYmfyS38fl37Voui7SkoBapk4RNlynCz9fUm6+REjrGAzUdXEI6pvSa5l/bg77YYnfueLi517R8/eq0T0LyitO8kKNsHEK2oK9+dVTcooq3YySaGosErzUVDSXrU0BtXT7MaGmCQIOinda44P5f016mCBFay/SYpgt9jBaaJq9TDqic66/5feJjmCHkon/xY/wFusYEnLaC/GpZDLXuuvyUsdjiGe0WwliSkD0Sg01pHEhgvGnFBgYU1IFYrWLATYFjxokiyYHxBsBe4wyRZ0CAS2AHVM8kU8gWEvc3GDcUHQ2yfYdOOOiL5YWnErpQv6egYbb1wTRVvCkM1LcS9kSJxU7oRp+dLPuCpWT8UUehp3RT3RcaF0MW6Loi1J4RnjuuA52mSpxmARZfR+c8nb+HK4zRQpAC/DewOrcRbbSOL2ZyQjGckIpfwHjUChXKuem7kAAAAASUVORK5CYII=") no-repeat top 20px right 5px;
  -webkit-background-size: 15px;
  -moz-background-size: 15px;
  background-size: 15px;
  -webkit-animation: dcg-fadePulse 0.3s;
  -moz-animation: dcg-fadePulse 0.3s;
  -o-animation: dcg-fadePulse 0.3s;
  -ms-animation: dcg-fadePulse 0.3s;
  animation: dcg-fadePulse 0.3s;
}

.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-type-hint,
.dcg-calculator-api-container .dcg-basic-list-container .dcg-basic-list-placeholder.dcg-has-multiple-exps .dcg-answer-hint {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  -webkit-transition: opacity 0.3s;
  -moz-transition: opacity 0.3s;
  -o-transition: opacity 0.3s;
  -ms-transition: opacity 0.3s;
  transition: opacity 0.3s;
}

.dcg-calculator-api-container .dcg-inverted-colors .dcg-settings-dropdown .dcg-popover-interior {
  -webkit-box-shadow: none;
  box-shadow: none;
}

@-webkit-keyframes dcg-fadePulse {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
    -webkit-transform: scale(0.7, 0.7);
    -moz-transform: scale(0.7, 0.7);
    -o-transform: scale(0.7, 0.7);
    -ms-transform: scale(0.7, 0.7);
    transform: scale(0.7, 0.7);
  }

  50% {
    -webkit-transform: scale(1.1, 1.1);
    -moz-transform: scale(1.1, 1.1);
    -o-transform: scale(1.1, 1.1);
    -ms-transform: scale(1.1, 1.1);
    transform: scale(1.1, 1.1);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
    -webkit-transform: scale(1, 1);
    -moz-transform: scale(1, 1);
    -o-transform: scale(1, 1);
    -ms-transform: scale(1, 1);
    transform: scale(1, 1);
  }
}

@keyframes dcg-fadePulse {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
    -webkit-transform: scale(0.7, 0.7);
    -moz-transform: scale(0.7, 0.7);
    -o-transform: scale(0.7, 0.7);
    -ms-transform: scale(0.7, 0.7);
    transform: scale(0.7, 0.7);
  }

  50% {
    -webkit-transform: scale(1.1, 1.1);
    -moz-transform: scale(1.1, 1.1);
    -o-transform: scale(1.1, 1.1);
    -ms-transform: scale(1.1, 1.1);
    transform: scale(1.1, 1.1);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
    -webkit-transform: scale(1, 1);
    -moz-transform: scale(1, 1);
    -o-transform: scale(1, 1);
    -ms-transform: scale(1, 1);
    transform: scale(1, 1);
  }
}.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field {
  width: 100%;
}

.dcg-calculator-api-container .dcg-container .dcg-basic-expression .dcg-mq-container .dcg-mq-editable-field:after {
  position: absolute;
  top: 1px;
  right: 0;
  bottom: 1px;
}

.dcg-calculator-api-container .dcg-basic-expression {
  min-height: 56px;
  border: 1px solid rgba(0,0,0,0.2);
  margin-top: -1px;
  position: relative;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-expression:not(:first-of-type) {
  border-top-color: transparent;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-focused {
  border-color: #6399cb;
  -webkit-box-shadow: inset 0 0 0 1px #6399cb;
  box-shadow: inset 0 0 0 1px #6399cb;
  z-index: 1;
}

.dcg-calculator-api-container .dcg-basic-expression:first-of-type {
  margin-top: 0;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io {
  -webkit-box-lines: multiple;
  -moz-box-lines: multiple;
  -o-box-lines: multiple;
  -webkit-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  padding: 2px;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io input {
  background: transparent;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-mq-math-mode {
  padding: 0;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input {
  border: none;
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input {
  outline: none;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input:focus {
  outline: 1px dotted #000;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input {
  border: 1px solid transparent;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error input:focus {
  color: #000;
  outline: 1px dotted #000;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input {
  font-family: Abraham, serif;
  font-size: 163%;
  padding: 8px 8px 0;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-basic-expression-error {
  font-size: 140%;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error {
  position: absolute;
  top: -0.8em;
  right: 0;
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea {
  width: 100%;
  text-align: right;
  color: #666;
  padding-right: 5px;
  font-size: 80%;
  border: none;
  resize: none;
  -webkit-animation: dcg-delayed-fadeIn 1s;
  -moz-animation: dcg-delayed-fadeIn 1s;
  -o-animation: dcg-delayed-fadeIn 1s;
  -ms-animation: dcg-delayed-fadeIn 1s;
  animation: dcg-delayed-fadeIn 1s;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error textarea:focus {
  outline: dotted 1px #666;
  color: #000;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1 1 40%;
  -ms-flex: 1 1 40%;
  flex: 1 1 40%;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation-container {
  position: relative;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-evaluation input,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-braille-error {
  text-align: right;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container {
  padding: 8px;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-mathquill-container,
.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {
  font-size: 90%;
  color: #666;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container {
  padding: 8px;
}

.dcg-calculator-api-container .dcg-basic-expression.dcg-braille-io .dcg-exp-output-container .dcg-basic-expression-value {
  padding-right: 8px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  overflow: hidden;
  margin-right: 1px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-exp-mathquill-container .dcg-mq-container {
  width: 100%;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-math-mode {
  padding: 12px 5px 12px 15px;
  outline: none !important;
  -webkit-box-shadow: none !important;
  box-shadow: none !important;
  border: 0;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-error {
  color: #e66b3c;
  font-size: 130%;
  cursor: pointer;
  -webkit-animation: dcg-delayed-fadeIn 1s;
  -moz-animation: dcg-delayed-fadeIn 1s;
  -o-animation: dcg-delayed-fadeIn 1s;
  -ms-animation: dcg-delayed-fadeIn 1s;
  animation: dcg-delayed-fadeIn 1s;
  margin-right: 15px;
  height: 24px;
  line-height: 24px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value {
  -webkit-animation: dcg-fadeIn 0.5s;
  -moz-animation: dcg-fadeIn 0.5s;
  -o-animation: dcg-fadeIn 0.5s;
  -ms-animation: dcg-fadeIn 0.5s;
  animation: dcg-fadeIn 0.5s;
  padding-right: 5px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value.dcg-basic-evaluation-gray .dcg-static-mathquill-view {
  color: #666;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle {
  font-size: 20px;
  display: inline-block;
  width: 29px;
  height: 29px;
  border: 2px solid #000;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
  color: #000;
  text-align: center;
  border-radius: 50%;
  margin: 0 5px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle i {
  position: relative;
  top: 2px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-hovered {
  opacity: 0.7;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";
  filter: alpha(opacity=70);
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-depressed {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected {
  background: #000;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
  color: #fff;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-hovered {
  opacity: 0.7;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";
  filter: alpha(opacity=70);
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-basic-expression-value .dcg-basic-fraction-toggle.dcg-selected.dcg-depressed {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-slider-container {
  height: 40px;
  width: 250px;
  max-width: 100%;
  padding-right: 3px;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans {
  border: 2px solid #4781b9;
  color: #4781b9;
  background-color: rgba(71,129,185,0.15);
  padding: 0.2em 0.4em;
  display: inline-block;
  border-radius: 4px;
  margin-right: 1px;
  margin-bottom: 2px;
  min-width: 30px;
  text-align: center;
  -o-text-overflow: ellipsis;
  text-overflow: ellipsis;
  vertical-align: middle;
  position: relative;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans sup {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  content: 'ans';
  position: absolute;
  bottom: -0.5em;
  left: 50%;
  font-size: 60%;
  width: 1.9em;
  overflow: hidden;
  text-align: center;
  margin-left: -0.95em;
  color: #4781b9;
  border: 1px solid #4781b9;
  background: #fff;
  padding: 0;
  border-radius: 3px;
  height: 1em;
  line-height: 0.9em;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid {
  border-color: #e66b3c;
  background: rgba(230,107,60,0.1);
  color: #e66b3c;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid i {
  font-style: normal;
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-ans.dcg-invalid:after {
  color: #e66b3c;
  border-color: #e66b3c;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans {
  background: #4781b9;
  color: #fff;
}

.dcg-calculator-api-container .dcg-basic-expression .dcg-mq-selection .dcg-mq-ans.dcg-invalid {
  background: #e66b3c;
}

.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-mq-ans:after {
  position: absolute;
  bottom: -0.3em;
  left: 50%;
  height: 0.9em;
  line-height: 0.8em;
}

.dcg-calculator-api-container .dcg-braille-toggle {
  display: inline-block;
  float: right;
}

.dcg-calculator-api-container .dcg-braille-toggle .dcg-buttons {
  float: right;
}

.dcg-calculator-api-container .dcg-toggle-button {
  padding: 8px;
  border: 1px solid #ccc;
  color: #444;
  position: relative;
  top: -3px;
  cursor: pointer;
  width: 90px;
  text-align: center;
  float: left;
}

.dcg-calculator-api-container .dcg-toggle-button:last-of-type {
  border-radius: 0px 6px 6px 0px;
}

.dcg-calculator-api-container .dcg-toggle-button:first-of-type {
  border-radius: 6px 0px 0px 6px;
}

.dcg-calculator-api-container .dcg-toggle-button.dcg-hovered {
  background: #f4f4f4;
}

.dcg-calculator-api-container .dcg-toggle-button.dcg-depressed {
  -webkit-box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
  box-shadow: inset 0 0 5px rgba(0,0,0,0.5);
}

.dcg-calculator-api-container .dcg-toggle-button.dcg-selected {
  background: #4781b9;
  color: #fff;
  border-color: transparent;
}

.dcg-calculator-api-container .dcg-calc-basic-main.dcg-projector-mode .dcg-basic-expression.dcg-braille-io .dcg-braille-error {
  font-size: 90%;
}

@-webkit-keyframes dcg-delayed-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  80% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-delayed-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  80% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@-webkit-keyframes dcg-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}.dcg-calculator-api-container table.dcg-braille-examples-table {
  border-collapse: collapse;
}

.dcg-calculator-api-container table.dcg-braille-examples-table tr:not(:last-of-type) {
  border-bottom: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container table.dcg-braille-examples-table th {
  font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
  font-weight: 500;
}

.dcg-calculator-api-container table.dcg-braille-examples-table th,
.dcg-calculator-api-container table.dcg-braille-examples-table td {
  padding: 5px 8px;
}

.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:last-of-type),
.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:last-of-type) {
  border-right: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container table.dcg-braille-examples-table th:not(:first-of-type),
.dcg-calculator-api-container table.dcg-braille-examples-table td:not(:first-of-type) {
  text-align: center;
}

.dcg-calculator-api-container table.dcg-braille-examples-table td {
  height: 45px;
}

.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-braille-font {
  font-family: Abraham;
  font-size: 110%;
}

.dcg-calculator-api-container table.dcg-braille-examples-table .dcg-key-press {
  border: 1px solid rgba(0,0,0,0.2);
  background: rgba(255,255,255,0.6);
  border-radius: 3px;
  width: 25px;
  height: 25px;
  line-height: 23px;
  text-align: center;
  display: inline-block;
  margin-right: 2px;
  vertical-align: middle;
}.dcg-calculator-api-container .dcg-braille-io-keypad-container {
  padding-top: 4px;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad {
  color: #666;
  border-top: 1px solid rgba(0,0,0,0.2);
  padding: 10px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a {
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad a.dcg-hovered {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container {
  color: #444;
  padding: 10px 10px 0;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container .dcg-more-examples-link {
  text-align: center;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table {
  margin-bottom: 10px;
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-examples-table-container table th {
  background: rgba(0,0,0,0.07);
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  padding: 10px 0 10px 10px;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {
  font-size: 130%;
  color: #333;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text {
  font-size: 95%;
  margin-bottom: 10px;
  line-height: 1.5em;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {
  color: #fff;
  padding: 8px 12px;
  display: inline-block;
  border-radius: 6px;
  background: #4781b9;
  border: 1px solid #3f73a6;
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);
  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn.dcg-hovered:not(.dcg-disabled) {
  background: #3f73a6;
  -webkit-transition: background 0.2s;
  -moz-transition: background 0.2s;
  -o-transition: background 0.2s;
  -ms-transition: background 0.2s;
  transition: background 0.2s;
}

.dcg-calculator-api-container .dcg-braille-io-keypad-container .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn.dcg-depressed:not(.dcg-disabled) {
  background: #35608a;
  border: 1px solid #35608a;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description,
.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description {
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
}

.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title,
.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-scientific-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn,
.dcg-calculator-api-container .dcg-four-function-calculator .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {
  margin-right: auto;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  text-align: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description {
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -o-box-orient: horizontal;
  -webkit-box-lines: multiple;
  -moz-box-lines: multiple;
  -o-box-lines: multiple;
  -webkit-flex-flow: row wrap;
  -ms-flex-flow: row wrap;
  flex-flow: row wrap;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-title {
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-blue-btn {
  -webkit-box-ordinal-group: 1;
  -moz-box-ordinal-group: 1;
  -o-box-ordinal-group: 1;
  -ms-flex-order: 1;
  -webkit-order: 1;
  order: 1;
  margin-left: 10px;
  margin-right: 0;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-description .dcg-braille-info-text {
  -webkit-box-ordinal-group: 2;
  -moz-box-ordinal-group: 2;
  -o-box-ordinal-group: 2;
  -ms-flex-order: 2;
  -webkit-order: 2;
  order: 2;
  width: 100%;
  margin: 5px 0 0;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container th,
.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td {
  padding: 2px 5px;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:nth-of-type(3) {
  display: none;
}

.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {
  height: 170px;
  padding: 3px;
}

.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container table {
  margin-bottom: 5px;
}

.dcg-calculator-api-container .dcg-short.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container tr:last-of-type {
  display: none;
}

.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad {
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-more-examples-link {
  display: none;
}

.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container {
  padding-top: 0;
}

.dcg-calculator-api-container .dcg-short.dcg-narrow.dcg-calc-basic-main-wrapper .dcg-braille-io-keypad .dcg-braille-examples-table-container td {
  height: 40px;
}.dcg-calculator-api-container .dcg-basic-settings-container {
  position: relative;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
}

.dcg-calculator-api-container .dcg-basic-settings-container .dcg-keypad-control-btn.dcg-selected {
  color: #333;
  background: rgba(0,0,0,0.1);
}.dcg-aria-alert {
  position: absolute;
  left: -1000px;
  top: -1000px;
  width: 1px;
  height: 1px;
  text-align: left;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper {
  height: 100%;
  width: 100%;
  position: relative;
}

.dcg-calculator-api-container .dcg-calc-basic-main {
  height: 100%;
  width: 100%;
  background: #fff;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-box-lines: single;
  -moz-box-lines: single;
  -o-box-lines: single;
  -webkit-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  flex-wrap: nowrap;
  border-radius: 2px;
  font-family: Arial, sans-serif;
}

.dcg-calculator-api-container .dcg-calc-basic-main * {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.dcg-calculator-api-container .dcg-calc-basic-main.dcg-no-hyperlinks a[target="_blank"] {
  display: none !important;
}.dcg-calculator-api-container .dcg-settings-dropdown {
  font-size: 95%;
  color: #333;
  width: 280px;
  position: absolute;
  bottom: 50px;
  right: 5px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option {
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-settings-menu-option:not(.dcg-reverse-contrast) {
  margin-bottom: 0.5em;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-box {
  display: inline-block;
  position: relative;
  top: 2px;
  height: 15px;
  width: 15px;
  border-radius: 3px;
  color: #127a3d;
  border: 1px solid rgba(0,0,0,0.2);
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-box .dcg-icon-check {
  position: relative;
  top: -2px;
  left: 1px;
  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
  display: none;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-checked .dcg-icon-check {
  display: block;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-hovered .dcg-checkbox-box {
  border-color: rgba(0,0,0,0.4);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-checkbox-container.dcg-depressed .dcg-checkbox-box {
  border-color: rgba(0,0,0,0.6);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons {
  margin-top: 5px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding: 5px 0;
  text-align: center;
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option:not(:last-of-type) {
  border-right: 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option.dcg-selected {
  background: rgba(0,0,0,0.7);
  color: #fff;
  border-color: rgba(0,0,0,0.7);
  z-index: 1;
  position: relative;
  margin-right: -1px;
  padding-right: 1px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option:first-of-type {
  border-radius: 3px 0 0 3px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option:last-of-type {
  border-radius: 0 3px 3px 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option.dcg-hovered:not(.dcg-selected) {
  background: rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-braille-container .dcg-braille-options-buttons .dcg-braille-option.dcg-depressed:not(.dcg-selected) {
  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.2);
  box-shadow: inset 0 0 3px rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn {
  border-radius: 3px;
  display: block;
  padding: 8px;
  text-align: center;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn.dcg-active {
  border: 1px solid #127a3d;
  background-color: #127a3d;
  color: #fff;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn.dcg-active.dcg-hovered {
  border-color: rgba(13,84,42,0.7);
  -webkit-box-shadow: inset 0 0 0 1px rgba(13,84,42,0.7);
  box-shadow: inset 0 0 0 1px rgba(13,84,42,0.7);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn.dcg-active.dcg-depressed {
  border-color: #0d542a;
  -webkit-box-shadow: inset 0 0 0 1px #0d542a;
  box-shadow: inset 0 0 0 1px #0d542a;
  background: #106d36;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn:not(.dcg-active) {
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn:not(.dcg-active).dcg-hovered {
  border-color: rgba(0,0,0,0.15);
  -webkit-box-shadow: inset 0 0 0 1px rgba(0,0,0,0.15);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-modern-btn:not(.dcg-active).dcg-depressed {
  border-color: rgba(0,0,0,0.2);
  -webkit-box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
  background: rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations {
  color: #127a3d;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations span {
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-hovered:not(.dcg-disabled) {
  color: #0d542a;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations.dcg-depressed:not(.dcg-disabled) {
  color: #063c1c;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-download-button.dcg-braille-equations i {
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info {
  display: inline-block;
  color: #999;
  text-decoration: none;
  margin-left: 0.5em;
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-info.dcg-active {
  color: #333;
}

.dcg-calculator-api-container .dcg-settings-dropdown .dcg-six-key-checkbox {
  display: inline-block;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior {
  padding: 15px;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after {
  content: "";
  position: absolute;
  bottom: -7px;
  right: 18px;
  border-width: 7px;
  border-bottom-width: 0;
  border-style: solid;
  border-color: #fff transparent transparent;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before {
  content: "";
  position: absolute;
  bottom: -8px;
  right: 17px;
  border-width: 8px;
  border-bottom-width: 0;
  border-style: solid;
  border-color: #ccc transparent transparent;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left {
  position: absolute;
  top: -30px;
  left: -280px;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:after {
  content: "";
  position: absolute;
  right: -7px;
  top: 43px;
  border-width: 7px;
  border-right-width: 0;
  border-style: solid;
  border-color: transparent transparent transparent #fff;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-settings-dropdown.dcg-point-left.dcg-popover .dcg-popover-interior:before {
  content: "";
  position: absolute;
  right: -8px;
  top: 42px;
  border-width: 8px;
  border-right-width: 0;
  border-style: solid;
  border-color: transparent transparent transparent #ccc;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:after {
  border-top-color: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-settings-dropdown.dcg-popover .dcg-popover-interior:before {
  display: none;
}

.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:after {
  right: 10px;
}

.dcg-calculator-api-container .dcg-scientific-calculator.dcg-narrow .dcg-settings-dropdown.dcg-popover:not(.dcg-point-left) .dcg-popover-interior:before {
  right: 9px;
}

.dcg-calculator-api-container .dcg-version-number {
  color: #666;
  font-size: 90%;
  text-align: center;
  margin-top: 15px;
}.dcg-calculator-api-container .dcg-btn-blue,
.dcg-calculator-api-container .dcg-btn-red,
.dcg-calculator-api-container .dcg-btn-light-gray,
.dcg-calculator-api-container .dcg-btn-green {
  border: none;
  -webkit-appearance: none;
  cursor: pointer;
  white-space: nowrap;
  text-decoration: none;
  display: inline-block;
  border-radius: 4px;
  padding: 0 20px;
  font: inherit;
}

.dcg-calculator-api-container .dcg-btn-red,
.dcg-calculator-api-container .dcg-btn-blue,
.dcg-calculator-api-container .dcg-btn-green {
  color: #fff;
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.15), inset 0 -1px rgba(0,0,0,0.1);
  box-shadow: inset 0 1px rgba(255,255,255,0.15), inset 0 -1px rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-btn-red {
  background: #d95f5b;
  border-color: rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-btn-red.dcg-hovered {
  background: #cb605d;
}

.dcg-calculator-api-container .dcg-btn-red.dcg-depressed {
  background: #c15b58;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-btn-blue {
  background: #528fc9;
  border-color: rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-btn-blue.dcg-hovered {
  background: #4e88bf;
}

.dcg-calculator-api-container .dcg-btn-blue.dcg-depressed {
  background: #4a81b4;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-btn-light-gray {
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);
  box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(#f6f6f6, #f0f0f0);
  background: -moz-linear-gradient(#f6f6f6, #f0f0f0);
  background: -o-linear-gradient(#f6f6f6, #f0f0f0);
  background: -ms-linear-gradient(#f6f6f6, #f0f0f0);
  background: linear-gradient(#f6f6f6, #f0f0f0);
  border: 1px solid rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-btn-light-gray.dcg-hovered {
  background: #ededed;
  border: 1px solid rgba(0,0,0,0.13);
}

.dcg-calculator-api-container .dcg-btn-light-gray.dcg-depressed {
  background: #e0e0e0;
  border: 1px solid rgba(0,0,0,0.15);
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-btn-green {
  background: #1aad57;
}

.dcg-calculator-api-container .dcg-btn-green.dcg-hovered {
  background: #179d4f;
}

.dcg-calculator-api-container .dcg-btn-green.dcg-depressed,
.dcg-calculator-api-container .dcg-btn-green.dcg-active {
  background: #148e47;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-pull-right {
  float: right;
}

.dcg-calculator-api-container .dcg-pull-left {
  float: left;
}

.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-red,
.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-blue,
.dcg-calculator-api-container .dcg-inverted-colors .dcg-btn-green {
  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,0.15), inset 0 1px rgba(0,0,0,0.1);
  box-shadow: inset 0 -1px rgba(255,255,255,0.15), inset 0 1px rgba(0,0,0,0.1);
}.dcg-aria-alert,
.dcg-calculator-api-container .dcg-offscreen-element {
  position: absolute;
  left: -1000px;
  top: -1000px;
  width: 1px;
  height: 1px;
  text-align: left;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-container.dcg-default-border {
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-container a,
.dcg-calculator-api-container .dcg-container a:hover {
  text-decoration: none;
}

.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-grapher,
.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-resize-list-btn,
.dcg-calculator-api-container .dcg-container.dcg-no-graphpaper .dcg-graph-icon {
  display: none;
}

.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-horizontal {
  cursor: ew-resize;
}

.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-vertical {
  cursor: ns-resize;
}

.dcg-calculator-api-container .dcg-container .dcg-grapher.dcg-scale-both {
  cursor: nesw-resize;
}

.dcg-calculator-api-container .dcg-graph-outer {
  overflow: hidden;
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}

.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-expression-top-bar {
  display: none;
}

.dcg-calculator-api-container .dcg-container.dcg-no-expression-topbar .dcg-exppanel-container {
  padding-top: 0;
}

.dcg-calculator-api-container .dcg-container.dcg-no-hyperlinks a[target="_blank"] {
  display: none !important;
}

.dcg-calculator-api-container .dcg-container.dcg-inverted-colors {
  filter: invert(100%);
}

.dcg-calculator-api-container .dcg-container {
  width: 100%;
  height: 100%;
  position: relative;
  background: #fff;
  z-index: 0;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  overflow: hidden;
  font-family: arial, sans-serif;
  font-size: 16px;
  color: #000;
}

.dcg-calculator-api-container .dcg-container.dcg-is-interactive {
  touch-action: none;
  -ms-touch-action: none;
}

.dcg-calculator-api-container .dcg-container.dcg-is-interactive .dcg-grapher {
  touch-action: none;
  -ms-touch-action: none;
}

.dcg-calculator-api-container .dcg-container * {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.dcg-calculator-api-container .dcg-container .dcg-text-selectable {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
}

.dcg-calculator-api-container .dcg-expressions-branding {
  position: absolute;
  bottom: 0;
  left: 50%;
}

.dcg-calculator-api-container .dcg-graphpaper-branding {
  position: absolute;
  bottom: 0;
  right: -8px;
  display: none;
  z-index: 21;
}

.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding {
  display: block;
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding .dcg-powered-by,
.dcg-calculator-api-container .dcg-fullscreen .dcg-graphpaper-branding i {
  position: relative;
  text-shadow: -1px -1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, 1px 1px 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;
}

.dcg-calculator-api-container .dcg-expressions-branding,
.dcg-calculator-api-container .dcg-graphpaper-branding {
  text-align: center;
  font-size: 75%;
  width: 110px;
  margin-left: -55px;
  text-decoration: none;
  line-height: 1em;
  height: 45px;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-expressions-branding.dcg-unclickable,
.dcg-calculator-api-container .dcg-graphpaper-branding.dcg-unclickable {
  pointer-events: none;
  z-index: -1;
}

.dcg-calculator-api-container .dcg-expressions-branding .dcg-powered-by,
.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-powered-by {
  color: rgba(0,0,0,0.2);
  text-decoration: none;
  -webkit-transition: color 0.3s;
  -moz-transition: color 0.3s;
  -o-transition: color 0.3s;
  -ms-transition: color 0.3s;
  transition: color 0.3s;
  display: block;
}

.dcg-calculator-api-container .dcg-expressions-branding i,
.dcg-calculator-api-container .dcg-graphpaper-branding i {
  color: rgba(0,0,0,0.2);
  font-size: 650%;
  margin-right: 2px;
  line-height: 18px;
  -webkit-transition: color 0.3s;
  -moz-transition: color 0.3s;
  -o-transition: color 0.3s;
  -ms-transition: color 0.3s;
  transition: color 0.3s;
  height: 18px;
}

.dcg-calculator-api-container .dcg-expressions-branding a,
.dcg-calculator-api-container .dcg-graphpaper-branding a,
.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding,
.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding {
  cursor: pointer;
  display: block;
  height: 50px;
}

.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered .dcg-powered-by,
.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered .dcg-powered-by,
.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by,
.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered .dcg-powered-by {
  color: #aaa;
}

.dcg-calculator-api-container .dcg-expressions-branding a.dcg-hovered i,
.dcg-calculator-api-container .dcg-graphpaper-branding a.dcg-hovered i,
.dcg-calculator-api-container .dcg-expressions-branding .dcg-edit-branding.dcg-hovered i,
.dcg-calculator-api-container .dcg-graphpaper-branding .dcg-edit-branding.dcg-hovered i {
  color: #127a3d;
}

.dcg-calculator-api-container .dcg-narrow .dcg-graphpaper-branding {
  display: none;
}

.dcg-calculator-api-container .dcg-no-branding .dcg-expressions-branding,
.dcg-calculator-api-container .dcg-no-branding .dcg-graphpaper-branding {
  display: none;
}.dcg-calculator-api-container .dcg-container {
  text-align: left;
  -webkit-transform-origin: 0 0;
  -moz-transform-origin: 0 0;
  -o-transform-origin: 0 0;
  -ms-transform-origin: 0 0;
  transform-origin: 0 0;
}

.dcg-calculator-api-container .dcg-container pre {
  white-space: pre-wrap;
}

.dcg-calculator-api-container .dcg-container img {
  border: 0;
  outline: none;
}

.dcg-calculator-api-container .dcg-container input::-ms-clear {
  display: none;
}

.dcg-calculator-api-container .dcg-container button,
.dcg-calculator-api-container .dcg-container input,
.dcg-calculator-api-container .dcg-container select,
.dcg-calculator-api-container .dcg-container textarea {
  font-family: inherit;
}

.dcg-calculator-api-container .dcg-container button,
.dcg-calculator-api-container .dcg-container select {
  text-transform: none;
}

.dcg-calculator-api-container .dcg-container button,
.dcg-calculator-api-container .dcg-container input[type="button"],
.dcg-calculator-api-container .dcg-container input[type="reset"],
.dcg-calculator-api-container .dcg-container input[type="submit"] {
  -webkit-appearance: button;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-container button[disabled],
.dcg-calculator-api-container .dcg-container input[disabled] {
  cursor: default;
}

.dcg-calculator-api-container .dcg-container input[type="search"] {
  -webkit-appearance: textfield;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  box-sizing: content-box;
}

.dcg-calculator-api-container .dcg-container input[type="search"]::-webkit-search-cancel-button,
.dcg-calculator-api-container .dcg-container input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}

.dcg-calculator-api-container .dcg-container button::-moz-focus-inner,
.dcg-calculator-api-container .dcg-container input::-moz-focus-inner {
  border: 0;
  padding: 0;
}

.dcg-calculator-api-container .dcg-container table {
  border-collapse: collapse;
  border-spacing: 0;
}

.dcg-calculator-api-container .dcg-container input::-webkit-outer-spin-button,
.dcg-calculator-api-container .dcg-container input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}.dcg-calculator-api-container .dcg-component-checkbox {
  cursor: pointer;
  position: relative;
}

.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox {
  border: 1px solid #bbb;
  margin-right: 0.5em;
  width: 1.1em;
  height: 1.1em;
  border-radius: 3px;
  vertical-align: middle;
  display: inline-block;
  position: relative;
}

.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox i {
  display: none;
  font-size: 115%;
  position: absolute;
  top: -0.15em;
  left: 0.1em;
  text-shadow: -1px -1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, 1px 1px 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;
}

.dcg-calculator-api-container .dcg-component-checkbox .dcg-checkbox-children {
  position: relative;
  top: 0.1em;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox {
  border: 1px solid #999;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-hovered:not(.dcg-checked) .dcg-checkbox i {
  display: block;
  color: #e2e2e2;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked .dcg-checkbox i {
  display: block;
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-checked.dcg-hovered .dcg-checkbox {
  border: 1px solid #999;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled {
  pointer-events: none;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled .dcg-checkbox {
  background: rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-disabled.dcg-checked i {
  display: block;
  color: #999;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-green.dcg-checked .dcg-checkbox i {
  color: #127a3d;
}

.dcg-calculator-api-container .dcg-component-checkbox.dcg-small {
  font-size: 85%;
}.dcg-calculator-api-container .dcg-download-button.dcg-disabled {
  pointer-events: none;
}.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {
  background: none;
  width: 100%;
  border: none;
  font-family: Abraham, serif;
  font-size: 125%;
  padding: 1px 0;
}

.dcg-calculator-api-container .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input:focus {
  outline: none;
}

.dcg-calculator-api-container .dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 14px;
  background: -webkit-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: linear-gradient(to left, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 14px;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-arrow {
  -webkit-transform: translateX(-1.25ch) rotate(45deg);
  -moz-transform: translateX(-1.25ch) rotate(45deg);
  -o-transform: translateX(-1.25ch) rotate(45deg);
  -ms-transform: translateX(-1.25ch) rotate(45deg);
  transform: translateX(-1.25ch) rotate(45deg);
}

.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-ne-se .dcg-tooltip-message-container {
  -webkit-transform: translateX(-1.25ch);
  -moz-transform: translateX(-1.25ch);
  -o-transform: translateX(-1.25ch);
  -ms-transform: translateX(-1.25ch);
  transform: translateX(-1.25ch);
}

.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-arrow {
  -webkit-transform: translateX(0.8ch) rotate(45deg);
  -moz-transform: translateX(0.8ch) rotate(45deg);
  -o-transform: translateX(0.8ch) rotate(45deg);
  -ms-transform: translateX(0.8ch) rotate(45deg);
  transform: translateX(0.8ch) rotate(45deg);
}

.dcg-calculator-api-container .dcg-mathquill-braille-tooltip.dcg-latex-tooltip-positioning-container.dcg-tooltip-positioning-container.dcg-tooltip-gravity-nw-sw .dcg-tooltip-message-container {
  -webkit-transform: translateX(0.8ch);
  -moz-transform: translateX(0.8ch);
  -o-transform: translateX(0.8ch);
  -ms-transform: translateX(0.8ch);
  transform: translateX(0.8ch);
}.dcg-calculator-api-container .dcg-mq-container {
  position: relative;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-container .dcg-mq-placeholder {
  position: absolute;
  top: 50%;
  left: 0;
  right: 0;
  line-height: 1em;
  height: 1em;
  margin-top: -0.5em;
  pointer-events: none;
  font-family: Symbola, "Times New Roman", serif;
  padding-left: 2px;
  color: rgba(0,0,0,0.47);
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) {
  position: relative;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout):after {
  content: "";
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  width: 14px;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block {
  padding-right: 10px;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field:not(.dcg-no-fadeout) .dcg-mq-root-block.dcg-mq-editing-overflow-left:before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 14px;
  background: -webkit-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: linear-gradient(to left, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after {
  display: none;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-mq-editable-field:after .dcg-mq-editing-overflow-left:before {
  display: none;
}.dcg-calculator-api-container .dcg-disable-slider {
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
}

.dcg-calculator-api-container .dcg-slider-interior {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  position: relative;
  top: -4px;
  margin-left: 7px;
  margin-right: 7px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb {
  cursor: pointer;
  z-index: 3;
  border-radius: 8px;
  position: absolute;
  top: -8px;
  margin-left: -19px;
  width: 38px;
  height: 38px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus {
  outline: none;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb:focus:after {
  position: absolute;
  top: -4px;
  left: 4px;
  content: "";
  pointer-events: none;
  border: 2px solid rgba(79,129,189,0.35);
  border-radius: 50%;
  width: 26px;
  height: 26px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-graphic {
  position: absolute;
  top: 0;
  left: 8px;
  border-radius: 12px;
  width: 22px;
  height: 22px;
  background: rgba(79,129,189,0.35);
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb .dcg-center {
  position: absolute;
  top: 0;
  left: 8px;
  border-radius: 12px;
  width: 22px;
  height: 22px;
  background: #4f81bd;
  -webkit-transform: scale(0.25, 0.25);
  -moz-transform: scale(0.25, 0.25);
  -o-transform: scale(0.25, 0.25);
  -ms-transform: scale(0.25, 0.25);
  transform: scale(0.25, 0.25);
  -webkit-transition: -webkit-transform 0.2s;
  -moz-transition: -moz-transform 0.2s;
  -o-transition: -o-transform 0.2s;
  -ms-transition: -ms-transform 0.2s;
  transition: transform 0.2s;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-hovered .dcg-center,
.dcg-calculator-api-container .dcg-slider-interior .dcg-thumb.dcg-down .dcg-center {
  -webkit-transform: scale(1, 1);
  -moz-transform: scale(1, 1);
  -o-transform: scale(1, 1);
  -ms-transform: scale(1, 1);
  transform: scale(1, 1);
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-zeroMarker {
  position: absolute;
  top: 2px;
  z-index: 2;
  width: 2px;
  height: 2px;
  background: rgba(0,0,0,0.3);
  border-radius: 2px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-track {
  cursor: pointer;
  height: 22px;
  position: absolute;
  left: 0;
  right: 0;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks {
  position: absolute;
  top: 2px;
  bottom: 0;
  width: 100%;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-ticks .dcg-tick {
  position: absolute;
  top: 0;
  width: 2px;
  height: 2px;
  background-color: #fff;
  margin-left: 0;
  z-index: 1;
  border-radius: 2px;
}

.dcg-calculator-api-container .dcg-slider-interior .dcg-track .dcg-graphic {
  height: 6px;
  background-color: rgba(0,0,0,0.1);
  border-radius: 3px;
  margin-bottom: 6px;
  width: 100%;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel {
  padding: 10px 4px 10px 8px;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel {
  padding: 10px 8px 10px 4px;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel,
.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel {
  z-index: 4;
  color: rgba(0,0,0,0.5);
  margin: -10px 0;
  min-width: 26px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel .dcg-mq-math-mode {
  font-family: arial, sans-serif;
  cursor: pointer;
  font-size: 80%;
  position: relative;
  top: -1px;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-hovered,
.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-hovered {
  color: #333;
}

.dcg-calculator-api-container .dcg-slider-container .dcg-minLabel.dcg-depressed,
.dcg-calculator-api-container .dcg-slider-container .dcg-maxLabel.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-play {
  display: none;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-animate-pause {
  display: none;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-slider-speed-container {
  display: none;
}.dcg-calculator-api-container .dcg-static-mathquill-view * {
  -webkit-user-select: text !important;
  -moz-user-select: text !important;
  -ms-user-select: text !important;
  user-select: text !important;
  -moz-user-selection: text !important;
}.dcg-calculator-api-container .dcg-tooltipped-error {
  color: #e66b3c;
  font-size: 22px;
  cursor: pointer;
  display: inline-block;
  width: 26px;
  height: 26px;
  text-align: center;
  -webkit-animation: dcg-delayed-fadeIn 1s;
  -moz-animation: dcg-delayed-fadeIn 1s;
  -o-animation: dcg-delayed-fadeIn 1s;
  -ms-animation: dcg-delayed-fadeIn 1s;
  animation: dcg-delayed-fadeIn 1s;
  position: relative;
  top: 3px;
}

.dcg-calculator-api-container .dcg-tooltipped-error.dcg-small {
  font-size: 14px;
  width: 16px;
  height: 16px;
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-tooltipped-error.dcg-white {
  color: #fff;
}

@-webkit-keyframes dcg-delayed-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  80% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-delayed-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  80% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@-webkit-keyframes dcg-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-fadeIn {
  0% {
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}.dcg-calculator-api-container .dcg-tap-container [ontap] {
  cursor: pointer;
}@font-face {
  font-family: 'dcg-icons';
  src: url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8R/5kAAAC8AAAAYGNtYXAeVsT2AAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZiisThcAAAF4AAB+NGhlYWQXs7nbAAB/rAAAADZoaGVhByoEZAAAf+QAAAAkaG10eMgMIeEAAIAIAAAB0GxvY2EnIgRwAACB2AAAAOptYXhwAIcCkAAAgsQAAAAgbmFtZZMnHvMAAILkAAABnnBvc3QAAwAAAACEhAAAACAAAwQAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADibwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg4m///f//AAAAAAAg4gD//f//AAH/4x4EAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAADADH/xAQYA8AANAA8AEQAAAEjNTQmIyEiBh0BIyIGHQEUFjsBHgEXFSMiBh0BFBYzITI2PQE0JisBNT4BNzMyNj0BNCYjBTUzFSMiJjUhFAYrATUzFQPwpzIi/l8iMqYRGEozXRZyTlI0SRgRAdQQGEoyU01zFl01SBgQ/JJ+UhIaA0UaElJ+Aw9dIjIyIl0YEYk0SExtEltKM1IRFxcRUjRJWxJtTEoyiREYsmGNGRMSGo1hAAAABgAA/8AEAAPAAB8ALwBZAIgCXgKNAAABISIHDgEHBhURFBceARcWMyEyNz4BNzY1ETQnLgEnJhMUBiMhIiY1ETQ2MyEyFhUlFiYxFhceARcWFx4BFzAGMQ4BBw4BBzAGOQEuAScmJy4BJyYnMSYWJzcFBhQxBgcOAQcGBw4BBzEqASMwIjEiJicuAScwJjE+ATc+ATc2Nz4BNzY3BjY3FxM2FhcVOAExLgEnOAExMCI1OAExOAEnMCIjMCIjMCIjMCI1OAExMCI1OAExLgEjJgYHMCIVOAEjDgEjOAExDgEHDgEHDgEHMQ4BBzAGMTgBMSIGIzAiIyIGIyIGBzgBMQ4BBzAiMSIGIzAiFSIGBzgBMSIGIzAiMTgBIzAiMTAyMQ4BIzI2Nw4BJy4BJzgBMTAiMTgBMTgBMTAmNTAmNSImIzgBMS4BJzEuASceARcuAScwFjEuAScuAScuAScuAScuAScuASMOAQcwIhUOAQcyNjMOARUwNjUOAQcOAQcOAQcOAQcOAQc+ATcOASMyNjcOASMGJicuAScxHgEXLgEnNTAWMTgBMR4BFzgBMR4BFzAWMTgBMTgBMR4BFyImJx4BMzAyOQEwMjEyNjc4ATEwMjU4ATM+ATcyNjMwNjEyNjMwMjU+ATcxOAExOAExPgE3OAExPgE3PgE3MAYHPgE3DgEHPgE3PgE3MjYzOAExMjYzMjYzOAExNjIzIiYHNhYXLgEjHgEXHgEXHgEXHgExHgEXHgEXLgE1HgEXLgEnHgEXHgEzFjY3PgE3OAExPgE3PgE3MDY1MDYxMjYzOAExMjYzOAEzPgE3IgYHPgE3DgEHPgE3BTEOASMxIiYnLgEnMDYxPgE/AT4BNzA2OQEeARceATMyNjcwFjEeARceARc2MhcDM/2aKyUlOBAQEBA4JSUrAmYrJSU4EBAQEDglJXdfQ/2aQ19fQwJmQ1/8sQQGDA4OHxISFQsaDgIIEAgECAUCER4NEhERIA4PDAUJBD0DIAgMDg0fERATETQhAgEBAwQKBwkSCQIBBAEfLhMSEBEgEA8QAwIBQg0VJhIDBwMCAgEBAQEBAQMCBQkFCxcLAgICBQIDCAMFCAUBBQIWLBgCAQECAQECAQECBQICAwEDAQECAgIBAQIBAQMCAgINGg4NGQ0OHQ4NFwkCAwIBAQITHxAGDQcCAwICBAMCAwYDAgMCAQQBBQwFBA0GCBMJDBMIAgUHBQIBAQEDAgULBQgSCA8dEAgQCAIFAgIFAg4eEAsYCgoRCRo2FBUkEAUHBQUHBQIDBQMVKhYCChQNAwkDBg0HAgINFgoCAgIBAQIBAQMBAQICAgEBAgECBAoHCxYMAQEECgUDBQMKEwwIEAoBBgECAwIBBAMKEwoHCgcXKxMBBQIOHQwHDQgFCgQCAwEBAgYNBgEDChYNCxMIBAkECRUMEBsNAQQBCxQKFSgYAgICAQIBAQICBQkDAgMBBgsGBQcDBRIJ/rwdPSAgPx8QGw4CCBAIBAIFAgINFwsQJxoOHw8CCxQLBAcEBQICA8AQETglJSr9nComJjgREBAQOCUlKwJmKiUlOBEQ/M1DX19DAmZDX19DrwkULDAxZTQ0Mxs8HgIIDggFCAQDJEceLS0uXTAwMBQnEy0NHgIsLy9eLzAuLW42AwEFDAcCAwYBMGUyKy4uZDc2Ow0HBhz+LQIJCFUDBAQCAgICAgQEAwUCAgIDBQMDCQMBBgEXKxQCAgIFAQIBAgICAQECBQQDBAUFAwIGBQEBAQECChwQBg8GAQMCAgMEAwQGAwIDAgEDAgUJBQUJAwUEAgYFAgMHAwIBAQIBAQUJBQgSCA8bDAYKAwEBAgIBAQYJBAUDBgMTEAoeEgUHBQUJA2QCAgUBFSsUAggKAwMBAwMKBwICAQECAgMCAQECAgEBBQoEDBQLAwEFCQUCBQQKEQgECQQCAgICAgICDwwBAwgWDQYOCAQKBQEDAgEBBwwFAgEBCQ0FAw4GAwYEBgkBDwgBAQIIEwkUKRABAQIDAgMEAQICAwQBAQECCAYB9xoaHRsOIBICCBAIBAIFAgISHAwOGgwLAgkQBwEGAQEBAAAKAAD/wAQAA8AABQAtAFYAbgCLALsA6wEbATsBSwAAASc1HgEXFwYHDgEHBiMGJy4BJyYnHgEzMjY3FhceARcWMzI2Nz4BNx4BMz4BNwMOAQcGFBUuAScuASMiBw4BBwYHFAYVIiYnLgEjIgYHNjc+ATc2MzIWFyoBIyIGBw4BBw4BBycyNjcyNjE+ATcXBxQWFyE+ATUwNDU0JicuASclFBYXHgEXBSEOARUnDgEHDgEHDgEHIgYjKgExLgEnLgEnLgE1OQE1PAExPgE3PgEzMT4BMzIWFTE2FjEXDgEHDgEHDgEHIgYjKgExLgEnLgEnLgE1OQE1PAExPgE3PgEzMT4BMzYWFTE0FDEhDgEHDgEHDgEHIgYjKgExLgEnLgEnLgE1OQE1PAExPgE3PgEzMT4BMzYWFTE0FDEBISIHDgEHBhURFBceARcWMyEyNz4BNzY1ETQnLgEnJhMUBiMhIiY1ETQ2MyEyFhUDHkQZIQoECRsaTTAwNTYxME0ZGgkFCQMIDgYJFhZBKCgtLVIhHyoIBw0IBQkFoAYMAwIEBAMWMBorJyg/FxcKAgIFAgUJBQUJAwobGk0vMDUjQq4BBAEFCwMEAwICBQRABQsEAQMFCgJEPgQD/koEAwMEAwcFAVgDAwQGBf7TAYkGBQYCAwEECQUBBQIDBAIBBQUHBQUJAwICAQcEBAQDBQcFEhkBAWsCAwIDCQUBBgEEAwICBAUIBAUJAwIDAgYFAwUDBQcFExr94gIDAgMJBQEGAQMEAgEFBQcFBQkDAgMCBgUDBQMFBwUSGwIX/ZorJSU4EBAQEDglJSsCZislJTgQEBAQOCUld19D/ZpDX19DAmZDXwIJewIbPyN+NCssQBISARITQCwsMwIDBQIrJSU1EA8fHRtGKAUCAwIEAT4FDwgDBQMCAwIJCg8OMiMiKAMEAgECAQMDATMrLD8SEQ/dAwIBAQICBQF1AwECAwcFeToGDQQEDQYBAQcNCAUKAqgGDAUFCwOWBgsG0wUHBQUJAwIBAQIBAwIDCQUFCQMCAgUGDAUDBAEDGRICAtkFCAQFCQQBAQICAgMBBAkFBAYHAgEFBwwFAwMCAgIbEQEBBQgEBQkEAQECAgIDAQQJBQQGBwIBBQcMBQMDAgICGxEBAQIGEBE4JSUq/ZwqJiY4ERAQEDglJSsCZiolJTgREPzNQ19fQwJmQ19fQwAAAAYAAP/ABAADwAAkAE8AjwEEASQBNAAAJTEiJi8BBwYmJyY2PwE+ATMeAR8BEz4BMyEyFhUUBiMhAw4BIyUVFAYPAQ4BBwYUFRQGIyImNTQ2NzE+ATcjKgExFAYHFSM1NzUzFTAWMxcPASM1NDY/AT4BNTQmJy4BIyIGBw4BBx4BFRQGBw4BIyImNTQ2Nz4BMzIWFx4BFRQGBw4BDwEzMjY3NDY3NTMVJRQGBw4BIyImJy4BNTQ2Nz4BMzIWFx4BFRQGBw4BBx4BMx4BMzI2Nz4BNTQmJy4BKwEiJjU0NjcxOgEzMjY3PgE1NCYnLgEjIgYHMhYVHgEVFAYHDgEjIiYnLgE1NDY3PgEzMhYXHgEVFAYHDgEHHgEXHgEVASEiBw4BBwYVERQXHgEXFjMhMjc+ATc2NRE0Jy4BJyYTFAYjISImNRE0NjMhMhYVAS8GDAEvBwYTBAUCBxwDCwUFBgQmiQMJBwGCCgsNCP6LmAEMBgHrAwIoBwkBAgoKDAcTEQUOCTwIBgQDCwkNCxVNqQt1AwE4DhAEBQUMCAcKBQMGAQgJBAMDBwUJDAkICBYNDhcKCQoGBQMMCDQtCggBAwIV/twJCAgTDAkRCAkIAwEEBgMDBwMDAQMDAgMCAgQDBQkFBwcDAgMDAgMHBw0EBAQHAQMCBggDAwMCAgEHBQYMAwICAgMDAgEHBQMGAwIDCQgHDwgIEAgICQUFAwcDBQkDBgcB5v2aKyUlOBAQEBA4JSUrAmYrJSU4EBAQEDglJXdfQ/2aQ19fQwJmQ1/xBgdiBgUCBwYTBRUDAQEHBFQBBwUFDQgKC/7gBQbrBwMGATgIGA8JIBUJDBEEHDkcBxMNAgkNBAk3BAYCAok+CQMGAj0QIA4KDgYHBgMDBAYDAgkIBQcDBAMMCgsVCAgJCQgIGA0JEQgFDAgyAQIBCQ0EArYMEQgGBwYFBxAJAwgCAwMCAgMHAwMIAgEBAgEDAgIGBAULCAgKBQUGBQMCBQIGBQQNBgUHAwMDAwMDAQIGBQMHAwMBAwECBgUIDwUFAwMFBQ8ICA4IAwYCAQcEChAIAbcQETglJSr9nComJjgREBAQOCUlKwJmKiUlOBEQ/M1DX19DAmZDX19DAAAIAAD/wAQAA8AAHwAtAE4AZgB1AI0ArQC9AAAlFhQHDgEvAQcGIicuAT8BJyY0Nz4BHwE3NjIXHgEPAQMzMjY1NCYrASIGFRQWJzIWFRQGKwEVFAYjIiY9ASMiJjU0NjsBNTQ2MzIWHQEzAxQGBw4BIyImJy4BNTQ2Nz4BMzIWFx4BNxQGKwEiJjU0NjsBHgEVJxQGBw4BIyImJy4BNTQ2Nz4BMzIWFx4BASEiBw4BBwYVERQXHgEXFjMhMjc+ATc2NRE0Jy4BJyYTFAYjISImNRE0NjMhMhYVAxcHBwYTBzk6BhMHBgIIOjoGBgcTBjo5BxMGBwEIOYnPCg4OCs8JDg6hCQwMCVENCwkOUQoODAxRDgkKDlFCBgUFDQgGDwQFBgYFBA0ICA0FBQZZDAnPCg4NC80LDFkGBQUNCAgNBAUGBgUEDQgHDgUFBgHK/ZorJSU4EBAQEDglJSsCZislJTgQEBAQOCUld19D/ZpDX19DAmZDX8AGFAYGAgg6OgYGBhQGOjkHEwYHAQg5OQcHBhMHOQFiDgkKDg4KCQ4tDgoKDVEKDgwMUQwLCg5RCQwMCVH+IggNBQUGBgUFDQgIDAUFBgYFBg1JCg4MDAkOAgwJTwgNBQUGBgUFDQgIDAUFBgYFBg0CcRAROCUlKv2cKiYmOBEQEBA4JSUrAmYqJSU4ERD8zUNfX0MCZkNfX0MAAAAACAB1/8ADiQPAAA8AHwAvAD8ATwBwAHwAlAAAJSEiJj0BNDYzITIWHQEUBicjIiY9ATQ2OwEyFh0BFAY3ISImPQE0NjMhMhYdARQGNyEiJj0BNDYzITIWHQEWBicjIiY9ATQ2OwEyFh0BFAYTFx4BFxQGIyEiJjU+AT8BIyIGFREUFjMhMjY1ETQmKwEnIgYVFBYzMjY1NCYBETQ2MyE+ATMyFhUhMhYVERQGIyEiJjUCxv5YBQYGBQGoBQYGvPEFBgYF8QUGBkr+wAUGBgUBQAUGBn/+PAUGBgUBwgUGAQfW8QUGBgXxBQYGcA8zJQIGBf48BQYCJy8RpwYLCQgCVgYLCQinhBAWFhAQFhb+ZQ4IASQCLyAgLwEkCgwOCP0aCg7GBgUEBQYGBQQFBk8GBQQFBgYFBAUGTwYFBAUGBgUEBQZPBgUEBQYGBQQFBk8GBQQFBgYFBAUGASAtCzYjBQYGBSIzDTEJCP0NBgsJCALxBgt4FxAQFhYQDxj8OwOHCQwiLS0iDQj8eQkMDQgAAAUABAE6A/MCugAXACMALwA7AIoAABMuATEOAR0BFBY/AT4BNzI2Mz4BNS4BJxcUBiMiJjU0NjMyFhcUBiMiJjU0NjMyFjciBhUUFjMyNjU0JgUHDgEHMAYVKgEjMCIxMCIxIiYnOAExLgE9ASMiJiMuATU0Njc2MjsBNTQ2NzQ2NTA2MTA2NTAyMToBMzAyMTAyMTAWMTAyFR4BHwEWFAetAhRGTRELMRMTEgMfAhMcAhgVxCMZGCMjGBkjmCMZGSMjGRkjWRgkJBgYJCIBd6ADBgQCAQECAgIDBQMDAysDBwUTGBgTAwcFKwICAgICAgIBAgICBAIEBAOgCggCNwIBAmRFJA8FCzETFQMEBx4VFSIEORkjIxkZIyMZGSMjGRkjIyMkGBgkJBgZI1SgAwYBAQECAgMNCWkCByATEyAGAmUICgMCAQECAQIDAgEEA6AHFgoAAAAAAwAE/80D7wK+ABwAOwCNAAABIgcOAQcGFRQXHgEXFjMyNz4BNzY1NCcuAScmIxMUBisBIiY9AQcGIicuAS8BJjY3PgExMjYxMzIWFREBBw4BBzAGFSoBMTAiMTAiMSImJzgBMS4BPQEhIgYHDgEPAQYmPQE0NjMhNTQ2NzQ2NTA2MTAyNTAyMToBMzAyMTAyMTAWMTAWFR4BHwEWFA8BAQssJyc6EREREDonJy0sJyY6ERERETomJywmBgUiBgkXAwkFAwQCBgICCAQ4AgIcBwgCs5EDBgQCAQECAgMFAwMD/Y0FCgURKxUzDRFqTAJxAgICAgICAgECAgIEAgIFAqAICAsBdxAROScnLSwnJzoQERAROScnLSwnJzoREP6jBQYKBdEPAgICBQQZAwsDAh4CCgT+8QHCkQQFAgEBAwEDDQhiAwIDFRQ0DAUQJkxqZAgKAwIBAgICAgEBAgQDoAgYCA0AAAAAAgAEABUD+gNrAFEAowAAAQcOAQcwBhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwMjUwMjE6ATM6ATEwMjEwFjEwFhUeAR8BFhQPAQE3PgE3MDY1OgExOgExMDIxMhYXOAExHgEdASEyNjc+AT8BNhYdARQGIyEVFAYHFAYVMAYxMCIVMCIxKgEjKgExMCIxMCYxMCY1LgEvASY0PwED5JEDBgQCAQECAgMFAwMD/Y0FCgURKxUzDRFqTAJxAgICAgICAgECAwECBAMBBQKgCAgN/DiRAwYEAgEBAQECAwUDAwMCcQUKBBIrFTMNEWtL/ZECAgICAgICAQIDAQIEAwEFAqAICA0CiZIDBgEBAQICAwwIZQMCAxUUNAwFECZMamIICgMCAQEDAgIBAgEEA6AIGQgM/m6SAwYBAQECAgMMCGUDAgMVFDQMBRAmTGpiCAoDAgEBAwICAQIBBAOgCBkIDAAAAAACAAQAFQPxA2sAUQCjAAABBw4BBzAGFSoBMTAiMTAiMSImJzgBMS4BPQEhIgYHDgEPAQYmPQE0NjMhNTQ2NzQ2NTA2MTAyNTAyMToBMzoBMTAyMTAWMTAWFR4BHwEWFA8BEQcOAQcwIhUqATEwIjEwIjEiJic4ATEuAT0BISIGBw4BDwEGJj0BNDYzITU0Njc0NjUwNjEwNjUwMjE6ATMwMjEwMjEwFjEwMhUeAR8BFhQPAQPkkQMGBAIBAQICAwUDAwP9jQUKBRErFTMNEWpMAnECAgICAgICAQIDAQIEAwEFAqAICA2RAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgICBAICBQKgCAgLAomSAwYBAQECAgMMCGUDAgMVFDQMBRAmTGpiCAoDAgEBAwICAQIBBAOgCBkIDP4qkQMGAgIDAgMMCGQCAgMVFTMNBhAmS2piCAsDAQECAgEBAgICAwOgCBkIDQAD//7/xQQAA7wAKQBEAIMAACUnLgEHDgEXFS4BJw4BBw4BBxYXHgEXFhcyFjMVFBYXFjY/AT4BJzQmJwEOARceATc2Fx4BFxYXPgE3PgE3JicuAScmBwUnLgEHDgEdASoBByIHDgEHBgcGBw4BBwYjJgYHBhYXOgEzMjc+ATc2NzY3PgE3NjcVFBYXFjY/AT4BJzQmJwP0qAoPBgYHASN0OgIFAhMnFDQzM1IbGwIBAgEGBgYQCagGBwEGBvxSHyoBAi4fAxgYTTMyNwQJBBAkFEVBQGgjIgkDrqgKDwYGBgECAQMmJ3FBQjo+OzteHh4DHy4CASkfAgQCEy8vgUtMSyElJEQfHhQGBgYQCakGBgEGBrSoCgUCAw4NXhBSTgMHAyI7GzwmJy4JCQEBagwPAwMHCKkGDggIEAYCngEvHyApAQEEAygqKk4HDgccNBlWLi8qAwMBTKkKBQIDDg1jAQ8OSUA/ZGw7OzcGBQIqHx8vAgkISUpKgjkqKjsSEgllDA8DAgYJqQYNCAgPBgAAAwBNAAgDtQN6ACkARgBmAAAlJz4BNTQnLgEnJiMiBw4BBwYVFBceARcWMzI2NxceATMyNjc+ATU0JicDFAcOAQcGIyInLgEnJjU0Nz4BNzYzMhceARcWFScjNTQmIyIGHQEjIgYVFBY7ARUUFjMyNj0BMzI2NTQmA6WQKSsfH21ISVJSSUlsHx8fH21ISVJAdzSRCBQLCxQICAgICKoWF041NDw8NDVOFxcXF041NDw8NDVOFxaHbBoTExpsEhsbEmwaExMabBIbG2aQNX5CU0hJbB8gIB9sSUhTUklIbCAfJyaSCAgICAgUCwsUCAGFOzU0TxYXFxZPNDU7PDU0ThcXFxdONDU8LmsTGhoTaxsSExpsExoaE2waExIbAAAAAgAEADcD/gNPAC8AWwAAARYGBx4BFx4BBwYmJy4BJy4BJyYGIwYnLgEnJicWNz4BNzY3Njc+ATc2JzoBFR4BJxYGBwYHDgEHBicuASMOAQcOAQcOAScmNjc+ATcuATc+ATc+ATc2FhceARcD/gZkOgcTDQYlBQUrDCM1HQseCgoaDS8tLlMiIxgyLzBYKCgjJyUlMQgHEwEBOl/VAx8VHSkqaDw9QgsYCAkiChsyJhApBQgmCA0QCjVoBQNILzF+SFiPOTRVBgGpXW4nEx0QCCEQEggDCBcOBxYBAggEBAQUDw8SBAQEFRERFholJV03OD8CJWE+Mk8bJh0eJwgIBwEFARgFDhYIBAUNESEKEB0QKmpgQ2MgIioDBSYhIGhLAAAAAAEAxQB0A0ADEwAhAAA3KgEnLgE3Ez4BNzYWFxsBPgEXHgEHAw4BBwYmLwEDDgEj8AIEAhIUA1gDEAwLGAjvmwchEBAOB7QEEQsLFQfjSAMYD3QBAx4RAdEMEgMEBwn+/gFxEA4HByEQ/lEKDQICBwj0/oMPFAAAAAEBHwCpAuEC6wAaAAABERQGIyEiJjURNDY7ATU0NjsBMhYdATMyFhUC4Q8L/nILDw8Law8LhQoPawsPAkn+egsPDwsBBwsP7goPDwpvDwsABAEfAKkC4QLrABoAHwAlACkAAAEjNTQmKwEiBh0BIyIGFREUFjMhMjY1ETQmIwUzFSM1NzUzESM1FyMRMwLHaw8LhQoPawsPDwsBjgsPDwv+i1JShVJS11JSAmNvCg8PCu4PC/75Cw8PCwGGCw+y1dUZ7v4k7u4BUwAAAAEAcgEvA2kCUQAPAAABLgEjIgYHDgEjFSE1IiYnAqckTjMxSiUubFYC90BaKAHxIz02IitJVlZEKAAAAAH+uAEvBK8CUQAiAAABIiYnLgEjIgYHDgEjIRUhMjc+ATc2Nz4BMzIWFx4BMyE1IQNmQFooJE4zMEslLmxW/kkBtzgtLEkcHRgeMBcYMx0td1sBSf63AYVEKCM9NiIrSVYNDikYGRYbJiodLVhWAAAJAS0AwQLTAvwAMwBmAJkAzQD4ASUBWAGSAcIAAAExLgEjIgYPAScuASMiBgcOARUUFh8BBw4BFRQWFx4BMzI2PwEXHgEzMjY3NjQvATc2NCcnIgYPAScuASMiBgcOARUUFh8BBw4BFRQWFx4BMzI2PwEXHgEzMjY3NjQvATc2NCcuASMDFBYXHgEzMjY/ARceATMyNjc+ATU0Ji8BNzY0Jy4BIyIGDwEnJiIHDgEVFBYfAQcOARUXMS4BIyIGDwEnJiIHDgEVFBYfAQcOARUUFhceATMyNj8BFx4BMzI2Nz4BNTQmLwE3NjQnNzEeATMyNj8BFx4BMzI2NzY0LwE3NjQnLgEjIgYPAScmIgcGFB8BBwYUFxUxHgEzMjY/ARceATMyNjc2NC8BNzY0Jy4BIzgBMSIGDwEnJiIHBhQfAQcGFBc3PgE1NCYnLgEjOAExIgYPAScuASMiBgcGFB8BBwYUFx4BMzI2PwEXHgEzMjY3NjQvAScxHgEzMjY/ARceATMyNjc+ATU0Ji8BNz4BNTQmJy4BIzgBMSIGDwEnLgEjOAExIgYHBhQfAQcGFBcXNCYnJiIPAScuASMiBgcGFB8BBwYUFx4BMzI2PwEXHgEzMjY3PgE1NCYvATc+ATUCMQIHBAQHAhcXAgcEBAYDAwMDAxYWAwMDAwIHBAQHAhcXAgcEBAYDBgYWFgYGDQQHAhcWAwcEAwcDAwICAxcXAwICAwMHAwQHAxYXAgcEBAcCBgYWFwUFAwcE9wMCAwcEAwcDFxYDBwMEBwMCAwMCFxcFBQMHAwQHAxYXBRAFAwMDAxYWAwNoAwcDBAcDFhcFEAUDAwMDFhYDAwMDAgcEBAYDFxYDBwQDBwMDAgIDFhYGBtYDBwQDBwMWFwMGBAQHAwUFFxcFBQMHBAMHAxcWBg8FBgYWFgYFAwcEAwcDFhcDBgQEBwMFBRcXBQUDBwQDBwMXFgYPBQYGFhYGURcCAwMCAwcEAwcDFxYDBwMEBwMFBRcXBQUDBwMEBwMWFwIHBAQHAgYGFugCBwQEBwIXFwIHBAQGAwMDAwMWFgMDAwMCBwQEBwIXFgMHBAMHAwUFFxcGBmgDAwUQBRcWAwcDBAcDBQUXFwUFAwcDBAcDFhcCBwQEBwIDAwMDFhcCAwJcAwMDAxYWAwMDAwIHBAQGAxcWAwcEAwcDAgMDAhcXAgMDAgYPBhYXBg8FoAMDFhYDAwMDAwYEBAcDFhcCBwQEBgMDAwMDFhYDAwMDBRAFFxYGDwYDA/5yBAYDAwMDAxYWAwMDAwIHBAQHAhcWBg8GAgMDAhcXBQUDBwMEBwMWFwIHBEUDAwMDFhYGBgIHBAQHAhcWAwcEAwcDAwMDAxYWAwMDAwMGBAQHAxYXBRAF0QIDAwIXFwIDAwIGDwYWFwYPBQMDAwMWFgYGBQ8GFhcGDwaZAwMDAxYWAwMDAwUQBRcWBg8GAgMDAhcXBQUGDwYWFwUQbhcCBwQEBwIDAwMDFhYDAwMDBQ8GFhcGDwUDAwMDFhYDAwMDBQ8GFmkDAwMDFhYDAwMDAgcEBAcCFxYDBwQDBwMDAwMDFhYDAwMDBRAFFxYGEAVFBAcCBgYWFgMDAwMFEAUXFgYPBgIDAwIXFwIDAwIDBwQDBwMXFgMGBAAAAAASAS4AxALSAvkACwAYACQAMQA9AEoAVgBkAHAAfQCJAJYAogCvALsAyADUAOEAAAEyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMFMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjBzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIzUyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMxFzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIycyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMDMhYVFAYjIiY1NDY3IgYVFBYzMjY1NCYjFzIWFRQGIyImNTQ2NyIGFRQWMzI2NTQmIxcyFhUUBiMiJjU0NjciBhUUFjMyNjU0JiMBZwoQEAoLDw8LGCEhGBchIRcBMgsPDwsKEBAKFyEhFxghIRiZCw8PCwsPDwsYISEYGCEhGAsPDwsLDw8LGCEhGBghIRiZCw8PCwoQEAoXISEXGCEhGJkLDw8LCw8PCxghIRgYISEYmQoQEAoLDw8LGCEhGBchIReZCw8PCwsPDwsYISEYGCEhGJkLDw8LChAQChchIRcYISEYAa4QCgsPDwsKEB4hFxghIRgXIR4QCgsPDwsKEB4hFxghIRgXIR4QCgsPDwsKEB4hFxghIRgXIXgPCwsPDwsLDx8hGBciIRgXIh8PCwsPDwsLDx8hGBciIhcYIXgQCgsPDwsKEB4hFxghIRgXIf4eDwsLDw8LCw8fIRgXIiIXGCEfDwsLDw8LCw8fIRgXIiIXGCEfDwsLDw8LCw8fIRgXIiIXGCEACQEvAMQC0gL5AAwAGAAkADAAPABIAFQAYABsAAABHgEHDgEnLgE3PgEXBRQGIyImNTQ2MzIWBxQGIyImNTQ2MzIWJx4BBw4BJy4BNz4BFxQGIyImNTQ2MzIWJx4BBw4BJy4BNz4BAx4BBw4BJy4BNz4BFxQGIyImNTQ2MzIWFxQGIyImNTQ2MzIWAXAXHAQEJhcYGwQEJhcBYiEYFyEhFxghmSIXFyIiFxciMBccBAQmFxccBAQm4CEYFyEhFxghyRccBAQmFxccBAQmghcbAwQmFxgbBAMn4CIXFyIiFxcimSEYFyEhFxghAcsDJxcXGwMEJhcYGwQ4FyEhFxghIRgXISEXGCEhtwQmFxccBAQmFxccPBciIhcYISG3BCYYFxsEAyYYFxv+OQQmFxccBAQmFxccPBghIRgXIiIXGCEhGBciIgAAAAMA0QE3Ay8CSQA0ADgAPAAAARUjNTQmIyIGHQEUFjMyNj0BMxUUFjsBMjY9ATMVFBYzMjY9ATQmIyIGHQEjNTQmKwEiBhUXMxUjMyM1MwGEdhINDBISDA0SdhIN3w0SURINDRESDA0SURIN3w0SPUNDoyMjAipLHA0SEg12DRISDR1MDRISDUwdDRISDXYNEhINHUwNEhINHpiYAAQAgQA0A38DTAALABgAJAAxAAAlFAYjIiY1NDYzMhYTFAYjIiY1NDYzMhYVARQGIyImNTQ2MzIWEyIGFRQWMzI2NTQmIwFWPiwsPz8sLD5TPi0sPj4sLT4BMj4tLD4+LC0+OSw+PiwsPz8snyw/PywsPz8Bjiw/PywsPz8s/vMtPj4tLD4+AdQ/LCw/PywsPwAAAAAFASQAIALfA14ADwAgADEAQgBQAAABIyImPQE0NjsBMhYdARQGAyIGHQEUFjsBMjY9ATQmKwETIyImPQE0NjsBMhYdARQGIwMiBh0BFBY7ATI2PQE0JisBJSEiJjU0NjMhMhYVFAYCX7saJycauxonJtYFBwcFuwUHBwW7u7saJycauxonJhu7BQcHBbsFBwcFuwEg/nsLEBALAYULEBACISYbuxonJxq7GyYBCAcFuwUHBwW7BQf89ycauxsmJhu7GicBCAcFuwUHBwW7BQd9DwsLDw8LCw8AAAAAAQFKAP4CtgJ2ACYAAAEWFAcOASMiJi8BBw4BIyImJyY0PwEnJjQ3NjIfATc2MhcWFA8BFwK2DAwGDwgIDwZ8fAYPCAgPBgwMfHwMDAwiDXt8DCIMDAx8fAFEDCIMBgYGBnx8BgYGBgwiDHx8DCIMDAx8fAwMDCIMfHwAAAIBPAD8AsQChAAbACgAAAEiBw4BBwYVFBceARcWMzI3PgE3NjU0Jy4BJyYDIiY1NDYzMhYVFAYjAgAoJCQ1DxAQDzUkJCgoJCQ1DxAQDzUkJCgvQkIvL0JCLwKEEA81JCQoKCQkNQ8QEA81JCQoKCQkNQ8Q/stCLy9CQi8vQgAAAQFmASYCmgJaAAwAAAEUBiMiJjU0NjMyFhUCmlpAQFpaQEBaAcBAWlpAQFpaQAAAAQCd/8QD/AMjABYAAAEUBw4BBwYjIicuAScmJwEWFx4BFxYVA/woKIpcXWk0MTFaKCgjAs4iGxslCgoBwGldXIooKAoKJRsbIQLPIikoWjExNAAABQB4ADsD7gNIAAUAGAAeACQANAAAAS4BJx4BJwcnNxQyFR4BFx4BFxYUMxQWFQ8BLwE3FwMHLwE3FwMHLgEnLgEnOAExLgEnNxcD7gEBAQEBaEw/TQEGGgYFCQUBAQK0gRkmgSfRgRkmgSbQRwMHBAMFAwcaBkg/AjoDBAICBMtNQE0BAQUZBgULBQEBAQEBtIIZJ4En/v+CGSaCJ/7/RwMGAwMFAwYbBkg/AAEBTQKpArIDoQBFAAABLgEnNCY1Iy4BLwEuAQcOAQcOAQ8BMAYHDgEXMR4BFx4BFTIWFR4BMzI2Nz4BNz4BNx4BHwEwFhceATMyNjczMDQzPgEnArIDDwYCARs1HQIGFhIOEgUBAQFtAgEGEgMBDwUBAQEBBhQQEhkHAQEBDx0PDh4OAQIBBxcSEBQGAQEGGAYC+wsPBQEBARw2HAIGEAICDwUBAQFtAgEGFxMOEgUBAQEBAQYPFQgBAgEPHQ4OHg4BAgIIFBAGAQUfFwAAAAAFAEr//QO2A4MAJwBQAHgAoACsAAABNhYfAR4BFxYGBw4BBw4BBwYmJy4BNTQ2Nz4BNy4BJy4BNTQ2Nz4BAQYmLwEuAScmNjc+ATc+ATc2FhceARUUBgcOAQceARceARUUBgcOAQcTJjY/AT4BNzIWFx4BFx4BFxYGBw4BIyImJy4BJw4BBw4BIyImJy4BARYGDwEOAQciJicuAScuAScmNjc+ATMyFhceARc+ATc+ATMyFhceAQMUBiMiJjU0NjMyFgMfCAwGbQQLAQEJBhw3HAQKBQoPBAUJEgUUKhMVJhYFEgkFBQr9yQgMBm0ECwEBCQYcNxwECgUKDwQFCRIFFCoTFSYWBRIJBQUKB4oBCwZtBQoGCAoFHTYcBQsBAw4EBQsGCRAFEysSFiYVBRAKBwoGBAoBKQELBm0FCgYICgUdNhwFCwEDDgQFCwYJEAUTKxIWJhUFEAoHCgYECjk0JSQ0NCQlNAJVAQsGbQUKBggKBR02HAULAQMOBAULBgkQBRMrEhYmFQUQCgcKBgQK/tcBCwZtBAsGBwsFHTYcBAwBAw4EBQsHCQ8FFCoSFiYWBBEKBgsFBAoBAcEIDAZtBAsBCQUcNxwECgUKDwQFCRIFEysTFScVBRIJBQUK/a8IDAZtBAsBCQUcNxwECgUKDwQFCRIFEysTFScVBRIJBQUKAR8lNDQlJDQ0AAEAPv/TA8ICngAwAAABFAcOAQcGIyInLgEnJic3PgE3PgE3PgEzMhYXHgEXHgEXHgEzMjY3PgE3HgEVFhQVA8IlJXxSUVlBTEuFLy8HGQwpCR06IxAmFRYrEhUmEhMlFxErFyZAGh01HwUqBgHArWJjYg0MERFIOTlRAhJSFDyAMBggKh0hTigoUCIcKGE3OXkwAwEFMT0lAAAAAAL/1QCgBCAC2gBVAFcAAAEiBw4BBwYxDgEHDgEjIiY1NDY3PgE3PgE3PgE3PgEzMTIWFx4BHwEeATMyNjc+ATc+ATc+ATMyFhUUBgcOAQcOAQcOAQcOASMiJicuAScwJy4BJyYjJTEBVwwSEiEMCwgRCRpXRxslJRkIIyAIEAgVLhsLPzQ4RQsVJBINEEUPDhsdCBAIFS4bC0AzGyUiGgEPCRcoFQgQChtYRjdHCxYnEgwMIxITDQKNAlccHEQdHBElEDiEJRsaJAIFLkAQIxEvXCcOQ1EUIEkjGiOKODkQIxEvXCcOQyUbGiUBAgwOH1MqESUQOIROEiJPJh4eSB4eBQAABP/VAKQEIALeABEALQBPAGsAADciJjU0Njc+ATc+ARceAQcOASEiJicuAScmNjc2FhceATMyNjc+ARceAQcOASMBIiYnLgE3PgE3PgEzMhYXHgEXFgYHBiYnLgEjIgYHDgEjJSImJy4BNz4BNz4BMzIWFRQGBw4BBw4BBw4BIxUbJSUZAx0YDDMWGA4MHE0CSzdHCwkUCQ0RGBgyCwgmEBAZHQsyGBgSDBtYRv4+Bw8GGBELEB0PK0YNOEUNChEKDBAYGDIMCCATEyUPCx8RApkIDwcYDg0JFAkrRg0bJSIaAQ8JCA8JCCAQpCUbGiUBAh8uGA8NDTIXOFtPEQ8iFBgyCw0RGBFNNzgYEQsLMhg3gQElAwMLMhggMxQ8FVEUDiAUGDILDREYEE5UGxASJAQEDTMYEx4PPRQlGxolAQILDwsYEBASAAr/0QCiBCQC5ABdAHAAhACYAKwAvwDSAOcA+gFYAAA3IiYnIiYnLgEnLgEnLgEnLgEnLgEnNCY1NDY3NDY3PgE3PgE3PgE3PgE3PgE3NjIXMhYXHgEXHgEXHgEXHgEXHgEXHAEVHAEHFAYHDgEHDgEHDgEHDgEHDgEHNCIjJTQ2MzEyFhUxFAYjMTgBOQEuASUuATcxPgEXMR4BBzEOASMxIiYnIS4BNzE+ARcxHgEHMQ4BIzEiJiclJjY3MTYWFzEWBgcxDgEjMQYmJyUuATcxPgEXMR4BBzEOASMxIiYlLgE3MT4BFzEeAQcxDgEjMSImJTEmNjcxNhYXMRYGBzEOASMxIiYnJzQ2MzEyFhUxFAYjMTgBOQEuAQUqASciJicuAScuAScuAScuAScuASc0JjU8ATc0Njc+ATc+ATc+ATc+ATc+ATc2MhcyFhceARceARceARceARceARcUFhUcAQcUBgcOAQcOAQcOAQcOAQcOAQcGIiMVAwYDBAYDAwYCAwQEAQYBAgMCAQECAgEBAwECAwIBBAMCBgMDBQMDBgQGDQYDBwMDBgIDBAECBQIBAwICAQECAgICAwECBAMCBQQDBAMEBgMFBAJHJRsbJSUbGib+FxgQDAwyGBgQDAggEggNBwKEGBANCzIYGBENCCASBg4I/vQMDxgYMwsLDxgGDwcRIAj+1xgQDAwyGBgQDQggEQcNAn8YEQ0LMhgYEQ0IIBIGDf5JDA8YGDIMCw8YBg8HESAIgCQcGyUlGxwkAsYDBwMDBgQDBgEDBQMCBQECAwIBAgECAgMBAgMCAQQDAgYDAwQDBAYDBwwHAwYEAwYBAwUDAgUBAgMCAQIBAgIDAQIDAgEEAwIGAwMEAwQGAwMHA6QBAQMCAQMCAgMEAQYDAwUDAwcDAwYEAwYDBAYDAwYCAwQDAgUCAgMBAgECAQEDAgEDAggFAgIFBAMEAwMHAwMFAwMGBAMGAwQFAgMEBAEGAQIDAgEBAgI+GyUlGxslAiVoCzIYGBENCzIYEBIDAwsyGBgRDQsyGBASAwMeGDILCw4YGDMLAwMCEhKNCzIYGBENCzMYEBIEAw0wGBgRDQszGBASBB4YMwsLDxgYMgsDBBIQpRknJRsbJQElJAIDAQIDAgEEAwIGAwMEBAMGAwQGAwMHAwMHAwMGAQQEAwIFAgEDAgIBAQICAgICAwECBAMCBQQDBAMDBwMDBwMDBgQDBgMEBgEDBQMBBgECAwIBAQICAAABASYA9wLcAo8AAgAAARMlASZ0AUICj/5ooAAACAEJANUC+gKmABcAKQA7AFMAZQB9AI8AoQAAASImLwEmNjc2Mh8BHgEHDgEHDgEHBiIjEyImLwEmNjc2Fh8BFgYHDgEjJyImLwEmNjc2Fh8BFgYHDgEjFyImJy4BLwEmNjc2Fhc2FhcWBg8BDgEjNyImJyY2PwE2FhcWBg8BDgEjNyImJyY0NyY0Nz4BHwEeARUUBg8BDgEjJyImLwEuATc+AR8BHgEHDgEjJyImLwEuATc+AR8BHgEHDgEjAS8LEQIIBAYICBMJHAsIBgMKBgMKBgQFAk0LEgERAwsNDRcFEQMMDQQFAScLEQIRAwwNDRYFEQQMDQUEAkUEBgMHCQEJAwwNCxUGCxUGBwkNGwcHA3sJDwMHCQ1ICxkHBggNSQMHBakKDwMDAwMDBxkLHAgJCQgcAwcFUwUHA0ALCAYGGQxACwgHBA8IlgQHBEALCAcGGQtACwgGAw8KAk0MCx4KEgYHBQ8GGQsHBwEFCAIC/vMMCzoNFwUDDA05DRcFAQGGDQs5DRcFAwwMOg0XBAIB8QEBBAoIHgwXBQMJCwMJCwsZBw8BAT4JCAsaBiQHCQ0LGQYlAQFTCQgIEAYHEQYLCAYPBQ8ICQ8DDwQBTQMBJQYZCwwIByQGGgsICVYCAiQGGgsLCAYlBhkLCgcAAA0BCQDVAvoCqQARACMANQBHAFwAbQB+AI8ApQC2AMcA2ADpAAABIiYnJjY3PgEXHgEHDgEHKgETIiYnNSY2NzYWFxUWBgcGIiMnIiYnNSY2NzYWFxUWBgciBiMnIiYnNSY2NzYWFxUWBgcOASMTIiYnLgEnJjY3NhYXHgEXFgYHDgE3IiYnJjY3MzYWFxYGByIGIzciJicmNjczNhYXFgYHIgYjNyImJyY2NzM2FhcWBgcGIiM3IiYnJjQ3MDQxPgEXHgEVFAYHDgEjJyImJyMuATc+ARceAQcOASMnIiYnIy4BNz4BFx4BBw4BIyciJicjLgE3PgEXHgEHDgEjJyImJyMuATc+ARceAQcOASMBJgkRAwQGCAgTCQwIBwMMCAMCVgsRAgMMDA0XBQMMDAUFAR4LEQIDDAwNFwUDDAwEBQIeCxECAwwNDBcFAwsNAwUDWAQGAwcJAQMLDQoQBgIDAQcJDAQITgoPBQcIDAILGQYHCQ0BCANRCg8FBwgMAgsZBgcJDAQGA08KDwUHCAwCCxkGBwkNAQcEUQoPBQMDBhkMCAkJCAQGA1gDCAQCCwgGBxkLCwgGAw8IVwMJAwILCAYGGQwLCAcDDghYAwgEAgsIBgcZCwsIBgMPCFcDCQMCCwgGBhkMCwgHAw4IAmsMCwoSBgcCBAcZDQcJAf7PDAsCDRcFAwwNAg0WBQJkDAsCDRcFAwwMAg0XBQJmDQsCDRcEBAwNAg0XBQEB/tEBAQQJBwwZAwMFBgIFAgsZBwEBJwkICxkGBwkMDBkGAigJCAwZBgYIDQsZBwIpCQgLGQcGCQwMGQYCJgkIBw8IAgsIBgUPCgkPBAEDMQMCBhkLCwgGBhoNBgkxAwIGGQsLCAYGGg0GCTQCAgYZCwwIBwYaDQgGMQICBhkMCwgHBhoMBwgAAgEJANUC/AKpABgAHAAAJSImJy4BJwMmNjc2MhcFHgEVFAYHBQ4BIwMTNyUBmgQGAwcJAXMEBggIEwkBtAgJCQj+vgUHA0BT6v7D1QEBBAoIAZcKEgYHBPoFDwgIEASgAQEBdP7Zc7QAAAAAAQCQABADbQN0ADUAAAEVFAYjIiY9ATQmKwEDFBY7ATIWFRQGIyEiJjU0NjsBMjY1EyMiBh0BFAYjIiY9ATQ2MyEyFgNtGRESGBoSxAIZEj4RGRkR/tsSGBgSPBIZAsQSGRkREhkZEgKIERkDSqwRGRkRVhIa/XASGRkREhkZEhEZGRICkBoSVhIYGRGsERkYAAAAAAEABAAVA+8BlQBRAAAlBw4BBzAiFSoBMTAiMTAiMSImJzgBMS4BPQEhIgYHDgEPAQYmPQE0NjMhNTQ2NzQ2NTA2MTA2NTAyMToBMzAyMTAyMTAWMTAyFR4BHwEWFA8BA+SRAwYEAgEBAgIDBQMDA/2NBQoFESsVMw0RakwCcQICAgICAgIBAgICBAICBQKgCAgLs5EDBgICAwIDDAhkAgIDFRUzDQYQJktqYggLAwEBAgIBAQICAgMDoAgZCA0AAAEAC//NA/cDugBuAAAlBw4BJyY2Nz4BNw4BBwYmLwEXBw4BBwYmLwEPAQYmJy4BPwEHKgEvATc+AT8BJy4BNz4BNzMXJy4BNz4BNw4BBw4BJy4BNz4BNz4BNz4BNz4BNz4BFzY3PgE3NjsBNhYHFRQHDgEHBgcWBgcOAQcCRV8RIQwNEhwdGwUUKRURKA0cBAEEDAUKEwQJVgMQFQIGAgM7jgUQBwgCAQ4EejoPCgQEFAQFhSENCAYJFAoWRy0qJwwHAQMDCgUIGg0JEAMIGQxFbBlSXVyqRUUkAhQgAQYGQEREfQYKLggcCyVKCxANDCcqK0QXCRIIBwkNG5oEDAsBAwwORUYCDwkCBRAJaDQHBwwJCwJDGwUSCgsFARsiDSgSFy4WBBsfHBEMBg8HCBEICyEPDBQFCxwIMAcFe0RDQAYHASAUAiVHRq1dXlMbaUIMGQgAAAAAAQAO/8QD9wO8AGwAABMeARceARc2Nz4BNzY3NhceARcWFxYXHgEXFhcWFxYGBwYHDgEHBgcOAQcGJyYnLgEnJicuAScmNjc2FhceARceARceATM+ATc+ATU0JicuASciBgceARceAQcOASMqASMiBicmNjU8ATU0NjMzFiQPEh4PISIiTCsqMzIuLVEjJB8dGhstEhILDQQFBwsKEyJnRiEnKFkxMTRIPz9lJSUUAgQCAiYdHS8EBAUCDjIiKnpVUnorLTs9Kyt6UEplMBEaEwkxAwI5FRwuHC+FDwgCAhMDvAEoDxIgDRkWFR8KCQEBCAccFBQXFxwcQCUkKCowMF8tLSdJbikUDxARAQEKDx8fXTs8RgcZDRMgBAQODgoTBTJQHyg6AT8sLX5OT38rLD8BKiEUGxIJKBQTAwMeDzMVMlE1Fj4AAAkAAAFWBAACKgAYADEAowDGAUUBWgHCAfcCLAAAAS4BIyIGBw4BFRQWFx4BMzI2Nz4BNTQmJwcyFhceARUUBgcOASMiJicuATU0Njc+ATMlIgYHFS4BJyM0IiMqASMqASsBKgEjIgYrASoBIyIGIw4BBzEOAQ8BMAYHDgEHFAYxBw4BFRwBFRwBFxUwFh0BHgEXHgEfATAUMTMeARcyFhceATsBOgExMjYxMDIxMzAyMT4BNx0BHgEXMz4BPQE0JiMHFAYHDgEjIiYnMCI5AS4BJy4BJzQmNTQ2Nz4BMzIWFx4BFTc8ATUuAScuAScuAScjMCYjKgEjKgEjKgEjIgYHDgEHDgEHIgYHDgEVFBYXHgEXHgEXHgEXHgEXHgEXMhYzOgEzFjI7AToBOwE6ATMwMjE3PgE3PgE3PgE3NTY0NTQmIyIGBw4BBw4BIyImJy4BJzUuAScuATU7AT4BNzE8ATEnPgE3NT4BNz4BMzIWFx4BFx4BFSMlFRQGIyImJzU0JicuAScwIiMiBgcOAR0CMRUUBiMiJj0CMDQxLgExMCYnLgEjIgYHDgEdAQ4BIyImPQE0NjMyFhc2Mjc+ATMyFhceARcyFjMwNjE+ATc+ATM6ATMeARcUFhceARUHFAYrASImNTQ2OwEyNjU0JisBMCIxIiY1NDY7ATIWFRQGKwEiBhUUFjMxMDIxMzIWFx4BFSEUBisBIiY1NDY7ATI2NTQmKwEqATEiJjU0NjsBMhYVFAYrASIGFRQWOwE4ATsBMhYXHgEVA1wMHBERHQwLDAwLDB0RER0LDAwMDDkKEwcICAgHCBIMCxIHCAcIBwgSC/1vBQgBCRUMAQIBAQEBAgMCAQEBAQECAQEBAQEBAgEJEQgBAQEBAQEBAgIBAQYHAQEDCggDBwMDAQEDAQECAQcQCAEBAgEBAQIBDBUJAQcEBAUHCAYPBwgHEgsFCQQBBQkDBgYCAQcICBIKCxEICAfSAQYFAgYDCRULAgIBAQMBAQEBAgQCCxMJAQMBAgMBAQEBDAwDAwMJBgEDAgIFAgIDAgUJBQECAQECAQECAQEBAQEBAQIBAgEPGQoCBAIBAQEBCAYEBgICAwIIEgsLEggBAgIBAgEBA3cBBAYBgwEEAgIDAggSCgsSCAMGAgEBZAHtCQYFCAEEBAUJBQEBBgoEBQQIBgYIAQMEAQUKBgYKBAUEAQgFBggIBgQHAgEBAQYOBwsTCAEBAQEBAQIBAgEHEwsBAwEJEQcCAQgJ3hsUOQYICAY4CQwMCRkCFBwcFDgGCAgGOAkLCwkBGgUKBQ0PAh8cEzoFCAgFOQgMDAgZAQEUHR0UOAYICAY4CQwMCAEBGgUKBA0QAeIMDAwMDB0RER0MDAwMDAwdEREdDAQICAgTCwwTBwgICAcIEwsMEwgICEwHBTcICQEBAQEDCQcBAQEBAQEBAwIBAQEKFw0BAgECBAEEAgECChMIAwUDAQEBAQEBAQMDAQEKBwYBBAcBAQgFtwYIggsTCAgHAQICBgQFDQcDBgQLEwgICAgICBMLAwIDAgkQCAQIAwkMAgEGBgECAQEDAQIBDB0RCA8HCA0HAQMBAgQBAQIBAgMBAQEBAQwKAwUCAQIBAQEDAQYIAwMCBAIICAgHAgMBAQEDAgMHBAEHBQEBCwQIAwECBAIICAgIBAgFAQQCC1wFCQcGXQYLBQQEAQUEBQoGAQFbBQkIBQFcAQQKBQIEBQUEBQsGXQYHCQWJBQkFBAEBAwQHBwECAQICAQIBBwcBBwYBAgEIFQw7FBwIBgYIDAgJCx0TFB0IBgYIDAkIDAICBhgOFBwIBgYIDAgJCx0TFB0JBQYIDAgJDAICBhgOAAIARwAPA7kDcQAwAE8AAAEuASMiBg8BETQmIyIGFREnJiIHBhQfAR4BMx4BFzgBMRYyNzgBMT4BNzI2PwE2NCcTISImPQE0NjMyFh0BFBYzITI2PQE0NjMyFh0BFAYjAvoHEQkKEQeHHBQUHIcOJw4ODtgBAgECAwILGAsCAwIBAgHYDg4l/cJAWhwTFBwjGAI+GCMcFBMcWkACCQcHBweIAcAUHBwU/kGHDg4OJw7ZAQICAgEFBQECAgIB2Q4nDv4GW0DUFBwcFNQZIyMZ1BQcHBTUQFsAAAMAFABtA+wDEgAZADMARQAAJSImLwEuATU0Nj8BNhYXFgYPARceAQcOASMhIiYnJjY/AScuATc+AR8BHgEVFAYPAQ4BIwUiJiMuATcTPgEXHgEHAw4BIwEWBw8G1wcICAfXDiMLDAMNsrINAwwGEQkB1AkRBgwDDbKyDQMMCyMO1wcICAfXBg8H/scDBgMREQSfBR4RERIFngQXDt4FBbgGEQkKEQa3DAMNDiMLmJcMIw0IBwcIDSMMl5cMIw0OAgu4BhEJChEGtwUFcQEFHxECUBESBAUfEf2wDxEAAAAAAwBGAA4DuwNyADAAOgBZAAABDgEjIiYvAREUBiMiJjURBwYiJyY0PwE+ATc+ATc4ATE2Mhc4ATEeARceAR8BFhQHAzIWFyYiBz4BMwEhIiY9ATQ2MzIWHQEUFjMhMjY9ATQ2MzIWHQEOASMC+wcSCQkRB4gcFBQchw4oDg4O2QECAQIDAgsZCgIDAgECAdkODvsGDAULGQoFDAYBH/3CQFscFBMcIxkCPxgjHBQUHAFbQAJIBwcHB4f+PxMcHBMBwYcODg4nDtkBAgEBAgEGBgECAQECAdkOJw4BKgMDBgYDA/ycW0DVExwcE9UZIyMZ1RMcHBPVQFsAAAAABgAIAEgD+AM3AAwAMQBAAE8AfgCLAAAlDgEjMjY3NDAxDgEHASM1NCYnLgEjIgYHLgEjIgYHDgEdASMiBhURFBYzITI2NRE0JiU+ATMyFhcRLgEjIgYHEQU+ATMyFhcRLgEjIgYHEQEhETMRFBYXHgEzMjY3PgEzMhYXHgEXHgEzMjY3PgE3PgEzMhYXFjY3PgE1ETMRJTAiIyImJx4BFx4BFwIMAwYDBgsFAgYCAcFGDAoqYjQwWicnWjA0YioKDEYSGRkSA5oSGRn+RiBHJSdIICFIJiVGIf6bIEgnJ0ggIUgmJkghAvH8nioIBwUKBQQGBCNULipPIgIGAgMGAwMGAwIGAiJPKi5UIwkRCAcIKv5PAQEFCwQCBgIDBgO0AQIDAwEBAgECFCwLEgQREQ4ODg4REQQSCywaEv3YEhoaEgIoEhoUCgoLCv4rCQkICQHVAQoLCwr+KwkJCQkB1f21AfH+VAkQBQMDAgEODw0MAQIBAQICAQECAQwNDw4EAgUFEAkBrP4PIQQDAQIBAQEBAAAEABEADwPvA3EAJAApAC4ASQAAASM1NCYjISIGHQEjIgYVERQWOwEVFBYzITI2PQEzMjY1ETQmIyUhFSE1ASE1IRU3FAYrATU0JiMhIgYdASMiJjURNDYzITIWFREDgmsgFv4/Fx9sLUBALXIeFQHGFR5mLUBALf21AZL+bgGZ/m0BktMTDWUfFf46FR5yDRMTDQMEDRMCfb4XHx8XvUAt/tMtQDUVHh4VNUAtASwuP6enp/04g4OIDRM1FR8fFTUTDQEsDhISDv7UAAAIAEj/8wPCA40AAQAEABUAJgAvADgAQQBKAAABMSUxFQcnJiIHAQYUHwEWMjcBNjQnDwEGIi8BJjQ/ATYyHwEWFAc3FRcnNwcnFwcTFRcnNwcnFwclFTcvAQ8BHwE3MzcHJxcHNxcCHQFCJRkOKQ/9bQ4OGQ8pDgKTDg4PngQKBCYEBJ0ECwQmBAQpMhoaMjIaG2FALQ4wQC0N/tIuLhANLS4QeAEySTcRM0k3ApieAWkZDg79bQ4qDhkODgKTDykOLp4EBCYECwOeBAQmBAsDfQEaMjIaGzMy/u8BDS9ALA0vQMgBEA0tLhANLdo3ETJIOBEyAAAAAAEA4P/VAxoDqwAfAAABByIGFxMWBg8BBiYnAy4BDwEGJjUDNDY3NhYXARYGBwMT5gUDAbYDBghTCA8DtQIHAqIJDA0EBQMHBwIgCAQLAbcTBwP+fQgOAykDBQcBggMCA6IIBg0C0QYHAgEBBf4nCAwCAAAABAAzAKYDwgLGABsANABTAHUAAAEiJicuATc+ATc+ATc+ARceAQcOAQcOAQcOASMDIiYnJjY3NhYXHgEXPgE3PgEXHgEHDgEjAyImJy4BJw4BBw4BJy4BNz4BMzoBMx4BFxYGBw4BIwEiJicmNjc+ATc+ATc+ATc+ARceAQcOAQcUBhUOAQcOASMDYgULBRUPCAsRBgUGAgooFBUPCAEGBAYSCggbELc6Th0LDhMTKgsdIwUDDQkNLBIRBg8bNBvrDhgHFhwFAxQQCywREwkNE0ArAQQBMkUWCwsTBw8G/p4LGAgOBRIDDQsCAQIBCAQIKRUVEAkFBwMCDBsTCBIIAbcDAggpFRgrEAwNBRUPCAooFAQOCBAsGRAT/u9bNBQqCwsNEzUhAgILDREGDw0sESAjAVoNDSYaAgITGBMJDQssEh4/A0wmEyoLBQT+xgoKESsOAxUZBAMCBRAHFBEKCCkVDRAFAgEEGC8OBQYAAAABAFoAqwOvAsQAQAAAAQ4BBw4BBw4BIyoBIyYnLgEnJicuAQcOAQcOAQcOAQcuASc+ATc2Nz4BNzYzMTIXHgEXFhceATMyNjc+ATceARcDrw0VDRMnFQtEPAEGASUcHC8WFRgQPCMjMxAUJxQFEw0QFgYMGA0XFhYxHR0lKB4fMhYXGBA7ISA5EBs0IBAbBgIRGjgdKVMgEUoCFBRDLCwyI5QCAYsgKlIgCBYNHUMlGDMbMy0tQhMTFBVFLi40IZCQIT1tIx1AJQAAAAAFAE8ADwOxA3MAVABeAGgAcgB8AAABBwYiJzgBIy4BPQEjFTMyFg8BBiIvASY2OwE1IxUUBi8CJjQ/AzYWHQEzNSMiJic4ATEmND8BNjIfARYUBzgBMQ4BKwEVMzU0Njc2Mh8BFhQHJTEHIiYnHgE7ATcOASsBNTM+ATcTLgE9ATMVHgEXNQ4BHQEjNTQ2NwOxxAIFAgIDBbokCwwEUQQOA1EDCwsktQsGjTULCzMEiwYLtSYGDAECAlMFDgVTAQECCwYnugMDAgYDxAsL/iklCAkCAgsGJYICCQglJwQKA4YFBgMBBAMDAwIDBQGzUwICAgsGJ7gLBsILC8IGC7glCwsDPBcFDQQVAjoDCwslugQEAgUCxAsLxAMEAgMFuicGCgMBAVMFDgXpAgUFAwUGBQYDAQQD/r4CCQgkJgUJA7wDCgYnJAgMAgAAAAEAbwAvA7MDbwAuAAABBwYmPQEjERQGIyImNREhIiY1NDYzITUjIiY/ATYyHwEWBisBFTM1NDYfARYGBwOxxAgJuhYODxX+uQ4WFg4BRycLCwNTBQ4FUwMLCye6CwbECgELAbNTAwsLJ/65DhYWDgFHFQ8OFrgKB8QLC8QHCrgnCwsDUwQNBQADAGP/wAOeA8ABJgHcAgsAAAEiBiMOAQcOAQcwBjEiBiM4ATEOATEGIgcwBjEOAQcOAQcwIjEOAQcOASciJicuAScuAScuAScuAScuAScuAScuASceARcuAQc2MhcmBgcwIjEiBiMGIgc4ASMOASMOAQcOAQc+ATcOAQcyNjEOAQcOAQc4ATEOASMUMCM4ARUjMAYHMAYxDgEjBjAHIgYjDgEHMCIxBjAHOAExDgEHKgEjMSIwIy4BJx4BFy4BJyIwMTQiMSImNS4BJyYnLgEnJjc+ATceARcxFhceARcWFx4BFxU+ATM+ATc+ATcwNjMuAScmJy4BJyYnNjc+ATc2MTAXHgEXFhcOAQcOAQcOAQcyFhUeARceATMwMjM6ATcxPgE3Njc+ATc2NzA2Nx4BFxYVDgEHBgcHMAYjMAYxDgEjOAEjDgEHDgEHDgEPAQ4BBwYiFSIwMQ4BBzAiMQ4BMQ4BBzgBMQ4BByIUIyIGByIGIzAGMTAiMQ4BIzAiMRQiMTAiIw4BJy4BJzAmIzgBMSImMSI0IyImJzgBIy4BJzUuAScuAScuAScuAScuAScuAScuASMOAQcwBjEOAQcOAQcOAQcOAQcOAQcOAQc+ATcOASMyNjcOASMGJicWFx4BFxYXNjc+ATc2Nw4BBwUOASsBIiYnLgEnMjY3PgE/AT4BNz4BMzEeARceATMyNjcyFhceARceARcyFjMHA4ADBgMIEAcEBwQBAQIBAQIBAQEBFCERCBAJAQECAQoXDQoRCAQHBAULBQEBAQECAQQHBAYLBQsWDQIDAhAkEwQIBQcPBwEBAwIBAwEBAQQCBw4GChAIAQIBAwYDAQIJEgoECAUBAQEBAQIBAQEBAQEBAQEBAQEBAQEBCRIKAQEBAQEFCwUCBQMJEAcBAQEBCA4GEAwLDwICBA4cDgEBAQsMDBoNDg4LGA8BAQEDCAMGDgcBAQwWCBANDhkKCwpENzdMFBUVFE43N0UYMBoQJxkBAwIBAQcPCAQJBAEBAQIBHCoPDw4OGQsMCgECDRoOAwEHBwYJGAEBAQIEAgEDBgMEBwMCAwIBEiQUAQEBAQEBAQECAgQCAgIBAQEBAQEBAQECAQECAQEBAQELGA0KEgkBAQEBAQEBAQEBDxoNBgsFAwUDAQMCAQIBBAkFBAoFBw8ICRAHAQQHAwUIBAcPBwsZDQYNBwIEAgIEAgwZDAkTCggPCAsXCyszNFwiIwkLLCxxOzomAgMC/v4XMhoBGzMaDBgLAQEBBg4HBAIEAQEBAQoUCg0hFA0YDQEBAQkRCQIGAwEBAQEB0AEBBAMBBAIBAgEBAQEBDSIQCBAHAQIBCAsBCAQDBQMFCgUBAQEBAgEECAQGCwUKEgcBAgEKCwEBAQEBAQEBAQEBAwcEBg8HAQIBAwYCAggSCQQIBAECAQECAQEBAQEBAgEBAQEBBggBAQICAQEBAgkGAQEBBg0HLTMzckA/RgEBAgMFAygoJ00mJiUaOh0BAQEEBwMGDQYCGjIWJicnTSUlIg0TFCYODg4OJhQUDFeTQilUJwIFAwEBBgoEAgIBLVolJicnTicmJQYFAgEBNTIxXCoqJkEBAQEDAwQDAwYEAQQBARIlDwEBAQEBAQECAgEBAQEBAQEBAQEBAQQEAgEGBAEBAQEBCRYMAQUMBQMGAgIDAQECAQUIAwQHAwQDAQYEAQIGAgQJBAcOBwwXCgQJAwECAQECAQYGAwQDBAIEBFk+Pk4UEwQFGhltV1d/AQEBjBUVFxcMGw8BAQYNBwUCAwIBAQ8XCQ0WCgkBAQgNBQIDAgEBAAAAAgAT/9MD7QOtAC0AWwAAATU0Njc2Fh8BHgEVFgYPAQ4BJy4BNzUhFRQGBwYmLwEuATc0Nj8BPgEXHgEHFTcjIiYnJjY/AT4BMzYWHwEeAQcOAScjETMyFhcWBg8BDgEnIiYvAS4BNz4BFzMDHAYFBg4JnwUFAQUGnQkNBwUGAf3EBQUGDwieBgYBBQaeCQ4GBQYB32sLDwICBQmfBQ4IBw4GnQkGAwMNDGtrCw4DAgYIngYNBwgOBp4JBQICDgxrAf5rCw8CAgUJnwUOCAcOBp0JBgMDDQxrawsOAwIGCJ4GDQcIDgaeCQUCAg4Ma94GBQYOCZ8FBQEFBp0JDQcFBgH9xAUFBg8IngYGAQUGngkOBgUGAQAAAAEAEwD7A+0ChQAtAAABNTQ2NzYWHwEeARUWBg8BDgEnLgE3NSEVFAYHBiYvAS4BNzQ2PwE+ARceAQcVAxwGBQYOCZ8FBQEFBp0JDQcFBgH9xAUFBg8IngYGAQUGngkOBgUGAQH+awsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGsAAAABATv/0wLFA60ALQAAJTMyFhcWBg8BDgEjBiYvAS4BNz4BFzMRIyImJyY2PwE+ARcyFh8BHgEHDgEnIwI+awsPAgIFCZ8FDggHDgadCQYDAw0Ma2sLDgMCBgieBg0HCA4GngkFAgIODGukBgUGDgmfBQUBBQadCQ0HBQYBAjwFBQYPCJ4GBgEFBp4JDgYFBgEAAAAAAQAVAQQD6wJ6AB4AAAEhNTQmJyYGDwEOARUUFh8BHgE3PgE9ASEyNj0BNCYD3Pz+BgUFDQiVBQYGBZUIDQUFBgMCBgkJAfxkCw0CAQYIlgMMCAgLB5UIBgECDgpmCQZWBgsAAAEAFQEGA+sCfgAfAAATFRQWMyEVFBYXFjY/AT4BNTQmLwEuAQcOAR0BIQ4BFRUHCAMCBgUFDQiVBQYGBZUIDQUFBvz+BgkB61YEC2YLDQIBBgiWBA0ICA0FlQgGAQMNCmQFDAQAAAAAAgAPAMsD7wK3AD4ARAAAATgBMQ4BIyEVFAYHBiYvAS4BNTQ2PwE+ARceAR0BIToBMzEyNjc4ATE+ATU8ATU0Jic0NjsBMhYVHAEVFgYHJw4BIzI2A2YULxj9rAMFBQwHgAQEBASABwwFBQMCVAEBAggNByk5AQEGBE0FCAJMPzsHDwYIDQFNCAlaCQsDAgQIgAUKBwYMA4AGBgECDApXAgIKRy0DJxgVKQ0ECAYGGm0GR3EZUwICAgAAAAABAGv/0QOVA68AHwAABREjIiYnJjY3AT4BFzIWFwEeAQcOASsBERQGKwEiJjUBb8sYHQQFDREBRQsaEBEbCwFHEQ0FBB0YzREN5A0REQIRDAsNHhEBRwsMAgoL/rkRHg0LDP3vDRERDQAAAAAJAAD/wAQAA8AAAwAHAAsADwATABcAGwAfACMAADchESERIREhESERIQEhESEVIREhFSERIQEhESEVIREhESERIQABAP8AAQD/AAEA/wABgAEA/wABAP8AAQD/AAGAAQD/AAEA/wABAP8AwP8AAoD/AAKA/wABAP8AgP8AgP8AAoD/AID/AAQA/wAAAAUAJv/AA9oDwAAIAAwAFgAZACEAAAE1IQERMxUhESUVIzcDIxE3NSEVIwERExUjASERMzUhESMC9/42/vnjAtH9O2hoDJLvAUOY/vjuaAH6/c7yAUICAwS8/vP9ybwDRDFoaP2YAa8C8W3+9f7WAa1p/gABr/P9XgAAAAADAA0AAAPzA2IACwAbACwAACUBJiIHAQYWMyEWNiUjIiY9ATQ2OwEyFh0BFAYnIyImPQE0NjsBMhYdARQGIwPz/joTNRL+OhMbJQOPJBn+J1oICQsGWggJCQhaCAkLBloICQkITQMVICD86yAtAi9PCgdVCAkKB1UHCsYLBv4ICQsG/AgLAAAAAQER/8AC7wPAABQAAAUjESM1MzU0NjsBFSMiBh0BMwcjEwJRwICAUYCNWjETnhONAkACALFpa3uxJSFYsf4AAAgACQBGA/cDOgAQACEAMgBDAFMAYwB0AIQAABMRFBYzITI2NRE0JiMhIgYVEyMiJj0BNDY7ATIWHQEOASM1IyImPQE0NjsBMhYdAQ4BIzUjIiY9ATQ2OwEyFh0BDgEjASEiJjURNDYzITIWFREUBjMjIiY9ATQ2OwEyFh0BFgYnIyImPQE0NjsBMhYdARYGIzUjIiY9ATQ2OwEyFh0BFgYJCwgDyAgLCwj8OAgLqFUICwsIVwgLAQwIVQgLCwhXCAsBDAhVCAsLCFcICwEMCAI4/i4ICwsIAdIICwuzVwgLCwhXCAsCDQhXCAsLCFcICwINCFcICwsIVwgLAg0DJv00CAwMCALMCAwMCP1eCwhYCAsLCFgGDfwLCFgICwsIVggN/gsIWAgLCwhYCAv+BgsIAk8IDAwI/bEGDQsIWAgLCwhYBg38CwhYCAsLCFYIDf4LCFgICwsIWAgLAAIACgAaA/cDYgAcAEUAAAEhBgcOAQcGBw4BBwYmIyE2Nz4BNzY3PgE3NhYzJSEiJgcOAQcOAQcmNSY0NTY1NDY3NhY7ATIWHwEWNjMyNhceARcWBhcBLwLIDxAQIBEREQYMEhI5Gf03Dg8PHw8PDwgNGhQ2GgJA/fosZCRBLBUJFQgCAQEQKStsNmYvSQ8LEGw3HVYaCxYDCQwFAdcvLy9fMC8wFSEIBwMrLi9fMC8tGCwEBwVWBQkQcEAgPh49QECEQkJBMDoFBQUEIDMoAQYKBRUIG1kdAAH//gAiBAADXgAgAAABEQ4BByEuASc2NTY0NTQ1PgE3Mx4BFxYzOgE3MjMeARcEAAUmIvyYICcGAQEFJiLoVD5OMjM0aDU0NCIlBgKL/eYiJgcHJiJUVFOoU1RUIiYHBXILAwEFKSEAAwAJABMD9QNrABAAIQAyAAATITIWHQEUBiMhIiY9ATQ2MxEhMhYdARQGIyEiJj0BNDYzESEyFh0BFAYjISImPQE0NjMtA6QOFhYO/FwPFRUPA6QOFhYO/FwPFRUPA6QOFhYO/FwPFRUPA2sWD0oPFhYPShAV/p4WD0oPFhYPShAV/p0VD0sOFhYOSxAUAAAABQAGAB4D/ANmACgAOQBKAFYAYgAAJTQmJzAnLgEnJicuASMhIgYHBgcOAQcGBwYWFxUUFjMhMjY3PgE1PgEBPgEzITIWFxMhNjc+ATc2NwEUBiMhIiY9ATQ2MyEyFh0BJxQGIyImNTQ2MzIWFxQGIyImNTQ2MzIWA/wBBBQUMxcXBQw0J/3tGjMIBBcWNBYVBAMCATcjAzUYIQwOEgEB/OgFEgUB+gQWA2n8/gQPDyMPDwMCwg4L/OgLDg4LAxgLDvMeFRUeHhUVHqceFhUeHhUWHpVKggpBQZ9GRgwYKiQZC0REnkNECAp/MzMaQhQKDiUPAQ0Cbg4HBw7+ygsvLmkuLQr9jAkODgnNCg4OCs1pFR4eFRUeHhUVHh4VFR4eAAAAAAIAM//RA7EDsQAYADEAABMmNDcBNiYvASYGBwEGFBcBHgE/AT4BJwEhJjQ3ATYmLwEmBgcBBhQXAR4BPwE+AScB1wQEAVIMAg8kDiUN/nMNDQGNDSUOJA8CDP6uAYkFBQFRDQMOJA8lDP51DQ0BiwwlDyQOAw3+rwG1BQ4FAYQOJQ0gDQMO/jUOKA7+Nw4DDSANJQ4BhAUOBQGEDiUNIA0DDv41DigO/jcOAw0gDSUOAYQAAAIADwA1A/EDSwBeAKAAABMiJicuATU0Njc+ATEwNz4BNzY/Az4BNz4BMzYWFzAXHgEXFhcwFjM2Jjc0Njc2FjMyNhcWBhUUBhceARceARceARUUBgcOAQcqAScuASMmJy4BJyYjIgcOAQcGJwEmNj0BJiIHBhUcARcUFRQWBwYmKwEqAScuAScmNj0BNCY3PgE3AT4BMzA2MxYXHgEXFhcWBh0BFBYHDgEHBiIrAUkKEAQFFxAKAxAyM4A6Og8NCwYIDggFEQESHQsVFTMWFgIJAQQFAQMCCDYMEDMIBQEDAwIJBhRPAgQTDAUFGAkEBgMFFQIWQUGKNzYCAkNDokVEBAIGAgICmgIBAQICAjkFghIgCgMMAgUBAgIBDAgBRAIBAgICBjc4gjU1AQICAQUCDAMLIRLAAXwRCAgVCggOCAMMKitqMTAMCwsCBg4DAgMBBwkSEisSEgEIA2gOAgoBCAEDCgaZJRIkCgUHBRBEAQUNCAgPBwYfAQIBFhM2NnItLTg4hjc4Af65AjIIsQICARgZQyIjFQMZAgEBBQELBQsrFsULFgUHBgYBCwICAgMtLWotLAIFGAvHFCsLBAwBBQAAAgAAAEAEAANAAAsAEAAAARQWMzI2NTQmIyIGASEJATcDAEs1NUtLNTVLAQD8AAEAAVWrAsA1S0s1NUtL/UsCq/5VgAAMAA0AkQPxAw0ADwAgADEAQgBTAGQAdQCFAJcApwC4AMgAACUhIiY1ETQ2MyEyFhURFAYBIgYVERQWMyEyNjURNCYjIRcUBisBIiY9ATQ2OwEyFh0BMxQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYdATMUBisBIiY9ATQ2OwEyFh0BBRQGKwEiJj0BNDY7ATIWHQEzFAYrASImPQE0NjsBMhYVFxQGKwEiJj0BNDY7ATIWHQEjMxQGKwEiJj0BNDY7ATIWFTcUBisBIiY9ATQ2OwEyFh0BAxQGIyEiJj0BNDYzITIWFQOT/NgnNzcnAygnNzf8sQwQEAwDKAsREQv82JcJCDUHCgkINQYLlQkINQYLCQg1BwqUCQg2BgsJCDYGC5MJCDYGCwkINgYL/qAJCDYGCwkINgYLkwkINQcKCQg1BguTCQgzBgsJCDUHCgKTCQg1BgsJCDUHCj4JCDUGCwkINQcKewkI/ogGCwkIAXoGC5E4JgHAJjg4Jv5AKDYCOBEL/kALERELAcALEY0HCgkINQYLCQg1BwoJCDUGCwkINQcKCQg1BgsJCDUHCgkINQYLCQg1mAYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCDYGCwkINgYLCQg2BgsJCGIHCgkINQYLCQg1/uIHCgkINQcKCQgAAgBi/8kDoAO3ACEAKgAAATQnLgEnJiMiBw4BBwYdASMiBhURFBYzITI2NRE0JisBNSE0NjMyFh0BIQMVEhFGNDRERDQ0RhESRRwoMCECnCIvJx1H/ktOUlNN/sACpjQxMU0XFxcYTTExM7MvIv54Ii8vIgGIIi+zOGZkOrMAAAABAAsBUwP1Ai8AFAAAAQYmIyEiBicuATc2FjMhMhYXFhQHA/URhjj9tjqCEwoCChGGOgKkKz4MCgoBdSQCBSUScRclAwUdFW8UAAAABAAGAKQD/ALcAGMAfgDuAQwAAAEHDgEHDgEHDgEjIiYnLgE1NDY3PgEzMhYXHgEVFAYHDgEdARcyNjc+ATc+AT8BIzcyNjc+ATc+ATc+ATMyFhceARUUBgcOASMiJicuATU0Njc+ATU8AScmIiMiBgcOAQczDwElBw4BBw4BBw4BFRQWFwcuATU0Njc+ATc+ATcHNx4BFz4BNz4BNz4BMzIWFx4BFRQGBw4BIyImJy4BIyIGBw4BBx4BFx4BMzI2Nz4BNxcOAQcOASMiJicuAScuAScOAQcOAQcOASMiJicuATU0Njc+ATMyFhceATMyNjc+ATc+ATcuAScuASMqAQc3Ezc+ATc+ATc+ATc+ATU0Jic3HgEVFAYHDgEHDgEHAREkDRkLDRsQECYUDRMHBgcGBQUNCgYMAwMEAwIBAwQFBwMIDAQDCghAKwsLEgUFDAQSJBMTKhYPFQcGBwQFBQoGBwoFBAQDAQMBAgEDAgoTCRAaCi0LJgFABhcjDxYkDg8NDAsEKikNDxAwIhg7IiJtDhUFDxgGChIGBw8GCA0FBAQEBAULCAUMBgcJAQcNBggUDQ0WCAUJBQUHAwUNCgsPGg0JFAkKEAYHDAUEDQYSHAwJEgcGEAgIDAUFBAYFBQwIBQoFCAoDBQcFBQwHBBAMDxgIBQ0IBQoGBNcHER8MDBoNDRUIDAoNCwUpKg4OEDEhGjokAiCPM0oWFyILDAoGBQUMBgcKBQUDAwMDCQUFBwMDAgICAgMECBELBiYf9yQDBAMNCyAtDQ4OBgUGDgoIDQQFBAQFBAgHAwkFBQYCAQMCAgwLEjkoJQS8ERAkFSBPLy5XKBk5HBI4cDYgQB4lQRwVIw+iExczHRcfCA0OBQMEBAUFDAgICwUFAwICAQMEBAcaFS45CgYHAwIDEA0HFh4KBgkEBQUNCgkgFxciDAsNAwQDBAUFDAYIDQUFBgMCAwMDAQILBgUUEDZDCwcIAgv+exENHA8OKxobOh4oSiQZOR0ROHA2IEAeJUAdFSMPAAEAAAAkBAADXgAaAAABIiMGIiMiJy4BJyMOAQcRHgEXIT4BNxEuAScDsTM0NGg0MzJMP1XoIiYFBSYiA2YgJwYGJiMC2gEDC3IFByYi/WQhJwcHJyECGCEpBQAABAAAACIEAANgAAMABwATABgAABMRIREDIREhBRQWMzI2NTQmIyIGEyETATcABABA/IADgP8AOCgoODgoKDjA/QDAAQCAA2D8wgM+/QACwKAoODgoKDg4/fgCAP7AYAAABwAJ/80D+gOzAAQACQAOABMAFwAbAB8AABMRIREhASE1IRU3ITUhFTchNSEVASE1ITUhNSE1ITUhCQPx/A8B6v5LAbMC/ksBswL+SwGzAdH+UQGv/lEBr/5RAa8Ds/waA+b8ScbG5tPT9cfH/iXGINMixwAEAAQA9QP8AosAEQAjADUARwAAExUjNTQ2Nz4BNxcOAQcOAQczBRUjNTQ2Nz4BNxcOAQcOAQczNzUzFRQGBw4BByc+ATc+ATUjJTUzFRQGBw4BByc+ATc+ATUjpKANDRE3JSQWIwkLCwJPAQCgDQ0RNyUkFiMJCwsCT7igDQ0RNyckFiELCw1NAQCgDQ0RNyckFiELCw1NAautiDhQGCIxEjoKHBEUNiMCrYg4UBgiMRI6ChwRFDYjKK2IOE8ZIjMQOgocFBM2IQKtiDhPGSIzEDoKHBQTNiEAAAAAAgAN/8sD8wO3ABAAIQAABSEiJjURNDYzITIWFREOASMpASImNRE0NjMhMhYVERQGIwGL/qoQGBcRAVYQGAEXEAJA/qoQGBcRAVYQGBcRNRcRA5wQGBYS/GIQFhcRA5wQGBYS/GIQFgAEAAL/wgP+A74ABwAbACAAMQAAPwEnBxUzFTcBNCYjIgYHAQ4BFRQWMzI2NwE+AScJASERARQGDwEBNz4BMzIWHwEeARX3PqA+VkoBXgcIAwYB/pMCAgcIAwYBAW0DASQBGP3R/ugD/A0Nb/7pbw0dEhEgDJ4NDRo9nD5IVgMCbwgGAgL+kwEGAwgHAgIBbQEGhP7o/dEBGAHvEh8LbwEXbw0NDQ2eDCARAAAAAQA3/80DyQOxACEAAAEWBgcGBw4BBwYHDgEnLgE1ETQmNzYWFxYXHgEXFhceARUDyQElC2VkY8ZjY2QLIg0JBAEIDisNY2JixGNiYw0lAcINFwQ4NzduNjc3BhYHBRkVAzccVAoOGwg3NzZsNzc4BhMLAAABABH/zQPzA7UAMAAAARYUBwYmKwEGFhUUBgcGIicmNj0BIyIGJy4BNzYWOwE2JjU0Njc2FhcWBhURITYWFwPzCgoRhDi1AwEFHRNvFCQCtTiCEwkDChKFOLMDAQstMWANBgIBESg9DgILFG4UJAI7kUMrPg4KChGIOLMFJRJxFSQCO5BEM0QEBwsiEDMV/vIDBRwAAwAP/80D8wOzADcAZwB9AAABFgcOAQcGBwYHDgEHBgcGJy4BJyYnJicuAScmJyY3PgE3Njc+ATc+ATc2Fx4BFxYXFhceARcWFyU2Jy4BJyYnJgYHDgEVFBYXHgEzMjY3PgEXFgYHDgEHDgEXFjIzOgE/AT4BNz4BNwM8AScuAQcGFhUUBhcWNjMyFjc2JjUD8wQICSQZGR0dIyRUMDA3OTY1XikoICEcHCoODQQGCAgjGhkeHkErKGc4PTY1XicnHx4cHCsPDgT+0w8KCzMlJScrQCAQLBkJChQLCAsEHFkJCjoYFSEGAwQJBykQEyYJCQg5GA8aBooFGEYbEAEDCQooEA8rBggDAeI9NTZdJycgIBwcKw0OBAQICSQZGR0eJCNTMDA3PjY2XCYnICA2FxUdBQQJCSQZGRwcIyRVMTE3JzApKDsREQQDDw4IHRAPFgwMHQoDEgUoJS8VEy0ZD0YJBwdCGigaDigX/qYQIQ0DBwYDKBUOKgoKBAIKCicNAAAAAAEADQCrA/cC1QA6AAABJicuAQcGBw4BJyY2NzY3PgE3NhcWFx4BFxYXNjc+ATc2FxYGFRQWFRQWBwYmIyImIyIGJyY2Nz4BNwKzTVBQolBQTwsVCBJOEygoKFEpKCg4NTZqNTY3DRcWLxQVDBEHAgYjFUAYN2k4EU4LCjARFSYWAWJLNTYxCQkzCAgIEUcOIRcXHAUGAwMODjQnKDUHGRgwDw4OFEIUNGg6GFEXDAICBBURMBIWJhUAAAAAAQAL/8kD9wO3AGIAACUUBgcOAScuAScmJy4BJyYnBgcOAQcGBw4BJy4BJy4BNz4BNzY3PgE3NjcmJy4BJyYnLgEnJjY3PgEXHgEXFhceARcWFzY3PgE3Njc+ARceARceAQcOAQcGBw4BBwYHAR4BFQP3Ig8QJiMbNhEgIiJEISEfIiIiQyMiIxU3JRYhCxArCAY6Ex8jI0YhIh0eISFFIyIhEzoGCCcSECslGDIRISIhQiAgHyIiIUIiISMUPCUVIA0SKAcFORUgIiJEIiEgAREVPEsdIA4QLAUDOhQgIiJFIiIfICEhQyIiIxVBBQMhDRAqIRozEyAiI0YiIh4bISFGIyIfETIYJSgREC8MBjoTISEhQyAhHyAgIUMiIiIVQQUDIQ0RKSEdMBMgIyJGIiIg/vMSNB4AAgAL/80D8wO3ADkAVAAAEyYnJjY3Njc2Nz4BNzY3NhceARcWFx4BBw4BBx4BFx4BFx4BFxYGJy4BLwEGBw4BJyYnJicuAScmJwUWNz4BNzYnLgEnLgEHDgEHDgEXFhceARcWFyITBAUQEhMaGiIiUjAwNUU9PGMmJhkbJgMDKCALHA8cOh8OIQYPQzASHw2vIS8vajc3MSsmJj8ZGRABUUtGRmESER8TQisbTi9RbhgQDwEDERI3JSUqAXo0NjZnLy8lJR8gLw8OAwUQDzsnJykveUVDbi0QHQ8dOCAOIBItRxIGIg2tHBISDQUGExAZGUAmJix0EBcYZklIUTFMFg4RAwhYMSBMKC4oKD4WFQoAAAAAAv/+/7wEBAPCAJQAoAAAAS4BJy4BJyY2Nz4BNzYmLwEuAQ8BDgEnLgEnLgEnLgErASIGBw4BBw4BBwYmLwEmBgcOAQcOARceARceAQcOAQcOAQcOAR0BFBYfAR4BFxYGBw4BBwYWHwEeATc+ATc+ARceARceARceATsBMjY3PgE3PgE3NhYXHgEXFjY/AT4BJy4BJy4BNz4BNz4BNz4BPQEuAScBIiY1NDYzMhYVFAYD4hUpFQ0ZBQUECAwaCwgDClsKHAtFCx8LCxIDAgUEARYNgA0YAQUHAwITCwsfDEQLHAoWLxcJAwgNGQsIAgMFGQ0TKRUNExMNUw0ZBQUFBwwaCwgDClsKHAsSIxILHQsLEQIDBwUBFw5+DRYBAwcFAhMLCx0LEiMSCxwKXAkDCA0ZCwgDBAUYDhUpFQ0TARQN/h5LbGpNS2xsAiYEBwQCEwsMHgwRIxALHApcCQMIMQgDBQQZDRIoFQ0TEw0VKRUNGQUFBggxCAMJGC4WChwLEiERDB8LCxECBAcEARcOgA0WAw0CEwsLHwwRIxALHApcCQMIDRkLCAIDBRkNFSkVDRMTDRUqFg0XBQQDCA0ZCwgDCVwKHAsSIREMHwsLEQIDBwUBFw6ADhUD/uNsS0tsbEtLbAAAAAACAAkAFwP8A2kAMAB0AAABHgEHDgEHDgEHDgEnLgE9AQYHDgEHBgcOASMiNjc+ATc2Nz4BNzY3NiYXHgEXHgEXAwYWBw4BBwYmIyEiBicuAScmNjU0Jjc+ATc2FjsBDgEVDgEHDgEHBiYrASIGBwYWFREcARcWNjMhMjY3NiY3PgE3PgEDwA42CAUpDiI/IwstExABW1FQfisrEAIICRcGAghCMiQoKWA4N0IIDx4XJA4eQCIVBAkKDFA7JlQo/r4oUSUzTgMFBQUFBFs+PHY77QICGiwWEycVI1UkTyw9CggEKBpmHgGULDwLBQcGAhMHFSUCrQ8tIhUkECE/IgsxBQU5FWQBDw9ENjZPCxJZE1iCLyAYGCAJCAEakgMEKg4fPiP+rzpgKDRKBQMDAwgLVTk9iUVFiDxDWAUEBBAfEQUGBwQUAQUFDB0YUiD+6DZqDwkFCh8QKhQHDQYTKwAAAgAz/88DsQOxABgAMQAAJQYWHwEWNjcBNjQnAS4BDwEOARcBFhQHASEGFh8BFjY3ATY0JwEuAQ8BDgEXARYUBwEBvg0DDiQPJQwBiw0N/nUMJQ8kDgMNAVEFBf6v/nUNAw4lDiUNAYoNDf52DSUOJQ4DDQFRBQX+ry8OJQ0gDQMOAckOKA4BzQ4DDSANJQ7+egUOBf58DiUNIA0DDgHJDigOAc0OAw0gDSUO/noFDgX+fAAABwAJ/80D+gOzAAQACgAQABYAGgAeACIAABMRIREhASE1IRUzNSE1IRUzNSE1IRUzASE1ITUhNSE1ITUhCQPx/A8B6v5LAbMC/ksBswL+SwGzAgHP/lEBr/5RAa/+UQGvA7P8GgPm/EnGxubT0/XHx/4lxiDTIscAAgAC/+kD+gOXABkAMgAAAREhETQ3PgE3Njc2Nz4BNzY3Fw4BBw4BBzMFESERNDc+ATc2NzY3PgE3NjcXDgEHDgEHAX7+hAQEEAsMDxYbGkImJyxWN08YGh0DugJg/oQEBBALDA8VGhtBJiYtVjdPGBodAwGC/mcBREE5OV8mJx0nIiM7GRoUiBZELC2BVwL+ZwFEQTk5XyYnHSciIzsZGBSIF0MtLIFXAAAAAAMAAP/EA/oDwAAkAEkAbgAAAREUBgcOASsBIiYnLgE9ATQ2Nz4BOwE1NDY3PgE7ATIWFx4BFQU0JicuAScuASMiBgcOAQcOARUUFhceARceATMyNjc+ATc+ATUzFAYHDgEHDgEjIiYnLgEnLgE1NDY3PgE3PgEzMhYXHgEXHgEVAlEDAwQGBdMFBwMEAwMEAwcFlQMDAwcFKwUHAwEDARMZGBhCKCpaMTJaKilBGBgZGRgYQigqWjIxWioqQBgaF5YjIiFdOzt/RkWAOztcIyAiIyEiXTs7fkdFgDs7WyMgIwKt/tcFBgQDAwMDBAYFKwUHAwMD6QUHAwMDAwMDCQPrMlopKkEYGRgZGBhDKClaMjFbKSpAGBgZGRgYQigpXDBFgDs7WyMiIyMiIV07O4BFRYA7O1wjISMjISJdOzuARQAAAAEAAAAiBAADXgBLAAABDgEHPgE3DgEHLgEjIgcOAQcGFRQWFyYnLgEnJicOARUUFhcuAScVFBYXDgEjIiYnHgEzDgEjKgEnFhceARcWMzI3PgE3Nj0BPgE3BAAdPSAgMQseQyUdUC0rJiY5EBEDA0A9PW8wMCgMDzIsGjAWYEgNHA4KFQoVa0Q2hEoNGQsjJiZRKyotkW9wlycnHzUVAv4NEAUTOyUSGQgeJBEQOSYmKw0XCwMRETgnKDAYNB02XB0CDQsCTXIQBAMDAj9TKTACFhIRGAcGNjesampoHBU2IAAAAAEACwCpA/UC0wA6AAABHgEHBiYjIgYjIgYnJjY1NDY1NCY3NhceARcWFzY3PgE3Njc2Fx4BFxYXHgEHBiYnJicmBgcGBx4BFwGgEi8KC04ROGk3GEAUIgQCBhAMFRUuFxYNODU1ajY1OCgpKFEoKCgSTxIIFQtPUFCiUE9OFSYWAQ8SMBETAgIEDhdRGDpoNBY/FQ4ODzAYGQc1KCc1Dg4CAwYFHBcXIQ5HEQgICDQJCjE3NksTJhgAAAAAAgAA/8QEAAO+AFoA3gAAAS4BIy4BBw4BByIGBwYHDgEHBh0BHgEfAR4BHwceARUfAx4BFx4BFx4BFzMfAh4BFx4BMx4BHwMeATMeATcyNj8BNjc+ATc2NTQnLgEnJicFFgYXHgEXHgE3NiYnNhYXHgEXHgEXDgEHHgEXHgEXPgE3PgE3PgE3JjYnLgEvAjYmJz4BFzYyMxczJz4BNy4BJz4BMzYmNTQ2NTYmNw4BByImJyY2NycGJgcOAQcuASc+ATczMhceARcWFRQHDgEHBiMiJy4BJyY1NDc+ATc2Nx4BFwKxAwcFKFcwMVknAQYBRjo5UxcXAgMEAgMJBQQLBBMNAg0BAw0GEQ0HDQgICwQEBQICDQINAwcFAQYBAgQDERcrBQcFI0sqHjcaCFNGRmYdHBkYWT49Sv5rDQ4DARAGBQ0OBBIFBw4HFTooBRAFDiMRECcTBCsgBQoFBAUOFVUYBRAHBCkKsRwFFQwNGBMGKRUJFwoRJBMCBgUFEQYDDhgBHAgQJwwIDAUDKAoPFSMPEREPDBsQBhAIE1dNTHIhISEhckxNV1dNTHIhIQoLKBwcIg0VBwOiAgINDAECEg4DAhwwL3pJSVArDhsODQ4dDA0aCicVBBQBAwIPCRMPBg0GBQkDAgUCCAMIAgUCAQMBAgEJChECAwkJAQgFAhUuL4JQUFlTTEt+LzAbxBs8HgwYCwodCwsYCgEQBxMdAwsSCRUnExUgEliIOwQLBiZAGiU6JRsuExMKEBMXHR0NCSEODCoqCBQHCAwFAwEHAwMICwUMFBMHGRECAiITFCoDDAQEIwYDBgEQIA4hIXNMTVZXTUxyISEhIXJMTVcxLS5TJCQdBhIOAAAAAAIAEf/NA/wDvgA+AEQAAAElBgcOAQcGJwYHDgEHBgcOAScuAScuATc+ATc2Nz4BNzY3PgE3NiYnJjY3PgE3NhYXDgEPAQ4BFR4BFx4BFwE2JgcGFgLiARoLHh9hQkFQLC0uWy0uLBhHMhMlEBouGw4+GCEgHz8gICEKJAMCCwEFMiIkaD5UbitJjEQWAQUBLwkQHBD95CoZLjQdAgZlQzc4Sg4OESktLVsuLiwYMBcIJhAYVjAZNxghHx8+IB8iCiEICikNQm8kKDoFBjYoGTUYbQgWBgsiBhAaDP46Dl4KCWsAAAEAAv/EA/wDvAAtAAAlFx4BBw4BIyEiJicuATURNDY3NhYfAQEnLgE3PgEzITIWFx4BFREUBgcGJi8BASJrCwkDAxQS/sIJEwgICQgJCBMMagI6awsJAwMWEAE7DBIHCAkJCAgUC2pmagsUCAgJCQgHEgwBORIUAwMIDGsCOmoLFAgICQcICBMM/sUSFAMDBw1rAAABAA0AugPrAt4ADAAACQEGJicBJjYzITYWBwPr/kgZOxb+RBcYJQORGzAkAnP+RxoCGAHAFFABRCgAAAABAPr/1QMeA7MADAAABQEmNjcBNhYVERYGJwKz/kcaAhgBwBRQAUQoKwG4GTsWAbwXGCX8bxswJAAAAAABAOL/zQMGA6sADAAACQEWBgcBBiY1ESY2FwFNAbkaAhj+QBRQAUQoA6v+SBk7Fv5EFxglA5YYLiQAAAABAA8AoAPrAsQADAAAJSEiJjcBPgEXARYGIwPJ/GwkGBYBvBQ7GwG2JC4YoE8VAcAYAhr+SShFAAEABgBRA/oDLwA8AAABNhYXHgEXFgYHBgcOAQcGBw4BIyImJyYnLgEnJicuATU0Njc+ARceARceARceATMyNjc2Nz4BNzY3PgE3A3EgJRUOHwIBLhE7Ojp0Ojo6Ei4YHj8SHh8fPh8fHw0aIw4PIR0XIw8rSi0DGgMFLwguLCxXLCsuDSQTAy8GJBMPHhMdLRI7Ojp0Ojo6Ei5GEh4eHj0gHyENGhUbHQ4PJQMBKQ0rSC0DHzEILiwtWC0sLA8kBQAAAAABAAsAhAP3AvwANAAAJR4BNz4BNwE+AScuAScuASMiBgcGBw4BBwYHJicuAScmJy4BIyIGBw4BFx4BFxYXHgEXFhcBvBEkGhMlDgFxEyYEAyAQESMWIjcQJCIiQyIiJB8hIkYjIyESNB4XJBAQLwoEJxAvLi1dLy8xsRIeAwIlDwFxEycdGCEQESA/ECQiIkMhIiMfIiJHIyMhET4fEA8yIRIiDjAuL10vLzAAAQFS//oDjAOEADoAAAEOARceARcWFx4BFxYXHgE3PgE3PgE3NCYnJicuAScmJzY3PgE3Njc+ATc0JicuAQcOAQcGBw4BBwYHAXsQGwICIQ0qKilSKioqESQZFR8OEBwBOQ4hHh48Hx4gHB8fPyAfHhA2AR0ODS4eEB8NKykqUyoqLAH+DyEXEiENKikpUykqKxAiAgMdDw8gFB4yDyAeHzwfHyAbHx5AHyAdEC4cFCEPDioIBCQNKykqUyoqLAAAAQFS//oDiwOEADoAAAEeAQcOAQcGBw4BBwYHDgEnLgEnLgE1NDY3Njc+ATc2NyYnLgEnJicuATU0Njc+ARceARcWFx4BFxYXA2IQHAMCIA4qKSlTKSoqESQaFR4PDx05DiAfHjweHyAcHx9AHyAdEDcdDg0tHw8gDSoqKVQqKisB/g8hFxIhDSopKVMpKisQIgIDHQ8PIBQeMg8gHh88Hx8gGx8eQB8gHRAuHBQhDw4qCAQkDSspKlMqKiwAAAAAAQAJAIQD9wL8ADQAABMOAQcGFhceATMyNjc2Nz4BNzY3FhceARcWFx4BMzI2Nz4BNzYmJwEuAScmBgcGBw4BBwYHRA4pBAgvEBAmFR40EiAjI0YiIh8kIiJDIiIkEDciFiMRECIBBCYT/o8OJRMaJBExLy9dLi8vAVoPJBAjMg8QHz4RICMjRyMiHyMhIkMiIiQQPyARECIXHScTAXEPJQIDHhIxLy9cLi4uAAIABgBxA/oDDQAdACoAACURNiYHITAGBwYHDgEHBjEwFx4BFxYXHgExJRY2JycHJwcnNyc3FzcXBxcD+gMfHv2kFgoNNDNwLS0vLnM0MwwJEgJpER8DvEuGi0uJiUuJhk2JiakCLBohAwMIDTQ0ci0uMDB2NDQIBwICAR8YjkqKik2IiUqGhkqJiwAAAQAAAAEAAE6N89tfDzz1AAsEAAAAAADalrqwAAAAANqWurD+uP+8BK8DwgAAAAgAAgAAAAAAAAABAAADwP/AAAAE3v64/1EErwABAAAAAAAAAAAAAAAAAAAAdAQAAAAAAAAAAAAAAAIAAAAESQAxBAAAAAQAAAAEAAAABAAAAAQAAHUEAAAEBAAABAQAAAQEAAAEBAD//gQAAE0EAAAEBAAAxQQAAR8EAAEfBAAAcgQA/rgEAAEtBAABLgQAAS8EAADRBAAAgQQAASQEAAFKBAABPAQAAWYEAACdBAAAeAQAAU0EAABKBAAAPgQA/9UEAP/VBAD/0QQAASYEAAEJBAABCQQAAQkEAACQBAAABAQAAAsEAAAOBAAAAAQAAEcEAAAUBAAARgQAAAgEAAARBAAASAQAAOAEAAAzBAAAWgQAAE8EAABvBAAAYwQAABMEAAATBAABOwQAABUEAAAVBAAADwQAAGsEAAAABAAAJgQAAA0EAAERBAAACQQAAAoEAP/+BAAACQQAAAYEAAAzBAAADwQAAAAEAAANBAAAYgQAAAsEAAAGBAAAAAQAAAAEAAAJBAAABAQAAA0EAAACBAAANwQAABEEAAAPBAAADQQAAAsEAAALBAD//gQAAAkEAAAzBAAACQQAAAIEAAAABAAAAAQAAAsEAAAABAAAEQQAAAIEAAANBAAA+gQAAOIEAAAPBAAABgQAAAsE3gFSBN4BUgQAAAkEAAAGAAAAAAAKABQAHgB6A4oFUAb2CAAIyAl0CigK5gugDGgM+A2KDcYN7g4sDkoOghDsEhQSuBMGE1ATvhP8FDwUVBR+FNQVPBZCFpAXEhe2GYwZmhqSG+wcIhxsHMwdeB4cINQhQCGwIi4i+CNeI9okFCTMJTIl2CYcKMQpUCmaKeQqFipKKqgq3iskK2IrpivGLHQs4C0ULVwt7i5ILyovTDBKMIowsDIyMmAykDLKMzgzbDPCM/w0RjUINWY2AjaMN4A4MDiKOMY5HDm+OjA6jjvUPEY8kDyuPMw86j0GPWg9vj4ePn4+1D8aAAAAAQAAAHQCjgASAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAkAAAABAAAAAAACAAcAcgABAAAAAAADAAkAPAABAAAAAAAEAAkAhwABAAAAAAAFAAsAGwABAAAAAAAGAAkAVwABAAAAAAAKABoAogADAAEECQABABIACQADAAEECQACAA4AeQADAAEECQADABIARQADAAEECQAEABIAkAADAAEECQAFABYAJgADAAEECQAGABIAYAADAAEECQAKADQAvGRjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGRjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac2RjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmRjZy1pY29ucwBkAGMAZwAtAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format('truetype');
  font-weight: normal;
  font-style: normal;
  font-display: block;
}

.dcg-calculator-api-container [class^="dcg-icon-"],
.dcg-calculator-api-container [class*=" dcg-icon-"] {
  /* use !important to prevent issues with browser extensions that change fonts */
  font-family: 'dcg-icons' !important;
  speak: none;
  font-style: normal;
  font-weight: normal;
  font-variant: normal;
  text-transform: none;
  line-height: 1;
  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.dcg-calculator-api-container .dcg-icon-trophy:before {
  content: "\\e200";
}

.dcg-calculator-api-container .dcg-icon-app-graphing:before {
  content: "\\e201";
}

.dcg-calculator-api-container .dcg-icon-app-geometry:before {
  content: "\\e202";
}

.dcg-calculator-api-container .dcg-icon-app-scientific:before {
  content: "\\e203";
}

.dcg-calculator-api-container .dcg-icon-app-four-function:before {
  content: "\\e204";
}

.dcg-calculator-api-container .dcg-icon-clipboard:before {
  content: "\\e205";
}

.dcg-calculator-api-container .dcg-icon-arrow-infinite:before {
  content: "\\e206";
}

.dcg-calculator-api-container .dcg-icon-arrow-once:before {
  content: "\\e207";
}

.dcg-calculator-api-container .dcg-icon-arrow-two-way:before {
  content: "\\e208";
}

.dcg-calculator-api-container .dcg-icon-arrow-one-way:before {
  content: "\\e209";
}

.dcg-calculator-api-container .dcg-icon-randomize:before {
  content: "\\e20a";
}

.dcg-calculator-api-container .dcg-icon-zoom-fit:before {
  content: "\\e20b";
}

.dcg-calculator-api-container .dcg-icon-comments:before {
  content: "\\e20c";
}

.dcg-calculator-api-container .dcg-icon-lines-solid:before {
  content: "\\e20d";
}

.dcg-calculator-api-container .dcg-icon-histogram-fill:before {
  content: "\\e20e";
}

.dcg-calculator-api-container .dcg-icon-histogram:before {
  content: "\\e20f";
}

.dcg-calculator-api-container .dcg-icon-distribution-fill:before {
  content: "\\e210";
}

.dcg-calculator-api-container .dcg-icon-distribution:before {
  content: "\\e211";
}

.dcg-calculator-api-container .dcg-icon-dotplot-cross:before {
  content: "\\e212";
}

.dcg-calculator-api-container .dcg-icon-dotplot-open:before {
  content: "\\e213";
}

.dcg-calculator-api-container .dcg-icon-dotplot-default:before {
  content: "\\e214";
}

.dcg-calculator-api-container .dcg-icon-boxplot:before {
  content: "\\e215";
}

.dcg-calculator-api-container .dcg-icon-points:before {
  content: "\\e216";
}

.dcg-calculator-api-container .dcg-icon-fraction:before {
  content: "\\e217";
}

.dcg-calculator-api-container .dcg-icon-cross:before {
  content: "\\e218";
}

.dcg-calculator-api-container .dcg-icon-open:before {
  content: "\\e219";
}

.dcg-calculator-api-container .dcg-icon-point:before {
  content: "\\e21a";
}

.dcg-calculator-api-container .dcg-icon-shaded-inequality-shade2:before {
  content: "\\e21b";
}

.dcg-calculator-api-container .dcg-icon-shaded-inequality-dash:before {
  content: "\\e21c";
}

.dcg-calculator-api-container .dcg-icon-position-arrows-single:before {
  content: "\\e21d";
}

.dcg-calculator-api-container .dcg-icon-position-arrows:before {
  content: "\\e21e";
}

.dcg-calculator-api-container .dcg-icon-parametric-filled:before {
  content: "\\e21f";
}

.dcg-calculator-api-container .dcg-icon-parametric-solid:before {
  content: "\\e220";
}

.dcg-calculator-api-container .dcg-icon-parametric-dashed:before {
  content: "\\e221";
}

.dcg-calculator-api-container .dcg-icon-parametric-dotted:before {
  content: "\\e222";
}

.dcg-calculator-api-container .dcg-icon-polygon-filled:before {
  content: "\\e223";
}

.dcg-calculator-api-container .dcg-icon-polygon-dashed:before {
  content: "\\e224";
}

.dcg-calculator-api-container .dcg-icon-polygon-dotted:before {
  content: "\\e225";
}

.dcg-calculator-api-container .dcg-icon-polygon-solid:before {
  content: "\\e226";
}

.dcg-calculator-api-container .dcg-icon-title:before {
  content: "\\e227";
}

.dcg-calculator-api-container .dcg-icon-bottom-arrow:before {
  content: "\\e228";
}

.dcg-calculator-api-container .dcg-icon-rocket:before {
  content: "\\e229";
}

.dcg-calculator-api-container .dcg-icon-reset:before {
  content: "\\e22a";
}

.dcg-calculator-api-container .dcg-icon-desmos:before {
  content: "\\e22b";
}

.dcg-calculator-api-container .dcg-icon-download:before {
  content: "\\e22c";
}

.dcg-calculator-api-container .dcg-icon-embed:before {
  content: "\\e22d";
}

.dcg-calculator-api-container .dcg-icon-export:before {
  content: "\\e22e";
}

.dcg-calculator-api-container .dcg-icon-book:before {
  content: "\\e22f";
}

.dcg-calculator-api-container .dcg-icon-print:before {
  content: "\\e230";
}

.dcg-calculator-api-container .dcg-icon-magic:before {
  content: "\\e231";
}

.dcg-calculator-api-container .dcg-icon-cursor:before {
  content: "\\e232";
}

.dcg-calculator-api-container .dcg-icon-dashed-function:before {
  content: "\\e233";
}

.dcg-calculator-api-container .dcg-icon-function:before {
  content: "\\e234";
}

.dcg-calculator-api-container .dcg-icon-arrows-two:before {
  content: "\\e235";
}

.dcg-calculator-api-container .dcg-icon-arrows-one:before {
  content: "\\e236";
}

.dcg-calculator-api-container .dcg-icon-desmos-badge:before {
  content: "\\e237";
}

.dcg-calculator-api-container .dcg-icon-move:before {
  content: "\\e238";
}

.dcg-calculator-api-container .dcg-icon-move-horizontal:before {
  content: "\\e239";
}

.dcg-calculator-api-container .dcg-icon-move-vertical:before {
  content: "\\e23a";
}

.dcg-calculator-api-container .dcg-icon-arrow-left:before {
  content: "\\e23b";
}

.dcg-calculator-api-container .dcg-icon-arrow-right:before {
  content: "\\e23c";
}

.dcg-calculator-api-container .dcg-icon-arrow-enter:before {
  content: "\\e23d";
}

.dcg-calculator-api-container .dcg-icon-shift:before {
  content: "\\e23e";
}

.dcg-calculator-api-container .dcg-icon-dragdots:before {
  content: "\\e23f";
}

.dcg-calculator-api-container .dcg-icon-duplicate:before {
  content: "\\e240";
}

.dcg-calculator-api-container .dcg-icon-error:before {
  content: "\\e241";
}

.dcg-calculator-api-container .dcg-icon-facebook:before {
  content: "\\e242";
}

.dcg-calculator-api-container .dcg-icon-film:before {
  content: "\\e243";
}

.dcg-calculator-api-container .dcg-icon-folder-open:before {
  content: "\\e244";
}

.dcg-calculator-api-container .dcg-icon-folder:before {
  content: "\\e245";
}

.dcg-calculator-api-container .dcg-icon-hamburger:before {
  content: "\\e246";
}

.dcg-calculator-api-container .dcg-icon-hdd:before {
  content: "\\e247";
}

.dcg-calculator-api-container .dcg-icon-hide:before {
  content: "\\e248";
}

.dcg-calculator-api-container .dcg-icon-home:before {
  content: "\\e249";
}

.dcg-calculator-api-container .dcg-icon-image:before {
  content: "\\e24a";
}

.dcg-calculator-api-container .dcg-icon-keyboard:before {
  content: "\\e24b";
}

.dcg-calculator-api-container .dcg-icon-lock:before {
  content: "\\e24c";
}

.dcg-calculator-api-container .dcg-icon-minus:before {
  content: "\\e24d";
}

.dcg-calculator-api-container .dcg-icon-new-expression:before {
  content: "\\e24e";
}

.dcg-calculator-api-container .dcg-icon-new-folder:before {
  content: "\\e24f";
}

.dcg-calculator-api-container .dcg-icon-new-image:before {
  content: "\\e250";
}

.dcg-calculator-api-container .dcg-icon-new-table:before {
  content: "\\e251";
}

.dcg-calculator-api-container .dcg-icon-new-text:before {
  content: "\\e252";
}

.dcg-calculator-api-container .dcg-icon-pause:before {
  content: "\\e253";
}

.dcg-calculator-api-container .dcg-icon-pencil:before {
  content: "\\e254";
}

.dcg-calculator-api-container .dcg-icon-play:before {
  content: "\\e255";
}

.dcg-calculator-api-container .dcg-icon-plus:before {
  content: "\\e256";
}

.dcg-calculator-api-container .dcg-icon-question-sign:before {
  content: "\\e257";
}

.dcg-calculator-api-container .dcg-icon-redo:before {
  content: "\\e258";
}

.dcg-calculator-api-container .dcg-icon-remove:before {
  content: "\\e259";
}

.dcg-calculator-api-container .dcg-icon-search:before {
  content: "\\e25a";
}

.dcg-calculator-api-container .dcg-icon-settings:before {
  content: "\\e25b";
}

.dcg-calculator-api-container .dcg-icon-share:before {
  content: "\\e25c";
}

.dcg-calculator-api-container .dcg-icon-show:before {
  content: "\\e25d";
}

.dcg-calculator-api-container .dcg-icon-table:before {
  content: "\\e25e";
}

.dcg-calculator-api-container .dcg-icon-text:before {
  content: "\\e25f";
}

.dcg-calculator-api-container .dcg-icon-time:before {
  content: "\\e260";
}

.dcg-calculator-api-container .dcg-icon-twitter:before {
  content: "\\e261";
}

.dcg-calculator-api-container .dcg-icon-undo:before {
  content: "\\e262";
}

.dcg-calculator-api-container .dcg-icon-world:before {
  content: "\\e263";
}

.dcg-calculator-api-container .dcg-icon-wrench:before {
  content: "\\e264";
}

.dcg-calculator-api-container .dcg-icon-zoom:before {
  content: "\\e265";
}

.dcg-calculator-api-container .dcg-icon-caret-down:before {
  content: "\\e266";
}

.dcg-calculator-api-container .dcg-icon-caret-left:before {
  content: "\\e267";
}

.dcg-calculator-api-container .dcg-icon-caret-right:before {
  content: "\\e268";
}

.dcg-calculator-api-container .dcg-icon-caret-up:before {
  content: "\\e269";
}

.dcg-calculator-api-container .dcg-icon-check:before {
  content: "\\e26a";
}

.dcg-calculator-api-container .dcg-icon-chevron-down:before {
  content: "\\e26b";
}

.dcg-calculator-api-container .dcg-icon-chevron-left:before {
  content: "\\e26c";
}

.dcg-calculator-api-container .dcg-icon-chevron-right:before {
  content: "\\e26d";
}

.dcg-calculator-api-container .dcg-icon-chevron-up:before {
  content: "\\e26e";
}

.dcg-calculator-api-container .dcg-icon-delete:before {
  content: "\\e26f";
}.dcg-calculator-api-container .dcg-display-domain {
  padding: 5px 0 13px;
  font-size: 95%;
  white-space: nowrap;
  margin-bottom: -5px;
  margin-top: -5px;
}.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem {
  display: block;
  position: relative;
  margin-top: -1px;
  border-top: 1px solid rgba(206,206,206,0.8);
  border-bottom: 1px solid transparent;
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem:not(.dcg-expressionimage) {
  cursor: text;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container {
  width: 100%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected,
.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging {
  border-color: #6399cb;
  border-width: 2px 0;
  border-right: 1px solid #6399cb;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-fade-container,
.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-fade-container {
  margin-top: -1px;
  margin-bottom: -1px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-tab,
.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-dragging .dcg-tab {
  color: #fff;
  border-right: 1px solid transparent;
  background: #6399cb;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-expression-bottom.dcg-fadein-bottom {
  position: relative;
  -webkit-animation: dcg-fadeIn 0.8s;
  -moz-animation: dcg-fadeIn 0.8s;
  -o-animation: dcg-fadeIn 0.8s;
  -ms-animation: dcg-fadeIn 0.8s;
  animation: dcg-fadeIn 0.8s;
  cursor: default;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-indent-in-folder {
  padding-left: 53px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-fade-container:after {
  position: absolute;
  top: 5px;
  bottom: 5px;
  left: 56px;
  content: '';
  border-left: 1px solid rgba(0,0,0,0.2);
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-indent-in-folder,
.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-inFolder .dcg-main {
  margin-left: 20px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-shell {
  height: 54px;
  background: #fff;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container {
  position: relative;
  padding-bottom: 6px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-main {
  position: relative;
  padding-top: 15px;
  padding-left: 53px;
  padding-right: 35px;
  padding-bottom: 9px;
  white-space: nowrap;
  font-size: 110%;
  vertical-align: middle;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-expression-mathquill {
  position: relative;
  width: 100%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-zoom-fit-btn {
  position: absolute;
  top: 0;
  right: 30px;
  padding: 8px 7px 20px;
  z-index: 2;
  opacity: 0.2;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
  filter: alpha(opacity=20);
  font-size: 115%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-zoom-fit-btn.dcg-hovered {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-zoom-fit-btn.dcg-depressed {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete {
  position: absolute;
  top: 0;
  right: 0;
  padding: 8px 7px 20px 20px;
  z-index: 2;
  opacity: 0.2;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
  filter: alpha(opacity=20);
  font-size: 115%;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-hovered {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-top-level-delete.dcg-depressed {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved {
  font-size: 80%;
  color: #666;
  cursor: default;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved i {
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a {
  color: #666;
  margin-left: 5px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved a.dcg-hovered {
  color: #000;
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-fade-container .dcg-unresolved .dcg-btn {
  padding: 2px 5px;
  margin-top: 4px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-author-ide .dcg-fade-container .dcg-main {
  font-size: 90%;
  padding-top: 14px;
  padding-bottom: 7px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem .dcg-tab {
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  padding: 1px 2px;
  font-size: 65%;
  text-align: left;
  color: rgba(0,0,0,0.4);
  background: rgba(0,0,0,0.03);
  border-right: 1px solid rgba(0,0,0,0.06);
  cursor: move;
  width: 38px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontext .dcg-icon-text {
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -7px 0 0 -7px;
  font-size: 140%;
  opacity: 0.25;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";
  filter: alpha(opacity=25);
}

.dcg-calculator-api-container .dcg-expressiontable {
  cursor: default;
}

.dcg-calculator-api-container .dcg-expressiontable .dcg-fade-container.dcg-hovered {
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-expressionitem:not(.dcg-mathitem).dcg-selected .dcg-top-level-delete {
  padding-bottom: 0;
  padding-left: 0;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-top-level-delete {
  right: -1px;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionitem.dcg-selected .dcg-expression-bottom {
  margin-right: -1px;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel input.dcg-image-name {
  display: block !important;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel div.dcg-image-name {
  display: none;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-top-level-delete {
  display: none;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-edit-domain {
  display: block !important;
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext .dcg-displayTextarea,
.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder .dcg-displayTextarea {
  pointer-events: none;
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressiontext textarea,
.dcg-calculator-api-container .dcg-EDIT-LIST-MODE .dcg-exppanel .dcg-expressionitem.dcg-expressionfolder textarea {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-drag-container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
}

.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem {
  background: #fff;
  overflow: hidden;
  -webkit-box-shadow: 0 0 10px #888;
  box-shadow: 0 0 10px #888;
  border-color: #6399cb;
  border-right: 1px solid #6399cb;
}

.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-indent-in-folder,
.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-fade-container:after,
.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-main {
  -webkit-transition: 0.3s;
  -moz-transition: 0.3s;
  -o-transition: 0.3s;
  -ms-transition: 0.3s;
  transition: 0.3s;
}

.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-tab {
  background: #6399cb;
}

.dcg-calculator-api-container .dcg-drag-container .dcg-expressionitem .dcg-num {
  display: none;
}

.dcg-calculator-api-container .dcg-template-expressioneach .dcg-expressionitem.dcg-dragging {
  visibility: hidden;
}

.dcg-calculator-api-container .dcg-exppanel.dcg-isDragging .dcg-expressionitem.dcg-new-expression {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field {
  border: none;
  -webkit-box-shadow: none !important;
  box-shadow: none !important;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field textarea {
  resize: none;
}

.dcg-calculator-api-container .dcg-container .dcg-mq-editable-field.dcg-hasCursor {
  -webkit-box-shadow: none !important;
  box-shadow: none !important;
}

.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-supsub {
  margin-bottom: -0.2em;
}

.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-sub {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-tap-container .dcg-mq-math-mode .dcg-mq-int .dcg-mq-sub {
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-clear {
  clear: both;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-expressionitem {
  border-top-color: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-expression-icon-container {
  position: absolute;
  top: 28px;
  left: 50%;
  height: 29px;
  width: 29px;
  margin-top: -14.5px;
  margin-left: -14.5px;
  text-align: center;
  line-height: 29px;
  border-radius: 50%;
}.dcg-calculator-api-container .dcg-author-ide-bar {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 5px;
  z-index: 10;
  background: #ccc;
  color: #444;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-author-ide-bar input {
  border: 1px solid rgba(0,0,0,0.25);
  padding: 4px;
  border-radius: 4px;
  background: transparent;
  width: 200px;
  padding-right: 30px;
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-author-ide-bar input:focus {
  border: 2px solid #4781b9;
  background: #fff;
  padding: 3px;
  outline: none;
}

.dcg-calculator-api-container .dcg-author-ide-bar .dcg-icon-remove {
  position: relative;
  left: -20px;
  top: 1px;
  opacity: 0.2;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
  filter: alpha(opacity=20);
}

.dcg-calculator-api-container .dcg-author-ide-bar .dcg-icon-remove.dcg-hovered {
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
}

.dcg-calculator-api-container .dcg-author-ide-bar .dcg-icon-remove.dcg-depressed {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}.dcg-calculator-api-container .dcg-cdf-footer-container {
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-component-checkbox {
  margin-bottom: 4px;
}

.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mathquill-wrapper {
  margin-left: 10px;
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-parameter-name {
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-cdf-evaluation-container {
  margin-top: 5px;
}.dcg-calculator-api-container .dcg-circular-icon-container {
  width: 29px;
  height: 29px;
  border-radius: 50%;
}

.dcg-calculator-api-container .dcg-circular-icon {
  display: inline-block;
  width: 29px;
  height: 29px;
  line-height: 29px;
  border-radius: 50%;
  position: relative;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-semi-transparent {
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden {
  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.25);
  box-shadow: inset 0 0 3px rgba(0,0,0,0.25);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden:before {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  border: 5px solid #999;
  border-radius: 50%;
  opacity: 0.25;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";
  filter: alpha(opacity=25);
  content: "";
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-white-icon:before {
  border-color: #fff;
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered:before {
  opacity: 0.3125 ;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=31)" ;
  filter: alpha(opacity=31) ;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-hovered.dcg-white-icon:before {
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed:before {
  opacity: 0.375 ;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=38)" ;
  filter: alpha(opacity=38) ;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-hidden.dcg-depressed.dcg-white-icon:before {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline {
  border: 2px solid #000;
  opacity: 0.5;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";
  filter: alpha(opacity=50);
  color: #000;
  text-align: center;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-hovered {
  opacity: 0.7;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=70)";
  filter: alpha(opacity=70);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-depressed {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-folder {
  position: relative;
  top: -1px;
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-pause {
  position: relative;
  top: -1px;
  left: 0.25px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-play {
  position: relative;
  top: -1px;
  left: 1.5px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline .dcg-icon-fraction {
  font-size: 20px;
  position: relative;
  top: 2px;
  left: 0.5px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon {
  color: #fff;
  border-color: #fff;
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-hovered {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-thick-outline.dcg-white-icon.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image {
  background: #fff;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image:after {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  content: '';
  border-radius: 50%;
  overflow: hidden;
  -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,0.7);
  box-shadow: inset 0 0 4px rgba(0,0,0,0.7);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image .dcg-background-image {
  width: 29px;
  height: 29px;
  display: inline-block;
  border-radius: 50%;
  -webkit-background-size: 29px 29px !important;
  -moz-background-size: 29px 29px !important;
  background-size: 29px 29px !important;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i {
  text-shadow: 0 0 6px rgba(0,0,0,0.2), 0 0 1px rgba(0,0,0,0.5);
}

.dcg-calculator-api-container .dcg-circular-icon .dcg-spinner {
  position: absolute;
  left: 50%;
  top: 50%;
  margin-top: -10px;
  margin-left: -10px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon {
  -webkit-box-shadow: inset 0 0 3px rgba(0,0,0,0.25);
  box-shadow: inset 0 0 3px rgba(0,0,0,0.25);
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon {
  font-size: 35px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-medium,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-medium {
  font-size: 42.25px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-large,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-large {
  font-size: 56.75px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-size-small,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-size-small {
  font-size: 32.1px;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image.dcg-modifier-rotated,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon.dcg-modifier-rotated {
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon {
  position: absolute;
  top: -3px;
  left: -30px;
  right: -30px;
  bottom: -3px;
  color: #fff;
  line-height: 35px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-check,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-check {
  font-size: 50%;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-vertical,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-vertical,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-move-horizontal,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-move-horizontal {
  font-size: 55%;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-point,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-point,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-cross,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-cross,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-open,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-open {
  font-size: 75%;
}

.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-points,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-points,
.dcg-calculator-api-container .dcg-circular-icon.dcg-has-background-image i.dcg-layered-icon.dcg-icon-lines-solid,
.dcg-calculator-api-container .dcg-circular-icon.dcg-colored-icon i.dcg-layered-icon.dcg-icon-lines-solid {
  font-size: 68%;
}.dcg-calculator-api-container .dcg-clickable-image-info-view {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-label {
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-clickable-image-icon {
  padding-right: 10px;
  padding-left: 10px;
}

.dcg-calculator-api-container .dcg-clickable-image-info-view .dcg-tooltip-hit-area-container {
  margin-left: 5px;
  margin-right: 10px;
}.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container {
  margin-bottom: 5px;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container .dcg-expression-footer-title {
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container .dcg-smaller-font {
  font-size: 85%;
  margin-left: 2px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container .dcg-math-field {
  max-width: 120px;
  min-width: 30px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container input {
  outline: none;
  border: 1px solid #bbb;
  border-top: 0 !important;
  border-right: 0 !important;
  border-left: 0 !important;
  color: #000;
  padding: 4px;
  -webkit-appearance: none;
  border-radius: 0;
  padding-left: 0;
  padding-right: 0;
  font-size: 100%;
  width: 80%;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container input.dcg-hovered {
  border-color: #ccc;
  border-bottom-width: 2px;
  padding-bottom: 3px;
}

.dcg-calculator-api-container .dcg-container .dcg-clickable-info-container input:focus:not([disabled]) {
  border-color: #6399cb;
  border-bottom-width: 2px;
  padding-bottom: 3px;
}.dcg-calculator-api-container .dcg-color-menu {
  width: 95px;
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option {
  display: inline-block;
  width: 29px;
  height: 29px;
  margin: 0 4px 1px 0;
  border-radius: 50%;
  position: relative;
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option.dcg-hovered {
  -webkit-box-shadow: 0 0 0 2px rgba(187,187,187,0.3);
  box-shadow: 0 0 0 2px rgba(187,187,187,0.3);
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option.dcg-depressed {
  -webkit-box-shadow: 0 0 0 2px rgba(119,119,119,0.3);
  box-shadow: 0 0 0 2px rgba(119,119,119,0.3);
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option:nth-of-type(3n) {
  margin-right: 0;
}

.dcg-calculator-api-container .dcg-color-menu .dcg-color-option:nth-of-type(n+4) {
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-advanced-color-styling {
  font-size: 75%;
  margin-top: 5px;
  margin-bottom: 5px;
}

.dcg-calculator-api-container .dcg-advanced-color-styling input {
  border: 0;
  outline: none;
  font: inherit;
  width: 65px;
  margin-left: 3px;
  border-bottom: 2px solid #ccc;
  padding: 2px;
}

.dcg-calculator-api-container .dcg-advanced-color-styling input.dcg-hovered {
  border-bottom: 2px solid #aaa;
}

.dcg-calculator-api-container .dcg-advanced-color-styling input:focus {
  border-bottom: 2px solid #888;
}

.dcg-calculator-api-container .dcg-advanced-color-styling input.dcg-error {
  border-bottom: 2px solid #e15855;
}.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-component-checkbox {
  font-size: 85%;
}.dcg-calculator-api-container .dcg-evaluation-container {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -o-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-box-align: end;
  -moz-box-align: end;
  -o-box-align: end;
  -ms-flex-align: end;
  -webkit-align-items: flex-end;
  align-items: flex-end;
  margin-right: 5px;
  padding: 3px 6px 3px 3px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle {
  color: #bbb;
  margin-bottom: 2px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle.dcg-depressed {
  color: #333;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle .dcg-toggle-letter {
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-fraction-toggle i {
  margin: 0 2px;
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation {
  margin-top: -3px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation.dcg-hidden {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille {
  padding: 5px 0;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {
  text-align: right;
  color: #666;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-mathquill-wrapper .dcg-typeset-math {
  padding: 3px 6px 3px 3px;
  display: table;
  border: 1px solid rgba(206,206,206,0.8);
  background: rgba(0,0,0,0.04);
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
  border-radius: 4px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container {
  font-weight: normal;
  cursor: pointer;
  white-space: nowrap;
  display: table-cell;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-label-container .dcg-mq-math-mode {
  cursor: pointer;
  padding-right: 2px;
}

.dcg-calculator-api-container .dcg-evaluation-container .dcg-evaluation .dcg-evaluation-html {
  white-space: nowrap;
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
  display: table-cell;
}.dcg-calculator-api-container .dcg-exp-list-resizer {
  position: absolute;
  top: 0;
  right: -12px;
  bottom: 0;
  width: 15px;
  cursor: ew-resize;
}

.dcg-calculator-api-container .dcg-exp-list-resizer.dcg-depressed {
  width: 215px;
  right: -112px;
}.dcg-calculator-api-container .dcg-expression-edit-actions {
  padding-left: 5px;
  padding-right: 7px;
  white-space: nowrap;
  position: absolute;
  top: 0;
  right: 0;
}

.dcg-calculator-api-container .dcg-expression-edit-actions:not(.dcg-limited-height) {
  bottom: 0;
}

.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-graphic {
  height: 100%;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0.5), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0.5), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0.5), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0.5), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0.5), #fff);
  position: absolute;
  top: 0;
  right: 100%;
  width: 40px;
  cursor: default;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button {
  margin-left: 2px;
  width: 44px;
  height: 44px;
  padding: 12px 10px;
  text-align: center;
  margin-top: 4px;
  display: inline-block;
  font-size: 125%;
  line-height: 20px;
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
  border-radius: 5px;
}

.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-hovered {
  background: rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-expression-edit-actions .dcg-exp-action-button.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}.dcg-calculator-api-container .dcg-slider_menu {
  position: relative;
  top: -3px;
}

.dcg-calculator-api-container .dcg-expression-footer-title {
  text-transform: uppercase;
  font-size: 80%;
  color: rgba(0,0,0,0.5);
  margin-bottom: 4px;
}

.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help {
  padding: 10px;
  color: rgba(0,0,0,0.2);
  margin: -10px -10px -10px -6px;
  cursor: pointer;
  text-decoration: none;
}

.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-hovered {
  color: #888;
}

.dcg-calculator-api-container .dcg-expression-footer-title .dcg-expression-footer-title-help.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error {
  color: #666;
  margin: 10px;
  margin-left: 0;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-expression-bottom .dcg-expression-braille-error .dcg-icon-error {
  font-size: 80%;
  margin-right: 5px;
  color: #fa824c;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-display-domain .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-slider-step-container,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-slider-step-container {
  margin-left: 10px;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-display-domain .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-slider-step-container.dcg-disabled-input .dcg-math-field,
.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-display-domain .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-slider-step-container.dcg-disabled-input .dcg-mathquill-braille {
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-display-domain .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-slider-step-label,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-slider-step-label {
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-display-domain .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-mq-editable-field {
  outline: none;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-display-domain .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mq-placeholder,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-mq-placeholder {
  margin-top: -10px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-display-domain .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mq-placeholder .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-mq-placeholder .dcg-mq-math-mode {
  font-size: inherit;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field,
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field {
  border-bottom: 1px solid #bbb;
  padding: 1px 2px;
  margin: 1px;
  min-width: 35px;
  max-width: 60px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field.dcg-invalid,
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #e15855;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-display-domain .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-distribution-parameters-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-cdf-footer-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-clickable-info-container .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {
  border-bottom: 2px solid #ccc;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper {
  display: inline-block;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille {
  border-bottom: 1px solid #bbb;
  padding: 1px 2px;
  margin: 1px;
  min-width: 35px;
  max-width: 35px;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-invalid {
  border-bottom: 2px solid #e15855;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid),
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {
  border-bottom: 2px solid #ccc;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-slider_menu :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-display-domain :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-distribution-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-cdf-footer-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-visualization-parameters-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input,
.dcg-calculator-api-container .dcg-clickable-info-container :not(.dcg-evaluation) > .dcg-mathquill-wrapper .dcg-mathquill-braille .dcg-braille-input {
  font-size: 95%;
}.dcg-calculator-api-container .dcg-container.dcg-narrow .dcg-expression-top-bar {
  border-right: 0;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar {
  border-right: 1px solid rgba(0,0,0,0.2);
  height: 46px;
  border-bottom: 1px solid rgba(0,0,0,0.2);
  line-height: 37px;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 4;
  -webkit-transition: box-shadow 0.2s ease;
  -moz-transition: box-shadow 0.2s ease;
  -o-transition: box-shadow 0.2s ease;
  -ms-transition: box-shadow 0.2s ease;
  transition: box-shadow 0.2s ease;
  padding: 5px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  background: -webkit-linear-gradient(#fcfcfc, #eaeaea);
  background: -moz-linear-gradient(#fcfcfc, #eaeaea);
  background: -o-linear-gradient(#fcfcfc, #eaeaea);
  background: -ms-linear-gradient(#fcfcfc, #eaeaea);
  background: linear-gradient(#fcfcfc, #eaeaea);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar.dcg-expressions-scrolled {
  -webkit-box-shadow: -2px 2px 4px rgba(0,0,0,0.15);
  box-shadow: -2px 2px 4px rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-red,
.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-btn-blue {
  padding: 0 15px;
  height: 35px;
  line-height: 35px;
  position: relative;
  top: -1px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn {
  width: 38px;
  height: 38px;
  line-height: 38px;
  font-size: 110%;
  display: inline-block;
  border-radius: 5px;
  text-align: center;
  margin: -1px -1px -1px -1px;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-rotated {
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-undo,
.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i.dcg-icon-redo {
  font-size: 120%;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn i {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn:not(:last-of-type) {
  margin-right: -2px;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-disabled {
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered,
.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active {
  background: rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-hovered i,
.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-active i {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed {
  background: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-icon-btn.dcg-depressed i {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-container .dcg-expression-top-bar .dcg-center-buttons {
  text-align: center;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
}

.dcg-calculator-api-container .dcg-add-expression-container {
  position: relative;
  display: inline-block;
  height: 37px;
}.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container {
  font-size: 95%;
  position: absolute;
  top: -1px;
  left: 38px;
  width: 32px;
  height: 48px;
  color: #999;
  padding-left: 10px;
  padding-top: 18px;
  text-align: left;
  z-index: 2;
}

.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container i {
  -webkit-transition: 0.2s;
  -moz-transition: 0.2s;
  -o-transition: 0.2s;
  -ms-transition: 0.2s;
  transition: 0.2s;
  width: 16px;
  height: 16px;
}

.dcg-calculator-api-container .dcg-expressionitem .dcg-caret-container.dcg-hovered {
  color: #666;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-collapsed .dcg-caret-container i {
  display: inline-block;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-secretFolder {
  display: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder {
  cursor: pointer;
  color: rgba(0,0,0,0.5);
  font-size: 75%;
  padding: 5px;
  margin-top: 5px;
  margin-left: 15px;
  margin-bottom: -5px;
  margin-right: -5px;
  position: relative;
  z-index: 1;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box {
  display: inline-block;
  vertical-align: top;
  height: 15px;
  width: 15px;
  border-radius: 3px;
  color: #127a3d;
  border: 1px solid #aaa;
  margin-right: 5px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder .dcg-checkbox-box .dcg-icon-check {
  position: relative;
  top: -1px;
  left: 1px;
  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
  display: none;
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-checked .dcg-checkbox-box .dcg-icon-check {
  display: block;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-hovered .dcg-checkbox-box {
  border-color: #888;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed {
  color: #444;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-action-toggle-secret-folder.dcg-depressed .dcg-checkbox-box {
  border-color: #444;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-fade-container:after {
  -webkit-transition: 0;
  -moz-transition: 0;
  -o-transition: 0;
  -ms-transition: 0;
  transition: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder:not(.dcg-collapsed).dcg-has-items .dcg-fade-container:after {
  position: absolute;
  top: 35px;
  bottom: 5px;
  left: 56px;
  content: '';
  border-left: 1px solid rgba(0,0,0,0.2);
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main textarea.dcg-smart-textarea,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionfolder .dcg-main .dcg-displayTextarea {
  padding-left: 20px;
}@-webkit-keyframes dcg-fade-pulse {
  0% {
    opacity: 0.2;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
    filter: alpha(opacity=20);
  }

  50% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }

  100% {
    opacity: 0.2;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
    filter: alpha(opacity=20);
  }
}

@keyframes dcg-fade-pulse {
  0% {
    opacity: 0.2;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
    filter: alpha(opacity=20);
  }

  50% {
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }

  100% {
    opacity: 0.2;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
    filter: alpha(opacity=20);
  }
}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-loading,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-failed {
  font-size: 100%;
  padding: 1px;
  color: #888;
  font-style: italic;
  line-height: 37px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-retry-loading-image {
  color: #407bb5;
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid {
  font-size: 80%;
  display: grid;
  grid-template-columns: min-content 2fr min-content 1fr;
  width: calc(100% + 20px);
  max-width: 450px;
  color: rgba(0,0,0,0.5);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-wrapper {
  width: 100%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-wrapper .dcg-braille-input {
  color: rgba(0,0,0,0.5);
  font-size: 120%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-name,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-image-input-mathquill {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-align-self: center;
  align-self: center;
  -ms-flex-item-align: center;
  padding-right: 5px;
  overflow: hidden;
  padding-top: 2px;
  padding-bottom: 2px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille {
  width: 100%;
  border-bottom: 1px solid transparent;
  cursor: pointer;
  margin-bottom: 1px;
  position: relative;
  top: 2px;
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-hovered,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-hovered {
  border-bottom: 2px solid rgba(0,0,0,0.2);
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-focus,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-focus {
  cursor: text;
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mq-editable-field.dcg-invalid,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-image-input-grid .dcg-mathquill-braille.dcg-invalid {
  border-bottom: 2px solid #e15855;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-image-input-grid,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-braille-input {
  color: #000;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-input-focused .dcg-mathquill-braille {
  border-bottom: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container {
  margin-bottom: 8px;
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container textarea,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage .dcg-smart-textarea-container .dcg-displayTextarea {
  padding-top: 0;
  padding-bottom: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-smart-textarea-container {
  margin-top: -1px;
  margin-bottom: 9px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressionimage.dcg-selected .dcg-main {
  margin-right: -1px;
}.dcg-calculator-api-container .dcg-options-menu-container {
  position: absolute;
  display: none;
  z-index: 61;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-options-menu-container .dcg-options-menu {
  pointer-events: auto;
}

.dcg-calculator-api-container .dcg-options-menu {
  padding: 10px;
  position: relative;
  border: 1px solid #d3d3d3;
  border-radius: 7px;
  -webkit-box-shadow: 0 0 6px rgba(0,0,0,0.15);
  box-shadow: 0 0 6px rgba(0,0,0,0.15);
  background: #fff;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-dividing-line-after {
  padding-bottom: 10px;
  border-bottom: 1px solid #e2e2e2;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-triangle {
  width: 0;
  height: 0;
  border-style: solid;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-triangle:before {
  content: "";
  width: 0;
  height: 0;
  border-style: solid;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-zoom-fit-btn.dcg-disabled {
  opacity: 0.2;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";
  filter: alpha(opacity=20);
}

.dcg-calculator-api-container .dcg-options-menu .dcg-title,
.dcg-calculator-api-container .dcg-options-menu .dcg-toggle-title {
  margin-bottom: 5px;
  opacity: 0.65;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=65)";
  filter: alpha(opacity=65);
  font-weight: 500;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icons {
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox {
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-component-checkbox .dcg-checkbox-children {
  font-size: 90%;
  color: #333;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-options-menu-column-left,
.dcg-calculator-api-container .dcg-options-menu .dcg-options-menu-column-right {
  display: inline-block;
  width: 95px;
  vertical-align: top;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-options-menu-column-left {
  margin-right: 20px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container {
  display: inline-block;
  width: 29px;
  height: 29px;
  border-radius: 50%;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(:last-of-type) {
  margin-right: 4px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container.dcg-disabled {
  cursor: default !important;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-hovered:not(.dcg-disabled) {
  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
  box-shadow: 0 0 0 2px rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-options-menu .dcg-style-icon-container:not(.dcg-disabled).dcg-depressed:not(.dcg-disabled) {
  -webkit-box-shadow: 0 0 0 2px rgba(0,0,0,0.25);
  box-shadow: 0 0 0 2px rgba(0,0,0,0.25);
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity {
  font-size: 80%;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field {
  border-bottom: 1px solid #bbb;
  padding: 1px 2px;
  margin: 1px;
  min-width: 25px;
  max-width: 40px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #e15855;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-opacity .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {
  border-bottom: 2px solid #ccc;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width {
  font-size: 80%;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field {
  border-bottom: 1px solid #bbb;
  padding: 1px 2px;
  margin: 1px;
  min-width: 55px;
  max-width: 55px;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field.dcg-focus,
.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field.dcg-invalid {
  border-bottom: 2px solid #e15855;
}

.dcg-calculator-api-container .dcg-options-menu .dcg-variable-width .dcg-math-field.dcg-hovered:not(.dcg-focus):not(.dcg-invalid) {
  border-bottom: 2px solid #ccc;
  margin-bottom: 0;
}

/*
 * rules specific to the image menu
 */

.dcg-calculator-api-container .dcg-image-options-menu {
  top: -13px;
  left: 38px;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle {
  position: absolute;
  top: 38px;
  left: -12px;
  border-width: 12px 12px 12px 0;
  border-color: transparent #d3d3d3 transparent transparent;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-triangle:before {
  position: absolute;
  top: -11px;
  left: 1px;
  border-width: 11px 11px 11px 0;
  border-color: transparent #fff transparent transparent;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option {
  display: inline-block;
  width: 29px;
  height: 29px;
  margin-top: 2px;
  border-radius: 50%;
  position: relative;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-opacities-menu .dcg-opacity-option:not(:last-of-type) {
  margin-right: 5px;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-action-changeimage {
  text-align: center;
  color: #999;
  margin-top: 10px;
  text-decoration: underline;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-image-options-menu .dcg-action-changeimage:hover {
  color: #333;
}

/*
 * rules specific to the expression options
 */

.dcg-calculator-api-container .dcg-exp-options-menu {
  top: -35px;
  left: 38px;
}

.dcg-calculator-api-container .dcg-exp-options-menu.dcg-colors-only .dcg-options-menu-column-left {
  display: none;
}

.dcg-calculator-api-container .dcg-exp-options-menu .dcg-triangle {
  position: absolute;
  top: 38px;
  left: -12px;
  border-width: 12px 12px 12px 0;
  border-color: transparent #d3d3d3 transparent transparent;
}

.dcg-calculator-api-container .dcg-exp-options-menu .dcg-triangle:before {
  position: absolute;
  top: -11px;
  left: 1px;
  border-width: 11px 11px 11px 0;
  border-color: transparent #fff transparent transparent;
}

.dcg-calculator-api-container .dcg-exp-options-menu.dcg-slider-options-view {
  top: -45px;
  margin-left: 5px;
}

.dcg-calculator-api-container .dcg-exp-options-menu.dcg-slider-options-view .dcg-triangle {
  top: 44px;
}

/*
 * rules specific to the table props
 */

.dcg-calculator-api-container .dcg-table-column-menu {
  left: -9px;
  top: 34px;
}

.dcg-calculator-api-container .dcg-table-column-menu .dcg-style-icons .dcg-graph-icon {
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-table-column-menu .dcg-options-menu-column-left .dcg-options-menu-section:not(:last-of-type):not(.dcg-lines-menu) {
  padding-bottom: 10px;
  border-bottom: 1px solid #e2e2e2;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle {
  position: absolute;
  top: -9px;
  left: 14px;
  border-width: 0 9px 9px 9px;
  border-color: transparent transparent #d3d3d3 transparent;
}

.dcg-calculator-api-container .dcg-table-column-menu .dcg-triangle:before {
  position: absolute;
  top: 1px;
  left: -8px;
  border-width: 0 8px 8px 8px;
  border-color: transparent transparent #fff transparent;
}.dcg-calculator-api-container .dcg-label-dropdown-view {
  background: #fff;
  position: absolute;
  top: -45px;
  right: 35px;
  padding: 5px;
  z-index: 3;
  background-color: #fff;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 6px;
  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,0.2);
  box-shadow: 0 5px 10px rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-label-dropdown-view.dcg-popover.dcg-left .dcg-arrow {
  top: 60px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-options .dcg-label-option.dcg-hovered {
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-options .dcg-label-option-selected {
  color: #4781b9;
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-additional-group-in-column {
  margin-top: 15px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-component-checkbox {
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-checkbox-children {
  font-size: 90%;
  vertical-align: middle;
  color: #666;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container {
  padding: 5px 10px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group {
  min-width: 90px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group:first-of-type {
  margin-right: 10px;
  min-width: 120px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-group-title {
  font-family: "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;
  font-weight: 500;
  color: #444;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option {
  display: block;
  -webkit-transition: color 0.2s ease;
  -moz-transition: color 0.2s ease;
  -o-transition: color 0.2s ease;
  -ms-transition: color 0.2s ease;
  transition: color 0.2s ease;
  white-space: nowrap;
  font-size: 90%;
  min-height: 24px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-menu-option-selected {
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-menu-option-selected .dcg-menu-option-label {
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected) {
  color: #666;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected).dcg-hovered {
  color: #333;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected).dcg-hovered .dcg-menu-option-label {
  text-decoration: underline;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option:not(.dcg-menu-option-selected).dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-small-label {
  margin-top: 6px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-small-label .dcg-menu-option-icon {
  font-size: 75%;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option.dcg-large-label .dcg-menu-option-icon {
  font-size: 125%;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-menu-option .dcg-menu-option-icon {
  margin-right: 7px;
  color: #bbb;
  display: inline-block;
  width: 15px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-menu-option-icon {
  position: relative;
  top: 4px;
  margin-right: 12px;
  font-size: 23px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon {
  color: #4781b9;
  position: absolute;
  top: 0;
  left: 0;
  font-size: 23px;
  width: 23px;
  height: 23px;
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon.dcg-position-icon-left {
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon.dcg-position-icon-right {
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -o-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon.dcg-position-icon-below {
  -webkit-transform: rotate(180deg);
  -moz-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  transform: rotate(180deg);
}

.dcg-calculator-api-container .dcg-label-dropdown-view .dcg-label-group-container .dcg-label-group .dcg-label-position .dcg-position-direction-icon .dcg-default-position {
  border-radius: 50%;
  position: absolute;
  top: 50%;
  left: 50%;
  margin: -3px 0 0 -3px;
  height: 6px;
  width: 6px;
  background: #4781b9;
}.dcg-calculator-api-container .dcg-container .dcg-dropdown-container {
  padding-right: 5px;
  margin: -5px 0;
  position: relative;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container .dcg-dropdown-wrench-container {
  padding: 5px 0;
  width: 28px;
  text-align: center;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container .dcg-icon-wrench {
  font-size: 110%;
  color: #999;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container .dcg-icon-wrench.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container .dcg-icon-wrench.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-container .dcg-dropdown-container.dcg-no-label {
  visibility: hidden;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-editable-mode-toggle {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding-left: 5px;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container {
  cursor: default;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-warning-container {
  position: absolute;
  bottom: 3px;
  right: 41px;
  background: #fff;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox {
  cursor: pointer;
  color: #999;
  margin-top: 4px;
  font-size: 80%;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox:after {
  content: ":";
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-checkbox-label-colon:after {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box {
  display: inline-block;
  vertical-align: middle;
  height: 1em;
  width: 1em;
  position: relative;
  top: -0.1em;
  border-radius: 3px;
  color: #4781b9;
  border: 1px solid #bbb;
  font-size: 125%;
  margin-right: 2px;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box .dcg-icon-check {
  position: absolute;
  top: 50%;
  left: 50%;
  margin-top: -0.6em;
  margin-left: -0.35em;
  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check {
  visibility: hidden;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box {
  border-color: #999;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-hovered .dcg-checkbox-box:not(.dcg-checked) .dcg-icon-check {
  color: #ccc;
  visibility: visible;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container .dcg-checkbox.dcg-depressed .dcg-checkbox-box .dcg-icon-check {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container input {
  outline: none;
  border: 1px solid #bbb;
  border-top: 0 !important;
  border-right: 0 !important;
  border-left: 0 !important;
  color: #000;
  padding: 4px;
  -webkit-appearance: none;
  border-radius: 0;
  min-width: 5px;
  font-size: 80%;
  margin: 0 5px 0 5px;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-hovered {
  border-color: #ccc;
  border-bottom-width: 2px;
  padding-bottom: 3px;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container input:focus:not([disabled]) {
  border-color: #6399cb;
  border-bottom-width: 2px;
  padding-bottom: 3px;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container input.dcg-disabled-editable-input {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container:not(.dcg-label-visible) input.dcg-disabled-input:not(:focus) {
  border-bottom-color: transparent;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-container .dcg-label-container.dcg-label-visible .dcg-checkbox {
  color: #666;
}

.dcg-calculator-api-container .dcg-container .dcg-option-toggle-view .dcg-toggle-container {
  display: inline-block;
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-container .dcg-option-toggle-view .dcg-toggle-container:not(:last-of-type) {
  margin-right: 15px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-label-container {
  font-size: 120%;
}.dcg-calculator-api-container .dcg-drop-image {
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 42;
  text-align: center;
  vertical-align: middle;
  background: rgba(255,255,255,0.5);
  border: 8px dashed #bbb;
  font-family: sans-serif;
  color: #bbb;
  font-size: 370%;
}

.dcg-calculator-api-container .dcg-drop-image span {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  top: 0;
  height: 3.6em;
  line-height: 1.2em;
  margin: auto;
  padding: 0 20px;
}

.dcg-calculator-api-container .dcg-exppanel-outer {
  display: inline-block;
  overflow-x: visible;
  margin-left: 0;
}

.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container {
  padding-top: 46px;
  width: 100%;
  -webkit-transform: translateZ(0);
  z-index: 40;
  position: absolute;
  top: 0;
  bottom: 0;
  -webkit-transition: -webkit-transform 0.25s ease-out;
  -moz-transition: -moz-transform 0.25s ease-out;
  -o-transition: -o-transform 0.25s ease-out;
  -ms-transition: -ms-transform 0.25s ease-out;
  transition: transform 0.25s ease-out;
}

.dcg-calculator-api-container .dcg-exppanel-outer .dcg-exppanel-container.dcg-add-shadow {
  -webkit-box-shadow: 0 -4px 6px rgba(0,0,0,0.2);
  box-shadow: 0 -4px 6px rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-show-expressions-tab {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  -webkit-animation: dcg-fadeIn 0.3s forwards;
  -moz-animation: dcg-fadeIn 0.3s forwards;
  -o-animation: dcg-fadeIn 0.3s forwards;
  -ms-animation: dcg-fadeIn 0.3s forwards;
  animation: dcg-fadeIn 0.3s forwards;
  -webkit-animation-delay: 0.4s;
  -moz-animation-delay: 0.4s;
  -o-animation-delay: 0.4s;
  -ms-animation-delay: 0.4s;
  animation-delay: 0.4s;
}

.dcg-calculator-api-container .dcg-exppanel {
  height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  overflow-anchor: none;
  border-right: 1px solid rgba(0,0,0,0.2);
  z-index: 0;
  -webkit-overflow-scrolling: touch;
}

.dcg-calculator-api-container .dcg-exppanel .dcg-expressionlist {
  position: relative;
  padding-bottom: 50px;
  min-height: 100%;
}

.dcg-calculator-api-container .dcg-narrow .dcg-exppanel {
  border-right: 0;
}.dcg-calculator-api-container .dcg-parameter-suggestion-container {
  font-size: 80%;
  position: relative;
  top: -9px;
  margin-left: 2px;
  white-space: nowrap;
  width: 100%;
  padding-right: 5px;
  -o-text-overflow: ellipsis;
  text-overflow: ellipsis;
  overflow: hidden;
  color: #666;
  cursor: default;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-parameter-suggestion-braille {
  top: -6px;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-hovered .dcg-default-marker {
  color: #666;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container.dcg-depressed .dcg-default-marker {
  color: #333;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-default-marker {
  color: rgba(0,0,0,0.5);
  margin-left: 0.3em;
}

.dcg-calculator-api-container .dcg-parameter-suggestion-container .dcg-parameter-name:not(:last-of-type):after {
  content: ',';
  margin-right: 5px;
}.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-container {
  position: absolute;
  top: 100%;
  left: -5px;
  right: -5px;
  margin-top: 4px;
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener {
  margin-top: -2px;
  margin-left: 1px;
  padding: 5px 5px;
  text-align: center;
  font-size: 140%;
  cursor: pointer;
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener:before {
  content: "";
  width: 24px;
  height: 24px;
  border-radius: 50%;
  display: inline-block;
  position: absolute;
  top: 50%;
  left: 50%;
  margin-left: -12px;
  margin-top: -13px;
  background: currentColor;
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-hovered:before {
  opacity: 0.15;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=15)";
  filter: alpha(opacity=15);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-menu-open:before {
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-play-pause-icon-view .dcg-slider-menu-opener.dcg-depressed:before {
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
}.dcg-calculator-api-container .dcg-slider-options-view {
  width: 200px;
  padding: 15px 15px 10px 15px;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-title {
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle {
  margin-bottom: 20px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle .dcg-toggle-option {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  color: #666;
  font-size: 105%;
  height: 30px;
  line-height: 30px;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-toggle .dcg-toggle-option i {
  position: relative;
  top: -3px;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-title,
.dcg-calculator-api-container .dcg-slider-options-view .dcg-slider-speed-menu .dcg-slider-speed-container {
  display: inline-block;
}.dcg-calculator-api-container .dcg-slider-speed-container {
  float: right;
  position: relative;
  top: -1px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {
  color: #666;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-hovered,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-hovered {
  color: #222;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-depressed,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-disabled,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-disabled {
  opacity: 0.25;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=25)";
  filter: alpha(opacity=25);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {
  -webkit-transform: rotate(180deg);
  -moz-transform: rotate(180deg);
  -o-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  transform: rotate(180deg);
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i {
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower {
  cursor: pointer;
  font-size: 70%;
  display: inline-block;
  width: 26px;
  height: 26px;
  text-align: center;
  line-height: 26px;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 4px;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-hovered,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-hovered {
  background: rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster.dcg-depressed,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower.dcg-depressed {
  background: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-faster i,
.dcg-calculator-api-container .dcg-slider-speed-container .dcg-action-slower i {
  position: relative;
  left: 1px;
}

.dcg-calculator-api-container .dcg-slider-speed-container .dcg-variable-speed {
  width: 45px;
  font-size: 90%;
  display: inline-block;
  text-align: center;
}.dcg-calculator-api-container .dcg-slider-container {
  min-height: 26px;
  display: block;
  position: relative;
}

.dcg-calculator-api-container .dcg-slider {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  margin-left: -15px;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}.dcg-calculator-api-container .dcg-smart-textarea-container {
  position: relative;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea,
.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea {
  border: 0;
  font: inherit;
  resize: none;
  background: transparent;
  overflow: hidden;
  outline: none;
  color: #000;
  white-space: pre-wrap;
  word-wrap: break-word;
  width: 100%;
  padding: 3px;
  margin: -1px;
}

.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  position: absolute;
  top: 1px;
  left: 0;
  bottom: 0;
  right: 0;
  height: 100%;
}

.dcg-calculator-api-container .dcg-smart-textarea-container textarea.dcg-smart-textarea.dcg-empty {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea:after {
  content: '|';
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  width: 0;
  overflow: hidden;
  display: inline-block;
  height: 1px;
}

.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a {
  z-index: 1;
  position: relative;
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a.dcg-hovered,
.dcg-calculator-api-container .dcg-smart-textarea-container .dcg-displayTextarea a .dcg-depressed {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container .dcg-displayTextarea {
  pointer-events: none;
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
}

.dcg-calculator-api-container .dcg-selected .dcg-smart-textarea-container textarea {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}.dcg-calculator-api-container .dcg-stats-footer-container {
  margin-right: $evaluation-margin;
  cursor: text;
  padding-right: 5px;
}

.dcg-calculator-api-container .dcg-stats-footer-container table {
  margin-left: auto;
}

.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
  margin-top: 3px;
  border: 1px solid rgba(206,206,206,0.8);
  border-radius: 4px;
  background: rgba(0,0,0,0.04);
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
}

.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-row-header {
  display: inline-block;
  border-right: 1px solid rgba(206,206,206,0.8);
  margin-right: 5px;
  width: 68px;
  padding: 5px;
}

.dcg-calculator-api-container .dcg-stats-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view {
  padding: 3px 6px 3px 3px;
}.dcg-calculator-api-container .dcg-suggested-zoom-view {
  position: absolute;
  bottom: 7px;
  left: 50%;
  font-size: 20px;
  line-height: 20px;
  margin-left: -10px;
  text-align: center;
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
}

.dcg-calculator-api-container .dcg-suggested-zoom-view i {
  padding: 5px;
  margin-left: -5px;
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
}

.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-hovered {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-suggested-zoom-view i.dcg-depressed {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-icon-container {
  position: absolute;
  top: 50%;
  left: 5px;
  margin-top: -14.5px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-drag-icon {
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
  vertical-align: middle;
  cursor: text;
  margin-left: 5px;
  margin-right: -10px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell-math-content,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-mathquill-braille {
  outline: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-cell-math-content,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-cell:not(.dcg-non-editable) .dcg-mathquill-braille {
  max-width: 100px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container {
  overflow: hidden;
  padding-left: 15px;
  padding-right: 15px;
  position: relative;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:before {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  z-index: 1;
  background: -webkit-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(right, rgba(255,255,255,0), #fff);
  background: linear-gradient(to left, rgba(255,255,255,0), #fff);
  width: 20px;
  content: '';
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container:after {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0), #fff);
  width: 20px;
  content: '';
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-table-container .dcg-table-sliding-container {
  -webkit-transition: -webkit-transform 0.15s;
  -moz-transition: -moz-transform 0.15s;
  -o-transition: -o-transform 0.15s;
  -ms-transition: -ms-transform 0.15s;
  transition: transform 0.15s;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-main {
  padding-top: 20px;
  padding-bottom: 5px;
  position: relative;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td {
  border-top: 1px solid #e5e5e5;
  text-align: center;
  font-size: 80%;
  color: rgba(0,0,0,0.5);
  padding: 8px 0;
  font-style: italic;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more {
  color: #4781b9;
  font-style: normal;
  text-decoration: underline;
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-hovered {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-show-more-row td .dcg-show-more.dcg-depressed {
  color: #033b70;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata {
  position: relative;
  display: table;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row {
  display: table-row;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell {
  display: table-cell;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell {
  border-top: 1px solid #e5e5e5;
  padding: 7px 10px 7px 20px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type) .dcg-cell.dcg-non-editable {
  padding: 7px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:not(:first-of-type).dcg-braille-row .dcg-cell {
  padding: 7px 20px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:nth-of-type(2) .dcg-cell {
  border-top: 1px solid #444;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell {
  vertical-align: bottom;
  padding: 7px 5px 3px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) {
  padding: 7px 15px 3px 30px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view {
  margin-left: 10px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell .dcg-math-field {
  min-height: 29px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type .dcg-cell:first-of-type.dcg-error {
  padding-left: 33px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row:first-of-type.dcg-braille-row .dcg-cell:not(:first-of-type):not(:last-of-type) {
  padding: 7px 15px 3px 40px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-static-mathquill-view {
  padding-right: 8px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell {
  position: relative;
  text-align: center;
  vertical-align: middle;
  font-size: 72%;
  min-height: 34px;
  min-width: 40px;
  cursor: text;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-braille-input {
  text-align: center;
  min-width: 40px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(:first-of-type) {
  border-left: 1px solid #e5e5e5;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:nth-of-type(2) {
  border-left: 1px solid #444;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable {
  cursor: default;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-non-editable .dcg-mq-math-mode {
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell:not(.dcg-non-editable):not(.dcg-selected).dcg-empty .dcg-empty-line {
  position: absolute;
  width: 26px;
  left: 50%;
  margin-left: -13px;
  border-top: 1px dashed #bbb;
  bottom: 10px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border {
  position: absolute;
  left: -1px;
  top: -1px;
  bottom: -1px;
  right: -1px;
  z-index: 1;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable {
  background: #f5f5f5;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-left .dcg-tooltip-hit-area-container:before {
  background: -webkit-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);
  background: -moz-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);
  background: -o-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);
  background: -ms-linear-gradient(right, rgba(245,245,245,0), #f5f5f5);
  background: linear-gradient(to left, rgba(245,245,245,0), #f5f5f5);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected.dcg-non-editable .dcg-mathquill-braille-overflow-right .dcg-tooltip-hit-area-container:after {
  background: -webkit-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);
  background: -moz-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);
  background: -o-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);
  background: -ms-linear-gradient(left, rgba(245,245,245,0), #f5f5f5);
  background: linear-gradient(to right, rgba(245,245,245,0), #f5f5f5);
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-selected:not(.dcg-non-editable) .dcg-inner-border {
  border: 2px solid #6399cb;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-mq-math-mode {
  position: relative;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell .dcg-table-icon-error-container {
  position: absolute;
  top: 50%;
  left: 4px;
  margin-top: -7px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header {
  font-size: 85%;
  min-height: 37px;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header .dcg-mathquill-braille {
  min-height: 30px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-static-mathquill-view,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-static-mathquill-view,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header:not(:first-of-type):not(:last-of-type) .dcg-mathquill-braille,
.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata .dcg-row .dcg-cell.dcg-table-header.dcg-error .dcg-mathquill-braille {
  text-align: center;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-right-column):after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  background: -webkit-linear-gradient(right, #fff, rgba(255,255,255,0));
  background: -moz-linear-gradient(right, #fff, rgba(255,255,255,0));
  background: -o-linear-gradient(right, #fff, rgba(255,255,255,0));
  background: -ms-linear-gradient(right, #fff, rgba(255,255,255,0));
  background: linear-gradient(to left, #fff, rgba(255,255,255,0));
  width: 60px;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row):before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 30px;
  pointer-events: none;
  background: -webkit-linear-gradient(bottom, #fff, rgba(255,255,255,0));
  background: -moz-linear-gradient(bottom, #fff, rgba(255,255,255,0));
  background: -o-linear-gradient(bottom, #fff, rgba(255,255,255,0));
  background: -ms-linear-gradient(bottom, #fff, rgba(255,255,255,0));
  background: linear-gradient(to top, #fff, rgba(255,255,255,0));
  z-index: 1;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable .dcg-tabledata:not(.dcg-focus-in-bottom-row) .dcg-row:last-of-type .dcg-cell .dcg-empty-line {
  display: none;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type {
  visibility: hidden;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row:last-of-type .dcg-cell {
  border-color: transparent;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-expressiontable:not(.dcg-selected) .dcg-tabledata .dcg-row .dcg-cell:last-of-type {
  border-color: transparent;
  visibility: hidden;
}.dcg-calculator-api-container .dcg-toggle-view {
  float: right;
  padding: 5px;
  margin-top: 5px;
  display: inline-block;
  width: 30px;
  height: 8px;
  background: #ddd;
  border-radius: 8px;
  position: relative;
  -webkit-transition: all 0.2s;
  -moz-transition: all 0.2s;
  -o-transition: all 0.2s;
  -ms-transition: all 0.2s;
  transition: all 0.2s;
}

.dcg-calculator-api-container .dcg-toggle-view .dcg-toggle-switch {
  position: absolute;
  top: -4px;
  left: 0;
  width: 18px;
  height: 18px;
  background: #f5f5f5;
  border-radius: 50%;
  -webkit-transition: all 0.2s;
  -moz-transition: all 0.2s;
  -o-transition: all 0.2s;
  -ms-transition: all 0.2s;
  transition: all 0.2s;
  -webkit-box-shadow: 0 2px 2px rgba(0,0,0,0.2), 0 0 3px rgba(0,0,0,0.2);
  box-shadow: 0 2px 2px rgba(0,0,0,0.2), 0 0 3px rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled {
  -webkit-transition: all 0.2s;
  -moz-transition: all 0.2s;
  -o-transition: all 0.2s;
  -ms-transition: all 0.2s;
  transition: all 0.2s;
}

.dcg-calculator-api-container .dcg-toggle-view.dcg-toggled .dcg-toggle-switch {
  -webkit-transition: all 0.2s;
  -moz-transition: all 0.2s;
  -o-transition: all 0.2s;
  -ms-transition: all 0.2s;
  transition: all 0.2s;
  left: 12px;
  background: #666;
}.dcg-calculator-api-container .dcg-ttest-footer-container {
  margin-right: $evaluation-margin;
  cursor: text;
  padding-right: 5px;
}

.dcg-calculator-api-container .dcg-ttest-footer-container table {
  margin-left: auto;
}

.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value {
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
  user-select: text;
  margin-top: 3px;
  border: 1px solid rgba(206,206,206,0.8);
  border-radius: 4px;
  background: rgba(0,0,0,0.04);
  opacity: 0.75;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=75)";
  filter: alpha(opacity=75);
}

.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-operator .dcg-static-mathquill-view {
  border-right: 1px solid rgba(206,206,206,0.8);
  margin-right: 5px;
  min-width: 35px;
  text-align: center;
  padding: 3px;
}

.dcg-calculator-api-container .dcg-ttest-footer-container .dcg-value .dcg-evaluation .dcg-static-mathquill-view {
  padding: 3px 6px 3px 3px;
}.dcg-calculator-api-container .dcg-visualization-parameters-container {
  margin-bottom: 5px;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-smaller-font {
  font-size: 85%;
  margin-left: 2px;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-mathquill-wrapper {
  margin-left: 10px;
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-parameter-name {
  font-size: 105%;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container {
  display: inline-block;
  margin-bottom: 5px;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container:not(:last-of-type) {
  margin-right: 15px;
}

.dcg-calculator-api-container .dcg-visualization-parameters-container .dcg-toggle-container .dcg-toggle-option {
  min-width: 65px;
}.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {
  top: -306px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-arrow {
  border-top-color: #f7f7f7;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior {
  height: 306px !important;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  padding: 3px 6px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding: 10px 0 5px;
  text-transform: capitalize;
  color: #333;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading:not(:first-of-type) {
  margin-left: 6px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading:not(.dcg-selected):not(.dcg-hovered):not(.dcg-depressed) {
  border-bottom: 3px solid #e2e2e2;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading.dcg-hovered {
  border-bottom: 3px solid #ccc;
  color: #000;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading.dcg-depressed {
  border-bottom: 3px solid #bbb;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-header .dcg-heading.dcg-selected {
  color: #4781b9;
  border-bottom: 3px solid #4781b9;
  cursor: default;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {
  padding: 0;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior {
  padding: 0;
  width: 258px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-popover-header table {
  border-collapse: collapse;
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container {
  width: 33.3%;
  float: left;
  height: 42px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container.dcg-keypad-short-btn {
  height: 36px;
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-interior .dcg-keypad-btn-container .dcg-keypad-btn {
  font-size: 80% !important;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-popover-section-separator {
  display: block;
  clear: both;
  border-bottom: 1px solid #e2e2e2;
  margin: 0 2px 4px;
  padding-top: 4px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading {
  color: #888;
  text-transform: uppercase;
  font-size: 75%;
  text-align: center;
  padding-top: 8px;
  padding-bottom: 5px;
  clear: both;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a {
  color: #000;
  margin-left: 5px;
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-hovered {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-section-heading a.dcg-depressed {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-interior-buttons {
  margin-left: 1px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option {
  border-bottom: 1px solid rgba(0,0,0,0.2);
  cursor: pointer;
  margin: 4px 1px 0 3px !important;
  width: 60px;
  height: 38px;
  line-height: 28px;
  text-align: center;
  line-height: 38px;
  padding: 0;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover .dcg-option.dcg-inverse-trig .dcg-mq-supsub {
  line-height: 0;
  font-size: 80%;
  position: relative;
  top: -0.5em;
  margin-right: -5px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left {
  top: auto;
  bottom: 2px;
  right: 18%;
  left: auto;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover.dcg-left .dcg-arrow {
  top: auto;
}

.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-popover-interior {
  width: 300px;
}

.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-interior-buttons {
  font-size: 80%;
}

@media screen and (max-width: 330px) {
  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-popover-interior {
    width: 255px;
  }

  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-functions-popover .dcg-interior-buttons {
    font-size: 70%;
  }
}.dcg-calculator-api-container .dcg-keypad .dcg-keys-container {
  position: absolute;
  bottom: 0;
  z-index: 60;
  width: 100%;
  margin: 0 auto;
  padding: 0;
  -webkit-transition: opacity 0.3s;
  -moz-transition: opacity 0.3s;
  -o-transition: opacity 0.3s;
  -ms-transition: opacity 0.3s;
  transition: opacity 0.3s;
}

.dcg-calculator-api-container .dcg-keypad .dcg-functions-popover {
  position: absolute;
  right: 8px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-keyboard,
.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-keyboard {
  font-size: 175%;
  float: left;
  margin-right: 8px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-down,
.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-down,
.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad .dcg-icon-caret-up,
.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad .dcg-icon-caret-up {
  font-size: 75%;
  line-height: 2rem;
}

.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad-container {
  position: absolute;
  top: -2.5rem;
  left: -1px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad-container {
  z-index: 60;
  position: absolute;
  bottom: 5px;
  left: 5px;
  -webkit-animation: dcg-fadeIn-show-keypad 0.6s;
  -moz-animation: dcg-fadeIn-show-keypad 0.6s;
  -o-animation: dcg-fadeIn-show-keypad 0.6s;
  -ms-animation: dcg-fadeIn-show-keypad 0.6s;
  animation: dcg-fadeIn-show-keypad 0.6s;
}

.dcg-calculator-api-container .dcg-keypad .dcg-minimize-keypad {
  padding: 0.25rem 1.25rem;
  border-top-left-radius: 5px;
  border-top-right-radius: 5px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-show-keypad {
  padding: 4px 14px;
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys {
  position: relative;
  width: 100%;
  max-width: 835px;
  margin: auto;
  text-align: center;
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys {
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys-background {
  background: #f0f0f0;
  border-top: 1px solid rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);
  box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad {
  background: #f0f0f0;
  color: rgba(0,0,0,0.7);
  border: 1px solid rgba(0,0,0,0.1);
  border-bottom: 1px solid #f0f0f0;
  -webkit-box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);
  box-shadow: 0 -1px 3px 0 rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-hovered {
  color: rgba(0,0,0,0.9);
}

.dcg-calculator-api-container .dcg-keypad .dcg-keys-background .dcg-minimize-keypad.dcg-depressed {
  color: #000;
}

.dcg-calculator-api-container .dcg-narrow .dcg-hide-on-narrow {
  display: none;
}

.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover:not(.dcg-left) {
  position: absolute;
  margin-left: -70px;
}

.dcg-calculator-api-container .dcg-narrow .dcg-keypad .dcg-functions-popover.dcg-left {
  right: 18%;
}

@-webkit-keyframes dcg-fadeIn-show-keypad {
  0% {
    -webkit-transform: translate(0, 10px);
    -moz-transform: translate(0, 10px);
    -o-transform: translate(0, 10px);
    -ms-transform: translate(0, 10px);
    transform: translate(0, 10px);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  50% {
    -webkit-transform: translate(0, 10px);
    -moz-transform: translate(0, 10px);
    -o-transform: translate(0, 10px);
    -ms-transform: translate(0, 10px);
    transform: translate(0, 10px);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    -webkit-transform: translate(0, 0);
    -moz-transform: translate(0, 0);
    -o-transform: translate(0, 0);
    -ms-transform: translate(0, 0);
    transform: translate(0, 0);
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-fadeIn-show-keypad {
  0% {
    -webkit-transform: translate(0, 10px);
    -moz-transform: translate(0, 10px);
    -o-transform: translate(0, 10px);
    -ms-transform: translate(0, 10px);
    transform: translate(0, 10px);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  50% {
    -webkit-transform: translate(0, 10px);
    -moz-transform: translate(0, 10px);
    -o-transform: translate(0, 10px);
    -ms-transform: translate(0, 10px);
    transform: translate(0, 10px);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    -webkit-transform: translate(0, 0);
    -moz-transform: translate(0, 0);
    -o-transform: translate(0, 0);
    -ms-transform: translate(0, 0);
    transform: translate(0, 0);
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container {
  height: 40px;
  display: inline-block;
  position: relative;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn {
  position: absolute;
  top: 2px;
  left: 2px;
  right: 2px;
  bottom: 2px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -o-box-orient: horizontal;
  -webkit-flex-flow: row;
  -ms-flex-flow: row;
  flex-flow: row;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  padding: 0;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content {
  text-align: center;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sup,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sup,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-sub,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-sub,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-to,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-to,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-large-operator .dcg-mq-from,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-int .dcg-mq-from {
  display: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-supsub {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-mq-sqrt-stem {
  width: 4px;
  padding: 0;
  background: transparent;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=shift] {
  padding-top: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="/"],
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="-"] {
  padding-top: 1px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command="*"] {
  padding-top: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=left],
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=right],
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=backspace] {
  font-size: 110%;
  padding-top: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container [dcg-command=enter] {
  font-size: 140%;
  padding-top: 3px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn .dcg-keypad-btn-content {
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray {
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);
  box-shadow: inset 0 1px rgba(255,255,255,0.25), inset 0 -1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(#fff, #fafafa);
  background: -moz-linear-gradient(#fff, #fafafa);
  background: -o-linear-gradient(#fff, #fafafa);
  background: -ms-linear-gradient(#fff, #fafafa);
  background: linear-gradient(#fff, #fafafa);
  border: 1px solid #d8d8d8;
  border-radius: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-hovered {
  background: #f5f5f5;
  border-color: #d8d8d8;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray.dcg-depressed {
  background: #ebebeb;
  border-color: #cfcfcf;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray {
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.02);
  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  background: -moz-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  background: -o-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  background: -ms-linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  background: linear-gradient(rgba(0,0,0,0.13), rgba(0,0,0,0.16));
  border: 1px solid #bbb;
  border-radius: 2px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-hovered {
  background: rgba(0,0,0,0.16);
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray.dcg-depressed {
  -webkit-box-shadow: none;
  box-shadow: none;
  background: rgba(0,0,0,0.19);
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border-radius: 2px;
  color: #fff;
  background: #4781b9;
  border: 1px solid #3f73a6;
  -webkit-box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);
  box-shadow: inset 0 1px rgba(255,255,255,0.1), inset 0 -1px rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-hovered:not(.dcg-disabled),
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-hovered:not(.dcg-disabled) {
  background: #3f73a6;
  -webkit-transition: background 0.2s;
  -moz-transition: background 0.2s;
  -o-transition: background 0.2s;
  -ms-transition: background 0.2s;
  transition: background 0.2s;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue.dcg-depressed:not(.dcg-disabled),
.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-short-blue.dcg-depressed:not(.dcg-disabled) {
  background: #35608a;
  border: 1px solid #35608a;
  -webkit-box-shadow: none;
  box-shadow: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-tall-blue {
  height: 76px;
}

.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-light-on-gray {
  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,0.25), inset 0 1px rgba(0,0,0,0.02);
  box-shadow: inset 0 -1px rgba(255,255,255,0.25), inset 0 1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(#fafafa, #fff);
  background: -moz-linear-gradient(#fafafa, #fff);
  background: -o-linear-gradient(#fafafa, #fff);
  background: -ms-linear-gradient(#fafafa, #fff);
  background: linear-gradient(#fafafa, #fff);
}

.dcg-calculator-api-container .dcg-inverted-colors .dcg-keypad-btn-container .dcg-keypad-btn.dcg-btn-dark-on-gray {
  -webkit-box-shadow: inset 0 -1px rgba(255,255,255,0.1), inset 0 1px rgba(0,0,0,0.02);
  box-shadow: inset 0 -1px rgba(255,255,255,0.1), inset 0 1px rgba(0,0,0,0.02);
  background: -webkit-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
  background: -moz-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
  background: -o-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
  background: -ms-linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
  background: linear-gradient(rgba(0,0,0,0.16), rgba(0,0,0,0.13));
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray {
  background: rgba(255,255,255,0.3);
  border: 0;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-hovered {
  background: rgba(255,255,255,0.25);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-light-on-gray.dcg-depressed {
  background: rgba(255,255,255,0.15);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray {
  background: rgba(0,0,0,0.15);
  border: 0;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-hovered {
  background: rgba(0,0,0,0.18);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-basic-keypad .dcg-keypad-btn-container .dcg-btn-dark-on-gray.dcg-depressed {
  background: rgba(0,0,0,0.22);
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="/"] .dcg-keypad-btn-content,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="="] .dcg-keypad-btn-content,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<"] .dcg-keypad-btn-content,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow [dcg-command="<="] .dcg-keypad-btn-content {
  position: relative;
  left: -1px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-btn[dcg-command=sqrt] {
  font-size: 80%;
}

@media screen and (max-width: 650px) {
  .dcg-calculator-api-container .dcg-PROJECTOR-MODE:not(.dcg-narrow) .dcg-basic-keypad .dcg-keypad-btn[dcg-command=functions] {
    font-size: 80%;
  }
}.dcg-calculator-api-container .dcg-keypad-control-bar {
  height: 40px;
  background-color: rgba(0,0,0,0.07);
  border-left: 1px solid rgba(0,0,0,0.2);
  border-right: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-bar-contents {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -o-box-orient: horizontal;
  -webkit-box-lines: single;
  -moz-box-lines: single;
  -o-box-lines: single;
  -webkit-flex-flow: row nowrap;
  -ms-flex-flow: row nowrap;
  flex-flow: row nowrap;
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  -o-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-align-items: stretch;
  align-items: stretch;
  -webkit-flex-shrink: 0;
  flex-shrink: 0;
  padding-top: 2px;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-spacer-2 {
  -webkit-box-flex: 2;
  -moz-box-flex: 2;
  -o-box-flex: 2;
  -ms-box-flex: 2;
  box-flex: 2;
  -webkit-flex-grow: 2;
  flex-grow: 2;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-bar {
  height: 52px;
}.dcg-calculator-api-container .dcg-keypad-control-btn {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
  min-width: 40px;
  text-align: center;
  color: rgba(0,0,0,0.6);
  font-size: 87.5%;
}

.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-narrow-control-btn {
  max-width: 80px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-selectable-btn {
  padding: 0 5px;
  height: 38px;
  line-height: 40px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-selectable-btn) {
  height: 32px;
  line-height: 32px;
  margin: 5px;
  border-radius: 5px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn.dcg-disabled {
  color: rgba(0,0,0,0.15);
  cursor: default;
}

.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-hovered {
  color: rgba(0,0,0,0.8);
  background: rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-keypad-control-btn:not(.dcg-disabled):not(.dcg-selectable-btn).dcg-depressed {
  color: #000;
  background: rgba(0,0,0,0.18);
}

.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=settings] i {
  font-size: 120%;
  position: relative;
  top: 1px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=backspace] i,
.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=undo] i,
.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=redo] i {
  font-size: 150%;
  position: relative;
  top: 3px;
}

.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clear] {
  width: 50px;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-keypad-control-btn[dcg-command=clearall] {
  width: 50px;
  line-height: inherit;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  -webkit-box-pack: center;
  -moz-box-pack: center;
  -o-box-pack: center;
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn {
  position: relative;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:after {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  content: "";
  height: 0;
  background: rgba(71,129,185,0.5);
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected) {
  color: #000;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-hovered:not(.dcg-selected):after {
  height: 4px;
  -webkit-transition: height 0.2s;
  -moz-transition: height 0.2s;
  -o-transition: height 0.2s;
  -ms-transition: height 0.2s;
  transition: height 0.2s;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected {
  color: #000;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn.dcg-selected:after {
  height: 4px;
  background: #4781b9;
}

.dcg-calculator-api-container .dcg-keypad-control-bar .dcg-keypad-control-btn:not(.dcg-disabled).dcg-selectable-btn:first-of-type {
  margin-left: 6px;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn {
  min-width: 25px;
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clearall],
.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-btn[dcg-command=clear] {
  width: 50px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn {
  font-size: 150%;
  height: 44px;
  line-height: 44px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall],
.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clear] {
  width: 75px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=clearall] {
  line-height: 20px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=settings] i {
  top: 4px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=backspace] i,
.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=undo] i,
.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-btn[dcg-command=redo] i {
  top: 5px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-selectable-btn {
  top: 4px;
}.dcg-calculator-api-container .dcg-keypad-control-toggle {
  display: block;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  -ms-box-flex: 1;
  box-flex: 1;
  -webkit-flex-grow: 1;
  flex-grow: 1;
  line-height: 24px;
  height: 25px;
  margin-top: 7px;
  cursor: pointer;
  color: rgba(0,0,0,0.6);
  font-size: 80%;
  text-transform: uppercase;
  background: #fff;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 5px;
  width: 70px;
  min-width: 50px;
  margin-left: 20px;
  margin-right: 20px;
  position: relative;
  -webkit-box-shadow: inset 1px 1px 2px rgba(0,0,0,0.15);
  box-shadow: inset 1px 1px 2px rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-option {
  text-align: center;
  display: inline-block;
  width: 50%;
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-keypad-control-toggle .dcg-ctrl-toggle-cover {
  position: absolute;
  top: -1px;
  right: -1px;
  bottom: -1px;
  left: 50%;
  border-radius: 5px;
  border: 1px solid rgba(0,0,0,0.2);
  -webkit-transition: -webkit-transform 0.2s;
  -moz-transition: -moz-transform 0.2s;
  -o-transition: -o-transform 0.2s;
  -ms-transition: -ms-transform 0.2s;
  transition: transform 0.2s;
}

.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered {
  border-color: rgba(0,0,0,0.3);
}

.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-hovered .dcg-ctrl-toggle-cover {
  border-color: rgba(0,0,0,0.3);
}

.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-depressed .dcg-ctrl-toggle-cover {
  border-color: rgba(0,0,0,0.5);
}

.dcg-calculator-api-container .dcg-keypad-control-toggle.dcg-toggled .dcg-ctrl-toggle-cover {
  -webkit-transform: translate(-100%, 0);
  -moz-transform: translate(-100%, 0);
  -o-transform: translate(-100%, 0);
  -ms-transform: translate(-100%, 0);
  transform: translate(-100%, 0);
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-keypad-control-toggle {
  background: rgba(255,255,255,0.3);
}

.dcg-calculator-api-container .dcg-narrow.dcg-calc-basic-main-wrapper .dcg-keypad-control-toggle {
  margin-left: 5px;
  margin-right: 5px;
}

.dcg-calculator-api-container .dcg-calc-basic-main-wrapper:not(.dcg-narrow) .dcg-projector-mode .dcg-keypad-control-toggle {
  font-size: 150%;
  min-width: 100px;
  margin: 14px 15px 0 15px;
  height: 28px;
  line-height: 26px;
}.dcg-calculator-api-container .dcg-basic-keypad-container {
  background: rgba(0,0,0,0.07);
  border: 1px solid rgba(0,0,0,0.2);
  border-top: none;
}

.dcg-calculator-api-container .dcg-basic-keypad {
  margin: 0;
  padding: 4px 3px;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-to,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator .dcg-mq-from {
  display: none !important;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int .dcg-mq-supsub {
  display: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-large-operator,
.dcg-calculator-api-container .dcg-basic-keypad .dcg-mq-int {
  font-size: 70%;
  position: relative;
  top: -1px;
}

.dcg-calculator-api-container .dcg-basic-keypad * {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  -webkit-touch-callout: none;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-half-width-placeholder {
  -webkit-box-flex: 0.5;
  -moz-box-flex: 0.5;
  -o-box-flex: 0.5;
  -ms-box-flex: 0.5;
  box-flex: 0.5;
  -webkit-flex-grow: 0.5;
  flex-grow: 0.5;
}

.dcg-calculator-api-container .dcg-basic-keypad .dcg-partition-placeholder {
  width: 4%;
}

.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad .dcg-keypad-btn-container {
  height: 52px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container {
  height: 46px;
}

.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row {
  font-size: 90%;
}

.dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row .dcg-keypad-btn-container {
  height: 44px;
}

@media screen and (max-width: 470px) {
  .dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad {
    font-size: 115%;
  }
}

@media screen and (max-width: 330px) {
  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-basic-keypad {
    font-size: 125%;
  }

  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-projector-mode .dcg-sci-func-keypad .dcg-basic-keypad {
    font-size: 90%;
  }

  .dcg-calculator-api-container .dcg-calculator-api-container .dcg-PROJECTOR-MODE.dcg-narrow .dcg-basic-keypad .dcg-keypad-row {
    font-size: 70%;
  }
}.dcg-calculator-api-container .dcg-keypad-row {
  padding: 0;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -o-box-orient: horizontal;
  -webkit-box-lines: single;
  -moz-box-lines: single;
  -o-box-lines: single;
  -webkit-flex-flow: row nowrap;
  -ms-flex-flow: row nowrap;
  flex-flow: row nowrap;
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  -o-box-align: stretch;
  -ms-flex-align: stretch;
  -webkit-align-items: stretch;
  align-items: stretch;
  margin: 0;
}.dcg-calculator-api-container .dcg-tooltip-hit-area-container {
  display: inline-block;
  position: relative;
  cursor: default !important;
  line-height: 0;
}

.dcg-calculator-api-container .dcg-tooltip-mount-pt {
  position: absolute;
  top: 0;
  left: 0;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container {
  position: absolute;
  pointer-events: none;
  z-index: 10000;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container {
  position: absolute;
  z-index: 10000;
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
  white-space: normal;
  width: 200px;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message {
  background: #000;
  color: #fff;
  border-radius: 4px;
  padding: 5px 8px;
  font-size: 14px;
  text-shadow: none;
  line-height: 1.1em;
  display: inline-block;
  pointer-events: all;
  text-align: center;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex {
  background: #fff;
  color: #000;
  opacity: 1;
  -ms-filter: none;
  filter: none;
  border: 1px solid #bbb;
  border-radius: 5px;
  position: relative;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-static-mathquill-view {
  width: 100%;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-sticky-not-stuck {
  opacity: 0.95;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=95)";
  filter: alpha(opacity=95);
  color: #666;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex.dcg-tooltip-overflow:after {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  right: 8px;
  width: 14px;
  background: -webkit-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -moz-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -o-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: -ms-linear-gradient(left, rgba(255,255,255,0), #fff);
  background: linear-gradient(to right, rgba(255,255,255,0), #fff);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-message-container .dcg-tooltip-message.dcg-latex .dcg-mq-root-block * {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
  cursor: default;
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container .dcg-tooltip-arrow {
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -o-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  transform: rotate(45deg);
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-n-s .dcg-tooltip-arrow {
  -webkit-transform: translateX(-50%) rotate(45deg);
  -moz-transform: translateX(-50%) rotate(45deg);
  -o-transform: translateX(-50%) rotate(45deg);
  -ms-transform: translateX(-50%) rotate(45deg);
  transform: translateX(-50%) rotate(45deg);
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container.dcg-latex-tooltip-positioning-container.dcg-tooltip-gravity-e-w .dcg-tooltip-arrow {
  -webkit-transform: translateY(-50%) rotate(45deg);
  -moz-transform: translateY(-50%) rotate(45deg);
  -o-transform: translateY(-50%) rotate(45deg);
  -ms-transform: translateY(-50%) rotate(45deg);
  transform: translateY(-50%) rotate(45deg);
}

.dcg-calculator-api-container .dcg-tooltip-positioning-container .dcg-tooltip-arrow {
  position: absolute;
  -webkit-animation: dcg-fadeIn 0.3s;
  -moz-animation: dcg-fadeIn 0.3s;
  -o-animation: dcg-fadeIn 0.3s;
  -ms-animation: dcg-fadeIn 0.3s;
  animation: dcg-fadeIn 0.3s;
  z-index: 10000;
}.dcg-calculator-api-container .dcg-settings-view-container {
  line-height: 0;
}

.dcg-calculator-api-container .dcg-settings-view-container .dcg-settings-container {
  position: absolute;
  top: 2px;
  right: 38px;
  line-height: 1em;
}

.dcg-calculator-api-container .dcg-settings-container {
  bottom: auto;
  z-index: 61;
  width: 290px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-arrow {
  top: 18px !important;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-popover-interior {
  padding: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn {
  border-radius: 6px;
  display: inline-block;
  padding: 3px;
  text-align: center;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn.dcg-active {
  border: 1px solid #127a3d;
  background-color: #127a3d;
  color: rgba(255,255,255,0.9);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn.dcg-active.dcg-hovered {
  border-color: rgba(13,84,42,0.6);
  -webkit-box-shadow: inset 0 0 0 1px rgba(13,84,42,0.6);
  box-shadow: inset 0 0 0 1px rgba(13,84,42,0.6);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn.dcg-active.dcg-depressed {
  border-color: #0d542a;
  -webkit-box-shadow: inset 0 0 0 1px #0d542a;
  box-shadow: inset 0 0 0 1px #0d542a;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn:not(.dcg-active) {
  border: 1px solid #127a3d;
  color: #127a3d;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn:not(.dcg-active).dcg-hovered {
  border-color: #127a3d;
  -webkit-box-shadow: inset 0 0 0 1px #127a3d;
  box-shadow: inset 0 0 0 1px #127a3d;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-modern-btn:not(.dcg-active).dcg-depressed {
  border-color: #0d542a;
  -webkit-box-shadow: inset 0 0 0 1px #0d542a;
  box-shadow: inset 0 0 0 1px #0d542a;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings {
  padding-bottom: 10px;
  border-bottom: 1px solid #ddd;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-visual-settings .dcg-action-projectormode {
  width: 100%;
  padding: 8px;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-minor-checkbox,
.dcg-calculator-api-container .dcg-settings-container .dcg-step-label {
  font-size: 85%;
  color: #444;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  padding-top: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-component-checkbox {
  margin-top: 3px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings {
  min-width: 110px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-grid-settings .dcg-component-checkbox {
  margin-bottom: 2px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-component-checkbox {
  margin-bottom: 3px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-top-section-flex .dcg-top-checkboxes-container .dcg-action-zoom-square {
  float: left;
  clear: left;
  font-size: 80%;
  margin: 3px 0 8px;
  padding: 3px 10px;
  line-height: 1.5em;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container {
  border-top: 1px solid #ddd;
  margin-top: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-y-axis-steps,
.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-action-toggle-x-axis-steps {
  margin-right: -2px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-component-checkbox {
  float: left;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title {
  font-size: 95%;
  height: 1.5em;
  line-height: 2em;
  margin-bottom: 2px;
  margin-top: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title.dcg-x-axis-title {
  margin-top: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title.dcg-y-axis-title {
  margin-top: 20px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-checkbox {
  line-height: 2em;
  color: #444;
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  cursor: pointer;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-checkbox .dcg-checkbox-box {
  font-size: 105%;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label {
  width: 55%;
  outline: none;
  float: right;
  border-radius: 5px;
  color: #444;
  padding: 7px;
  font-size: 90%;
  -webkit-appearance: none;
  border: 1px solid rgba(0,0,0,0.42);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label.dcg-hovered:not([disabled]) {
  border-color: rgba(0,0,0,0.42);
  -webkit-box-shadow: 0 0 0 1px rgba(0,0,0,0.42);
  box-shadow: 0 0 0 1px rgba(0,0,0,0.42);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label:focus:not([disabled]) {
  border-color: $selected-expr-color;
  -webkit-box-shadow: 0 0 0 1px $selected-expr-color;
  box-shadow: 0 0 0 1px $selected-expr-color;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-axes-settings-container .dcg-checkbox-title .dcg-axis-label[disabled] {
  opacity: 0.4;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
  filter: alpha(opacity=40);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup {
  border-top: 1px solid #ddd;
  padding-top: 10px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  width: 100%;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup .dcg-modern-btn {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding: 5px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup .dcg-modern-btn:first-of-type {
  border-radius: 6px 0 0 6px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-radiangroup .dcg-modern-btn:last-of-type {
  border-radius: 0 6px 6px 0;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-arrows {
  text-align: center;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-arrows i {
  font-size: 26px;
  line-height: 28px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon-group {
  margin-left: 24px;
  margin-bottom: 4px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon {
  display: inline-block;
  cursor: pointer;
  width: 28px;
  height: 28px;
  border-radius: 14px;
  -webkit-box-shadow: 0 0 2px rgba(0,0,0,0.25) inset;
  box-shadow: 0 0 2px rgba(0,0,0,0.25) inset;
  background-color: #f9f9f9;
  -webkit-background-size: contain;
  -moz-background-size: contain;
  background-size: contain;
  background-position: center center;
  background-repeat: no-repeat;
  color: #777;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active {
  background-color: #127a3d;
  color: rgba(255,255,255,0.9);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active.dcg-hovered {
  -webkit-box-shadow: inset 0 0 0 2px rgba(13,84,42,0.6);
  box-shadow: inset 0 0 0 2px rgba(13,84,42,0.6);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-active.dcg-depressed {
  -webkit-box-shadow: inset 0 0 0 2px #0d542a;
  box-shadow: inset 0 0 0 2px #0d542a;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-hovered {
  -webkit-box-shadow: inset 0 0 0 2px rgba(0,0,0,0.15);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.15);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon:not(.dcg-active).dcg-depressed {
  -webkit-box-shadow: inset 0 0 0 2px rgba(0,0,0,0.25);
  box-shadow: inset 0 0 0 2px rgba(0,0,0,0.25);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian,
.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar {
  background-position: center center;
  background-repeat: no-repeat;
  border: 1px solid rgba(0,0,0,0.42);
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active,
.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active {
  border: none;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABRUlEQVR4Ae2ZJZQcURQF27vx58Sb8SJ2vD+jgzYswzqcCslW4yKDy2CXwSwz84Zuvu//XDj313mqTJnGV1QPJaIssofziOnA1VHiRGC3EM3AdSKe5J0DHehAB/73gTyrMInSPMvSidgNXAslysAeI94HbhExnHcF+rMpeFthEaV5m2UUcRi4XpToDOxnxGDgNhGzefevXyQOdKADHehAB9Ko8B6laWS5j1gO3GmUaAZ2D3E3cIOI13lXoD+bvyCwVqGF0tSyXETMBu4kStQDu404HbhexKu8+9evYgc60IEOdKAD2ahwjNJsZNlHfA3cNkpsBfYbYi9wnxFHefcXvM2cqdCP0pzJUiLWA3cDJa4F9gDxMnCTiLa880XiQAc60IEO9CrMqzCvwnwVO9CBDnSgA70K8yrsJ+FVmK9iBzrQgQ504HdiRjEpheKY1QAAAABJRU5ErkJggg==");
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-cartesian.dcg-active {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAABO0lEQVR4Ae2ZJ1AzARBGz7v4GbyJF9h4P9FUS5d0zU+v8lQckt6LpRdD773DDzzO366j8+2bVc88c7kkG8SHEAgDcygENh2XBCDLsRdA2nHjQKvtFKhABSrwzwfSEWMdou0wGQeuHZcBIHTsIzDouH1g0XYB33wC+mPsQ7T9JsvAveOmARh37H9g3nHnwLbtfvtDokAFKlCBClQgqRiDEG3K5B9w6LhcANKOvQHqHTcP9Nou4JvPDwhMxMhAtAmTYmDbcdkAJB17CeQ6bhrosZ2eYgUqUIEKVOBvD+QsxiNEe2ZyC7w47hKAC8e+AjeO+w882O4HfJvJizEL0eaZhMCp46oAqHDsHdDtuHVgxHZ6SBSoQAUqUIE6hekUplOYnmIFKlCBClSgTmE6hX3Q6BSmp1iBClSgAhX4BgYE6hY3llM6AAAAAElFTkSuQmCC");
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHs0lEQVR4Ad2bA5AsSxOFZ3Vt7rNt27Zt27Ztfw/Xtm3btm1zb/7xTlRsdMx27/T09ouY+Csvtounu1KVWZtIXdiHrESowiCMu0P2rU1uIo7CW2zl3vgBMoApnBkHwG8xFlMhXoDchrGLY+MAWJmVGB/HCZAyzMf4NRFP4TGMbRwQI8D3MFZTPS6AOYzDaBkXQPZhE8bzifgKF2AY58cEsBHGFMlwfIWWGOPILjlAzmQPxuWJeAsHsQ3j0ZICJIvhGB0T8Rc+wVhJpRICfABjB4f9FwArsBjj2+gA/eeIsXC/e/voAD/FWEGl/wpgFsMwOhWpr84FPMbn/MkyjD78xFvczNHkRODjyMVHAsniHL5niur8aCNdeIpqhaNb+WuCWAsNkQ6jKm8zG3O0juE05BsWYXTkV7owi92ubTvtuSiR4EI9nRc3In8r0JUNWm4nnXiao/x4kApcxTfMdzCHMEXWKEph/7R6t8BEC3iZWqmEhCzOpzkFmOjstDh+P/3Azezgi5DuVFXaYaK+lAovxZzu+HQ9t4WEdxL9WUA5x7oYS3k4pSE7jQUYu+nkfLnwAL/FWMI0rfQzOSnWqUEdCrTGtf8+ZvMwSzV0eHEeLtexGWOZGL4/Rq+wADmCnRj3Uo56WqcDZQNXKcUrrFOv7hzt1fBfswNjD03Zy3fg9WofTr6eTpSM3hgSYGeMYWTp58c0ciDlfFe5kpkCN4ubijYeSls1buKd5DfkYrZgdKNwWv7WNKVTA+QKvfjpnlfdKnWexMMcRTe3/mtqC3iDKeo0n5u8W8R6TemBQ03VvZ4KIHnivPpJkHdg1PHUVOFb1RVQRzsYXMjlGccD/TjRnR/GYUykclLPVzA2kJ8C4PP6Jvskjb1XKzykn7N5nFV6HsZp4US8Br+xS1L0GzX4RUbr8CK98sQvdYoDSHW97Ns+a/yOsZlDuJCxAreIu8hKhC8cSz+nuQqCPBSu0aacWvhcWs7Eo0kw5lLGZ2xpxsuzMYytfEqFKBbmJma7Ca4M6NFDElmKq6njsb4b6Mdb7M+xqrnVd2Q5GmKiNrJk0Qp3YI46cqhP+1FihZWYDxVIu/b1NWJ3sQATzSSrJP7fGIz6NJSh2sG3ya4mezHfqYZG3MNR2uLXuJC3megAfJcMgJPUy1jFG2zHuCk6wAsFax/5gcOKGkROYZGD8UmykFCaJa6tIXmeF3JGjO+okkjwB8aA6ADrYjQv/JoPOoM4lrNUc7I04QzZ2S3snwTwTXmJ3+jbNybLGTE5aXTDGTGOkRI/KBq8smzEuMp75OFTtjuDeLK+3hiqk8skjCZegOQLysuJBA8J4ttczyxnxK7xriImei8awEslj3n+BlG0hJqqu0Sgz/YArIcxHY3lXbXK7+YVSvmo+yHRAH4WdMDmIqZrwcXc4WraYYwiGwHkVPHZNc6I/YQJYh3yfeY6WhxZMQrAwRgvBbS1xxz14yR91+0YDwrgPRrZTWbzaRkxEacGaIqVGJdFACgOvMi3paa033XOIBbwFzX4EmOZrENnnVWO5ELGuaPBXXTH+MV/HVms59KHl6/J9/Ftuw9jvtugXo67PmINVkjtHadu5WPKuiP/HP+VpGp+Sx/gKRjbAtp+xqjrMYizsCTa42TdGTH2VW0Nv9mkkDoXexDypZswVvu3yQK/73muzVfs8MBzPrF3jA6rl/rNJjke5tsiSmCZTRkPMGiLr8JYG9DWBeOjtLa4msJGF0Xa4kCH1dhBdmDmpGlaQnKIniv7zSZL0yF9Ka6OYf6pB27FWE52GmrmKYzJASv9g/FjIv2iBa/wbanEVlmM8Ip6CMaXxVisJ6MA7IPxVnAQLk1TV8ARATmY9RgXRAH4HkYvf2fBRVmWhXIWfnMA/Z0FGQTKRAF4jnioXDHu1noODeFugbE70N16H6NPIkohj5UYtwU4rEcyGWM+h6ZwWD8WtAcDHdZp6hetyOZ2CXT5D5RPvZK/i3H5m2vEF6rxc/nPkDeYHxXgKeKdwwMPTfs7OTV+KHJoqshapxE/UpP/oamZ11GIKsltijl2lmeygzGEd7lagL/mYf4p1IqvqqP/sfN9gb2wJACvCnVwn4L50Hpmhji4j/U0RA597OTqYkMfWRzJu/RggeBuYhx1uJOyKUIfrXxCHxGCR+skty+HCB4V8mCo4FEV5mIsTA4eRQm/vSP+OyPO8BtZ0qYrqeUffksvgJlDb02wb4wBzDclWFcHBzDTCwHnS+NNpFpMIeCHpRU+ChECDh1EP05WZQw1YwiiPyfl0pCs8EH0MGmIM/TFZnNsSdIQZPOpQDQjJ3QaInQi51SWy6g9GDmRky/Fb/xCdthETnqpsAMZpb4jIqXClksUdiqcEjoVlm4ysTTfuUjVaCqnAfB6TDSXM9NLJkZJx/5WGCr/kVNSAaQCDzIUc3R0hHRspIR248Js+yS+5SqqJgMkl6N4mjZswbRZjZgQJaEd/UpALnfSiwLM0UoG04aVErUuTPOck5fyPYfEeiUg/LUm9uNFOrM+IA0xiV+4gpwIlyrivZYioJfyGG8wTzruRe7gJMoFX6/6P7jYk/lXozL/clnmX8/L/AuOmX9FNPMv2Wb+NeXMv+id+VflM/+XDTL+1zX+Bzz06y/bFKL/AAAAAElFTkSuQmCC");
}

.dcg-calculator-api-container .dcg-settings-container .dcg-circle-icon.dcg-action-polar.dcg-active {
  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAQAAAAkGDomAAAHMElEQVR4AeXbA4wk+xbH8f9gbc+1bdu2bdu2bXNxbdu+s+9ac7W2dwerQffnJZPOS6fTtdPVW0k6ed/FoJBf8ZzzO6dD21hMWSgIX+HQUBAGqAxJ4BJzHZ68QF+osXESAm/HeF2TFegANFs9CYE9TMW1SQrU0WjcH5LBCZhnqQQFXoHp+oRkUOFnvJiUQItpwJkhOWwFtkxI4FOoURmSxIv4WfnCC7SxNHYMyWIZ83D8wgpUZijeDMnjOkzVfSEFHoVGK4Tk0dV43B5fYMQ+kseRuUcfW+D1mJK5CsmjTDXeCjnoYysnuNEjJuET97jEvlZVEXEfJ07EE6jMZu5UIy0/9d5xit4hg5ci3gRJ4knUqNTLpYYDmGWoJ91mHN50v3cM0wKY73XbhGBrsEVIlogo8K460OQtp1ol3z2oq13cZjTgGzV4MRSDJUMMvAAY41z923pIlNnS81KATWPd8Uu0fmNfjW4qMJ3q5TXAp9oX/hTbUBrUOiAUhHV8bozOmVsXEx3bZiDbwBi0eCsil4sWeDsm+AvcqyIsEH0NlEKz3UMIyh1rIhi6oAzXHmZjkm1C8Dk+KlSglTThcJ0NBm/oFCLQ3nlmgfetmv2Gv1Uj0p61SMiDPTViqKrWn9bWgr0LFPg2qpVlcssWfKlzyIOd/QuG2SfkYnmvggaX5R6hbc3Be/63W49hmA5tC7QT0jbMOtS5+CT3HraK90CDCzLL8h5BDRhtn+xLpBafZMvRTy0ubEugdv7CkBzJjRiY9ZuebteIlIEWCQtCpdPMAp9ZO1M//Izf9MhZ8zzUqWpD4JlosFjOtoeDY1q/L3eiaaDaBqEQ9PWAZjR7QF/3od6KIQft/IuBCxKoj1m4NIRcPIjZlrO1n8A4hygLhWN1n4FaqagMxW5IWT9k0EE1js+RMVLHPNt28AumgLmu1zXExz6Gg7l2DnnxAb7U3q4GZkXfOp+5xJJW14L9Qx509iTgFUuGYnEQgDctn2f5KpoxVT5SJuLTvEHsEGMA/ypbmPzvRwzxpDQa3Z6balrEaNDgKYdZRTUusLVL/Qa4I1eAdVSDaS4yH/uEYrE1Gi0Wgo1VkxsQrWcc4Lrch0QHEwBPapd1QJkg5g49Q/AQvgjFYhCez3xf5mgTwU82af3Numrxj9sxx5I5Ai/GLLdJ42llmSBWB96TCWJWQ9oyoRh0Uo9dskse15ufCYjrGocf9VHpdzyTLVCVOpwbgmOkcak9DQPD7Bay8COuCMVge9RpFxEQYYJ+rb/bDmmbZgkcjL+1butypMEs5+UGMefhm1AMbogqsG3jbzDeQZnfvIbvlWsVaH0p7JYJYveAtIGq8uxrVTTrFuLja5wTsex1AJ9ZJwTLm4+jfYXDfI33QlDpVNMArB/xppiKHUJ81GObkAf9NGOPTEBMeVRfN2OSX/A2mqxsaz+DMQ7xPu4LefEZzghxUQUWC3lwBEZnLtBHYJZrzADA614Fc12rU6bkHxHy4iE8EOJiPcyLWHYvBmUFxGFySSPtWZkgZnHQN+TBxXh7wYVQvj/7YHrEsg9wZdbPA9yiEQCZnFj2Ng3YPu/ezkO1XlF/ghInKHGiLvEumBmx7B1cE+sS9zYP2xR1iSMTVhqVR3ZOno31kCyHtB4hDy7HGyEu+kD+1oP9MVl5jNfMKfgj5MXjuDvExwzsFPKgu7k4LMaL+hvcHB2xnBzi4xNcEmXCxQ51KStF9GBqsVWIjyvwUUSy8BeYVFCy8ABIGagqKiDoGOJjM8zVOTrdUmv5AtKth9ESmW5diU9CMWhnKg6ISFhX9gdGW76NhPVacHRkwvoXzg3F4V68E5nyL20cpnpMdMr/PLgphIiUfyM0qwrFYT2krBhZNC3pZ8BduUWTbmaCtGtCiCyansPboXh8gldEl51d/AHSvnG5Xf2MWx3rcTMA54cQWXZeKYWtQ/HYpaDCvUY+av1bQOH+U4ggjvXRZNcFWh9lVna5D4zRjAY/G+hgndqwPl6KaX1EmEezzMe5bZlHEe5WtHnU00iMjWUeRdhvl6HRRknab8q8iqn6x7LfIgzMCh9jnMUTNDAvRtqusQ3MCAu4yjj8pndCFvCx0rgmlgXchom+hqn4Ub8ETPQzpPCksrZN9DhtiI3UYrjVF6YNodz14DkVhbUh4jRy1jcZcxxddCOnyifgPuUxGjkxWmFL+x78p6hW2GTT0BRhp0S0wuI2Ezu4Qxr8oEcMgXsCRto4bjMxfjv2AUCdu63XlkBdHe1bAKvGa8cW39B+2nDA7263i165AlVaxaleMQc0e8qvMRraCYwEVDrYR1IApvraK6ZiqHf8pRHARHdaLrGRgHhjTZZwtrfVykfK7+6zk4r4QxWJjqVkhG7vBBcZheec7SDr6Bw9XvX/OdhT8qNRJT5cVvLjeSU+4FjiI6IlP2Rb4mPKJT/oXfqj8iX9YYMS+LjGfwFgmWfRuP1uXwAAAABJRU5ErkJggg==");
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container {
  margin-top: 10px;
  padding-bottom: 10px;
  border-bottom: 1px solid #ddd;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-buttons {
  margin-top: 5px;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-buttons .dcg-modern-btn {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -o-box-flex: 1;
  box-flex: 1;
  -webkit-flex: 1;
  -ms-flex: 1;
  flex: 1;
  padding: 5px;
  border-radius: 0;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-buttons .dcg-modern-btn:first-of-type {
  border-right: none;
  border-radius: 6px 0 0 6px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-braille-options-buttons .dcg-modern-btn:last-of-type {
  border-left: none;
  border-radius: 0 6px 6px 0;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox {
  -webkit-box-align: center;
  -moz-box-align: center;
  -o-box-align: center;
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
  margin-top: 5px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox .dcg-six-key-info {
  color: #999;
  text-decoration: none;
  margin-left: 0.5em;
  font-size: 85%;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-hovered {
  color: #666;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox .dcg-six-key-info.dcg-active {
  color: #333;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-braille-container .dcg-six-key-checkbox .dcg-six-key-info i {
  display: block;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-interval-interior {
  margin: 0 -6px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container {
  margin-top: 15px;
  position: relative;
  white-space: nowrap;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-step-container {
  float: right;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper {
  display: inline-block;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-editable-mathquill-container .dcg-mathquill-wrapper .dcg-braille-input {
  max-width: 50px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille {
  position: relative;
  outline: none;
  border-bottom: 1px solid rgba(0,0,0,0.42);
  padding: 2px;
  margin: 1px;
  margin-bottom: 1px;
  min-width: 35px;
  font-size: 95%;
  max-width: 55px;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input .dcg-braille-input,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille .dcg-braille-input {
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-focus,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-focus,
.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-invalid,
.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-outofbounds {
  border-bottom: 2px solid #6399cb;
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-outofbounds,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-outofbounds,
.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-invalid,
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-invalid {
  border-color: #e15855;
}

.dcg-calculator-api-container .dcg-settings-container .dcg-mq-editable-field.dcg-math-input.dcg-hovered:not(.dcg-focus),
.dcg-calculator-api-container .dcg-settings-container .dcg-mathquill-braille.dcg-hovered:not(.dcg-focus) {
  border-bottom: 2px solid rgba(0,0,0,0.42);
  margin-bottom: 0;
}

.dcg-calculator-api-container .dcg-narrow .dcg-settings-container {
  right: 35px;
  width: 260px;
}

.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-mq-editable-field.dcg-math-input,
.dcg-calculator-api-container .dcg-narrow .dcg-settings-container .dcg-braille-input {
  padding-left: 0;
  padding-right: 0;
  font-size: 90%;
  max-width: 60px;
}.dcg-calculator-api-container .dcg-toast-view {
  position: absolute;
  top: 7px;
  left: 50px;
  right: 50px;
  height: 0;
  text-align: center;
  z-index: 45;
  overflow: visible;
  text-shadow: none;
  color: #222;
  line-height: 1em;
  -webkit-transition: 0.3s opacity;
  -moz-transition: 0.3s opacity;
  -o-transition: 0.3s opacity;
  -ms-transition: 0.3s opacity;
  transition: 0.3s opacity;
}

.dcg-calculator-api-container .dcg-toast-view:not(.dcg-visible) {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast-wrapper {
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast {
  display: inline-block;
  padding: 6px 10px;
  background: #fef2ad;
  border: 1px solid #fed973;
  border-radius: 4px;
  font-size: 85%;
  -webkit-box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  position: relative;
  pointer-events: auto;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-error {
  display: none;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-undo {
  padding: 8px;
  margin: -8px;
  margin-left: 0px;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove {
  font-size: 87%;
  padding: 8px;
  margin: -5px -10px -8px 2px;
  color: rgba(0,0,0,0.3);
  cursor: pointer;
  float: right;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-hovered,
.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove:focus {
  color: rgba(0,0,0,0.6);
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast i.dcg-icon-remove.dcg-depressed {
  color: rgba(0,0,0,0.8);
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast a {
  margin-left: 6px;
  text-decoration: underline;
  cursor: pointer;
  display: inline-block;
  color: #4781b9;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast a.dcg-hovered {
  color: #004f9b;
}

.dcg-calculator-api-container .dcg-toast-view .dcg-toast-cover {
  display: none;
}

.dcg-calculator-api-container .dcg-toast-view[toast-style='error'] .dcg-toast {
  padding-left: 28px;
}

.dcg-calculator-api-container .dcg-toast-view[toast-style='error'] .dcg-toast i.dcg-icon-error {
  position: absolute;
  top: 7px;
  left: 10px;
  color: #fc944c;
  display: block;
}

.dcg-calculator-api-container .dcg-toast-view[toast-style='cover'] {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  padding-top: 5px;
  height: 100%;
  z-index: 999;
}

.dcg-calculator-api-container .dcg-toast-view[toast-style='cover'] .dcg-toast-cover {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  opacity: 0.3;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=30)";
  filter: alpha(opacity=30);
  display: block;
  background-color: #000;
}.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression {
  height: 54px;
  position: relative;
  border-bottom: 1px solid transparent;
  overflow: visible !important;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-expressionitem.dcg-new-expression .dcg-new-math-div .dcg-new-expression-fade {
  background: -webkit-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);
  background: -moz-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);
  background: -o-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);
  background: -ms-linear-gradient(bottom, #fff, rgba(255,255,255,0) 50%);
  background: linear-gradient(to top, #fff, rgba(255,255,255,0) 50%);
  width: 44px;
  position: absolute;
  top: 0;
  bottom: 0;
  z-index: 3;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-new-expression-fade {
  display: none;
}.dcg-calculator-api-container .dcg-settings-pillbox,
.dcg-calculator-api-container .dcg-action-zoomin,
.dcg-calculator-api-container .dcg-action-zoomout,
.dcg-calculator-api-container .dcg-action-zoomrestore,
.dcg-calculator-api-container .dcg-reset-pillbox {
  height: 37px;
}

.dcg-calculator-api-container .dcg-settings-pillbox,
.dcg-calculator-api-container .dcg-zoominout-pillbox,
.dcg-calculator-api-container .dcg-action-zoomrestore,
.dcg-calculator-api-container .dcg-reset-pillbox {
  width: 37px;
  line-height: 37px;
  text-align: center;
}

.dcg-calculator-api-container .dcg-zoominout-pillbox .dcg-tooltip-hit-area-container,
.dcg-calculator-api-container .dcg-reset-pillbox .dcg-tooltip-hit-area-container {
  width: 100%;
}

.dcg-calculator-api-container .dcg-settings-pillbox,
.dcg-calculator-api-container .dcg-zoominout-pillbox,
.dcg-calculator-api-container .dcg-action-zoomrestore,
.dcg-calculator-api-container .dcg-reset-pillbox {
  margin-top: 3px;
  margin-bottom: 3px;
}

.dcg-calculator-api-container .dcg-pillbox-container {
  position: absolute;
  right: 5px;
  top: 2px;
  bottom: 0;
  width: 0;
  z-index: 41;
}

.dcg-calculator-api-container .dcg-pillbox-container .dcg-overgraph-pillbox-elements {
  position: absolute;
  top: 0;
  right: 0;
}

.dcg-calculator-api-container .dcg-pillbox-container .dcg-settings-pillbox,
.dcg-calculator-api-container .dcg-pillbox-container .dcg-reset-pillbox {
  float: right;
}

.dcg-calculator-api-container .dcg-zoom-container {
  float: right;
  clear: right;
}

.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomin,
.dcg-calculator-api-container .dcg-zoom-container .dcg-zoominout-pillbox .dcg-action-zoomout {
  line-height: 40px;
  font-size: 75%;
}

.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomin {
  border-bottom: 1px solid rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore.dcg-disabled {
  display: none;
}

.dcg-calculator-api-container .dcg-zoom-container .dcg-action-zoomrestore {
  -webkit-animation: dcg-fadeIn-pillboxes 0.25s;
  -moz-animation: dcg-fadeIn-pillboxes 0.25s;
  -o-animation: dcg-fadeIn-pillboxes 0.25s;
  -ms-animation: dcg-fadeIn-pillboxes 0.25s;
  animation: dcg-fadeIn-pillboxes 0.25s;
}

.dcg-calculator-api-container .dcg-btn-flat-gray {
  -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.15);
  box-shadow: 0 0 5px rgba(0,0,0,0.15);
  border: 1px solid rgba(0,0,0,0.1);
  border-radius: 5px;
  cursor: pointer;
  text-shadow: 0 1px #fff;
}

.dcg-calculator-api-container .dcg-btn-flat-gray i {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-hovered i,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-hovered i {
  opacity: 0.9;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=90)";
  filter: alpha(opacity=90);
}

.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed,
.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active {
  background: #e8e8e8;
}

.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-depressed i,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-depressed i,
.dcg-calculator-api-container .dcg-btn-flat-gray:not(.dcg-btn-flat-gray-group).dcg-active i,
.dcg-calculator-api-container .dcg-btn-flat-gray.dcg-btn-flat-gray-group div.dcg-active i {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-has-background-color .dcg-btn-flat-gray {
  text-shadow: none;
}

.dcg-calculator-api-container .dcg-overgraph-icon-container {
  z-index: 21;
}

.dcg-calculator-api-container .dcg-overgraph-icon-container:not(.dcg-bottom-right) {
  position: absolute;
  top: 5px;
  left: 5px;
}

.dcg-calculator-api-container .dcg-overgraph-icon-container.dcg-bottom-right {
  position: absolute;
  bottom: 5px;
  right: 5px;
}

.dcg-calculator-api-container .dcg-overgraph-icon {
  width: 37px;
  height: 37px;
  line-height: 40px ;
  font-size: 110%;
  text-shadow: -2px -2px 0 #fff, -2px 2px 0 #fff, 2px -2px 0 #fff, 2px 2px 0 #fff, 0 -2px 0 #fff, 0 2px 0 #fff, 2px 0 0 #fff, -2px 0 0 #fff;
  text-align: center;
  border-radius: 5px;
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-rotated {
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
}

.dcg-calculator-api-container .dcg-overgraph-icon i {
  opacity: 0.6;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=60)";
  filter: alpha(opacity=60);
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered {
  background: rgba(0,0,0,0.15);
  text-shadow: none;
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-hovered i {
  opacity: 0.8;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";
  filter: alpha(opacity=80);
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed {
  background: rgba(0,0,0,0.3);
  text-shadow: none;
}

.dcg-calculator-api-container .dcg-overgraph-icon.dcg-depressed i {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

@media only screen and (max-width: 450px) {
  .dcg-calculator-api-container .dcg-zoominout-pillbox {
    display: none;
  }
}

@media only screen and (max-height: 450px) {
  .dcg-calculator-api-container .dcg-zoominout-pillbox {
    display: none;
  }
}

@-webkit-keyframes dcg-fadeIn-pillboxes {
  0% {
    -webkit-transform: scale(0.75, 0.75);
    -moz-transform: scale(0.75, 0.75);
    -o-transform: scale(0.75, 0.75);
    -ms-transform: scale(0.75, 0.75);
    transform: scale(0.75, 0.75);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    -webkit-transform: scale(1, 1);
    -moz-transform: scale(1, 1);
    -o-transform: scale(1, 1);
    -ms-transform: scale(1, 1);
    transform: scale(1, 1);
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}

@keyframes dcg-fadeIn-pillboxes {
  0% {
    -webkit-transform: scale(0.75, 0.75);
    -moz-transform: scale(0.75, 0.75);
    -o-transform: scale(0.75, 0.75);
    -ms-transform: scale(0.75, 0.75);
    transform: scale(0.75, 0.75);
    opacity: 0;
    -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
    filter: alpha(opacity=0);
  }

  100% {
    -webkit-transform: scale(1, 1);
    -moz-transform: scale(1, 1);
    -o-transform: scale(1, 1);
    -ms-transform: scale(1, 1);
    transform: scale(1, 1);
    opacity: 1;
    -ms-filter: none;
    filter: none;
  }
}.dcg-calculator-api-container .dcg-api-shared-keypad-root {
  background-color: #ededed;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar {
  background-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-basic-keypad,
.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-bar-contents {
  max-width: 600px;
  margin: 0 auto;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-keypad-control-btn.dcg-selectable-btn {
  max-width: 70px;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button {
  height: 35px;
  width: 35px;
  line-height: 35px;
  text-align: center;
  border-radius: 5px;
  -webkit-transform: rotate(-90deg);
  -moz-transform: rotate(-90deg);
  -o-transform: rotate(-90deg);
  -ms-transform: rotate(-90deg);
  transform: rotate(-90deg);
  margin: 4px 4px 4px auto;
  color: #666;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button .dcg-icon-hide {
  position: relative;
  top: 2px;
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-hovered {
  color: rgba(0,0,0,0.8);
  background: rgba(0,0,0,0.1);
}

.dcg-calculator-api-container .dcg-api-shared-keypad-root .dcg-hide-keypad-button.dcg-depressed {
  color: #000;
  background: rgba(0,0,0,0.18);
}.dcg-calculator-api-container .dcg-transparent-bg {
  background: rgba(0,0,0,0);
}

.dcg-calculator-api-container .dcg-mouse-over-closed-poi,
.dcg-calculator-api-container .dcg-mouse-over-opened-poi,
.dcg-calculator-api-container .dcg-mouse-over-interactive-label,
.dcg-calculator-api-container .dcg-mouse-over-clickable-object {
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-mouse-over-movable-point {
  cursor: move;
}

.dcg-calculator-api-container .dcg-mouse-over-movable-point-ew {
  cursor: ew-resize;
}

.dcg-calculator-api-container .dcg-mouse-over-movable-point-ns {
  cursor: ns-resize;
}

.dcg-calculator-api-container .dcg-mouse-over-closed-poi .dcg-tracept {
  display: none;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-show-border .dcg-label {
  border: 1px solid #ddd;
  background: #fff;
  border-radius: 5px;
  -webkit-box-shadow: 0 0 5px rgba(0,0,0,0.2);
  box-shadow: 0 0 5px rgba(0,0,0,0.2);
  padding: 8px 6px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-math-field {
  padding: 3px 10px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-resizing-text-input-container input,
.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-text-input-content {
  padding: 5px 10px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border {
  background: rgba(255,255,255,0.75);
  border-radius: 4px;
  border-width: 1px;
  border-style: solid;
  padding: 1px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border:not(.dcg-focus):not(.dcg-hovered) {
  border-color: #bbb !important;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label:not(.dcg-focus):not(.dcg-hovered) {
  border-color: #999 !important;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-empty-label,
.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus {
  background: #fff;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-hovered:not(.dcg-focus) {
  border-style: solid;
  padding: 0px;
  border-width: 2px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-editable-label .dcg-editable-label-border.dcg-focus {
  padding: 0px;
  border-width: 2px;
}

.dcg-calculator-api-container .dcg-poi-label .dcg-static-mathquill-view * {
  -webkit-user-select: none !important;
  -moz-user-select: none !important;
  -ms-user-select: none !important;
  user-select: none !important;
}

.dcg-calculator-api-container .dcg-tabbable-point {
  position: absolute;
  left: -6px;
  top: -6px;
  width: 12px;
  height: 12px;
  text-align: left;
  overflow: hidden;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-poi-label {
  display: inline-block;
  position: absolute;
  top: 0;
  left: 0;
  font-size: 100%;
  color: #888;
}

.dcg-calculator-api-container .dcg-poi-label .dcg-pt {
  display: inline-block;
  position: absolute;
  top: -4px;
  left: -4px;
  border: 4px solid #000;
  border-radius: 4px;
  width: 0;
  height: 0;
  z-index: 0;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-size-small .dcg-label {
  font-size: 95%;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-size-medium .dcg-label {
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-size-large .dcg-label {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-vertical-label .dcg-label {
  -webkit-transform: rotate(-90deg) translate(-100%, 0);
  -moz-transform: rotate(-90deg) translate(-100%, 0);
  -o-transform: rotate(-90deg) translate(-100%, 0);
  -ms-transform: rotate(-90deg) translate(-100%, 0);
  transform: rotate(-90deg) translate(-100%, 0);
  -webkit-transform-origin: top left;
  -moz-transform-origin: top left;
  -o-transform-origin: top left;
  -ms-transform-origin: top left;
  transform-origin: top left;
}

.dcg-calculator-api-container .dcg-poi-label .dcg-label {
  position: absolute;
  z-index: 3;
  white-space: nowrap;
  -webkit-transition-property: top, left;
  -moz-transition-property: top, left;
  -o-transition-property: top, left;
  -ms-transition-property: top, left;
  transition-property: top, left;
  -webkit-transition-duration: 0.3s, 0.3s;
  -moz-transition-duration: 0.3s, 0.3s;
  -o-transition-duration: 0.3s, 0.3s;
  -ms-transition-duration: 0.3s, 0.3s;
  transition-duration: 0.3s, 0.3s;
}

.dcg-calculator-api-container .dcg-poi-label .dcg-label .dcg-mq-sqrt-prefix {
  text-shadow: none;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-has-outline .dcg-label {
  text-shadow: -1px -1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, 1px 1px 0 #fff, 0 -1px 0 #fff, 0 1px 0 #fff, 1px 0 0 #fff, -1px 0 0 #fff;
}

.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept) .dcg-pt {
  border-width: 5px;
  border-color: transparent !important;
  border-radius: 5px;
  opacity: 1;
  -ms-filter: none;
  filter: none;
  top: -5px !important;
  left: -5px !important;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened {
  color: #222;
}

.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-pt {
  border-color: #000 !important;
}

.dcg-calculator-api-container .dcg-poi-label:not(.dcg-tracept).dcg-opened .dcg-label {
  opacity: 1;
  -ms-filter: none;
  filter: none;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-hole .dcg-pt {
  top: -5px;
  left: -5px;
  border-width: 2px;
  padding: 3px;
  background: #fff !important;
  border-radius: 6px;
}

.dcg-calculator-api-container .dcg-poi-label.dcg-hide-dot .dcg-pt {
  display: none;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container {
  position: relative;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container input {
  position: absolute;
  top: 1px;
  left: 1px;
  right: 1px;
  font: inherit;
  border: 0;
  outline: 0;
  background: transparent;
  color: inherit;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container:not(.dcg-focus) input::selection {
  background: transparent;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-focus input,
.dcg-calculator-api-container .dcg-resizing-text-input-container.dcg-hovered input {
  position: absolute;
  top: 0;
  left: 0;
}

.dcg-calculator-api-container .dcg-resizing-text-input-container .dcg-text-input-content {
  min-width: 35px;
  display: inline-block;
  color: transparent;
  white-space: pre;
}.dcg-calculator-api-container .dcg-constrained-height-popover {
  position: absolute;
  top: 40px;
  bottom: 2px;
  right: 4px;
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-constrained-height-popover .dcg-popover-interior {
  max-height: 100%;
  pointer-events: auto;
}

.dcg-calculator-api-container .dcg-popover {
  z-index: 80;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-interior {
  padding: 20px;
  background-color: #fff;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 6px;
  -webkit-box-shadow: 0 5px 10px rgba(0,0,0,0.2);
  box-shadow: 0 5px 10px rgba(0,0,0,0.2);
  margin: -1px;
  overflow: auto;
}

.dcg-calculator-api-container .dcg-popover.dcg-top {
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-popover.dcg-right {
  margin-left: 10px;
}

.dcg-calculator-api-container .dcg-popover.dcg-bottom {
  margin-top: 10px;
}

.dcg-calculator-api-container .dcg-popover.dcg-left {
  margin-right: 10px;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-interior {
  overflow: auto;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-content {
  font-size: 85%;
  color: #444;
  line-height: 1.5em;
  position: relative;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-title {
  margin-bottom: 10px;
  font-size: 115%;
  border-bottom: 2px solid #127a3d;
  color: #127a3d;
  font-weight: normal;
  background-color: #fff;
}

.dcg-calculator-api-container .dcg-popover .dcg-popover-title:not(:first-of-type) {
  padding-top: 20px;
}

.dcg-calculator-api-container .dcg-popover .dcg-arrow,
.dcg-calculator-api-container .dcg-popover .dcg-arrow:after {
  position: absolute;
  display: inline-block;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}

.dcg-calculator-api-container .dcg-popover .dcg-arrow:after {
  content: "";
  z-index: -1;
}

.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow {
  bottom: -10px;
  left: 50%;
  margin-left: -10px;
  border-width: 10px 10px 0;
  border-top-color: #fff;
}

.dcg-calculator-api-container .dcg-popover.dcg-top .dcg-arrow:after {
  border-width: 11px 11px 0;
  border-top-color: rgba(0,0,0,0.25);
  bottom: -1px;
  left: -11px;
}

.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow {
  top: 50%;
  left: -10px;
  margin-top: -10px;
  border-width: 10px 10px 10px 0;
  border-right-color: #fff;
}

.dcg-calculator-api-container .dcg-popover.dcg-right .dcg-arrow:after {
  border-width: 11px 11px 11px 0;
  border-right-color: rgba(0,0,0,0.25);
  bottom: -11px;
  left: -1px;
}

.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow {
  top: -14px;
  margin-left: -14px;
  border-width: 0px 14px 14px;
  border-bottom-color: #fff;
}

.dcg-calculator-api-container .dcg-popover.dcg-bottom .dcg-arrow:after {
  border-width: 0 14px 14px;
  border-bottom-color: rgba(0,0,0,0.25);
  top: -1px;
  left: -14px;
}

.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow {
  top: 50%;
  right: -10px;
  margin-top: -10px;
  border-width: 10px 0 10px 10px;
  border-left-color: #fff;
  border-top-color: transparent;
}

.dcg-calculator-api-container .dcg-popover.dcg-left .dcg-arrow:after {
  border-width: 11px 0 11px 11px;
  border-left-color: rgba(0,0,0,0.25);
  bottom: -11px;
  right: -1px;
}.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem textarea.dcg-smart-textarea,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-displayTextarea {
  font-size: 113%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-image-name {
  font-size: 113%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-math-mode {
  font-size: 130%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionimage .dcg-image-loaded .dcg-mq-editable-field.dcg-math-input {
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label .dcg-pt {
  border-width: 8px;
  border-radius: 8px;
  margin-left: -4px;
  margin-top: -4px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label.dcg-hole .dcg-pt {
  border-width: 4px;
  padding: 5px;
  border-radius: 9px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-poi-label:not(.dcg-tracept) .dcg-pt {
  border-width: 8px;
  border-radius: 8px;
  margin-left: -4px;
  margin-top: -4px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider-container .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-mathquill-braille {
  font-size: 150%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation {
  font-size: 135%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-evaluation .dcg-mathquill-braille {
  font-size: 100%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-fade-container .dcg-main:after {
  width: 2px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders {
  height: 30px;
  line-height: 30px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-msg {
  font-size: 100%;
  padding: 2px 0;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-create-sliders .dcg-btn-slider {
  font-size: 120%;
  height: 30px;
  line-height: 30px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-expressionitem .dcg-slider {
  bottom: 30px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-display-domain {
  bottom: 12px;
  font-size: 110%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain {
  bottom: 6px;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain .dcg-mq-math-mode {
  font-size: 120%;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table {
  border-collapse: collapse;
  font-size: 20px;
  margin: 0 auto;
}

.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-slider_menu table input,
.dcg-calculator-api-container .dcg-PROJECTOR-MODE .dcg-edit-domain table input {
  font-size: 81%;
}.dcg-calculator-api-container .dcg-create-sliders {
  white-space: nowrap;
  height: 26px;
  line-height: 26px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-msg {
  display: inline-block;
  margin-right: 5px;
  font-size: 80%;
  color: rgba(0,0,0,0.6);
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-all .dcg-btn-slider {
  font-style: normal;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-btn-slider {
  padding: 0 10px !important;
  font-family: times;
  font-size: 90%;
  font-style: italic;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container {
  display: inline-block;
  position: relative;
  margin-right: 3px;
  height: 16px;
  margin-bottom: 5px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container .dcg-btn-slider {
  height: 25px;
  line-height: 25px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container.dcg-all {
  width: 46px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container.dcg-all .dcg-slider_decoration {
  width: 46px;
}

.dcg-calculator-api-container .dcg-create-sliders .dcg-slider-btn-container.dcg-all .dcg-slider_btn {
  width: 28px;
}.dcg-calculator-api-container .dcg-regression-container {
  font-size: 80%;
  color: #222;
  cursor: default;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-statistics {
  display: inline-block;
  width: 130px;
  float: left;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-residuals {
  float: left;
  width: 130px;
  margin-bottom: 10px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-r-value {
  padding-left: 0.5em;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion {
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  cursor: default;
  padding: 2px 7px;
  margin-left: 7px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion:not(.dcg-visible) {
  pointer-events: none;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-residual-suggestion.dcg-visible {
  -webkit-transition: opacity 0.25s;
  -moz-transition: opacity 0.25s;
  -o-transition: opacity 0.25s;
  -ms-transition: opacity 0.25s;
  transition: opacity 0.25s;
  display: inline-block;
  opacity: 1;
  -ms-filter: none;
  filter: none;
  cursor: pointer;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle {
  clear: both;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle.dcg-visible {
  display: block;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle {
  cursor: pointer;
  padding: 5px 0;
  color: #444;
  border-radius: 4px;
  display: inline-block;
  margin-bottom: 12px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox {
  display: inline-block;
  width: 15px;
  height: 15px;
  border: 1px solid rgba(0,0,0,0.2);
  float: left;
  margin-right: 6px;
  border-radius: 3px;
  position: relative;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle .dcg-log-mode-checkbox i {
  color: transparent;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-hovered .dcg-log-mode-checkbox,
.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox {
  border-color: #aaa;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-depressed .dcg-log-mode-checkbox {
  border-color: #666;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-action-log-mode-toggle.dcg-toggled-on .dcg-log-mode-checkbox i {
  color: #127a3d;
  position: absolute;
  top: -1px;
  right: -2px;
  font-size: 110%;
  text-shadow: -1px -1px 0 #fff, 1px -1px 0 #fff, -1px 1px 0 #fff, 1px 1px 0 #fff;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help {
  text-decoration: none;
  color: rgba(0,0,0,0.2);
  padding: 10px 6px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-hovered {
  color: #aaa;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-log-mode-toggle .dcg-log-mode-toggle-help.dcg-depressed {
  color: #666;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container {
  clear: both;
  padding-bottom: 4px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter {
  float: left;
  min-width: 130px;
  padding-right: 5px;
}

.dcg-calculator-api-container .dcg-regression-container .dcg-parameters-container .dcg-parameter:nth-of-type(2n+1) {
  clear: both;
}.dcg-calculator-api-container .dcg-toggle {
  display: -webkit-box;
  display: -moz-box;
  display: -webkit-flex;
  display: -ms-flexbox;
  display: box;
  display: flex;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option {
  padding: 4px 6px;
  text-align: center;
  border: 1px solid rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:first-of-type {
  border-top-left-radius: 5px;
  border-bottom-left-radius: 5px;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:not(:last-of-type) {
  border-right: 0;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option:last-of-type {
  border-top-right-radius: 5px;
  border-bottom-right-radius: 5px;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle + .dcg-toggle-option {
  border-left: 1px solid #4781b9;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-hovered {
  background: rgba(0,0,0,0.05);
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-depressed {
  background: rgba(0,0,0,0.2);
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle {
  background: rgba(71,129,185,0.15);
  border-color: #4781b9;
  color: #4781b9;
  cursor: default !important;
}

.dcg-calculator-api-container .dcg-toggle .dcg-toggle-option.dcg-selected-toggle i {
  cursor: default;
}/*
  we want to position things relative to the dcg-tap-container, e.g. tooltips.
  but putting position:relative on body breaks layout. if it's the whole body,
  then we don't need to worry about absolute positioning of a child relative to
  the element anyhow
*/

.dcg-calculator-api-container .dcg-tap-container:not(body) {
  position: relative;
  /*so that we can absolutely position e.g. tooltips inside of our API*/
}

.dcg-calculator-api-container .dcg-focus-by-tap:focus {
  outline: none;
}.dcg-calculator-api-container .trip-block {
  position: absolute;
  opacity: 0;
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";
  filter: alpha(opacity=0);
  -webkit-transition: 0.3s ease;
  -moz-transition: 0.3s ease;
  -o-transition: 0.3s ease;
  -ms-transition: 0.3s ease;
  transition: 0.3s ease;
  display: none;
  -webkit-transform: scale(0, 0);
  -moz-transform: scale(0, 0);
  -o-transform: scale(0, 0);
  -ms-transform: scale(0, 0);
  transform: scale(0, 0);
}

.dcg-calculator-api-container .trip-block.trip-is-loaded:not(.trip-hidden) {
  opacity: 1;
  -ms-filter: none;
  filter: none;
  -webkit-transform: scale(1, 1);
  -moz-transform: scale(1, 1);
  -o-transform: scale(1, 1);
  -ms-transform: scale(1, 1);
  transform: scale(1, 1);
}

.dcg-calculator-api-container .trip-block .trip-interior {
  padding: 10px;
  text-align: left;
  min-width: 100px;
  border-radius: 6px;
  padding-right: 40px;
  width: 275px;
  background: #fff;
  border: 3px solid #127a3d;
  color: #444;
  font-size: 100%;
  -webkit-box-shadow: 0 2px 7px 0 rgba(0,0,0,0.3);
  box-shadow: 0 2px 7px 0 rgba(0,0,0,0.3);
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-link {
  color: #4781b9;
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-title {
  font-weight: bold;
  margin-bottom: 5px;
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-hint {
  font-size: 80%;
  line-height: 12px;
  margin-top: 4px;
  color: #666;
}

.dcg-calculator-api-container .trip-block .trip-interior i {
  font-size: 80%;
}

.dcg-calculator-api-container .trip-block .trip-interior code {
  border: solid 1px #d3d3d3;
  border-radius: 3px;
  padding: 2px 3px;
  display: inline-block;
}

.dcg-calculator-api-container .trip-block .trip-interior code i {
  font-size: 70%;
  font-family: Arial, sans-serif;
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-close {
  color: rgba(0,0,0,0.3);
  position: absolute;
  right: 0px;
  top: 0px;
  font-size: 150%;
  line-height: 16px;
  float: right;
  padding: 6px;
  text-decoration: none;
  cursor: pointer;
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-hovered {
  color: rgba(0,0,0,0.6);
}

.dcg-calculator-api-container .trip-block .trip-interior .trip-close.dcg-depressed {
  color: rgba(0,0,0,0.8);
}

.dcg-calculator-api-container .trip-block .trip-arrow {
  border: 10px solid transparent;
  height: 0;
  width: 0;
  position: absolute;
}

.dcg-calculator-api-container .trip-block.trip-n .trip-arrow {
  border-bottom-width: 0;
  border-top-color: #127a3d;
}

.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {
  border-bottom-color: #127a3d;
  border-top-width: 0;
}

.dcg-calculator-api-container .trip-block.trip-e .trip-arrow {
  border-left-width: 0;
  border-right-color: #127a3d;
}

.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {
  border-right-width: 0;
  border-left-color: #127a3d;
}

.dcg-calculator-api-container .trip-block.trip-n .trip-arrow,
.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {
  left: 50%;
  margin-left: -10px;
}

.dcg-calculator-api-container .trip-block.trip-e .trip-arrow,
.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {
  top: 50%;
  margin-top: -10px;
}

.dcg-calculator-api-container .trip-block.trip-n .trip-arrow {
  top: 100%;
}

.dcg-calculator-api-container .trip-block.trip-s .trip-arrow {
  bottom: 100%;
}

.dcg-calculator-api-container .trip-block.trip-e .trip-arrow {
  right: 100%;
}

.dcg-calculator-api-container .trip-block.trip-w .trip-arrow {
  left: 100%;
}

.dcg-calculator-api-container .trip-progress-bar {
  height: 1px;
  background-color: #444;
  width: 0;
}/*
 * MathQuill vv1.5, by Han, Jeanine, and Mary
 * http://mathquill.com | maintainers@mathquill.com
 *
 * This Source Code Form is subject to the terms of the
 * Mozilla Public License, v. 2.0. If a copy of the MPL
 * was not distributed with this file, You can obtain
 * one at http://mozilla.org/MPL/2.0/.
 */

.dcg-mq-aria-alert {
  position: absolute;
  left: -1000px;
  top: -1000px;
  width: 1px;
  height: 1px;
  text-align: left;
  overflow: hidden;
}

.dcg-calculator-api-container .dcg-mq-editable-field {
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor {
  border-left: 1px solid currentColor;
  margin-left: -1px;
  position: relative;
  z-index: 1;
  padding: 0;
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor.dcg-mq-blink {
  visibility: hidden;
}

.dcg-calculator-api-container .dcg-mq-editable-field,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {
  border: 1px solid gray;
}

.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-focused,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field.dcg-mq-focused {
  -webkit-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  -moz-box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  box-shadow: #8bd 0 0 1px 2px, inset #6ae 0 0 2px 0;
  border-color: #709AC0;
  border-radius: 1px;
  aria-hidden: true;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {
  margin: 1px;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input {
  color: inherit;
  font-family: "Courier New", monospace;
  border: 1px solid gray;
  padding-right: 1px;
  margin-right: 1px;
  margin-left: 2px;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-empty {
  background: transparent;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-latex-command-input.dcg-mq-hasCursor {
  border-color: ActiveBorder;
}

.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-empty:after,
.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode:after,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty:after {
  visibility: hidden;
  content: 'c';
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-cursor:only-child:after,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea + .dcg-mq-cursor:last-child:after {
  visibility: hidden;
  content: 'c';
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-text-mode .dcg-mq-cursor:only-child:after {
  content: '';
}

.dcg-calculator-api-container .dcg-mq-editable-field.dcg-mq-text-mode {
  overflow-x: auto;
  overflow-y: hidden;
}

.dcg-calculator-api-container .dcg-mq-root-block,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block {
  display: -moz-inline-box;
  display: inline-block;
  width: 100%;
  padding: 2px;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  white-space: nowrap;
  overflow: hidden;
  vertical-align: middle;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-digit,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-digit {
  margin-left: 0.009em;
  margin-right: 0.009em;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-start,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-start {
  margin-left: 0.11em;
  margin-right: -0.01em;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-other,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-other {
  margin-left: -0.01em;
  margin-right: -0.01em;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-1,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-1,
.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-2,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-2 {
  margin-left: 0;
  margin-right: -0.01em;
}

.dcg-calculator-api-container .dcg-mq-root-block .dcg-mq-group-leading-3,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block .dcg-mq-group-leading-3 {
  margin-left: 0.036em;
  margin-right: -0.01em;
}

.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-start,
.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-other,
.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-1,
.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-2,
.dcg-calculator-api-container .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-root-block.dcg-mq-suppress-grouping .dcg-mq-group-leading-3 {
  margin-left: 0.009em;
  margin-right: 0.009em;
}

.dcg-calculator-api-container .dcg-mq-math-mode {
  font-variant: normal;
  font-weight: normal;
  font-style: normal;
  font-size: 115%;
  line-height: 1;
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-scaled {
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode var,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-nonSymbola {
  font-family: "Times New Roman", Symbola, serif;
  line-height: .9;
}

.dcg-calculator-api-container .dcg-mq-math-mode svg {
  fill: currentColor;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.dcg-calculator-api-container .dcg-mq-math-mode * {
  font-size: inherit;
  line-height: inherit;
  margin: 0;
  padding: 0;
  border-color: black;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
  box-sizing: border-box;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty {
  background: rgba(0, 0, 0, 0.2);
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-root-block {
  background: transparent;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-empty.dcg-mq-empty-parens {
  background: transparent;
}

.dcg-calculator-api-container .dcg-mq-math-mode.dcg-mq-empty {
  background: transparent;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode {
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-text-mode.dcg-mq-hasCursor {
  box-shadow: inset darkgray 0 .1em .2em;
  padding: 0 .1em;
  margin: 0 -0.1em;
  min-width: 1ex;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font {
  font: 1em "Times New Roman", Symbola, serif;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-font * {
  font-family: inherit;
  font-style: inherit;
}

.dcg-calculator-api-container .dcg-mq-math-mode b,
.dcg-calculator-api-container .dcg-mq-math-mode b.dcg-mq-font {
  font-weight: bolder;
}

.dcg-calculator-api-container .dcg-mq-math-mode var,
.dcg-calculator-api-container .dcg-mq-math-mode i,
.dcg-calculator-api-container .dcg-mq-math-mode i.dcg-mq-font {
  font-style: italic;
}

.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-f {
  margin-right: 0.2em;
  margin-left: 0.1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman var.dcg-mq-f {
  margin: 0;
}

.dcg-calculator-api-container .dcg-mq-math-mode big {
  font-size: 200%;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > big {
  display: inline-block;
  -webkit-transform: scaleX(0.7);
  -moz-transform: scaleX(0.7);
  -ms-transform: scaleX(0.7);
  -o-transform: scaleX(0.7);
  transform: scaleX(0.7);
  vertical-align: -0.16em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > .dcg-mq-supsub {
  font-size: 80%;
  vertical-align: -1.1em;
  padding-right: .2em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > .dcg-mq-supsub > .dcg-mq-sup > .dcg-mq-sup-inner {
  vertical-align: 1.3em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-int > .dcg-mq-supsub > .dcg-mq-sub {
  margin-left: -0.35em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-roman {
  font-style: normal;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sans-serif {
  font-family: sans-serif, Symbola, serif;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-monospace {
  font-family: monospace, Symbola, serif;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overline {
  border-top: 1px solid;
  margin-top: 1px;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-underline {
  border-bottom: 1px solid;
  margin-bottom: 1px;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-binary-operator {
  padding: 0 0.2em;
  display: -moz-inline-box;
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub {
  text-align: left;
  font-size: 90%;
  vertical-align: -0.5em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only {
  vertical-align: .5em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-sup-only > .dcg-mq-sup {
  display: inline-block;
  vertical-align: text-bottom;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sup {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-sub {
  display: block;
  float: left;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-binary-operator {
  padding: 0 .1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub .dcg-mq-fraction {
  font-size: 70%;
}

.dcg-calculator-api-container .dcg-mq-math-mode sup.dcg-mq-nthroot {
  font-size: 80%;
  vertical-align: 0.8em;
  margin-right: -0.6em;
  margin-left: .2em;
  min-width: .5em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-ghost svg {
  opacity: 0.2;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-middle {
  margin-top: .1em;
  margin-bottom: .1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r {
  position: absolute;
  top: 0;
  bottom: 2px;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-l {
  left: 0;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-r {
  right: 0;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-bracket-container {
  position: relative;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array {
  vertical-align: middle;
  text-align: center;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-array > span {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-operator-name {
  font-family: Symbola, "Times New Roman", serif;
  line-height: .9;
  font-style: normal;
}

.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-first {
  padding-left: .2em;
}

.dcg-calculator-api-container .dcg-mq-math-mode var.dcg-mq-operator-name.dcg-mq-last,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-supsub.dcg-mq-after-operator-name {
  padding-right: .2em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction {
  font-size: 90%;
  text-align: center;
  vertical-align: -0.4em;
  padding: 0 .2em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,
.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link {
  display: -moz-groupbox;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-fraction,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator,
.dcg-calculator-api-container .dcg-mq-math-mode x:-moz-any-link,
.dcg-calculator-api-container .dcg-mq-math-mode x:default {
  display: inline-block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-numerator {
  padding: 0 0.1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-denominator {
  border-top: 1px solid;
  float: right;
  width: 100%;
  padding: 0.1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-prefix {
  position: absolute;
  top: 1px;
  bottom: 0.15em;
  width: 0.95em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-container {
  position: relative;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-sqrt-stem {
  border-top: 1px solid;
  margin-top: 1px;
  margin-left: 0.9em;
  padding-left: .15em;
  padding-right: .2em;
  margin-right: .1em;
  padding-top: 1px;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-above {
  display: block;
  text-align: center;
  line-height: .4em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-diacritic-stem {
  display: block;
  text-align: center;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-prefix {
  display: block;
  text-align: center;
  line-height: .95em;
  margin-bottom: -0.7em;
  transform: scaleX(1.5);
  -moz-transform: scaleX(1.5);
  -o-transform: scaleX(1.5);
  -webkit-transform: scaleX(1.5);
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-hat-stem {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator {
  vertical-align: -0.2em;
  padding: .2em;
  text-align: center;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator big,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to {
  display: block;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-to {
  font-size: 80%;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-large-operator .dcg-mq-from {
  float: right;
  /* take out of normal flow to manipulate baseline */
  width: 100%;
}

.dcg-calculator-api-container .dcg-mq-math-mode,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-editable-field {
  cursor: text;
  font-family: Symbola, "Times New Roman", serif;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarc {
  border-top: 1px solid;
  border-radius: 50% 50% 0 0;
  padding: 0.35em 0.25em 0 0.1em;
  margin-top: 0.1em;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow {
  border-top: 1px solid;
  margin-top: 1px;
  padding-top: 0.2em;
  position: relative;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow:after {
  position: absolute;
  right: -0.1em;
  top: -0.48em;
  font-size: 0.5em;
  content: '\\27A4';
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:after {
  content: '';
  display: none;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-left:before,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-overarrow.dcg-mq-arrow-leftright:before {
  position: absolute;
  top: -0.48em;
  left: -0.1em;
  font-size: 0.5em;
  content: '\\27A4';
  -moz-transform: scaleX(-1);
  -o-transform: scaleX(-1);
  -webkit-transform: scaleX(-1);
  transform: scaleX(-1);
  filter: FlipH;
  -ms-filter: "FlipH";
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-scaled,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-scaled {
  background: #B4D5FE !important;
}

.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-non-leaf,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection.dcg-mq-blur .dcg-mq-scaled {
  background: #D4D4D4 !important;
  color: black;
  border-color: black;
}

html.dcg-calculator-api-container body .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *,
html body .dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selection .dcg-mq-nthroot-container *,
html.dcg-calculator-api-container body .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container *,
html body .dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selection .dcg-mq-nthroot-container * {
  background: transparent !important;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea {
  position: relative;
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
}

.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-textarea *,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-textarea *,
.dcg-calculator-api-container .dcg-mq-editable-field .dcg-mq-selectable,
.dcg-calculator-api-container .dcg-mq-math-mode .dcg-mq-selectable {
  -webkit-user-select: text;
  -moz-user-select: text;
  user-select: text;
  position: absolute;
  clip: rect(1em 1em 1em 1em);
  -webkit-transform: scale(0);
  -moz-transform: scale(0);
  -ms-transform: scale(0);
  -o-transform: scale(0);
  transform: scale(0);
  resize: none;
  width: 1px;
  height: 1px;
  box-sizing: content-box;
}`,document.getElementsByTagName("head")[0].appendChild(Dn);var hn=typeof Desmos<"u"?Desmos:{};Yn.exports=hn,function(){var Et=hn;Et.config||(Et.config={}),typeof _n=="object"&&(Et.enabledFeatures=_n),typeof desmosLocales=="object"&&(Et.locales=desmosLocales),Et.commit=kn,function(){var Tn,on,$;(function(B){function u(v,x){return m.call(v,x)}function w(v,x){var E,b,f,S,j,Q,G,q,L,M,D=x&&x.split("/"),V=n.map,W=V&&V["*"]||{};if(v&&v.charAt(0)===".")if(x){for(D=D.slice(0,D.length-1),v=D.concat(v.split("/")),q=0;q<v.length;q+=1)if((M=v[q])===".")v.splice(q,1),q-=1;else if(M===".."){if(q===1&&(v[2]===".."||v[0]===".."))break;q>0&&(v.splice(q-1,2),q-=2)}v=v.join("/")}else v.indexOf("./")===0&&(v=v.substring(2));if((D||W)&&V){for(E=v.split("/"),q=E.length;q>0;q-=1){if(b=E.slice(0,q).join("/"),D){for(L=D.length;L>0;L-=1)if((f=V[D.slice(0,L).join("/")])&&(f=f[b])){S=f,j=q;break}}if(S)break;!Q&&W&&W[b]&&(Q=W[b],G=q)}!S&&Q&&(S=Q,j=G),S&&(E.splice(0,j,S),v=E.join("/"))}return v}function e(v,x){return function(){return s.apply(B,y.call(arguments,0).concat([v,x]))}}function c(v){return function(x){return w(x,v)}}function t(v){return function(x){d[v]=x}}function a(v){if(u(i,v)){var x=i[v];delete i[v],r[v]=!0,o.apply(B,x)}if(!u(d,v)&&!u(r,v))throw new Error("No "+v);return d[v]}function l(v){var x,E=v?v.indexOf("!"):-1;return E>-1&&(x=v.substring(0,E),v=v.substring(E+1,v.length)),[x,v]}function h(v){return function(){return n&&n.config&&n.config[v]||{}}}var o,s,p,g,d={},i={},n={},r={},m=Object.prototype.hasOwnProperty,y=[].slice;p=function(v,x){var E,b=l(v),f=b[0];return v=b[1],f&&(f=w(f,x),E=a(f)),f?v=E&&E.normalize?E.normalize(v,c(x)):w(v,x):(v=w(v,x),b=l(v),f=b[0],v=b[1],f&&(E=a(f))),{f:f?f+"!"+v:v,n:v,pr:f,p:E}},g={require:function(v){return e(v)},exports:function(v){var x=d[v];return x!==void 0?x:d[v]={}},module:function(v){return{id:v,uri:"",exports:d[v],config:h(v)}}},o=function(v,x,E,b){var f,S,j,Q,G,q,L=[];if(b=b||v,typeof E=="function"){for(x=!x.length&&E.length?["require","exports","module"]:x,G=0;G<x.length;G+=1)if(Q=p(x[G],b),(S=Q.f)==="require")L[G]=g.require(v);else if(S==="exports")L[G]=g.exports(v),q=!0;else if(S==="module")f=L[G]=g.module(v);else if(u(d,S)||u(i,S)||u(r,S))L[G]=a(S);else{if(!Q.p)throw new Error(v+" missing "+S);Q.p.load(Q.n,e(b,!0),t(S),{}),L[G]=d[S]}j=E.apply(d[v],L),v&&(f&&f.exports!==B&&f.exports!==d[v]?d[v]=f.exports:j===B&&q||(d[v]=j))}else v&&(d[v]=E)},Tn=on=s=function(v,x,E,b,f){return typeof v=="string"?g[v]?g[v](x):a(p(v,x).f):(v.splice||(n=v,x.splice?(v=x,x=E,E=null):v=B),x=x||function(){},typeof E=="function"&&(E=b,b=f),b?o(B,v,x,E):setTimeout(function(){o(B,v,x,E)},4),s)},s.config=function(v){return n=v,n.deps&&s(n.deps,n.callback),s},$=function(v,x,E){x.splice||(E=x,x=[]),u(d,v)||u(i,v)||(i[v]=[v,x,E])},$.amd={jQuery:!0}})(),typeof ALMOND_OVERRIDES<"u"&&ALMOND_OVERRIDES&&($=ALMOND_OVERRIDES.define||$,on=ALMOND_OVERRIDES.require||on,Tn=ALMOND_OVERRIDES.requirejs||Tn),$("core/vendor/almond",function(){}),$("ipad.ghostevents",["require"],function(B){function u(a){e&&t.evtInScope(a)&&(a.stopPropagation(),a.stopImmediatePropagation())}function w(a){e&&t.evtInScope(a)&&(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())}var e=!1,c=null,t={isGhostEvent:function(a){return!1},evtInScope:function(a){return!1}};return document.addEventListener("mousedown",function(a){t.evtInScope(a)&&(c=document.activeElement,e=t.isGhostEvent(a),u(a))},!0),document.addEventListener("mouseup",u,!0),document.addEventListener("click",function(a){w(a),e&&document.activeElement!==c&&(document.activeElement&&document.activeElement.blur(),c&&c.focus()),e=!1},!0),document.addEventListener("focus",w,!0),document.addEventListener("blur",w,!0),t}),function(B,u){u(B)}(typeof window<"u"?window:this,function(B,u){function w(A){var _=!!A&&"length"in A&&A.length,F=T.type(A);return F!=="function"&&!T.isWindow(A)&&(F==="array"||_===0||typeof _=="number"&&_>0&&_-1 in A)}function e(A,_,F){if(T.isFunction(_))return T.grep(A,function(R,X){return!!_.call(R,X,R)!==F});if(_.nodeType)return T.grep(A,function(R){return R===_!==F});if(typeof _=="string"){if(je.test(_))return T.filter(_,A,F);_=T.filter(_,A)}return T.grep(A,function(R){return ge.call(_,R)>-1!==F})}function c(A,_){for(;(A=A[_])&&A.nodeType!==1;);return A}function t(A){var _={};return T.each(A.match(He)||[],function(F,R){_[R]=!0}),_}function a(){se.removeEventListener("DOMContentLoaded",a),B.removeEventListener("load",a),T.ready()}function l(){this.expando=T.expando+l.uid++}function h(A,_,F){var R;if(F===void 0&&A.nodeType===1)if(R="data-"+_.replace(ht,"-$&").toLowerCase(),typeof(F=A.getAttribute(R))=="string"){try{F=F==="true"||F!=="false"&&(F==="null"?null:+F+""===F?+F:Mt.test(F)?T.parseJSON(F):F)}catch{}at.set(A,_,F)}else F=void 0;return F}function o(A,_,F,R){var X,te=1,ce=20,Ae=R?function(){return R.cur()}:function(){return T.css(A,_,"")},Oe=Ae(),Ue=F&&F[3]||(T.cssNumber[_]?"":"px"),We=(T.cssNumber[_]||Ue!=="px"&&+Oe)&&dt.exec(T.css(A,_));if(We&&We[3]!==Ue){Ue=Ue||We[3],F=F||[],We=+Oe||1;do te=te||".5",We/=te,T.style(A,_,We+Ue);while(te!==(te=Ae()/Oe)&&te!==1&&--ce)}return F&&(We=+We||+Oe||0,X=F[1]?We+(F[1]+1)*F[2]:+F[2],R&&(R.unit=Ue,R.start=We,R.end=X)),X}function s(A,_){var F=A.getElementsByTagName!==void 0?A.getElementsByTagName(_||"*"):A.querySelectorAll!==void 0?A.querySelectorAll(_||"*"):[];return _===void 0||_&&T.nodeName(A,_)?T.merge([A],F):F}function p(A,_){for(var F=0,R=A.length;F<R;F++)nt.set(A[F],"globalEval",!_||nt.get(_[F],"globalEval"))}function g(A,_,F,R,X){for(var te,ce,Ae,Oe,Ue,We,C=_.createDocumentFragment(),ae=[],ze=0,et=A.length;ze<et;ze++)if((te=A[ze])||te===0)if(T.type(te)==="object")T.merge(ae,te.nodeType?[te]:te);else if(U.test(te)){for(ce=ce||C.appendChild(_.createElement("div")),Ae=(nn.exec(te)||["",""])[1].toLowerCase(),Oe=Nt[Ae]||Nt._default,ce.innerHTML=Oe[1]+T.htmlPrefilter(te)+Oe[2],We=Oe[0];We--;)ce=ce.lastChild;T.merge(ae,ce.childNodes),ce=C.firstChild,ce.textContent=""}else ae.push(_.createTextNode(te));for(C.textContent="",ze=0;te=ae[ze++];)if(R&&T.inArray(te,R)>-1)X&&X.push(te);else if(Ue=T.contains(te.ownerDocument,te),ce=s(C.appendChild(te),"script"),Ue&&p(ce),F)for(We=0;te=ce[We++];)zt.test(te.type||"")&&F.push(te);return C}function d(){return!0}function i(){return!1}function n(){try{return se.activeElement}catch{}}function r(A,_,F,R,X,te){var ce,Ae;if(typeof _=="object"){typeof F!="string"&&(R=R||F,F=void 0);for(Ae in _)r(A,Ae,F,R,_[Ae],te);return A}if(R==null&&X==null?(X=F,R=F=void 0):X==null&&(typeof F=="string"?(X=R,R=void 0):(X=R,R=F,F=void 0)),X===!1)X=i;else if(!X)return A;return te===1&&(ce=X,X=function(Oe){return T().off(Oe),ce.apply(this,arguments)},X.guid=ce.guid||(ce.guid=T.guid++)),A.each(function(){T.event.add(this,_,X,R,F)})}function m(A,_){return T.nodeName(A,"table")&&T.nodeName(_.nodeType!==11?_:_.firstChild,"tr")?A.getElementsByTagName("tbody")[0]||A.appendChild(A.ownerDocument.createElement("tbody")):A}function y(A){return A.type=(A.getAttribute("type")!==null)+"/"+A.type,A}function v(A){var _=me.exec(A.type);return _?A.type=_[1]:A.removeAttribute("type"),A}function x(A,_){var F,R,X,te,ce,Ae,Oe,Ue;if(_.nodeType===1){if(nt.hasData(A)&&(te=nt.access(A),ce=nt.set(_,te),Ue=te.events)){delete ce.handle,ce.events={};for(X in Ue)for(F=0,R=Ue[X].length;F<R;F++)T.event.add(_,X,Ue[X][F])}at.hasData(A)&&(Ae=at.access(A),Oe=T.extend({},Ae),at.set(_,Oe))}}function E(A,_){var F=_.nodeName.toLowerCase();F==="input"&&Wt.test(A.type)?_.checked=A.checked:F!=="input"&&F!=="textarea"||(_.defaultValue=A.defaultValue)}function b(A,_,F,R){_=ne.apply([],_);var X,te,ce,Ae,Oe,Ue,We=0,C=A.length,ae=C-1,ze=_[0],et=T.isFunction(ze);if(et||C>1&&typeof ze=="string"&&!ke.checkClone&&z.test(ze))return A.each(function(lt){var vt=A.eq(lt);et&&(_[0]=ze.call(this,lt,vt.html())),b(vt,_,F,R)});if(C&&(X=g(_,A[0].ownerDocument,!1,A,R),te=X.firstChild,X.childNodes.length===1&&(X=te),te||R)){for(ce=T.map(s(X,"script"),y),Ae=ce.length;We<C;We++)Oe=X,We!==ae&&(Oe=T.clone(Oe,!0,!0),Ae&&T.merge(ce,s(Oe,"script"))),F.call(A[We],Oe,We);if(Ae)for(Ue=ce[ce.length-1].ownerDocument,T.map(ce,v),We=0;We<Ae;We++)Oe=ce[We],zt.test(Oe.type||"")&&!nt.access(Oe,"globalEval")&&T.contains(Ue,Oe)&&(Oe.src?T._evalUrl&&T._evalUrl(Oe.src):T.globalEval(Oe.textContent.replace(we,"")))}return A}function f(A,_,F){for(var R,X=_?T.filter(_,A):A,te=0;(R=X[te])!=null;te++)F||R.nodeType!==1||T.cleanData(s(R)),R.parentNode&&(F&&T.contains(R.ownerDocument,R)&&p(s(R,"script")),R.parentNode.removeChild(R));return A}function S(A,_){var F=T(_.createElement(A)).appendTo(_.body),R=T.css(F[0],"display");return F.detach(),R}function j(A){var _=se,F=Ge[A];return F||(F=S(A,_),F!=="none"&&F||(qe=(qe||T("<iframe frameborder='0' width='0' height='0'/>")).appendTo(_.documentElement),_=qe[0].contentDocument,_.write(),_.close(),F=S(A,_),qe.detach()),Ge[A]=F),F}function Q(A,_,F){var R,X,te,ce,Ae=A.style;return F=F||ot(A),ce=F?F.getPropertyValue(_)||F[_]:void 0,ce!==""&&ce!==void 0||T.contains(A.ownerDocument,A)||(ce=T.style(A,_)),F&&!ke.pixelMarginRight()&&it.test(ce)&&$e.test(_)&&(R=Ae.width,X=Ae.minWidth,te=Ae.maxWidth,Ae.minWidth=Ae.maxWidth=Ae.width=ce,ce=F.width,Ae.width=R,Ae.minWidth=X,Ae.maxWidth=te),ce!==void 0?ce+"":ce}function G(A,_){return{get:function(){return A()?void delete this.get:(this.get=_).apply(this,arguments)}}}function q(A){if(A in It)return A;for(var _=A[0].toUpperCase()+A.slice(1),F=Ut.length;F--;)if((A=Ut[F]+_)in It)return A}function L(A,_,F){var R=dt.exec(_);return R?Math.max(0,R[2]-(F||0))+(R[3]||"px"):_}function M(A,_,F,R,X){for(var te=F===(R?"border":"content")?4:_==="width"?1:0,ce=0;te<4;te+=2)F==="margin"&&(ce+=T.css(A,F+Pt[te],!0,X)),R?(F==="content"&&(ce-=T.css(A,"padding"+Pt[te],!0,X)),F!=="margin"&&(ce-=T.css(A,"border"+Pt[te]+"Width",!0,X))):(ce+=T.css(A,"padding"+Pt[te],!0,X),F!=="padding"&&(ce+=T.css(A,"border"+Pt[te]+"Width",!0,X)));return ce}function D(A,_,F){var R=!0,X=_==="width"?A.offsetWidth:A.offsetHeight,te=ot(A),ce=T.css(A,"boxSizing",!1,te)==="border-box";if(X<=0||X==null){if(X=Q(A,_,te),(X<0||X==null)&&(X=A.style[_]),it.test(X))return X;R=ce&&(ke.boxSizingReliable()||X===A.style[_]),X=parseFloat(X)||0}return X+M(A,_,F||(ce?"border":"content"),R,te)+"px"}function V(A,_){for(var F,R,X,te=[],ce=0,Ae=A.length;ce<Ae;ce++)R=A[ce],R.style&&(te[ce]=nt.get(R,"olddisplay"),F=R.style.display,_?(te[ce]||F!=="none"||(R.style.display=""),R.style.display===""&&Dt(R)&&(te[ce]=nt.access(R,"olddisplay",j(R.nodeName)))):(X=Dt(R),F==="none"&&X||nt.set(R,"olddisplay",X?F:T.css(R,"display"))));for(ce=0;ce<Ae;ce++)R=A[ce],R.style&&(_&&R.style.display!=="none"&&R.style.display!==""||(R.style.display=_?te[ce]||"":"none"));return A}function W(A,_,F,R,X){return new W.prototype.init(A,_,F,R,X)}function N(){return B.setTimeout(function(){At=void 0}),At=T.now()}function re(A,_){var F,R=0,X={height:A};for(_=_?1:0;R<4;R+=2-_)F=Pt[R],X["margin"+F]=X["padding"+F]=A;return _&&(X.opacity=X.width=A),X}function Y(A,_,F){for(var R,X=(oe.tweeners[_]||[]).concat(oe.tweeners["*"]),te=0,ce=X.length;te<ce;te++)if(R=X[te].call(F,_,A))return R}function O(A,_,F){var R,X,te,ce,Ae,Oe,Ue,We=this,C={},ae=A.style,ze=A.nodeType&&Dt(A),et=nt.get(A,"fxshow");F.queue||(Ae=T._queueHooks(A,"fx"),Ae.unqueued==null&&(Ae.unqueued=0,Oe=Ae.empty.fire,Ae.empty.fire=function(){Ae.unqueued||Oe()}),Ae.unqueued++,We.always(function(){We.always(function(){Ae.unqueued--,T.queue(A,"fx").length||Ae.empty.fire()})})),A.nodeType===1&&("height"in _||"width"in _)&&(F.overflow=[ae.overflow,ae.overflowX,ae.overflowY],Ue=T.css(A,"display"),(Ue==="none"?nt.get(A,"olddisplay")||j(A.nodeName):Ue)==="inline"&&T.css(A,"float")==="none"&&(ae.display="inline-block")),F.overflow&&(ae.overflow="hidden",We.always(function(){ae.overflow=F.overflow[0],ae.overflowX=F.overflow[1],ae.overflowY=F.overflow[2]}));for(R in _)if(X=_[R],Xt.exec(X)){if(delete _[R],te=te||X==="toggle",X===(ze?"hide":"show")){if(X!=="show"||!et||et[R]===void 0)continue;ze=!0}C[R]=et&&et[R]||T.style(A,R)}else Ue=void 0;if(T.isEmptyObject(C))(Ue==="none"?j(A.nodeName):Ue)==="inline"&&(ae.display=Ue);else{et?"hidden"in et&&(ze=et.hidden):et=nt.access(A,"fxshow",{}),te&&(et.hidden=!ze),ze?T(A).show():We.done(function(){T(A).hide()}),We.done(function(){var lt;nt.remove(A,"fxshow");for(lt in C)T.style(A,lt,C[lt])});for(R in C)ce=Y(ze?et[R]:0,R,We),R in et||(et[R]=ce.start,ze&&(ce.end=ce.start,ce.start=R==="width"||R==="height"?1:0))}}function ee(A,_){var F,R,X,te,ce;for(F in A)if(R=T.camelCase(F),X=_[R],te=A[F],T.isArray(te)&&(X=te[1],te=A[F]=te[0]),F!==R&&(A[R]=te,delete A[F]),(ce=T.cssHooks[R])&&"expand"in ce){te=ce.expand(te),delete A[R];for(F in te)F in A||(A[F]=te[F],_[F]=X)}else _[R]=X}function oe(A,_,F){var R,X,te=0,ce=oe.prefilters.length,Ae=T.Deferred().always(function(){delete Oe.elem}),Oe=function(){if(X)return!1;for(var C=At||N(),ae=Math.max(0,Ue.startTime+Ue.duration-C),ze=ae/Ue.duration||0,et=1-ze,lt=0,vt=Ue.tweens.length;lt<vt;lt++)Ue.tweens[lt].run(et);return Ae.notifyWith(A,[Ue,et,ae]),et<1&&vt?ae:(Ae.resolveWith(A,[Ue]),!1)},Ue=Ae.promise({elem:A,props:T.extend({},_),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},F),originalProperties:_,originalOptions:F,startTime:At||N(),duration:F.duration,tweens:[],createTween:function(C,ae){var ze=T.Tween(A,Ue.opts,C,ae,Ue.opts.specialEasing[C]||Ue.opts.easing);return Ue.tweens.push(ze),ze},stop:function(C){var ae=0,ze=C?Ue.tweens.length:0;if(X)return this;for(X=!0;ae<ze;ae++)Ue.tweens[ae].run(1);return C?(Ae.notifyWith(A,[Ue,1,0]),Ae.resolveWith(A,[Ue,C])):Ae.rejectWith(A,[Ue,C]),this}}),We=Ue.props;for(ee(We,Ue.opts.specialEasing);te<ce;te++)if(R=oe.prefilters[te].call(Ue,A,We,Ue.opts))return T.isFunction(R.stop)&&(T._queueHooks(Ue.elem,Ue.opts.queue).stop=T.proxy(R.stop,R)),R;return T.map(We,Y,Ue),T.isFunction(Ue.opts.start)&&Ue.opts.start.call(A,Ue),T.fx.timer(T.extend(Oe,{elem:A,anim:Ue,queue:Ue.opts.queue})),Ue.progress(Ue.opts.progress).done(Ue.opts.done,Ue.opts.complete).fail(Ue.opts.fail).always(Ue.opts.always)}function H(A){return A.getAttribute&&A.getAttribute("class")||""}function J(A){return function(_,F){typeof _!="string"&&(F=_,_="*");var R,X=0,te=_.toLowerCase().match(He)||[];if(T.isFunction(F))for(;R=te[X++];)R[0]==="+"?(R=R.slice(1)||"*",(A[R]=A[R]||[]).unshift(F)):(A[R]=A[R]||[]).push(F)}}function ie(A,_,F,R){function X(Ae){var Oe;return te[Ae]=!0,T.each(A[Ae]||[],function(Ue,We){var C=We(_,F,R);return typeof C!="string"||ce||te[C]?ce?!(Oe=C):void 0:(_.dataTypes.unshift(C),X(C),!1)}),Oe}var te={},ce=A===In;return X(_.dataTypes[0])||!te["*"]&&X("*")}function de(A,_){var F,R,X=T.ajaxSettings.flatOptions||{};for(F in _)_[F]!==void 0&&((X[F]?A:R||(R={}))[F]=_[F]);return R&&T.extend(!0,A,R),A}function fe(A,_,F){for(var R,X,te,ce,Ae=A.contents,Oe=A.dataTypes;Oe[0]==="*";)Oe.shift(),R===void 0&&(R=A.mimeType||_.getResponseHeader("Content-Type"));if(R){for(X in Ae)if(Ae[X]&&Ae[X].test(R)){Oe.unshift(X);break}}if(Oe[0]in F)te=Oe[0];else{for(X in F){if(!Oe[0]||A.converters[X+" "+Oe[0]]){te=X;break}ce||(ce=X)}te=te||ce}if(te)return te!==Oe[0]&&Oe.unshift(te),F[te]}function Ee(A,_,F,R){var X,te,ce,Ae,Oe,Ue={},We=A.dataTypes.slice();if(We[1])for(ce in A.converters)Ue[ce.toLowerCase()]=A.converters[ce];for(te=We.shift();te;)if(A.responseFields[te]&&(F[A.responseFields[te]]=_),!Oe&&R&&A.dataFilter&&(_=A.dataFilter(_,A.dataType)),Oe=te,te=We.shift()){if(te==="*")te=Oe;else if(Oe!=="*"&&Oe!==te){if(!(ce=Ue[Oe+" "+te]||Ue["* "+te])){for(X in Ue)if(Ae=X.split(" "),Ae[1]===te&&(ce=Ue[Oe+" "+Ae[0]]||Ue["* "+Ae[0]])){ce===!0?ce=Ue[X]:Ue[X]!==!0&&(te=Ae[0],We.unshift(Ae[1]));break}}if(ce!==!0)if(ce&&A.throws)_=ce(_);else try{_=ce(_)}catch(C){return{state:"parsererror",error:ce?C:"No conversion from "+Oe+" to "+te}}}}return{state:"success",data:_}}function ye(A,_,F,R){var X;if(T.isArray(_))T.each(_,function(te,ce){F||ur.test(A)?R(A,ce):ye(A+"["+(typeof ce=="object"&&ce!=null?te:"")+"]",ce,F,R)});else if(F||T.type(_)!=="object")R(A,_);else for(X in _)ye(A+"["+X+"]",_[X],F,R)}function _e(A){return T.isWindow(A)?A:A.nodeType===9&&A.defaultView}var Fe=[],se=B.document,I=Fe.slice,ne=Fe.concat,pe=Fe.push,ge=Fe.indexOf,Be={},Re=Be.toString,ve=Be.hasOwnProperty,ke={},T=function(A,_){return new T.fn.init(A,_)},Ie=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ke=/^-ms-/,Ye=/-([\da-z])/gi,bt=function(A,_){return _.toUpperCase()};T.fn=T.prototype={jquery:"2.2.4",constructor:T,selector:"",length:0,toArray:function(){return I.call(this)},get:function(A){return A!=null?A<0?this[A+this.length]:this[A]:I.call(this)},pushStack:function(A){var _=T.merge(this.constructor(),A);return _.prevObject=this,_.context=this.context,_},each:function(A){return T.each(this,A)},map:function(A){return this.pushStack(T.map(this,function(_,F){return A.call(_,F,_)}))},slice:function(){return this.pushStack(I.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(A){var _=this.length,F=+A+(A<0?_:0);return this.pushStack(F>=0&&F<_?[this[F]]:[])},end:function(){return this.prevObject||this.constructor()},push:pe,sort:Fe.sort,splice:Fe.splice},T.extend=T.fn.extend=function(){var A,_,F,R,X,te,ce=arguments[0]||{},Ae=1,Oe=arguments.length,Ue=!1;for(typeof ce=="boolean"&&(Ue=ce,ce=arguments[Ae]||{},Ae++),typeof ce=="object"||T.isFunction(ce)||(ce={}),Ae===Oe&&(ce=this,Ae--);Ae<Oe;Ae++)if((A=arguments[Ae])!=null)for(_ in A)F=ce[_],R=A[_],ce!==R&&(Ue&&R&&(T.isPlainObject(R)||(X=T.isArray(R)))?(X?(X=!1,te=F&&T.isArray(F)?F:[]):te=F&&T.isPlainObject(F)?F:{},ce[_]=T.extend(Ue,te,R)):R!==void 0&&(ce[_]=R));return ce},T.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(A){throw new Error(A)},noop:function(){},isFunction:function(A){return T.type(A)==="function"},isArray:Array.isArray,isWindow:function(A){return A!=null&&A===A.window},isNumeric:function(A){var _=A&&A.toString();return!T.isArray(A)&&_-parseFloat(_)+1>=0},isPlainObject:function(A){var _;if(T.type(A)!=="object"||A.nodeType||T.isWindow(A)||A.constructor&&!ve.call(A,"constructor")&&!ve.call(A.constructor.prototype||{},"isPrototypeOf"))return!1;for(_ in A);return _===void 0||ve.call(A,_)},isEmptyObject:function(A){var _;for(_ in A)return!1;return!0},type:function(A){return A==null?A+"":typeof A=="object"||typeof A=="function"?Be[Re.call(A)]||"object":typeof A},globalEval:function(A){var _,F=eval;(A=T.trim(A))&&(A.indexOf("use strict")===1?(_=se.createElement("script"),_.text=A,se.head.appendChild(_).parentNode.removeChild(_)):F(A))},camelCase:function(A){return A.replace(Ke,"ms-").replace(Ye,bt)},nodeName:function(A,_){return A.nodeName&&A.nodeName.toLowerCase()===_.toLowerCase()},each:function(A,_){var F,R=0;if(w(A))for(F=A.length;R<F&&_.call(A[R],R,A[R])!==!1;R++);else for(R in A)if(_.call(A[R],R,A[R])===!1)break;return A},trim:function(A){return A==null?"":(A+"").replace(Ie,"")},makeArray:function(A,_){var F=_||[];return A!=null&&(w(Object(A))?T.merge(F,typeof A=="string"?[A]:A):pe.call(F,A)),F},inArray:function(A,_,F){return _==null?-1:ge.call(_,A,F)},merge:function(A,_){for(var F=+_.length,R=0,X=A.length;R<F;R++)A[X++]=_[R];return A.length=X,A},grep:function(A,_,F){for(var R=[],X=0,te=A.length,ce=!F;X<te;X++)!_(A[X],X)!==ce&&R.push(A[X]);return R},map:function(A,_,F){var R,X,te=0,ce=[];if(w(A))for(R=A.length;te<R;te++)(X=_(A[te],te,F))!=null&&ce.push(X);else for(te in A)(X=_(A[te],te,F))!=null&&ce.push(X);return ne.apply([],ce)},guid:1,proxy:function(A,_){var F,R,X;if(typeof _=="string"&&(F=A[_],_=A,A=F),T.isFunction(A))return R=I.call(arguments,2),X=function(){return A.apply(_||this,R.concat(I.call(arguments)))},X.guid=A.guid=A.guid||T.guid++,X},now:Date.now,support:ke}),typeof Symbol=="function"&&(T.fn[Symbol.iterator]=Fe[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(A,_){Be["[object "+_+"]"]=_.toLowerCase()});var le=function(A){function _(he,Se,Le,Ve){var Ne,Xe,Je,tt,ut,kt,pt,wt,Ft=Se&&Se.ownerDocument,jt=Se?Se.nodeType:9;if(Le=Le||[],typeof he!="string"||!he||jt!==1&&jt!==9&&jt!==11)return Le;if(!Ve&&((Se?Se.ownerDocument||Se:un)!==Ot&&tn(Se),Se=Se||Ot,dn)){if(jt!==11&&(kt=Qr.exec(he)))if(Ne=kt[1]){if(jt===9){if(!(Je=Se.getElementById(Ne)))return Le;if(Je.id===Ne)return Le.push(Je),Le}else if(Ft&&(Je=Ft.getElementById(Ne))&&jn(Se,Je)&&Je.id===Ne)return Le.push(Je),Le}else{if(kt[2])return xn.apply(Le,Se.getElementsByTagName(he)),Le;if((Ne=kt[3])&&gt.getElementsByClassName&&Se.getElementsByClassName)return xn.apply(Le,Se.getElementsByClassName(Ne)),Le}if(gt.qsa&&!tr[he+" "]&&(!$t||!$t.test(he))){if(jt!==1)Ft=Se,wt=he;else if(Se.nodeName.toLowerCase()!=="object"){for((tt=Se.getAttribute("id"))?tt=tt.replace(zr,"\\$&"):Se.setAttribute("id",tt=Vt),pt=Tt(he),Xe=pt.length,ut=Ir.test(tt)?"#"+tt:"[id='"+tt+"']";Xe--;)pt[Xe]=ut+" "+We(pt[Xe]);wt=pt.join(","),Ft=br.test(he)&&Oe(Se.parentNode)||Se}if(wt)try{return xn.apply(Le,Ft.querySelectorAll(wt)),Le}catch{}finally{tt===Vt&&Se.removeAttribute("id")}}}return $n(he.replace(nr,"$1"),Se,Le,Ve)}function F(){function he(Le,Ve){return Se.push(Le+" ")>xt.cacheLength&&delete he[Se.shift()],he[Le+" "]=Ve}var Se=[];return he}function R(he){return he[Vt]=!0,he}function X(he){var Se=Ot.createElement("div");try{return!!he(Se)}catch{return!1}finally{Se.parentNode&&Se.parentNode.removeChild(Se),Se=null}}function te(he,Se){for(var Le=he.split("|"),Ve=Le.length;Ve--;)xt.attrHandle[Le[Ve]]=Se}function ce(he,Se){var Le=Se&&he,Ve=Le&&he.nodeType===1&&Se.nodeType===1&&(~Se.sourceIndex||Er)-(~he.sourceIndex||Er);if(Ve)return Ve;if(Le){for(;Le=Le.nextSibling;)if(Le===Se)return-1}return he?1:-1}function Ae(he){return R(function(Se){return Se=+Se,R(function(Le,Ve){for(var Ne,Xe=he([],Le.length,Se),Je=Xe.length;Je--;)Le[Ne=Xe[Je]]&&(Le[Ne]=!(Ve[Ne]=Le[Ne]))})})}function Oe(he){return he&&he.getElementsByTagName!==void 0&&he}function Ue(){}function We(he){for(var Se=0,Le=he.length,Ve="";Se<Le;Se++)Ve+=he[Se].value;return Ve}function C(he,Se,Le){var Ve=Se.dir,Ne=Le&&Ve==="parentNode",Xe=Cr++;return Se.first?function(Je,tt,ut){for(;Je=Je[Ve];)if(Je.nodeType===1||Ne)return he(Je,tt,ut)}:function(Je,tt,ut){var kt,pt,wt,Ft=[fn,Xe];if(ut){for(;Je=Je[Ve];)if((Je.nodeType===1||Ne)&&he(Je,tt,ut))return!0}else for(;Je=Je[Ve];)if(Je.nodeType===1||Ne){if(wt=Je[Vt]||(Je[Vt]={}),pt=wt[Je.uniqueID]||(wt[Je.uniqueID]={}),(kt=pt[Ve])&&kt[0]===fn&&kt[1]===Xe)return Ft[2]=kt[2];if(pt[Ve]=Ft,Ft[2]=he(Je,tt,ut))return!0}}}function ae(he){return he.length>1?function(Se,Le,Ve){for(var Ne=he.length;Ne--;)if(!he[Ne](Se,Le,Ve))return!1;return!0}:he[0]}function ze(he,Se,Le){for(var Ve=0,Ne=Se.length;Ve<Ne;Ve++)_(he,Se[Ve],Le);return Le}function et(he,Se,Le,Ve,Ne){for(var Xe,Je=[],tt=0,ut=he.length,kt=Se!=null;tt<ut;tt++)(Xe=he[tt])&&(Le&&!Le(Xe,Ve,Ne)||(Je.push(Xe),kt&&Se.push(tt)));return Je}function lt(he,Se,Le,Ve,Ne,Xe){return Ve&&!Ve[Vt]&&(Ve=lt(Ve)),Ne&&!Ne[Vt]&&(Ne=lt(Ne,Xe)),R(function(Je,tt,ut,kt){var pt,wt,Ft,jt=[],yt=[],Jt=tt.length,en=Je||ze(Se||"*",ut.nodeType?[ut]:ut,[]),rn=!he||!Je&&Se?en:et(en,jt,he,ut,kt),Yt=Le?Ne||(Je?he:Jt||Ve)?[]:tt:rn;if(Le&&Le(rn,Yt,ut,kt),Ve)for(pt=et(Yt,yt),Ve(pt,[],ut,kt),wt=pt.length;wt--;)(Ft=pt[wt])&&(Yt[yt[wt]]=!(rn[yt[wt]]=Ft));if(Je){if(Ne||he){if(Ne){for(pt=[],wt=Yt.length;wt--;)(Ft=Yt[wt])&&pt.push(rn[wt]=Ft);Ne(null,Yt=[],pt,kt)}for(wt=Yt.length;wt--;)(Ft=Yt[wt])&&(pt=Ne?Mn(Je,Ft):jt[wt])>-1&&(Je[pt]=!(tt[pt]=Ft))}}else Yt=et(Yt===tt?Yt.splice(Jt,Yt.length):Yt),Ne?Ne(null,tt,Yt,kt):xn.apply(tt,Yt)})}function vt(he){for(var Se,Le,Ve,Ne=he.length,Xe=xt.relative[he[0].type],Je=Xe||xt.relative[" "],tt=Xe?1:0,ut=C(function(wt){return wt===Se},Je,!0),kt=C(function(wt){return Mn(Se,wt)>-1},Je,!0),pt=[function(wt,Ft,jt){var yt=!Xe&&(jt||Ft!==an)||((Se=Ft).nodeType?ut(wt,Ft,jt):kt(wt,Ft,jt));return Se=null,yt}];tt<Ne;tt++)if(Le=xt.relative[he[tt].type])pt=[C(ae(pt),Le)];else{if(Le=xt.filter[he[tt].type].apply(null,he[tt].matches),Le[Vt]){for(Ve=++tt;Ve<Ne&&!xt.relative[he[Ve].type];Ve++);return lt(tt>1&&ae(pt),tt>1&&We(he.slice(0,tt-1).concat({value:he[tt-2].type===" "?"*":""})).replace(nr,"$1"),Le,tt<Ve&&vt(he.slice(tt,Ve)),Ve<Ne&&vt(he=he.slice(Ve)),Ve<Ne&&We(he))}pt.push(Le)}return ae(pt)}function _t(he,Se){var Le=Se.length>0,Ve=he.length>0,Ne=function(Xe,Je,tt,ut,kt){var pt,wt,Ft,jt=0,yt="0",Jt=Xe&&[],en=[],rn=an,Yt=Xe||Ve&&xt.find.TAG("*",kt),Gn=fn+=rn==null?1:Math.random()||.1,Vn=Yt.length;for(kt&&(an=Je===Ot||Je||kt);yt!==Vn&&(pt=Yt[yt])!=null;yt++){if(Ve&&pt){for(wt=0,Je||pt.ownerDocument===Ot||(tn(pt),tt=!dn);Ft=he[wt++];)if(Ft(pt,Je||Ot,tt)){ut.push(pt);break}kt&&(fn=Gn)}Le&&((pt=!Ft&&pt)&&jt--,Xe&&Jt.push(pt))}if(jt+=yt,Le&&yt!==jt){for(wt=0;Ft=Se[wt++];)Ft(Jt,en,Je,tt);if(Xe){if(jt>0)for(;yt--;)Jt[yt]||en[yt]||(en[yt]=Tr.call(ut));en=et(en)}xn.apply(ut,en),kt&&!Xe&&en.length>0&&jt+Se.length>1&&_.uniqueSort(ut)}return kt&&(fn=Gn,an=rn),Jt};return Le?R(Ne):Ne}var Rt,gt,xt,st,ft,Tt,gn,$n,an,sn,cn,tn,Ot,Ht,dn,$t,An,er,jn,Vt="sizzle"+1*new Date,un=A.document,fn=0,Cr=0,wr=F(),Ar=F(),tr=F(),fr=function(he,Se){return he===Se&&(cn=!0),0},Er=1<<31,Dr={}.hasOwnProperty,En=[],Tr=En.pop,Br=En.push,xn=En.push,Mr=En.slice,Mn=function(he,Se){for(var Le=0,Ve=he.length;Le<Ve;Le++)if(he[Le]===Se)return Le;return-1},mr="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Gt="[\\x20\\t\\r\\n\\f]",Sn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Sr="\\["+Gt+"*("+Sn+")(?:"+Gt+"*([*^$|!~]?=)"+Gt+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Sn+"))|)"+Gt+"*\\]",yr=":("+Sn+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Sr+")*)|.*)\\)|)",Lr=new RegExp(Gt+"+","g"),nr=new RegExp("^"+Gt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Gt+"+$","g"),Pr=new RegExp("^"+Gt+"*,"+Gt+"*"),Or=new RegExp("^"+Gt+"*([>+~]|"+Gt+")"+Gt+"*"),Fr=new RegExp("="+Gt+`*([^\\]'"]*?)`+Gt+"*\\]","g"),qr=new RegExp(yr),Ir=new RegExp("^"+Sn+"$"),rr={ID:new RegExp("^#("+Sn+")"),CLASS:new RegExp("^\\.("+Sn+")"),TAG:new RegExp("^("+Sn+"|[*])"),ATTR:new RegExp("^"+Sr),PSEUDO:new RegExp("^"+yr),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Gt+"*(even|odd|(([+-]|)(\\d*)n|)"+Gt+"*(?:([+-]|)"+Gt+"*(\\d+)|))"+Gt+"*\\)|)","i"),bool:new RegExp("^(?:"+mr+")$","i"),needsContext:new RegExp("^"+Gt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Gt+"*((?:-\\d)?\\d*)"+Gt+"*\\)|)(?=[^-]|$)","i")},Nr=/^(?:input|select|textarea|button)$/i,Rr=/^h\d$/i,Un=/^[^{]+\{\s*\[native \w/,Qr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,br=/[+~]/,zr=/'|\\/g,mn=new RegExp("\\\\([\\da-f]{1,6}"+Gt+"?|("+Gt+")|.)","ig"),yn=function(he,Se,Le){var Ve="0x"+Se-65536;return Ve!==Ve||Le?Se:Ve<0?String.fromCharCode(Ve+65536):String.fromCharCode(Ve>>10|55296,1023&Ve|56320)},_r=function(){tn()};try{xn.apply(En=Mr.call(un.childNodes),un.childNodes),En[un.childNodes.length].nodeType}catch{xn={apply:En.length?function(Se,Le){Br.apply(Se,Mr.call(Le))}:function(Se,Le){for(var Ve=Se.length,Ne=0;Se[Ve++]=Le[Ne++];);Se.length=Ve-1}}}gt=_.support={},ft=_.isXML=function(he){var Se=he&&(he.ownerDocument||he).documentElement;return!!Se&&Se.nodeName!=="HTML"},tn=_.setDocument=function(he){var Se,Le,Ve=he?he.ownerDocument||he:un;return Ve!==Ot&&Ve.nodeType===9&&Ve.documentElement&&(Ot=Ve,Ht=Ot.documentElement,dn=!ft(Ot),(Le=Ot.defaultView)&&Le.top!==Le&&(Le.addEventListener?Le.addEventListener("unload",_r,!1):Le.attachEvent&&Le.attachEvent("onunload",_r)),gt.attributes=X(function(Ne){return Ne.className="i",!Ne.getAttribute("className")}),gt.getElementsByTagName=X(function(Ne){return Ne.appendChild(Ot.createComment("")),!Ne.getElementsByTagName("*").length}),gt.getElementsByClassName=Un.test(Ot.getElementsByClassName),gt.getById=X(function(Ne){return Ht.appendChild(Ne).id=Vt,!Ot.getElementsByName||!Ot.getElementsByName(Vt).length}),gt.getById?(xt.find.ID=function(Ne,Xe){if(Xe.getElementById!==void 0&&dn){var Je=Xe.getElementById(Ne);return Je?[Je]:[]}},xt.filter.ID=function(Ne){var Xe=Ne.replace(mn,yn);return function(Je){return Je.getAttribute("id")===Xe}}):(delete xt.find.ID,xt.filter.ID=function(Ne){var Xe=Ne.replace(mn,yn);return function(Je){var tt=Je.getAttributeNode!==void 0&&Je.getAttributeNode("id");return tt&&tt.value===Xe}}),xt.find.TAG=gt.getElementsByTagName?function(Ne,Xe){return Xe.getElementsByTagName!==void 0?Xe.getElementsByTagName(Ne):gt.qsa?Xe.querySelectorAll(Ne):void 0}:function(Ne,Xe){var Je,tt=[],ut=0,kt=Xe.getElementsByTagName(Ne);if(Ne==="*"){for(;Je=kt[ut++];)Je.nodeType===1&&tt.push(Je);return tt}return kt},xt.find.CLASS=gt.getElementsByClassName&&function(Ne,Xe){if(Xe.getElementsByClassName!==void 0&&dn)return Xe.getElementsByClassName(Ne)},An=[],$t=[],(gt.qsa=Un.test(Ot.querySelectorAll))&&(X(function(Ne){Ht.appendChild(Ne).innerHTML="<a id='"+Vt+"'></a><select id='"+Vt+"-\r\\' msallowcapture=''><option selected=''></option></select>",Ne.querySelectorAll("[msallowcapture^='']").length&&$t.push("[*^$]="+Gt+`*(?:''|"")`),Ne.querySelectorAll("[selected]").length||$t.push("\\["+Gt+"*(?:value|"+mr+")"),Ne.querySelectorAll("[id~="+Vt+"-]").length||$t.push("~="),Ne.querySelectorAll(":checked").length||$t.push(":checked"),Ne.querySelectorAll("a#"+Vt+"+*").length||$t.push(".#.+[+~]")}),X(function(Ne){var Xe=Ot.createElement("input");Xe.setAttribute("type","hidden"),Ne.appendChild(Xe).setAttribute("name","D"),Ne.querySelectorAll("[name=d]").length&&$t.push("name"+Gt+"*[*^$|!~]?="),Ne.querySelectorAll(":enabled").length||$t.push(":enabled",":disabled"),Ne.querySelectorAll("*,:x"),$t.push(",.*:")})),(gt.matchesSelector=Un.test(er=Ht.matches||Ht.webkitMatchesSelector||Ht.mozMatchesSelector||Ht.oMatchesSelector||Ht.msMatchesSelector))&&X(function(Ne){gt.disconnectedMatch=er.call(Ne,"div"),er.call(Ne,"[s!='']:x"),An.push("!=",yr)}),$t=$t.length&&new RegExp($t.join("|")),An=An.length&&new RegExp(An.join("|")),Se=Un.test(Ht.compareDocumentPosition),jn=Se||Un.test(Ht.contains)?function(Ne,Xe){var Je=Ne.nodeType===9?Ne.documentElement:Ne,tt=Xe&&Xe.parentNode;return Ne===tt||!(!tt||tt.nodeType!==1||!(Je.contains?Je.contains(tt):Ne.compareDocumentPosition&&16&Ne.compareDocumentPosition(tt)))}:function(Ne,Xe){if(Xe){for(;Xe=Xe.parentNode;)if(Xe===Ne)return!0}return!1},fr=Se?function(Ne,Xe){if(Ne===Xe)return cn=!0,0;var Je=!Ne.compareDocumentPosition-!Xe.compareDocumentPosition;return Je||(Je=(Ne.ownerDocument||Ne)===(Xe.ownerDocument||Xe)?Ne.compareDocumentPosition(Xe):1,1&Je||!gt.sortDetached&&Xe.compareDocumentPosition(Ne)===Je?Ne===Ot||Ne.ownerDocument===un&&jn(un,Ne)?-1:Xe===Ot||Xe.ownerDocument===un&&jn(un,Xe)?1:sn?Mn(sn,Ne)-Mn(sn,Xe):0:4&Je?-1:1)}:function(Ne,Xe){if(Ne===Xe)return cn=!0,0;var Je,tt=0,ut=Ne.parentNode,kt=Xe.parentNode,pt=[Ne],wt=[Xe];if(!ut||!kt)return Ne===Ot?-1:Xe===Ot?1:ut?-1:kt?1:sn?Mn(sn,Ne)-Mn(sn,Xe):0;if(ut===kt)return ce(Ne,Xe);for(Je=Ne;Je=Je.parentNode;)pt.unshift(Je);for(Je=Xe;Je=Je.parentNode;)wt.unshift(Je);for(;pt[tt]===wt[tt];)tt++;return tt?ce(pt[tt],wt[tt]):pt[tt]===un?-1:wt[tt]===un?1:0}),Ot},_.matches=function(he,Se){return _(he,null,null,Se)},_.matchesSelector=function(he,Se){if((he.ownerDocument||he)!==Ot&&tn(he),Se=Se.replace(Fr,"='$1']"),gt.matchesSelector&&dn&&!tr[Se+" "]&&(!An||!An.test(Se))&&(!$t||!$t.test(Se)))try{var Le=er.call(he,Se);if(Le||gt.disconnectedMatch||he.document&&he.document.nodeType!==11)return Le}catch{}return _(Se,Ot,null,[he]).length>0},_.contains=function(he,Se){return(he.ownerDocument||he)!==Ot&&tn(he),jn(he,Se)},_.attr=function(he,Se){(he.ownerDocument||he)!==Ot&&tn(he);var Le=xt.attrHandle[Se.toLowerCase()],Ve=Le&&Dr.call(xt.attrHandle,Se.toLowerCase())?Le(he,Se,!dn):void 0;return Ve!==void 0?Ve:gt.attributes||!dn?he.getAttribute(Se):(Ve=he.getAttributeNode(Se))&&Ve.specified?Ve.value:null},_.error=function(he){throw new Error("Syntax error, unrecognized expression: "+he)},_.uniqueSort=function(he){var Se,Le=[],Ve=0,Ne=0;if(cn=!gt.detectDuplicates,sn=!gt.sortStable&&he.slice(0),he.sort(fr),cn){for(;Se=he[Ne++];)Se===he[Ne]&&(Ve=Le.push(Ne));for(;Ve--;)he.splice(Le[Ve],1)}return sn=null,he},st=_.getText=function(he){var Se,Le="",Ve=0,Ne=he.nodeType;if(Ne){if(Ne===1||Ne===9||Ne===11){if(typeof he.textContent=="string")return he.textContent;for(he=he.firstChild;he;he=he.nextSibling)Le+=st(he)}else if(Ne===3||Ne===4)return he.nodeValue}else for(;Se=he[Ve++];)Le+=st(Se);return Le},xt=_.selectors={cacheLength:50,createPseudo:R,match:rr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(he){return he[1]=he[1].replace(mn,yn),he[3]=(he[3]||he[4]||he[5]||"").replace(mn,yn),he[2]==="~="&&(he[3]=" "+he[3]+" "),he.slice(0,4)},CHILD:function(he){return he[1]=he[1].toLowerCase(),he[1].slice(0,3)==="nth"?(he[3]||_.error(he[0]),he[4]=+(he[4]?he[5]+(he[6]||1):2*(he[3]==="even"||he[3]==="odd")),he[5]=+(he[7]+he[8]||he[3]==="odd")):he[3]&&_.error(he[0]),he},PSEUDO:function(he){var Se,Le=!he[6]&&he[2];return rr.CHILD.test(he[0])?null:(he[3]?he[2]=he[4]||he[5]||"":Le&&qr.test(Le)&&(Se=Tt(Le,!0))&&(Se=Le.indexOf(")",Le.length-Se)-Le.length)&&(he[0]=he[0].slice(0,Se),he[2]=Le.slice(0,Se)),he.slice(0,3))}},filter:{TAG:function(he){var Se=he.replace(mn,yn).toLowerCase();return he==="*"?function(){return!0}:function(Le){return Le.nodeName&&Le.nodeName.toLowerCase()===Se}},CLASS:function(he){var Se=wr[he+" "];return Se||(Se=new RegExp("(^|"+Gt+")"+he+"("+Gt+"|$)"))&&wr(he,function(Le){return Se.test(typeof Le.className=="string"&&Le.className||Le.getAttribute!==void 0&&Le.getAttribute("class")||"")})},ATTR:function(he,Se,Le){return function(Ve){var Ne=_.attr(Ve,he);return Ne==null?Se==="!=":!Se||(Ne+="",Se==="="?Ne===Le:Se==="!="?Ne!==Le:Se==="^="?Le&&Ne.indexOf(Le)===0:Se==="*="?Le&&Ne.indexOf(Le)>-1:Se==="$="?Le&&Ne.slice(-Le.length)===Le:Se==="~="?(" "+Ne.replace(Lr," ")+" ").indexOf(Le)>-1:Se==="|="&&(Ne===Le||Ne.slice(0,Le.length+1)===Le+"-"))}},CHILD:function(he,Se,Le,Ve,Ne){var Xe=he.slice(0,3)!=="nth",Je=he.slice(-4)!=="last",tt=Se==="of-type";return Ve===1&&Ne===0?function(ut){return!!ut.parentNode}:function(ut,kt,pt){var wt,Ft,jt,yt,Jt,en,rn=Xe!==Je?"nextSibling":"previousSibling",Yt=ut.parentNode,Gn=tt&&ut.nodeName.toLowerCase(),Vn=!pt&&!tt,ln=!1;if(Yt){if(Xe){for(;rn;){for(yt=ut;yt=yt[rn];)if(tt?yt.nodeName.toLowerCase()===Gn:yt.nodeType===1)return!1;en=rn=he==="only"&&!en&&"nextSibling"}return!0}if(en=[Je?Yt.firstChild:Yt.lastChild],Je&&Vn){for(yt=Yt,jt=yt[Vt]||(yt[Vt]={}),Ft=jt[yt.uniqueID]||(jt[yt.uniqueID]={}),wt=Ft[he]||[],Jt=wt[0]===fn&&wt[1],ln=Jt&&wt[2],yt=Jt&&Yt.childNodes[Jt];yt=++Jt&&yt&&yt[rn]||(ln=Jt=0)||en.pop();)if(yt.nodeType===1&&++ln&&yt===ut){Ft[he]=[fn,Jt,ln];break}}else if(Vn&&(yt=ut,jt=yt[Vt]||(yt[Vt]={}),Ft=jt[yt.uniqueID]||(jt[yt.uniqueID]={}),wt=Ft[he]||[],Jt=wt[0]===fn&&wt[1],ln=Jt),ln===!1)for(;(yt=++Jt&&yt&&yt[rn]||(ln=Jt=0)||en.pop())&&((tt?yt.nodeName.toLowerCase()!==Gn:yt.nodeType!==1)||!++ln||(Vn&&(jt=yt[Vt]||(yt[Vt]={}),Ft=jt[yt.uniqueID]||(jt[yt.uniqueID]={}),Ft[he]=[fn,ln]),yt!==ut)););return(ln-=Ne)===Ve||ln%Ve==0&&ln/Ve>=0}}},PSEUDO:function(he,Se){var Le,Ve=xt.pseudos[he]||xt.setFilters[he.toLowerCase()]||_.error("unsupported pseudo: "+he);return Ve[Vt]?Ve(Se):Ve.length>1?(Le=[he,he,"",Se],xt.setFilters.hasOwnProperty(he.toLowerCase())?R(function(Ne,Xe){for(var Je,tt=Ve(Ne,Se),ut=tt.length;ut--;)Je=Mn(Ne,tt[ut]),Ne[Je]=!(Xe[Je]=tt[ut])}):function(Ne){return Ve(Ne,0,Le)}):Ve}},pseudos:{not:R(function(he){var Se=[],Le=[],Ve=gn(he.replace(nr,"$1"));return Ve[Vt]?R(function(Ne,Xe,Je,tt){for(var ut,kt=Ve(Ne,null,tt,[]),pt=Ne.length;pt--;)(ut=kt[pt])&&(Ne[pt]=!(Xe[pt]=ut))}):function(Ne,Xe,Je){return Se[0]=Ne,Ve(Se,null,Je,Le),Se[0]=null,!Le.pop()}}),has:R(function(he){return function(Se){return _(he,Se).length>0}}),contains:R(function(he){return he=he.replace(mn,yn),function(Se){return(Se.textContent||Se.innerText||st(Se)).indexOf(he)>-1}}),lang:R(function(he){return Ir.test(he||"")||_.error("unsupported lang: "+he),he=he.replace(mn,yn).toLowerCase(),function(Se){var Le;do if(Le=dn?Se.lang:Se.getAttribute("xml:lang")||Se.getAttribute("lang"))return(Le=Le.toLowerCase())===he||Le.indexOf(he+"-")===0;while((Se=Se.parentNode)&&Se.nodeType===1);return!1}}),target:function(he){var Se=A.location&&A.location.hash;return Se&&Se.slice(1)===he.id},root:function(he){return he===Ht},focus:function(he){return he===Ot.activeElement&&(!Ot.hasFocus||Ot.hasFocus())&&!!(he.type||he.href||~he.tabIndex)},enabled:function(he){return he.disabled===!1},disabled:function(he){return he.disabled===!0},checked:function(he){var Se=he.nodeName.toLowerCase();return Se==="input"&&!!he.checked||Se==="option"&&!!he.selected},selected:function(he){return he.parentNode&&he.parentNode.selectedIndex,he.selected===!0},empty:function(he){for(he=he.firstChild;he;he=he.nextSibling)if(he.nodeType<6)return!1;return!0},parent:function(he){return!xt.pseudos.empty(he)},header:function(he){return Rr.test(he.nodeName)},input:function(he){return Nr.test(he.nodeName)},button:function(he){var Se=he.nodeName.toLowerCase();return Se==="input"&&he.type==="button"||Se==="button"},text:function(he){var Se;return he.nodeName.toLowerCase()==="input"&&he.type==="text"&&((Se=he.getAttribute("type"))==null||Se.toLowerCase()==="text")},first:Ae(function(){return[0]}),last:Ae(function(he,Se){return[Se-1]}),eq:Ae(function(he,Se,Le){return[Le<0?Le+Se:Le]}),even:Ae(function(he,Se){for(var Le=0;Le<Se;Le+=2)he.push(Le);return he}),odd:Ae(function(he,Se){for(var Le=1;Le<Se;Le+=2)he.push(Le);return he}),lt:Ae(function(he,Se,Le){for(var Ve=Le<0?Le+Se:Le;--Ve>=0;)he.push(Ve);return he}),gt:Ae(function(he,Se,Le){for(var Ve=Le<0?Le+Se:Le;++Ve<Se;)he.push(Ve);return he})}},xt.pseudos.nth=xt.pseudos.eq;for(Rt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})xt.pseudos[Rt]=function(he){return function(Se){return Se.nodeName.toLowerCase()==="input"&&Se.type===he}}(Rt);for(Rt in{submit:!0,reset:!0})xt.pseudos[Rt]=function(he){return function(Se){var Le=Se.nodeName.toLowerCase();return(Le==="input"||Le==="button")&&Se.type===he}}(Rt);return Ue.prototype=xt.filters=xt.pseudos,xt.setFilters=new Ue,Tt=_.tokenize=function(he,Se){var Le,Ve,Ne,Xe,Je,tt,ut,kt=Ar[he+" "];if(kt)return Se?0:kt.slice(0);for(Je=he,tt=[],ut=xt.preFilter;Je;){Le&&!(Ve=Pr.exec(Je))||(Ve&&(Je=Je.slice(Ve[0].length)||Je),tt.push(Ne=[])),Le=!1,(Ve=Or.exec(Je))&&(Le=Ve.shift(),Ne.push({value:Le,type:Ve[0].replace(nr," ")}),Je=Je.slice(Le.length));for(Xe in xt.filter)!(Ve=rr[Xe].exec(Je))||ut[Xe]&&!(Ve=ut[Xe](Ve))||(Le=Ve.shift(),Ne.push({value:Le,type:Xe,matches:Ve}),Je=Je.slice(Le.length));if(!Le)break}return Se?Je.length:Je?_.error(he):Ar(he,tt).slice(0)},gn=_.compile=function(he,Se){var Le,Ve=[],Ne=[],Xe=tr[he+" "];if(!Xe){for(Se||(Se=Tt(he)),Le=Se.length;Le--;)Xe=vt(Se[Le]),Xe[Vt]?Ve.push(Xe):Ne.push(Xe);Xe=tr(he,_t(Ne,Ve)),Xe.selector=he}return Xe},$n=_.select=function(he,Se,Le,Ve){var Ne,Xe,Je,tt,ut,kt=typeof he=="function"&&he,pt=!Ve&&Tt(he=kt.selector||he);if(Le=Le||[],pt.length===1){if(Xe=pt[0]=pt[0].slice(0),Xe.length>2&&(Je=Xe[0]).type==="ID"&&gt.getById&&Se.nodeType===9&&dn&&xt.relative[Xe[1].type]){if(!(Se=(xt.find.ID(Je.matches[0].replace(mn,yn),Se)||[])[0]))return Le;kt&&(Se=Se.parentNode),he=he.slice(Xe.shift().value.length)}for(Ne=rr.needsContext.test(he)?0:Xe.length;Ne--&&(Je=Xe[Ne],!xt.relative[tt=Je.type]);)if((ut=xt.find[tt])&&(Ve=ut(Je.matches[0].replace(mn,yn),br.test(Xe[0].type)&&Oe(Se.parentNode)||Se))){if(Xe.splice(Ne,1),!(he=Ve.length&&We(Xe)))return xn.apply(Le,Ve),Le;break}}return(kt||gn(he,pt))(Ve,Se,!dn,Le,!Se||br.test(he)&&Oe(Se.parentNode)||Se),Le},gt.sortStable=Vt.split("").sort(fr).join("")===Vt,gt.detectDuplicates=!!cn,tn(),gt.sortDetached=X(function(he){return 1&he.compareDocumentPosition(Ot.createElement("div"))}),X(function(he){return he.innerHTML="<a href='#'></a>",he.firstChild.getAttribute("href")==="#"})||te("type|href|height|width",function(he,Se,Le){if(!Le)return he.getAttribute(Se,Se.toLowerCase()==="type"?1:2)}),gt.attributes&&X(function(he){return he.innerHTML="<input/>",he.firstChild.setAttribute("value",""),he.firstChild.getAttribute("value")===""})||te("value",function(he,Se,Le){if(!Le&&he.nodeName.toLowerCase()==="input")return he.defaultValue}),X(function(he){return he.getAttribute("disabled")==null})||te(mr,function(he,Se,Le){var Ve;if(!Le)return he[Se]===!0?Se.toLowerCase():(Ve=he.getAttributeNode(Se))&&Ve.specified?Ve.value:null}),_}(B);T.find=le,T.expr=le.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=le.uniqueSort,T.text=le.getText,T.isXMLDoc=le.isXML,T.contains=le.contains;var Te=function(A,_,F){for(var R=[],X=F!==void 0;(A=A[_])&&A.nodeType!==9;)if(A.nodeType===1){if(X&&T(A).is(F))break;R.push(A)}return R},Ce=function(A,_){for(var F=[];A;A=A.nextSibling)A.nodeType===1&&A!==_&&F.push(A);return F},xe=T.expr.match.needsContext,Qe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,je=/^.[^:#\[\.,]*$/;T.filter=function(A,_,F){var R=_[0];return F&&(A=":not("+A+")"),_.length===1&&R.nodeType===1?T.find.matchesSelector(R,A)?[R]:[]:T.find.matches(A,T.grep(_,function(X){return X.nodeType===1}))},T.fn.extend({find:function(A){var _,F=this.length,R=[],X=this;if(typeof A!="string")return this.pushStack(T(A).filter(function(){for(_=0;_<F;_++)if(T.contains(X[_],this))return!0}));for(_=0;_<F;_++)T.find(A,X[_],R);return R=this.pushStack(F>1?T.unique(R):R),R.selector=this.selector?this.selector+" "+A:A,R},filter:function(A){return this.pushStack(e(this,A||[],!1))},not:function(A){return this.pushStack(e(this,A||[],!0))},is:function(A){return!!e(this,typeof A=="string"&&xe.test(A)?T(A):A||[],!1).length}});var be,Me=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(T.fn.init=function(A,_,F){var R,X;if(!A)return this;if(F=F||be,typeof A=="string"){if(!(R=A[0]==="<"&&A[A.length-1]===">"&&A.length>=3?[null,A,null]:Me.exec(A))||!R[1]&&_)return!_||_.jquery?(_||F).find(A):this.constructor(_).find(A);if(R[1]){if(_=_ instanceof T?_[0]:_,T.merge(this,T.parseHTML(R[1],_&&_.nodeType?_.ownerDocument||_:se,!0)),Qe.test(R[1])&&T.isPlainObject(_))for(R in _)T.isFunction(this[R])?this[R](_[R]):this.attr(R,_[R]);return this}return X=se.getElementById(R[2]),X&&X.parentNode&&(this.length=1,this[0]=X),this.context=se,this.selector=A,this}return A.nodeType?(this.context=this[0]=A,this.length=1,this):T.isFunction(A)?F.ready!==void 0?F.ready(A):A(T):(A.selector!==void 0&&(this.selector=A.selector,this.context=A.context),T.makeArray(A,this))}).prototype=T.fn,be=T(se);var De=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};T.fn.extend({has:function(A){var _=T(A,this),F=_.length;return this.filter(function(){for(var R=0;R<F;R++)if(T.contains(this,_[R]))return!0})},closest:function(A,_){for(var F,R=0,X=this.length,te=[],ce=xe.test(A)||typeof A!="string"?T(A,_||this.context):0;R<X;R++)for(F=this[R];F&&F!==_;F=F.parentNode)if(F.nodeType<11&&(ce?ce.index(F)>-1:F.nodeType===1&&T.find.matchesSelector(F,A))){te.push(F);break}return this.pushStack(te.length>1?T.uniqueSort(te):te)},index:function(A){return A?typeof A=="string"?ge.call(T(A),this[0]):ge.call(this,A.jquery?A[0]:A):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(A,_){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(A,_))))},addBack:function(A){return this.add(A==null?this.prevObject:this.prevObject.filter(A))}}),T.each({parent:function(A){var _=A.parentNode;return _&&_.nodeType!==11?_:null},parents:function(A){return Te(A,"parentNode")},parentsUntil:function(A,_,F){return Te(A,"parentNode",F)},next:function(A){return c(A,"nextSibling")},prev:function(A){return c(A,"previousSibling")},nextAll:function(A){return Te(A,"nextSibling")},prevAll:function(A){return Te(A,"previousSibling")},nextUntil:function(A,_,F){return Te(A,"nextSibling",F)},prevUntil:function(A,_,F){return Te(A,"previousSibling",F)},siblings:function(A){return Ce((A.parentNode||{}).firstChild,A)},children:function(A){return Ce(A.firstChild)},contents:function(A){return A.contentDocument||T.merge([],A.childNodes)}},function(A,_){T.fn[A]=function(F,R){var X=T.map(this,_,F);return A.slice(-5)!=="Until"&&(R=F),R&&typeof R=="string"&&(X=T.filter(R,X)),this.length>1&&(Pe[A]||T.uniqueSort(X),De.test(A)&&X.reverse()),this.pushStack(X)}});var He=/\S+/g;T.Callbacks=function(A){A=typeof A=="string"?t(A):T.extend({},A);var _,F,R,X,te=[],ce=[],Ae=-1,Oe=function(){for(X=A.once,R=_=!0;ce.length;Ae=-1)for(F=ce.shift();++Ae<te.length;)te[Ae].apply(F[0],F[1])===!1&&A.stopOnFalse&&(Ae=te.length,F=!1);A.memory||(F=!1),_=!1,X&&(te=F?[]:"")},Ue={add:function(){return te&&(F&&!_&&(Ae=te.length-1,ce.push(F)),function We(C){T.each(C,function(ae,ze){T.isFunction(ze)?A.unique&&Ue.has(ze)||te.push(ze):ze&&ze.length&&T.type(ze)!=="string"&&We(ze)})}(arguments),F&&!_&&Oe()),this},remove:function(){return T.each(arguments,function(We,C){for(var ae;(ae=T.inArray(C,te,ae))>-1;)te.splice(ae,1),ae<=Ae&&Ae--}),this},has:function(We){return We?T.inArray(We,te)>-1:te.length>0},empty:function(){return te&&(te=[]),this},disable:function(){return X=ce=[],te=F="",this},disabled:function(){return!te},lock:function(){return X=ce=[],F||(te=F=""),this},locked:function(){return!!X},fireWith:function(We,C){return X||(C=C||[],C=[We,C.slice?C.slice():C],ce.push(C),_||Oe()),this},fire:function(){return Ue.fireWith(this,arguments),this},fired:function(){return!!R}};return Ue},T.extend({Deferred:function(A){var _=[["resolve","done",T.Callbacks("once memory"),"resolved"],["reject","fail",T.Callbacks("once memory"),"rejected"],["notify","progress",T.Callbacks("memory")]],F="pending",R={state:function(){return F},always:function(){return X.done(arguments).fail(arguments),this},then:function(){var te=arguments;return T.Deferred(function(ce){T.each(_,function(Ae,Oe){var Ue=T.isFunction(te[Ae])&&te[Ae];X[Oe[1]](function(){var We=Ue&&Ue.apply(this,arguments);We&&T.isFunction(We.promise)?We.promise().progress(ce.notify).done(ce.resolve).fail(ce.reject):ce[Oe[0]+"With"](this===R?ce.promise():this,Ue?[We]:arguments)})}),te=null}).promise()},promise:function(te){return te!=null?T.extend(te,R):R}},X={};return R.pipe=R.then,T.each(_,function(te,ce){var Ae=ce[2],Oe=ce[3];R[ce[1]]=Ae.add,Oe&&Ae.add(function(){F=Oe},_[1^te][2].disable,_[2][2].lock),X[ce[0]]=function(){return X[ce[0]+"With"](this===X?R:this,arguments),this},X[ce[0]+"With"]=Ae.fireWith}),R.promise(X),A&&A.call(X,X),X},when:function(A){var _,F,R,X=0,te=I.call(arguments),ce=te.length,Ae=ce!==1||A&&T.isFunction(A.promise)?ce:0,Oe=Ae===1?A:T.Deferred(),Ue=function(We,C,ae){return function(ze){C[We]=this,ae[We]=arguments.length>1?I.call(arguments):ze,ae===_?Oe.notifyWith(C,ae):--Ae||Oe.resolveWith(C,ae)}};if(ce>1)for(_=new Array(ce),F=new Array(ce),R=new Array(ce);X<ce;X++)te[X]&&T.isFunction(te[X].promise)?te[X].promise().progress(Ue(X,F,_)).done(Ue(X,R,te)).fail(Oe.reject):--Ae;return Ae||Oe.resolveWith(R,te),Oe.promise()}});var Ze;T.fn.ready=function(A){return T.ready.promise().done(A),this},T.extend({isReady:!1,readyWait:1,holdReady:function(A){A?T.readyWait++:T.ready(!0)},ready:function(A){(A===!0?--T.readyWait:T.isReady)||(T.isReady=!0,A!==!0&&--T.readyWait>0||(Ze.resolveWith(se,[T]),T.fn.triggerHandler&&(T(se).triggerHandler("ready"),T(se).off("ready"))))}}),T.ready.promise=function(A){return Ze||(Ze=T.Deferred(),se.readyState==="complete"||se.readyState!=="loading"&&!se.documentElement.doScroll?B.setTimeout(T.ready):(se.addEventListener("DOMContentLoaded",a),B.addEventListener("load",a))),Ze.promise(A)},T.ready.promise();var rt=function(A,_,F,R,X,te,ce){var Ae=0,Oe=A.length,Ue=F==null;if(T.type(F)==="object"){X=!0;for(Ae in F)rt(A,_,Ae,F[Ae],!0,te,ce)}else if(R!==void 0&&(X=!0,T.isFunction(R)||(ce=!0),Ue&&(ce?(_.call(A,R),_=null):(Ue=_,_=function(We,C,ae){return Ue.call(T(We),ae)})),_))for(;Ae<Oe;Ae++)_(A[Ae],F,ce?R:R.call(A[Ae],Ae,_(A[Ae],F)));return X?A:Ue?_.call(A):Oe?_(A[0],F):te},Ct=function(A){return A.nodeType===1||A.nodeType===9||!+A.nodeType};l.uid=1,l.prototype={register:function(A,_){var F=_||{};return A.nodeType?A[this.expando]=F:Object.defineProperty(A,this.expando,{value:F,writable:!0,configurable:!0}),A[this.expando]},cache:function(A){if(!Ct(A))return{};var _=A[this.expando];return _||(_={},Ct(A)&&(A.nodeType?A[this.expando]=_:Object.defineProperty(A,this.expando,{value:_,configurable:!0}))),_},set:function(A,_,F){var R,X=this.cache(A);if(typeof _=="string")X[_]=F;else for(R in _)X[R]=_[R];return X},get:function(A,_){return _===void 0?this.cache(A):A[this.expando]&&A[this.expando][_]},access:function(A,_,F){var R;return _===void 0||_&&typeof _=="string"&&F===void 0?(R=this.get(A,_),R!==void 0?R:this.get(A,T.camelCase(_))):(this.set(A,_,F),F!==void 0?F:_)},remove:function(A,_){var F,R,X,te=A[this.expando];if(te!==void 0){if(_===void 0)this.register(A);else for(T.isArray(_)?R=_.concat(_.map(T.camelCase)):(X=T.camelCase(_),_ in te?R=[_,X]:(R=X,R=R in te?[R]:R.match(He)||[])),F=R.length;F--;)delete te[R[F]];(_===void 0||T.isEmptyObject(te))&&(A.nodeType?A[this.expando]=void 0:delete A[this.expando])}},hasData:function(A){var _=A[this.expando];return _!==void 0&&!T.isEmptyObject(_)}};var nt=new l,at=new l,Mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ht=/[A-Z]/g;T.extend({hasData:function(A){return at.hasData(A)||nt.hasData(A)},data:function(A,_,F){return at.access(A,_,F)},removeData:function(A,_){at.remove(A,_)},_data:function(A,_,F){return nt.access(A,_,F)},_removeData:function(A,_){nt.remove(A,_)}}),T.fn.extend({data:function(A,_){var F,R,X,te=this[0],ce=te&&te.attributes;if(A===void 0){if(this.length&&(X=at.get(te),te.nodeType===1&&!nt.get(te,"hasDataAttrs"))){for(F=ce.length;F--;)ce[F]&&(R=ce[F].name,R.indexOf("data-")===0&&(R=T.camelCase(R.slice(5)),h(te,R,X[R])));nt.set(te,"hasDataAttrs",!0)}return X}return typeof A=="object"?this.each(function(){at.set(this,A)}):rt(this,function(Ae){var Oe,Ue;if(te&&Ae===void 0){if((Oe=at.get(te,A)||at.get(te,A.replace(ht,"-$&").toLowerCase()))!==void 0||(Ue=T.camelCase(A),(Oe=at.get(te,Ue))!==void 0)||(Oe=h(te,Ue,void 0))!==void 0)return Oe}else Ue=T.camelCase(A),this.each(function(){var We=at.get(this,Ue);at.set(this,Ue,Ae),A.indexOf("-")>-1&&We!==void 0&&at.set(this,A,Ae)})},null,_,arguments.length>1,null,!0)},removeData:function(A){return this.each(function(){at.remove(this,A)})}}),T.extend({queue:function(A,_,F){var R;if(A)return _=(_||"fx")+"queue",R=nt.get(A,_),F&&(!R||T.isArray(F)?R=nt.access(A,_,T.makeArray(F)):R.push(F)),R||[]},dequeue:function(A,_){_=_||"fx";var F=T.queue(A,_),R=F.length,X=F.shift(),te=T._queueHooks(A,_),ce=function(){T.dequeue(A,_)};X==="inprogress"&&(X=F.shift(),R--),X&&(_==="fx"&&F.unshift("inprogress"),delete te.stop,X.call(A,ce,te)),!R&&te&&te.empty.fire()},_queueHooks:function(A,_){var F=_+"queueHooks";return nt.get(A,F)||nt.access(A,F,{empty:T.Callbacks("once memory").add(function(){nt.remove(A,[_+"queue",F])})})}}),T.fn.extend({queue:function(A,_){var F=2;return typeof A!="string"&&(_=A,A="fx",F--),arguments.length<F?T.queue(this[0],A):_===void 0?this:this.each(function(){var R=T.queue(this,A,_);T._queueHooks(this,A),A==="fx"&&R[0]!=="inprogress"&&T.dequeue(this,A)})},dequeue:function(A){return this.each(function(){T.dequeue(this,A)})},clearQueue:function(A){return this.queue(A||"fx",[])},promise:function(A,_){var F,R=1,X=T.Deferred(),te=this,ce=this.length,Ae=function(){--R||X.resolveWith(te,[te])};for(typeof A!="string"&&(_=A,A=void 0),A=A||"fx";ce--;)(F=nt.get(te[ce],A+"queueHooks"))&&F.empty&&(R++,F.empty.add(Ae));return Ae(),X.promise(_)}});var Qt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,dt=new RegExp("^(?:([+-])=|)("+Qt+")([a-z%]*)$","i"),Pt=["Top","Right","Bottom","Left"],Dt=function(A,_){return A=_||A,T.css(A,"display")==="none"||!T.contains(A.ownerDocument,A)},Wt=/^(?:checkbox|radio)$/i,nn=/<([\w:-]+)/,zt=/^$|\/(?:java|ecma)script/i,Nt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td;var U=/<|&#?\w+;/;(function(){var A=se.createDocumentFragment(),_=A.appendChild(se.createElement("div")),F=se.createElement("input");F.setAttribute("type","radio"),F.setAttribute("checked","checked"),F.setAttribute("name","t"),_.appendChild(F),ke.checkClone=_.cloneNode(!0).cloneNode(!0).lastChild.checked,_.innerHTML="<textarea>x</textarea>",ke.noCloneChecked=!!_.cloneNode(!0).lastChild.defaultValue})();var Z=/^key/,k=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,P=/^([^.]*)(?:\.(.+)|)/;T.event={global:{},add:function(A,_,F,R,X){var te,ce,Ae,Oe,Ue,We,C,ae,ze,et,lt,vt=nt.get(A);if(vt)for(F.handler&&(te=F,F=te.handler,X=te.selector),F.guid||(F.guid=T.guid++),(Oe=vt.events)||(Oe=vt.events={}),(ce=vt.handle)||(ce=vt.handle=function(_t){return T!==void 0&&T.event.triggered!==_t.type?T.event.dispatch.apply(A,arguments):void 0}),_=(_||"").match(He)||[""],Ue=_.length;Ue--;)Ae=P.exec(_[Ue])||[],ze=lt=Ae[1],et=(Ae[2]||"").split(".").sort(),ze&&(C=T.event.special[ze]||{},ze=(X?C.delegateType:C.bindType)||ze,C=T.event.special[ze]||{},We=T.extend({type:ze,origType:lt,data:R,handler:F,guid:F.guid,selector:X,needsContext:X&&T.expr.match.needsContext.test(X),namespace:et.join(".")},te),(ae=Oe[ze])||(ae=Oe[ze]=[],ae.delegateCount=0,C.setup&&C.setup.call(A,R,et,ce)!==!1||A.addEventListener&&A.addEventListener(ze,ce)),C.add&&(C.add.call(A,We),We.handler.guid||(We.handler.guid=F.guid)),X?ae.splice(ae.delegateCount++,0,We):ae.push(We),T.event.global[ze]=!0)},remove:function(A,_,F,R,X){var te,ce,Ae,Oe,Ue,We,C,ae,ze,et,lt,vt=nt.hasData(A)&&nt.get(A);if(vt&&(Oe=vt.events)){for(_=(_||"").match(He)||[""],Ue=_.length;Ue--;)if(Ae=P.exec(_[Ue])||[],ze=lt=Ae[1],et=(Ae[2]||"").split(".").sort(),ze){for(C=T.event.special[ze]||{},ze=(R?C.delegateType:C.bindType)||ze,ae=Oe[ze]||[],Ae=Ae[2]&&new RegExp("(^|\\.)"+et.join("\\.(?:.*\\.|)")+"(\\.|$)"),ce=te=ae.length;te--;)We=ae[te],!X&&lt!==We.origType||F&&F.guid!==We.guid||Ae&&!Ae.test(We.namespace)||R&&R!==We.selector&&(R!=="**"||!We.selector)||(ae.splice(te,1),We.selector&&ae.delegateCount--,C.remove&&C.remove.call(A,We));ce&&!ae.length&&(C.teardown&&C.teardown.call(A,et,vt.handle)!==!1||T.removeEvent(A,ze,vt.handle),delete Oe[ze])}else for(ze in Oe)T.event.remove(A,ze+_[Ue],F,R,!0);T.isEmptyObject(Oe)&&nt.remove(A,"handle events")}},dispatch:function(A){A=T.event.fix(A);var _,F,R,X,te,ce=[],Ae=I.call(arguments),Oe=(nt.get(this,"events")||{})[A.type]||[],Ue=T.event.special[A.type]||{};if(Ae[0]=A,A.delegateTarget=this,!Ue.preDispatch||Ue.preDispatch.call(this,A)!==!1){for(ce=T.event.handlers.call(this,A,Oe),_=0;(X=ce[_++])&&!A.isPropagationStopped();)for(A.currentTarget=X.elem,F=0;(te=X.handlers[F++])&&!A.isImmediatePropagationStopped();)A.rnamespace&&!A.rnamespace.test(te.namespace)||(A.handleObj=te,A.data=te.data,(R=((T.event.special[te.origType]||{}).handle||te.handler).apply(X.elem,Ae))!==void 0&&(A.result=R)===!1&&(A.preventDefault(),A.stopPropagation()));return Ue.postDispatch&&Ue.postDispatch.call(this,A),A.result}},handlers:function(A,_){var F,R,X,te,ce=[],Ae=_.delegateCount,Oe=A.target;if(Ae&&Oe.nodeType&&(A.type!=="click"||isNaN(A.button)||A.button<1)){for(;Oe!==this;Oe=Oe.parentNode||this)if(Oe.nodeType===1&&(Oe.disabled!==!0||A.type!=="click")){for(R=[],F=0;F<Ae;F++)te=_[F],X=te.selector+" ",R[X]===void 0&&(R[X]=te.needsContext?T(X,this).index(Oe)>-1:T.find(X,this,null,[Oe]).length),R[X]&&R.push(te);R.length&&ce.push({elem:Oe,handlers:R})}}return Ae<_.length&&ce.push({elem:this,handlers:_.slice(Ae)}),ce},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(A,_){return A.which==null&&(A.which=_.charCode!=null?_.charCode:_.keyCode),A}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(A,_){var F,R,X,te=_.button;return A.pageX==null&&_.clientX!=null&&(F=A.target.ownerDocument||se,R=F.documentElement,X=F.body,A.pageX=_.clientX+(R&&R.scrollLeft||X&&X.scrollLeft||0)-(R&&R.clientLeft||X&&X.clientLeft||0),A.pageY=_.clientY+(R&&R.scrollTop||X&&X.scrollTop||0)-(R&&R.clientTop||X&&X.clientTop||0)),A.which||te===void 0||(A.which=1&te?1:2&te?3:4&te?2:0),A}},fix:function(A){if(A[T.expando])return A;var _,F,R,X=A.type,te=A,ce=this.fixHooks[X];for(ce||(this.fixHooks[X]=ce=k.test(X)?this.mouseHooks:Z.test(X)?this.keyHooks:{}),R=ce.props?this.props.concat(ce.props):this.props,A=new T.Event(te),_=R.length;_--;)F=R[_],A[F]=te[F];return A.target||(A.target=se),A.target.nodeType===3&&(A.target=A.target.parentNode),ce.filter?ce.filter(A,te):A},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==n()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===n()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&T.nodeName(this,"input"))return this.click(),!1},_default:function(A){return T.nodeName(A.target,"a")}},beforeunload:{postDispatch:function(A){A.result!==void 0&&A.originalEvent&&(A.originalEvent.returnValue=A.result)}}}},T.removeEvent=function(A,_,F){A.removeEventListener&&A.removeEventListener(_,F)},T.Event=function(A,_){if(!(this instanceof T.Event))return new T.Event(A,_);A&&A.type?(this.originalEvent=A,this.type=A.type,this.isDefaultPrevented=A.defaultPrevented||A.defaultPrevented===void 0&&A.returnValue===!1?d:i):this.type=A,_&&T.extend(this,_),this.timeStamp=A&&A.timeStamp||T.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:i,isPropagationStopped:i,isImmediatePropagationStopped:i,isSimulated:!1,preventDefault:function(){var A=this.originalEvent;this.isDefaultPrevented=d,A&&!this.isSimulated&&A.preventDefault()},stopPropagation:function(){var A=this.originalEvent;this.isPropagationStopped=d,A&&!this.isSimulated&&A.stopPropagation()},stopImmediatePropagation:function(){var A=this.originalEvent;this.isImmediatePropagationStopped=d,A&&!this.isSimulated&&A.stopImmediatePropagation(),this.stopPropagation()}},T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(A,_){T.event.special[A]={delegateType:_,bindType:_,handle:function(F){var R,X=this,te=F.relatedTarget,ce=F.handleObj;return te&&(te===X||T.contains(X,te))||(F.type=ce.origType,R=ce.handler.apply(this,arguments),F.type=_),R}}}),T.fn.extend({on:function(A,_,F,R){return r(this,A,_,F,R)},one:function(A,_,F,R){return r(this,A,_,F,R,1)},off:function(A,_,F){var R,X;if(A&&A.preventDefault&&A.handleObj)return R=A.handleObj,T(A.delegateTarget).off(R.namespace?R.origType+"."+R.namespace:R.origType,R.selector,R.handler),this;if(typeof A=="object"){for(X in A)this.off(X,_,A[X]);return this}return _!==!1&&typeof _!="function"||(F=_,_=void 0),F===!1&&(F=i),this.each(function(){T.event.remove(this,A,F,_)})}});var K=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ue=/<script|<style|<link/i,z=/checked\s*(?:[^=]|=\s*.checked.)/i,me=/^true\/(.*)/,we=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;T.extend({htmlPrefilter:function(A){return A.replace(K,"<$1></$2>")},clone:function(A,_,F){var R,X,te,ce,Ae=A.cloneNode(!0),Oe=T.contains(A.ownerDocument,A);if(!(ke.noCloneChecked||A.nodeType!==1&&A.nodeType!==11||T.isXMLDoc(A)))for(ce=s(Ae),te=s(A),R=0,X=te.length;R<X;R++)E(te[R],ce[R]);if(_)if(F)for(te=te||s(A),ce=ce||s(Ae),R=0,X=te.length;R<X;R++)x(te[R],ce[R]);else x(A,Ae);return ce=s(Ae,"script"),ce.length>0&&p(ce,!Oe&&s(A,"script")),Ae},cleanData:function(A){for(var _,F,R,X=T.event.special,te=0;(F=A[te])!==void 0;te++)if(Ct(F)){if(_=F[nt.expando]){if(_.events)for(R in _.events)X[R]?T.event.remove(F,R):T.removeEvent(F,R,_.handle);F[nt.expando]=void 0}F[at.expando]&&(F[at.expando]=void 0)}}}),T.fn.extend({domManip:b,detach:function(A){return f(this,A,!0)},remove:function(A){return f(this,A)},text:function(A){return rt(this,function(_){return _===void 0?T.text(this):this.empty().each(function(){this.nodeType!==1&&this.nodeType!==11&&this.nodeType!==9||(this.textContent=_)})},null,A,arguments.length)},append:function(){return b(this,arguments,function(A){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&m(this,A).appendChild(A)})},prepend:function(){return b(this,arguments,function(A){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _=m(this,A);_.insertBefore(A,_.firstChild)}})},before:function(){return b(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this)})},after:function(){return b(this,arguments,function(A){this.parentNode&&this.parentNode.insertBefore(A,this.nextSibling)})},empty:function(){for(var A,_=0;(A=this[_])!=null;_++)A.nodeType===1&&(T.cleanData(s(A,!1)),A.textContent="");return this},clone:function(A,_){return A=A!=null&&A,_=_??A,this.map(function(){return T.clone(this,A,_)})},html:function(A){return rt(this,function(_){var F=this[0]||{},R=0,X=this.length;if(_===void 0&&F.nodeType===1)return F.innerHTML;if(typeof _=="string"&&!ue.test(_)&&!Nt[(nn.exec(_)||["",""])[1].toLowerCase()]){_=T.htmlPrefilter(_);try{for(;R<X;R++)F=this[R]||{},F.nodeType===1&&(T.cleanData(s(F,!1)),F.innerHTML=_);F=0}catch{}}F&&this.empty().append(_)},null,A,arguments.length)},replaceWith:function(){var A=[];return b(this,arguments,function(_){var F=this.parentNode;T.inArray(this,A)<0&&(T.cleanData(s(this)),F&&F.replaceChild(_,this))},A)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(A,_){T.fn[A]=function(F){for(var R,X=[],te=T(F),ce=te.length-1,Ae=0;Ae<=ce;Ae++)R=Ae===ce?this:this.clone(!0),T(te[Ae])[_](R),pe.apply(X,R.get());return this.pushStack(X)}});var qe,Ge={HTML:"block",BODY:"block"},$e=/^margin/,it=new RegExp("^("+Qt+")(?!px)[a-z%]+$","i"),ot=function(A){var _=A.ownerDocument.defaultView;return _&&_.opener||(_=B),_.getComputedStyle(A)},ct=function(A,_,F,R){var X,te,ce={};for(te in _)ce[te]=A.style[te],A.style[te]=_[te];X=F.apply(A,R||[]);for(te in _)A.style[te]=ce[te];return X},St=se.documentElement;(function(){function A(){ce.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",ce.innerHTML="",St.appendChild(te);var Ae=B.getComputedStyle(ce);_=Ae.top!=="1%",X=Ae.marginLeft==="2px",F=Ae.width==="4px",ce.style.marginRight="50%",R=Ae.marginRight==="4px",St.removeChild(te)}var _,F,R,X,te=se.createElement("div"),ce=se.createElement("div");ce.style&&(ce.style.backgroundClip="content-box",ce.cloneNode(!0).style.backgroundClip="",ke.clearCloneStyle=ce.style.backgroundClip==="content-box",te.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",te.appendChild(ce),T.extend(ke,{pixelPosition:function(){return A(),_},boxSizingReliable:function(){return F==null&&A(),F},pixelMarginRight:function(){return F==null&&A(),R},reliableMarginLeft:function(){return F==null&&A(),X},reliableMarginRight:function(){var Ae,Oe=ce.appendChild(se.createElement("div"));return Oe.style.cssText=ce.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",Oe.style.marginRight=Oe.style.width="0",ce.style.width="1px",St.appendChild(te),Ae=!parseFloat(B.getComputedStyle(Oe).marginRight),St.removeChild(te),ce.removeChild(Oe),Ae}}))})();var Bt=/^(none|table(?!-c[ea]).+)/,qt={position:"absolute",visibility:"hidden",display:"block"},Lt={letterSpacing:"0",fontWeight:"400"},Ut=["Webkit","O","Moz","ms"],It=se.createElement("div").style;T.extend({cssHooks:{opacity:{get:function(A,_){if(_){var F=Q(A,"opacity");return F===""?"1":F}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(A,_,F,R){if(A&&A.nodeType!==3&&A.nodeType!==8&&A.style){var X,te,ce,Ae=T.camelCase(_),Oe=A.style;if(_=T.cssProps[Ae]||(T.cssProps[Ae]=q(Ae)||Ae),ce=T.cssHooks[_]||T.cssHooks[Ae],F===void 0)return ce&&"get"in ce&&(X=ce.get(A,!1,R))!==void 0?X:Oe[_];te=typeof F,te==="string"&&(X=dt.exec(F))&&X[1]&&(F=o(A,_,X),te="number"),F!=null&&F===F&&(te==="number"&&(F+=X&&X[3]||(T.cssNumber[Ae]?"":"px")),ke.clearCloneStyle||F!==""||_.indexOf("background")!==0||(Oe[_]="inherit"),ce&&"set"in ce&&(F=ce.set(A,F,R))===void 0||(Oe[_]=F))}},css:function(A,_,F,R){var X,te,ce,Ae=T.camelCase(_);return _=T.cssProps[Ae]||(T.cssProps[Ae]=q(Ae)||Ae),ce=T.cssHooks[_]||T.cssHooks[Ae],ce&&"get"in ce&&(X=ce.get(A,!0,F)),X===void 0&&(X=Q(A,_,R)),X==="normal"&&_ in Lt&&(X=Lt[_]),F===""||F?(te=parseFloat(X),F===!0||isFinite(te)?te||0:X):X}}),T.each(["height","width"],function(A,_){T.cssHooks[_]={get:function(F,R,X){if(R)return Bt.test(T.css(F,"display"))&&F.offsetWidth===0?ct(F,qt,function(){return D(F,_,X)}):D(F,_,X)},set:function(F,R,X){var te,ce=X&&ot(F),Ae=X&&M(F,_,X,T.css(F,"boxSizing",!1,ce)==="border-box",ce);return Ae&&(te=dt.exec(R))&&(te[3]||"px")!=="px"&&(F.style[_]=R,R=T.css(F,_)),L(F,R,Ae)}}}),T.cssHooks.marginLeft=G(ke.reliableMarginLeft,function(A,_){if(_)return(parseFloat(Q(A,"marginLeft"))||A.getBoundingClientRect().left-ct(A,{marginLeft:0},function(){return A.getBoundingClientRect().left}))+"px"}),T.cssHooks.marginRight=G(ke.reliableMarginRight,function(A,_){if(_)return ct(A,{display:"inline-block"},Q,[A,"marginRight"])}),T.each({margin:"",padding:"",border:"Width"},function(A,_){T.cssHooks[A+_]={expand:function(F){for(var R=0,X={},te=typeof F=="string"?F.split(" "):[F];R<4;R++)X[A+Pt[R]+_]=te[R]||te[R-2]||te[0];return X}},$e.test(A)||(T.cssHooks[A+_].set=L)}),T.fn.extend({css:function(A,_){return rt(this,function(F,R,X){var te,ce,Ae={},Oe=0;if(T.isArray(R)){for(te=ot(F),ce=R.length;Oe<ce;Oe++)Ae[R[Oe]]=T.css(F,R[Oe],!1,te);return Ae}return X!==void 0?T.style(F,R,X):T.css(F,R)},A,_,arguments.length>1)},show:function(){return V(this,!0)},hide:function(){return V(this)},toggle:function(A){return typeof A=="boolean"?A?this.show():this.hide():this.each(function(){Dt(this)?T(this).show():T(this).hide()})}}),T.Tween=W,W.prototype={constructor:W,init:function(A,_,F,R,X,te){this.elem=A,this.prop=F,this.easing=X||T.easing._default,this.options=_,this.start=this.now=this.cur(),this.end=R,this.unit=te||(T.cssNumber[F]?"":"px")},cur:function(){var A=W.propHooks[this.prop];return A&&A.get?A.get(this):W.propHooks._default.get(this)},run:function(A){var _,F=W.propHooks[this.prop];return this.options.duration?this.pos=_=T.easing[this.easing](A,this.options.duration*A,0,1,this.options.duration):this.pos=_=A,this.now=(this.end-this.start)*_+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),F&&F.set?F.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(A){var _;return A.elem.nodeType!==1||A.elem[A.prop]!=null&&A.elem.style[A.prop]==null?A.elem[A.prop]:(_=T.css(A.elem,A.prop,""),_&&_!=="auto"?_:0)},set:function(A){T.fx.step[A.prop]?T.fx.step[A.prop](A):A.elem.nodeType!==1||A.elem.style[T.cssProps[A.prop]]==null&&!T.cssHooks[A.prop]?A.elem[A.prop]=A.now:T.style(A.elem,A.prop,A.now+A.unit)}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(A){A.elem.nodeType&&A.elem.parentNode&&(A.elem[A.prop]=A.now)}},T.easing={linear:function(A){return A},swing:function(A){return .5-Math.cos(A*Math.PI)/2},_default:"swing"},T.fx=W.prototype.init,T.fx.step={};var At,Kt,Xt=/^(?:toggle|show|hide)$/,pn=/queueHooks$/;T.Animation=T.extend(oe,{tweeners:{"*":[function(A,_){var F=this.createTween(A,_);return o(F.elem,A,dt.exec(_),F),F}]},tweener:function(A,_){T.isFunction(A)?(_=A,A=["*"]):A=A.match(He);for(var F,R=0,X=A.length;R<X;R++)F=A[R],oe.tweeners[F]=oe.tweeners[F]||[],oe.tweeners[F].unshift(_)},prefilters:[O],prefilter:function(A,_){_?oe.prefilters.unshift(A):oe.prefilters.push(A)}}),T.speed=function(A,_,F){var R=A&&typeof A=="object"?T.extend({},A):{complete:F||!F&&_||T.isFunction(A)&&A,duration:A,easing:F&&_||_&&!T.isFunction(_)&&_};return R.duration=T.fx.off?0:typeof R.duration=="number"?R.duration:R.duration in T.fx.speeds?T.fx.speeds[R.duration]:T.fx.speeds._default,R.queue!=null&&R.queue!==!0||(R.queue="fx"),R.old=R.complete,R.complete=function(){T.isFunction(R.old)&&R.old.call(this),R.queue&&T.dequeue(this,R.queue)},R},T.fn.extend({fadeTo:function(A,_,F,R){return this.filter(Dt).css("opacity",0).show().end().animate({opacity:_},A,F,R)},animate:function(A,_,F,R){var X=T.isEmptyObject(A),te=T.speed(_,F,R),ce=function(){var Ae=oe(this,T.extend({},A),te);(X||nt.get(this,"finish"))&&Ae.stop(!0)};return ce.finish=ce,X||te.queue===!1?this.each(ce):this.queue(te.queue,ce)},stop:function(A,_,F){var R=function(X){var te=X.stop;delete X.stop,te(F)};return typeof A!="string"&&(F=_,_=A,A=void 0),_&&A!==!1&&this.queue(A||"fx",[]),this.each(function(){var X=!0,te=A!=null&&A+"queueHooks",ce=T.timers,Ae=nt.get(this);if(te)Ae[te]&&Ae[te].stop&&R(Ae[te]);else for(te in Ae)Ae[te]&&Ae[te].stop&&pn.test(te)&&R(Ae[te]);for(te=ce.length;te--;)ce[te].elem!==this||A!=null&&ce[te].queue!==A||(ce[te].anim.stop(F),X=!1,ce.splice(te,1));!X&&F||T.dequeue(this,A)})},finish:function(A){return A!==!1&&(A=A||"fx"),this.each(function(){var _,F=nt.get(this),R=F[A+"queue"],X=F[A+"queueHooks"],te=T.timers,ce=R?R.length:0;for(F.finish=!0,T.queue(this,A,[]),X&&X.stop&&X.stop.call(this,!0),_=te.length;_--;)te[_].elem===this&&te[_].queue===A&&(te[_].anim.stop(!0),te.splice(_,1));for(_=0;_<ce;_++)R[_]&&R[_].finish&&R[_].finish.call(this);delete F.finish})}}),T.each(["toggle","show","hide"],function(A,_){var F=T.fn[_];T.fn[_]=function(R,X,te){return R==null||typeof R=="boolean"?F.apply(this,arguments):this.animate(re(_,!0),R,X,te)}}),T.each({slideDown:re("show"),slideUp:re("hide"),slideToggle:re("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(A,_){T.fn[A]=function(F,R,X){return this.animate(_,F,R,X)}}),T.timers=[],T.fx.tick=function(){var A,_=0,F=T.timers;for(At=T.now();_<F.length;_++)(A=F[_])()||F[_]!==A||F.splice(_--,1);F.length||T.fx.stop(),At=void 0},T.fx.timer=function(A){T.timers.push(A),A()?T.fx.start():T.timers.pop()},T.fx.interval=13,T.fx.start=function(){Kt||(Kt=B.setInterval(T.fx.tick,T.fx.interval))},T.fx.stop=function(){B.clearInterval(Kt),Kt=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(A,_){return A=T.fx&&T.fx.speeds[A]||A,_=_||"fx",this.queue(_,function(F,R){var X=B.setTimeout(F,A);R.stop=function(){B.clearTimeout(X)}})},function(){var A=se.createElement("input"),_=se.createElement("select"),F=_.appendChild(se.createElement("option"));A.type="checkbox",ke.checkOn=A.value!=="",ke.optSelected=F.selected,_.disabled=!0,ke.optDisabled=!F.disabled,A=se.createElement("input"),A.value="t",A.type="radio",ke.radioValue=A.value==="t"}();var mt,Zt=T.expr.attrHandle;T.fn.extend({attr:function(A,_){return rt(this,T.attr,A,_,arguments.length>1)},removeAttr:function(A){return this.each(function(){T.removeAttr(this,A)})}}),T.extend({attr:function(A,_,F){var R,X,te=A.nodeType;if(te!==3&&te!==8&&te!==2)return A.getAttribute===void 0?T.prop(A,_,F):(te===1&&T.isXMLDoc(A)||(_=_.toLowerCase(),X=T.attrHooks[_]||(T.expr.match.bool.test(_)?mt:void 0)),F!==void 0?F===null?void T.removeAttr(A,_):X&&"set"in X&&(R=X.set(A,F,_))!==void 0?R:(A.setAttribute(_,F+""),F):X&&"get"in X&&(R=X.get(A,_))!==null?R:(R=T.find.attr(A,_),R??void 0))},attrHooks:{type:{set:function(A,_){if(!ke.radioValue&&_==="radio"&&T.nodeName(A,"input")){var F=A.value;return A.setAttribute("type",_),F&&(A.value=F),_}}}},removeAttr:function(A,_){var F,R,X=0,te=_&&_.match(He);if(te&&A.nodeType===1)for(;F=te[X++];)R=T.propFix[F]||F,T.expr.match.bool.test(F)&&(A[R]=!1),A.removeAttribute(F)}}),mt={set:function(A,_,F){return _===!1?T.removeAttr(A,F):A.setAttribute(F,F),F}},T.each(T.expr.match.bool.source.match(/\w+/g),function(A,_){var F=Zt[_]||T.find.attr;Zt[_]=function(R,X,te){var ce,Ae;return te||(Ae=Zt[X],Zt[X]=ce,ce=F(R,X,te)!=null?X.toLowerCase():null,Zt[X]=Ae),ce}});var ir=/^(?:input|select|textarea|button)$/i,Bn=/^(?:a|area)$/i;T.fn.extend({prop:function(A,_){return rt(this,T.prop,A,_,arguments.length>1)},removeProp:function(A){return this.each(function(){delete this[T.propFix[A]||A]})}}),T.extend({prop:function(A,_,F){var R,X,te=A.nodeType;if(te!==3&&te!==8&&te!==2)return te===1&&T.isXMLDoc(A)||(_=T.propFix[_]||_,X=T.propHooks[_]),F!==void 0?X&&"set"in X&&(R=X.set(A,F,_))!==void 0?R:A[_]=F:X&&"get"in X&&(R=X.get(A,_))!==null?R:A[_]},propHooks:{tabIndex:{get:function(A){var _=T.find.attr(A,"tabindex");return _?parseInt(_,10):ir.test(A.nodeName)||Bn.test(A.nodeName)&&A.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ke.optSelected||(T.propHooks.selected={get:function(A){var _=A.parentNode;return _&&_.parentNode&&_.parentNode.selectedIndex,null},set:function(A){var _=A.parentNode;_&&(_.selectedIndex,_.parentNode&&_.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this});var Ln=/[\t\r\n\f]/g;T.fn.extend({addClass:function(A){var _,F,R,X,te,ce,Ae,Oe=0;if(T.isFunction(A))return this.each(function(Ue){T(this).addClass(A.call(this,Ue,H(this)))});if(typeof A=="string"&&A){for(_=A.match(He)||[];F=this[Oe++];)if(X=H(F),R=F.nodeType===1&&(" "+X+" ").replace(Ln," ")){for(ce=0;te=_[ce++];)R.indexOf(" "+te+" ")<0&&(R+=te+" ");Ae=T.trim(R),X!==Ae&&F.setAttribute("class",Ae)}}return this},removeClass:function(A){var _,F,R,X,te,ce,Ae,Oe=0;if(T.isFunction(A))return this.each(function(Ue){T(this).removeClass(A.call(this,Ue,H(this)))});if(!arguments.length)return this.attr("class","");if(typeof A=="string"&&A){for(_=A.match(He)||[];F=this[Oe++];)if(X=H(F),R=F.nodeType===1&&(" "+X+" ").replace(Ln," ")){for(ce=0;te=_[ce++];)for(;R.indexOf(" "+te+" ")>-1;)R=R.replace(" "+te+" "," ");Ae=T.trim(R),X!==Ae&&F.setAttribute("class",Ae)}}return this},toggleClass:function(A,_){var F=typeof A;return typeof _=="boolean"&&F==="string"?_?this.addClass(A):this.removeClass(A):T.isFunction(A)?this.each(function(R){T(this).toggleClass(A.call(this,R,H(this),_),_)}):this.each(function(){var R,X,te,ce;if(F==="string")for(X=0,te=T(this),ce=A.match(He)||[];R=ce[X++];)te.hasClass(R)?te.removeClass(R):te.addClass(R);else A!==void 0&&F!=="boolean"||(R=H(this),R&&nt.set(this,"__className__",R),this.setAttribute&&this.setAttribute("class",R||A===!1?"":nt.get(this,"__className__")||""))})},hasClass:function(A){var _,F,R=0;for(_=" "+A+" ";F=this[R++];)if(F.nodeType===1&&(" "+H(F)+" ").replace(Ln," ").indexOf(_)>-1)return!0;return!1}});var or=/\r/g,ar=/[\x20\t\r\n\f]+/g;T.fn.extend({val:function(A){var _,F,R,X=this[0];{if(arguments.length)return R=T.isFunction(A),this.each(function(te){var ce;this.nodeType===1&&(ce=R?A.call(this,te,T(this).val()):A,ce==null?ce="":typeof ce=="number"?ce+="":T.isArray(ce)&&(ce=T.map(ce,function(Ae){return Ae==null?"":Ae+""})),(_=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in _&&_.set(this,ce,"value")!==void 0||(this.value=ce))});if(X)return(_=T.valHooks[X.type]||T.valHooks[X.nodeName.toLowerCase()])&&"get"in _&&(F=_.get(X,"value"))!==void 0?F:(F=X.value,typeof F=="string"?F.replace(or,""):F??"")}}}),T.extend({valHooks:{option:{get:function(A){var _=T.find.attr(A,"value");return _??T.trim(T.text(A)).replace(ar," ")}},select:{get:function(A){for(var _,F,R=A.options,X=A.selectedIndex,te=A.type==="select-one"||X<0,ce=te?null:[],Ae=te?X+1:R.length,Oe=X<0?Ae:te?X:0;Oe<Ae;Oe++)if(F=R[Oe],(F.selected||Oe===X)&&(ke.optDisabled?!F.disabled:F.getAttribute("disabled")===null)&&(!F.parentNode.disabled||!T.nodeName(F.parentNode,"optgroup"))){if(_=T(F).val(),te)return _;ce.push(_)}return ce},set:function(A,_){for(var F,R,X=A.options,te=T.makeArray(_),ce=X.length;ce--;)R=X[ce],(R.selected=T.inArray(T.valHooks.option.get(R),te)>-1)&&(F=!0);return F||(A.selectedIndex=-1),te}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(A,_){if(T.isArray(_))return A.checked=T.inArray(T(A).val(),_)>-1}},ke.checkOn||(T.valHooks[this].get=function(A){return A.getAttribute("value")===null?"on":A.value})});var Hn=/^(?:focusinfocus|focusoutblur)$/;T.extend(T.event,{trigger:function(A,_,F,R){var X,te,ce,Ae,Oe,Ue,We,C=[F||se],ae=ve.call(A,"type")?A.type:A,ze=ve.call(A,"namespace")?A.namespace.split("."):[];if(te=ce=F=F||se,F.nodeType!==3&&F.nodeType!==8&&!Hn.test(ae+T.event.triggered)&&(ae.indexOf(".")>-1&&(ze=ae.split("."),ae=ze.shift(),ze.sort()),Oe=ae.indexOf(":")<0&&"on"+ae,A=A[T.expando]?A:new T.Event(ae,typeof A=="object"&&A),A.isTrigger=R?2:3,A.namespace=ze.join("."),A.rnamespace=A.namespace?new RegExp("(^|\\.)"+ze.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,A.result=void 0,A.target||(A.target=F),_=_==null?[A]:T.makeArray(_,[A]),We=T.event.special[ae]||{},R||!We.trigger||We.trigger.apply(F,_)!==!1)){if(!R&&!We.noBubble&&!T.isWindow(F)){for(Ae=We.delegateType||ae,Hn.test(Ae+ae)||(te=te.parentNode);te;te=te.parentNode)C.push(te),ce=te;ce===(F.ownerDocument||se)&&C.push(ce.defaultView||ce.parentWindow||B)}for(X=0;(te=C[X++])&&!A.isPropagationStopped();)A.type=X>1?Ae:We.bindType||ae,Ue=(nt.get(te,"events")||{})[A.type]&&nt.get(te,"handle"),Ue&&Ue.apply(te,_),(Ue=Oe&&te[Oe])&&Ue.apply&&Ct(te)&&(A.result=Ue.apply(te,_),A.result===!1&&A.preventDefault());return A.type=ae,R||A.isDefaultPrevented()||We._default&&We._default.apply(C.pop(),_)!==!1||!Ct(F)||Oe&&T.isFunction(F[ae])&&!T.isWindow(F)&&(ce=F[Oe],ce&&(F[Oe]=null),T.event.triggered=ae,F[ae](),T.event.triggered=void 0,ce&&(F[Oe]=ce)),A.result}},simulate:function(A,_,F){var R=T.extend(new T.Event,F,{type:A,isSimulated:!0});T.event.trigger(R,null,_)}}),T.fn.extend({trigger:function(A,_){return this.each(function(){T.event.trigger(A,_,this)})},triggerHandler:function(A,_){var F=this[0];if(F)return T.event.trigger(A,_,F,!0)}}),T.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(A,_){T.fn[_]=function(F,R){return arguments.length>0?this.on(_,null,F,R):this.trigger(_)}}),T.fn.extend({hover:function(A,_){return this.mouseenter(A).mouseleave(_||A)}}),ke.focusin="onfocusin"in B,ke.focusin||T.each({focus:"focusin",blur:"focusout"},function(A,_){var F=function(R){T.event.simulate(_,R.target,T.event.fix(R))};T.event.special[_]={setup:function(){var R=this.ownerDocument||this,X=nt.access(R,_);X||R.addEventListener(A,F,!0),nt.access(R,_,(X||0)+1)},teardown:function(){var R=this.ownerDocument||this,X=nt.access(R,_)-1;X?nt.access(R,_,X):(R.removeEventListener(A,F,!0),nt.remove(R,_))}}});var wn=B.location,Pn=T.now(),On=/\?/;T.parseJSON=function(A){return JSON.parse(A+"")},T.parseXML=function(A){var _;if(!A||typeof A!="string")return null;try{_=new B.DOMParser().parseFromString(A,"text/xml")}catch{_=void 0}return _&&!_.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+A),_};var Kn=/#.*$/,Fn=/([?&])_=[^&]*/,sr=/^(.*?):[ \t]*([^\r\n]*)$/gm,cr=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,lr=/^(?:GET|HEAD)$/,Wn=/^\/\//,qn={},In={},Jn="*/".concat("*"),Nn=se.createElement("a");Nn.href=wn.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wn.href,type:"GET",isLocal:cr.test(wn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":T.parseJSON,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(A,_){return _?de(de(A,T.ajaxSettings),_):de(T.ajaxSettings,A)},ajaxPrefilter:J(qn),ajaxTransport:J(In),ajax:function(A,_){function F(ft,Tt,gn,$n){var an,sn,cn,tn,Ot,Ht=Tt;gt!==2&&(gt=2,Ae&&B.clearTimeout(Ae),R=void 0,te=$n||"",st.readyState=ft>0?4:0,an=ft>=200&&ft<300||ft===304,gn&&(tn=fe(C,st,gn)),tn=Ee(C,tn,st,an),an?(C.ifModified&&(Ot=st.getResponseHeader("Last-Modified"),Ot&&(T.lastModified[X]=Ot),(Ot=st.getResponseHeader("etag"))&&(T.etag[X]=Ot)),ft===204||C.type==="HEAD"?Ht="nocontent":ft===304?Ht="notmodified":(Ht=tn.state,sn=tn.data,cn=tn.error,an=!cn)):(cn=Ht,!ft&&Ht||(Ht="error",ft<0&&(ft=0))),st.status=ft,st.statusText=(Tt||Ht)+"",an?et.resolveWith(ae,[sn,Ht,st]):et.rejectWith(ae,[st,Ht,cn]),st.statusCode(vt),vt=void 0,Ue&&ze.trigger(an?"ajaxSuccess":"ajaxError",[st,C,an?sn:cn]),lt.fireWith(ae,[st,Ht]),Ue&&(ze.trigger("ajaxComplete",[st,C]),--T.active||T.event.trigger("ajaxStop")))}typeof A=="object"&&(_=A,A=void 0),_=_||{};var R,X,te,ce,Ae,Oe,Ue,We,C=T.ajaxSetup({},_),ae=C.context||C,ze=C.context&&(ae.nodeType||ae.jquery)?T(ae):T.event,et=T.Deferred(),lt=T.Callbacks("once memory"),vt=C.statusCode||{},_t={},Rt={},gt=0,xt="canceled",st={readyState:0,getResponseHeader:function(ft){var Tt;if(gt===2){if(!ce)for(ce={};Tt=sr.exec(te);)ce[Tt[1].toLowerCase()]=Tt[2];Tt=ce[ft.toLowerCase()]}return Tt??null},getAllResponseHeaders:function(){return gt===2?te:null},setRequestHeader:function(ft,Tt){var gn=ft.toLowerCase();return gt||(ft=Rt[gn]=Rt[gn]||ft,_t[ft]=Tt),this},overrideMimeType:function(ft){return gt||(C.mimeType=ft),this},statusCode:function(ft){var Tt;if(ft)if(gt<2)for(Tt in ft)vt[Tt]=[vt[Tt],ft[Tt]];else st.always(ft[st.status]);return this},abort:function(ft){var Tt=ft||xt;return R&&R.abort(Tt),F(0,Tt),this}};if(et.promise(st).complete=lt.add,st.success=st.done,st.error=st.fail,C.url=((A||C.url||wn.href)+"").replace(Kn,"").replace(Wn,wn.protocol+"//"),C.type=_.method||_.type||C.method||C.type,C.dataTypes=T.trim(C.dataType||"*").toLowerCase().match(He)||[""],C.crossDomain==null){Oe=se.createElement("a");try{Oe.href=C.url,Oe.href=Oe.href,C.crossDomain=Nn.protocol+"//"+Nn.host!=Oe.protocol+"//"+Oe.host}catch{C.crossDomain=!0}}if(C.data&&C.processData&&typeof C.data!="string"&&(C.data=T.param(C.data,C.traditional)),ie(qn,C,_,st),gt===2)return st;Ue=T.event&&C.global,Ue&&T.active++==0&&T.event.trigger("ajaxStart"),C.type=C.type.toUpperCase(),C.hasContent=!lr.test(C.type),X=C.url,C.hasContent||(C.data&&(X=C.url+=(On.test(X)?"&":"?")+C.data,delete C.data),C.cache===!1&&(C.url=Fn.test(X)?X.replace(Fn,"$1_="+Pn++):X+(On.test(X)?"&":"?")+"_="+Pn++)),C.ifModified&&(T.lastModified[X]&&st.setRequestHeader("If-Modified-Since",T.lastModified[X]),T.etag[X]&&st.setRequestHeader("If-None-Match",T.etag[X])),(C.data&&C.hasContent&&C.contentType!==!1||_.contentType)&&st.setRequestHeader("Content-Type",C.contentType),st.setRequestHeader("Accept",C.dataTypes[0]&&C.accepts[C.dataTypes[0]]?C.accepts[C.dataTypes[0]]+(C.dataTypes[0]!=="*"?", "+Jn+"; q=0.01":""):C.accepts["*"]);for(We in C.headers)st.setRequestHeader(We,C.headers[We]);if(C.beforeSend&&(C.beforeSend.call(ae,st,C)===!1||gt===2))return st.abort();xt="abort";for(We in{success:1,error:1,complete:1})st[We](C[We]);if(R=ie(In,C,_,st)){if(st.readyState=1,Ue&&ze.trigger("ajaxSend",[st,C]),gt===2)return st;C.async&&C.timeout>0&&(Ae=B.setTimeout(function(){st.abort("timeout")},C.timeout));try{gt=1,R.send(_t,F)}catch(ft){if(!(gt<2))throw ft;F(-1,ft)}}else F(-1,"No Transport");return st},getJSON:function(A,_,F){return T.get(A,_,F,"json")},getScript:function(A,_){return T.get(A,void 0,_,"script")}}),T.each(["get","post"],function(A,_){T[_]=function(F,R,X,te){return T.isFunction(R)&&(te=te||X,X=R,R=void 0),T.ajax(T.extend({url:F,type:_,dataType:te,data:R,success:X},T.isPlainObject(F)&&F))}}),T._evalUrl=function(A){return T.ajax({url:A,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},T.fn.extend({wrapAll:function(A){var _;return T.isFunction(A)?this.each(function(F){T(this).wrapAll(A.call(this,F))}):(this[0]&&(_=T(A,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&_.insertBefore(this[0]),_.map(function(){for(var F=this;F.firstElementChild;)F=F.firstElementChild;return F}).append(this)),this)},wrapInner:function(A){return T.isFunction(A)?this.each(function(_){T(this).wrapInner(A.call(this,_))}):this.each(function(){var _=T(this),F=_.contents();F.length?F.wrapAll(A):_.append(A)})},wrap:function(A){var _=T.isFunction(A);return this.each(function(F){T(this).wrapAll(_?A.call(this,F):A)})},unwrap:function(){return this.parent().each(function(){T.nodeName(this,"body")||T(this).replaceWith(this.childNodes)}).end()}}),T.expr.filters.hidden=function(A){return!T.expr.filters.visible(A)},T.expr.filters.visible=function(A){return A.offsetWidth>0||A.offsetHeight>0||A.getClientRects().length>0};var dr=/%20/g,ur=/\[\]$/,Rn=/\r?\n/g,pr=/^(?:submit|button|image|reset|file)$/i,bn=/^(?:input|select|textarea|keygen)/i;T.param=function(A,_){var F,R=[],X=function(te,ce){ce=T.isFunction(ce)?ce():ce??"",R[R.length]=encodeURIComponent(te)+"="+encodeURIComponent(ce)};if(_===void 0&&(_=T.ajaxSettings&&T.ajaxSettings.traditional),T.isArray(A)||A.jquery&&!T.isPlainObject(A))T.each(A,function(){X(this.name,this.value)});else for(F in A)ye(F,A[F],_,X);return R.join("&").replace(dr,"+")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var A=T.prop(this,"elements");return A?T.makeArray(A):this}).filter(function(){var A=this.type;return this.name&&!T(this).is(":disabled")&&bn.test(this.nodeName)&&!pr.test(A)&&(this.checked||!Wt.test(A))}).map(function(A,_){var F=T(this).val();return F==null?null:T.isArray(F)?T.map(F,function(R){return{name:_.name,value:R.replace(Rn,`\r
`)}}):{name:_.name,value:F.replace(Rn,`\r
`)}}).get()}}),T.ajaxSettings.xhr=function(){try{return new B.XMLHttpRequest}catch{}};var Xn={0:200,1223:204},vn=T.ajaxSettings.xhr();ke.cors=!!vn&&"withCredentials"in vn,ke.ajax=vn=!!vn,T.ajaxTransport(function(A){var _,F;if(ke.cors||vn&&!A.crossDomain)return{send:function(R,X){var te,ce=A.xhr();if(ce.open(A.type,A.url,A.async,A.username,A.password),A.xhrFields)for(te in A.xhrFields)ce[te]=A.xhrFields[te];A.mimeType&&ce.overrideMimeType&&ce.overrideMimeType(A.mimeType),A.crossDomain||R["X-Requested-With"]||(R["X-Requested-With"]="XMLHttpRequest");for(te in R)ce.setRequestHeader(te,R[te]);_=function(Ae){return function(){_&&(_=F=ce.onload=ce.onerror=ce.onabort=ce.onreadystatechange=null,Ae==="abort"?ce.abort():Ae==="error"?typeof ce.status!="number"?X(0,"error"):X(ce.status,ce.statusText):X(Xn[ce.status]||ce.status,ce.statusText,(ce.responseType||"text")!=="text"||typeof ce.responseText!="string"?{binary:ce.response}:{text:ce.responseText},ce.getAllResponseHeaders()))}},ce.onload=_(),F=ce.onerror=_("error"),ce.onabort!==void 0?ce.onabort=F:ce.onreadystatechange=function(){ce.readyState===4&&B.setTimeout(function(){_&&F()})},_=_("abort");try{ce.send(A.hasContent&&A.data||null)}catch(Ae){if(_)throw Ae}},abort:function(){_&&_()}}}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(A){return T.globalEval(A),A}}}),T.ajaxPrefilter("script",function(A){A.cache===void 0&&(A.cache=!1),A.crossDomain&&(A.type="GET")}),T.ajaxTransport("script",function(A){if(A.crossDomain){var _,F;return{send:function(R,X){_=T("<script>").prop({charset:A.scriptCharset,src:A.url}).on("load error",F=function(te){_.remove(),F=null,te&&X(te.type==="error"?404:200,te.type)}),se.head.appendChild(_[0])},abort:function(){F&&F()}}}});var Qn=[],zn=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var A=Qn.pop()||T.expando+"_"+Pn++;return this[A]=!0,A}}),T.ajaxPrefilter("json jsonp",function(A,_,F){var R,X,te,ce=A.jsonp!==!1&&(zn.test(A.url)?"url":typeof A.data=="string"&&(A.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&zn.test(A.data)&&"data");if(ce||A.dataTypes[0]==="jsonp")return R=A.jsonpCallback=T.isFunction(A.jsonpCallback)?A.jsonpCallback():A.jsonpCallback,ce?A[ce]=A[ce].replace(zn,"$1"+R):A.jsonp!==!1&&(A.url+=(On.test(A.url)?"&":"?")+A.jsonp+"="+R),A.converters["script json"]=function(){return te||T.error(R+" was not called"),te[0]},A.dataTypes[0]="json",X=B[R],B[R]=function(){te=arguments},F.always(function(){X===void 0?T(B).removeProp(R):B[R]=X,A[R]&&(A.jsonpCallback=_.jsonpCallback,Qn.push(R)),te&&T.isFunction(X)&&X(te[0]),te=X=void 0}),"script"}),T.parseHTML=function(A,_,F){if(!A||typeof A!="string")return null;typeof _=="boolean"&&(F=_,_=!1),_=_||se;var R=Qe.exec(A),X=!F&&[];return R?[_.createElement(R[1])]:(R=g([A],_,X),X&&X.length&&T(X).remove(),T.merge([],R.childNodes))};var Zn=T.fn.load;T.fn.load=function(A,_,F){if(typeof A!="string"&&Zn)return Zn.apply(this,arguments);var R,X,te,ce=this,Ae=A.indexOf(" ");return Ae>-1&&(R=T.trim(A.slice(Ae)),A=A.slice(0,Ae)),T.isFunction(_)?(F=_,_=void 0):_&&typeof _=="object"&&(X="POST"),ce.length>0&&T.ajax({url:A,type:X||"GET",dataType:"html",data:_}).done(function(Oe){te=arguments,ce.html(R?T("<div>").append(T.parseHTML(Oe)).find(R):Oe)}).always(F&&function(Oe,Ue){ce.each(function(){F.apply(this,te||[Oe.responseText,Ue,Oe])})}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(A,_){T.fn[_]=function(F){return this.on(_,F)}}),T.expr.filters.animated=function(A){return T.grep(T.timers,function(_){return A===_.elem}).length},T.offset={setOffset:function(A,_,F){var R,X,te,ce,Ae,Oe,Ue,We=T.css(A,"position"),C=T(A),ae={};We==="static"&&(A.style.position="relative"),Ae=C.offset(),te=T.css(A,"top"),Oe=T.css(A,"left"),Ue=(We==="absolute"||We==="fixed")&&(te+Oe).indexOf("auto")>-1,Ue?(R=C.position(),ce=R.top,X=R.left):(ce=parseFloat(te)||0,X=parseFloat(Oe)||0),T.isFunction(_)&&(_=_.call(A,F,T.extend({},Ae))),_.top!=null&&(ae.top=_.top-Ae.top+ce),_.left!=null&&(ae.left=_.left-Ae.left+X),"using"in _?_.using.call(A,ae):C.css(ae)}},T.fn.extend({offset:function(A){if(arguments.length)return A===void 0?this:this.each(function(ce){T.offset.setOffset(this,A,ce)});var _,F,R=this[0],X={top:0,left:0},te=R&&R.ownerDocument;if(te)return _=te.documentElement,T.contains(_,R)?(X=R.getBoundingClientRect(),F=_e(te),{top:X.top+F.pageYOffset-_.clientTop,left:X.left+F.pageXOffset-_.clientLeft}):X},position:function(){if(this[0]){var A,_,F=this[0],R={top:0,left:0};return T.css(F,"position")==="fixed"?_=F.getBoundingClientRect():(A=this.offsetParent(),_=this.offset(),T.nodeName(A[0],"html")||(R=A.offset()),R.top+=T.css(A[0],"borderTopWidth",!0),R.left+=T.css(A[0],"borderLeftWidth",!0)),{top:_.top-R.top-T.css(F,"marginTop",!0),left:_.left-R.left-T.css(F,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var A=this.offsetParent;A&&T.css(A,"position")==="static";)A=A.offsetParent;return A||St})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(A,_){var F=_==="pageYOffset";T.fn[A]=function(R){return rt(this,function(X,te,ce){var Ae=_e(X);if(ce===void 0)return Ae?Ae[_]:X[te];Ae?Ae.scrollTo(F?Ae.pageXOffset:ce,F?ce:Ae.pageYOffset):X[te]=ce},A,R,arguments.length)}}),T.each(["top","left"],function(A,_){T.cssHooks[_]=G(ke.pixelPosition,function(F,R){if(R)return R=Q(F,_),it.test(R)?T(F).position()[_]+"px":R})}),T.each({Height:"height",Width:"width"},function(A,_){T.each({padding:"inner"+A,content:_,"":"outer"+A},function(F,R){T.fn[R]=function(X,te){var ce=arguments.length&&(F||typeof X!="boolean"),Ae=F||(X===!0||te===!0?"margin":"border");return rt(this,function(Oe,Ue,We){var C;return T.isWindow(Oe)?Oe.document.documentElement["client"+A]:Oe.nodeType===9?(C=Oe.documentElement,Math.max(Oe.body["scroll"+A],C["scroll"+A],Oe.body["offset"+A],C["offset"+A],C["client"+A])):We===void 0?T.css(Oe,Ue,Ae):T.style(Oe,Ue,We,Ae)},_,ce?X:void 0,ce,null)}})}),T.fn.extend({bind:function(A,_,F){return this.on(A,null,_,F)},unbind:function(A,_){return this.off(A,null,_)},delegate:function(A,_,F,R){return this.on(_,A,F,R)},undelegate:function(A,_,F){return arguments.length===1?this.off(A,"**"):this.off(_,A||"**",F)},size:function(){return this.length}}),T.fn.andSelf=T.fn.addBack,typeof $=="function"&&$.amd&&$("jquery",[],function(){return T});var hr=B.jQuery,gr=B.$;return T.noConflict=function(A){return B.$===T&&(B.$=gr),A&&B.jQuery===T&&(B.jQuery=hr),T},u||(B.jQuery=B.$=T),T}),$("browser",["require","jquery"],function(B){var u=B("jquery"),w={IS_IE8:navigator.userAgent.match(/MSIE 8.0/i)!==null,IS_IE9:navigator.userAgent.match(/MSIE 9.0/i)!==null,IS_IE:navigator.userAgent.match(/MSIE/i)!==null,IS_EDGE:navigator.userAgent.match(/Edge/i)!==null,IS_IPAD:navigator.userAgent.match(/iPad/i)!==null,IS_MOBILE:navigator.userAgent.match(/Mobile|Android/i)!==null,IS_ANDROID:navigator.userAgent.match(/Android/i)!==null,IS_IOS:navigator.userAgent.match(/(iPad|iPhone|iPod)/i)!==null||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1,IS_CHROME:navigator.userAgent.match(/Chrome/i)!==null,IS_FIREFOX:navigator.userAgent.match(/Firefox/i)!==null,IS_SAFARI:navigator.userAgent.match(/^((?!chrome|android).)*safari/i)!==null,IS_APPLE:navigator.platform.match(/(Mac|iPhone|iPod|iPad)/i)!==null,IS_WINDOWS:navigator.platform.match(/(Win32)/i)!==null,IS_TOUCH:navigator.userAgent.match(/Touch/i)!==null,IS_KINDLE:navigator.userAgent.match(/Kindle/i)!==null||navigator.userAgent.match(/Silk/i)!==null,IS_BRAILLENOTE:navigator.userAgent.match(/KeyWeb/i)!==null,IS_IN_IFRAME:window.parent!==window};return w.IS_TABLET=w.IS_IPAD||w.IS_ANDROID||w.IS_KINDLE,w.IS_TOUCH_DEVICE=w.SHOULD_NOT_AUTOFOCUS=w.IS_IOS||w.IS_ANDROID||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i),w.IOS_VERSION=function(){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return e?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:null}(),w.MAC_VERSION=function(){var e=navigator.appVersion.match(/OS X (\d+)_(\d+)_?(\d+)?/);return e?[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]:null}(),w.CHROME_VERSION=function(){var e=navigator.appVersion.match(/Chrom(e|ium)\/([0-9]+)\.([0-9]+)\.?([0-9]+)?/);return e?[parseInt(e[2],10),parseInt(e[3],10),parseInt(e[4]||0,10)]:null}(),w.SUPPORTS_INPUTMODE=function(){var e=w.IOS_VERSION,c=w.MAC_VERSION,t=w.CHROME_VERSION;return e&&e[0]>=13||w.IS_IOS&&!e&&c&&(c[0]>10||c[0]===10&&c[1]>=15)||w.IS_ANDROID&&t&&t[0]>=76}(),w.SUPPORTS_TRANSLATE3D=!1,u(document).ready(function(){var e,c,t=document.createElement("p"),a={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(t,null);for(var l in a)if(t.style[l]!==void 0){if(t.style[l]="translate3d(1px,1px,1px)",!(c=window.getComputedStyle(t)))return;e=c.getPropertyValue(a[l])}document.body.removeChild(t),w.SUPPORTS_TRANSLATE3D=e!==void 0&&e.length>0&&e!=="none"}),w.translateRule=function(e,c){return w.SUPPORTS_TRANSLATE3D?"translate3d("+e+(e?"px":"")+","+c+(c?"px":"")+",0)":"translate("+e+(e?"px":"")+","+c+(c?"px":"")+")"},w.SUPPORTS_CANVAS=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),w}),$("testbridge",["require"],function(B){function u(){window.consoleOverride=!0;var e=window.console.log;window.console.log=function(){for(var c=[],t=0;t<arguments.length;t++)c.push(arguments[t]);e.apply(window.console,[].concat([c.join(" ")],c))}}var w={ready:function(){try{window.TestBridge=w,parent.USING_SELENIUM&&u()}catch{}}};return w}),function(){function B(){}function u(U){var Z=x.call(arguments,1);return function(){return U.apply(this,Z)}}function w(U,Z){if(!Z)throw new Error("prayer failed: "+U)}function e(U){w("a direction was passed",U===b||U===f)}function c(){G||(G=!0,setTimeout(t))}function t(){G=!1,Q={}}function a(U,Z){var k=U[b];if(k)for(;k!==U[f][f];k=k[f]){var P=Z(k);if(P===!1)break}}function l(U,Z,k){var P=U[b];if(!P)return Z;for(;P!==U[f][f];P=P[f])Z=k(Z,P);return Z}function h(U,Z,k){w("a parent is always present",U),w("leftward is properly set up",function(){return Z?Z[f]===k&&Z.parent===U:U.ends[b]===k}()),w("rightward is properly set up",function(){return k?k[b]===Z&&k.parent===U:U.ends[f]===Z}())}function o(){window.console&&console.warn(`You are using the MathQuill API without specifying an interface version, which will fail in v1.0.0. Easiest fix is to do the following before doing anything else:

    MathQuill = MathQuill.getInterface(1);
    // now MathQuill.MathField() works like it used to

See also the "\`dev\` branch (20142015)  v0.10.0 Migration Guide" at
  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide`)}function s(U){return o(),zt(U)}function p(U){function Z(z){if(!z||!z.nodeType)return null;var me=q.getNodeOfElement(S(z).children(".dcg-mq-root-block")[0]),we=me&&me.controller;return we?P[we.KIND_OF_MQ](we):null}function k(z,me){me&&me.handlers&&(me.handlers={fns:me.handlers,APIClasses:P});for(var we in me)if(me.hasOwnProperty(we)){var qe=me[we],Ge=O[we];z[we]=Ge?Ge(qe):qe}}if(!(H<=U&&U<=J))throw"Only interface versions between "+H+" and "+J+" supported. You specified: "+U;var P={};Z.L=b,Z.R=f,Z.saneKeyboardEvents=fe,Z.config=function(z){return k(Y.p,z),this},Z.registerEmbed=function(z,me){if(!/^[a-z][a-z0-9]*$/i.test(z))throw"Embed name must start with letter and be only letters and digits";oe[z]=me};var K=P.AbstractMathQuill=E(ee,function(z){z.init=function(me){this.__controller=me,this.__options=me.options,this.id=me.id,this.data=me.data},z.__mathquillify=function(me){var we=this.__controller,qe=we.root,Ge=we.container;we.createTextarea();var $e=Ge.addClass(me).contents().detach();qe.jQ=S('<span class="dcg-mq-root-block"/>').appendTo(Ge),q.linkElementByBlockId(qe.jQ[0],qe.id),this.latex($e.text()),this.revert=function(){return Ge.empty().unbind(".mathquill").removeClass("dcg-mq-editable-field dcg-mq-math-mode dcg-mq-text-mode").append($e)}},z.config=function(me){return k(this.__options,me),this},z.el=function(){return this.__controller.container[0]},z.text=function(){return this.__controller.exportText()},z.mathspeak=function(){return this.__controller.exportMathSpeak()},z.latex=function(me){return arguments.length>0?(this.__controller.renderLatexMath(me),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this):this.__controller.exportLatex()},z.html=function(){return this.__controller.root.jQ.html().replace(/ mathquill-(?:command|block)-id="?\d+"?/g,"").replace(/<span class="?dcg-mq-cursor( dcg-mq-blink)?"?>.?<\/span>/i,"").replace(/ dcg-mq-hasCursor|dcg-mq-hasCursor ?/,"").replace(/ class=(""|(?= |>))/g,"")},z.reflow=function(){return this.__controller.root.postOrder(function(me){me.reflow()}),this}});Z.prototype=K.prototype,P.EditableField=E(K,function(z,me){z.__mathquillify=function(){return me.__mathquillify.apply(this,arguments),this.__controller.editable=!0,this.__controller.delegateMouseEvents(),this.__controller.editablesTextareaEvents(),this},z.focus=function(){return this.__controller.textarea.focus(),this.__controller.scrollHoriz(),this},z.blur=function(){return this.__controller.textarea.blur(),this},z.write=function(we){return this.__controller.writeLatex(we),this.__controller.scrollHoriz(),this.__controller.blurred&&this.__controller.cursor.hide().parent.blur(),this},z.cmd=function(we){var qe=this.__controller.notify(),Ge=qe.cursor;if(/^\\[a-z]+$/i.test(we)){we=we.slice(1);var $e=M[we];$e&&(we=$e(we),Ge.selection&&we.replaces(Ge.replaceSelection()),we.createLeftOf(Ge.show()))}else Ge.parent.write(Ge,we);return qe.scrollHoriz(),qe.blurred&&Ge.hide().parent.blur(),this},z.select=function(){var we=this.__controller;for(we.notify("move").cursor.insAtRightEnd(we.root);we.cursor[b];)we.selectLeft();return this},z.clearSelection=function(){return this.__controller.cursor.clearSelection(),this},z.moveToDirEnd=function(we){return this.__controller.notify("move").cursor.insAtDirEnd(we,this.__controller.root),this},z.moveToLeftEnd=function(){return this.moveToDirEnd(b)},z.moveToRightEnd=function(){return this.moveToDirEnd(f)},z.keystroke=function(we,qe){for(var we=we.replace(/^\s+|\s+$/g,"").split(/\s+/),Ge=0;Ge<we.length;Ge+=1)this.__controller.keystroke(we[Ge],qe||{preventDefault:B});return this},z.typedText=function(we){for(var qe=0;qe<we.length;qe+=1)this.__controller.typedText(we.charAt(qe));return this},z.dropEmbedded=function(we,qe,Ge){var $e=we-S(window).scrollLeft(),it=qe-S(window).scrollTop(),ot=document.elementFromPoint($e,it);this.__controller.seek(S(ot),we,qe),nn().setOptions(Ge).createLeftOf(this.__controller.cursor)},z.setAriaLabel=function(we){return this.__controller.ariaLabel=we&&typeof we=="string"&&we!=""?we:"Math Input",this},z.getAriaLabel=function(){return this.__controller.ariaLabel||"Math Input"},z.setAriaPostLabel=function(we,qe){var Ge=this.__controller;return we&&typeof we=="string"&&we!=""?(we!==Ge.ariaPostLabel&&typeof qe=="number"&&(this.ariaAlertTimeout&&clearTimeout(this.ariaAlertTimeout),this.ariaAlertTimeout=setTimeout((function(){S(document.activeElement).closest(S(Ge.container)).length&&ye.alert(this.mathspeak().trim()+" "+we.trim())}).bind(this),qe)),Ge.ariaPostLabel=we):(this.ariaAlertTimeout&&clearTimeout(this.ariaAlertTimeout),Ge.ariaPostLabel=""),this},z.getAriaPostLabel=function(){return this.__controller.ariaPostLabel||""},z.clickAt=function(we,qe,Ge){Ge=Ge||document.elementFromPoint(we,qe);var $e=this.__controller,it=$e.root;return m.contains(it.jQ[0],Ge)||(Ge=it.jQ[0]),$e.seek(S(Ge),we+pageXOffset,qe+pageYOffset),$e.blurred&&this.focus(),this},z.ignoreNextMousedown=function(we){return this.__controller.cursor.options.ignoreNextMousedown=we,this}}),Z.EditableField=function(){throw"wtf don't call me, I'm 'abstract'"},Z.EditableField.prototype=P.EditableField.prototype;for(var ue in re)(function(z,me){var we=P[z]=me(P);Z[z]=function(qe,Ge){var $e=Z(qe);if($e instanceof we||!qe||!qe.nodeType)return $e;var it=N(we.RootBlock(),S(qe),Y());return it.KIND_OF_MQ=z,we(it).__mathquillify(Ge,U)},Z[z].prototype=we.prototype})(ue,re[ue]);return Z}function g(U){for(var Z="moveOutOf deleteOutOf selectOutOf upOutOf downOutOf".split(" "),k=0;k<Z.length;k+=1)(function(P){U[P]=function(K){this.controller.handle(P,K)}})(Z[k]);U.reflow=function(){this.controller.handle("reflow"),this.controller.handle("edited"),this.controller.handle("edit")}}function d(U){var Z=this.parent,k=U;do{if(k[f])return U.insLeftOf(Z);k=k.parent.parent}while(k!==Z);U.insRightOf(Z)}function i(U,Z){U.jQadd=function(){Z.jQadd.apply(this,arguments),this.delimjQs=this.jQ.children(":first").add(this.jQ.children(":last")),this.contentjQ=this.jQ.children(":eq(1)")}}function n(U,P,k){var P=P||U,K=Pt[U],ue=Pt[P];D[U]=u(dt,b,U,K,P,ue),D[K]=u(dt,f,U,K,P,ue),Dt[U]=Dt[K]=k}var r,m=window.jQuery,y=Math.min,v=Math.max;if(!m)throw"MathQuill requires jQuery 1.5.2+ to be loaded first";var x=[].slice,E=function(U,Z,k){function P(z){return typeof z=="object"}function K(z){return typeof z=="function"}function ue(){}return function z(me,we){function qe(){var ct=new Ge;return K(ct.init)&&ct.init.apply(ct,arguments),ct}function Ge(){}we===void 0&&(we=me,me=Object),qe.Bare=Ge;var $e,it=ue.prototype=me.prototype,ot=Ge.prototype=qe.prototype=qe.p=new ue;return ot.constructor=qe,qe.extend=function(ct){return z(qe,ct)},(qe.open=function(ct){if($e={},K(ct)?$e=ct.call(qe,ot,it,qe,me):P(ct)&&($e=ct),P($e))for(var St in $e)Z.call($e,St)&&(ot[St]=$e[St]);return K(ot.init)||(ot.init=me),qe})(we)}}(0,{}.hasOwnProperty),b=-1,f=1,S=E(m,function(U){U.insDirOf=function(Z,k){return Z===b?this.insertBefore(k.first()):this.insertAfter(k.last())},U.insAtDirEnd=function(Z,k){return Z===b?this.prependTo(k):this.appendTo(k)}}),j=E(function(U){U.parent=0,U[b]=0,U[f]=0,U.init=function(Z,k,P){this.parent=Z,this[b]=k,this[f]=P},this.copy=function(Z){return j(Z.parent,Z[b],Z[f])}}),Q={},G=!1,q=E(function(U){function Z(){return k+=1}U[b]=0,U[f]=0,U.parent=0;var k=0;this.getNodeOfElement=function(P){if(P){if(!P.nodeType)throw new Error("must pass an HTMLElement to Node.getNodeOfElement");return P.mqBlockNode||P.mqCmdNode}},this.linkElementByBlockId=function(P,K){q.linkElementByBlockNode(P,Q[K])},this.linkElementByBlockNode=function(P,K){P.mqBlockNode=K},this.linkElementByCmdNode=function(P,K){P.mqCmdNode=K},U.init=function(){this.id=Z(),Q[k]=this,c(),this.ends={},this.ends[b]=0,this.ends[f]=0},U.toString=function(){return"{{ MathQuill Node #"+this.id+" }}"},U.jQ=S(),U.jQadd=function(P){return this.jQ=this.jQ.add(P)},U.jQize=function(P){function K(z){if(z.getAttribute){var me=z.getAttribute("mathquill-command-id");if(me){z.removeAttribute("mathquill-command-id");var we=Q[me];we.jQadd(z),q.linkElementByCmdNode(z,we)}var qe=z.getAttribute("mathquill-block-id");if(qe){z.removeAttribute("mathquill-block-id");var Ge=Q[qe];Ge.jQadd(z),q.linkElementByBlockNode(z,Ge)}}for(z=z.firstChild;z;z=z.nextSibling)K(z)}for(var P=S(P||this.html()),ue=0;ue<P.length;ue+=1)K(P[ue]);return P},U.createDir=function(P,K){e(P);var ue=this;return ue.jQize(),ue.jQ.insDirOf(P,K.jQ),K[P]=ue.adopt(K.parent,K[b],K[f]),ue},U.createLeftOf=function(P){return this.createDir(b,P)},U.selectChildren=function(P,K){return W(P,K)},U.bubble=function(P){for(var K=this;K&&P(K)!==!1;K=K.parent);return this},U.postOrder=function(P){return function K(ue){ue.eachChild(K),P(ue)}(this),this},U.isEmpty=function(){return this.ends[b]===0&&this.ends[f]===0},U.isEmptyParens=function(){return!!this.isEmpty()&&!!this.parent&&this.parent.ctrlSeq==="\\left("},U.isStyleBlock=function(){return!1},U.children=function(){return L(this.ends[b],this.ends[f])},U.eachChild=function(P){return a(this.ends,P),this},U.foldChildren=function(P,K){return l(this.ends,P,K)},U.withDirAdopt=function(P,K,ue,z){return L(this,this).withDirAdopt(P,K,ue,z),this},U.adopt=function(P,K,ue){return L(this,this).adopt(P,K,ue),this},U.disown=function(){return L(this,this).disown(),this},U.remove=function(){return this.jQ.remove(),this.disown()},U.isParentSimpleSubscript=function(){return!!this.parent&&this.parent.parent instanceof rt&&!!this.parent.jQ.hasClass("dcg-mq-sub")},U.finalizeTree=function(){},U.contactWeld=function(){},U.blur=function(){},U.intentionalBlur=function(){},U.reflow=function(){},U.registerInnerField=function(){}}),L=E(function(U){U.init=function(Z,k,P){if(P===r&&(P=b),e(P),w("no half-empty fragments",!Z==!k),this.ends={},Z){w("withDir is passed to Fragment",Z instanceof q),w("oppDir is passed to Fragment",k instanceof q),w("withDir and oppDir have the same parent",Z.parent===k.parent),this.ends[P]=Z,this.ends[-P]=k;var K=this.fold([],function(ue,z){return ue.push.apply(ue,z.jQ.get()),ue});this.jQ=this.jQ.add(K)}},U.jQ=S(),U.withDirAdopt=function(Z,k,P,K){return Z===b?this.adopt(k,P,K):this.adopt(k,K,P)},U.adopt=function(Z,k,P){h(Z,k,P);var K=this;K.disowned=!1;var ue=K.ends[b];if(!ue)return this;var z=K.ends[f];return k||(Z.ends[b]=ue),P?P[b]=z:Z.ends[f]=z,K.ends[f][f]=P,K.each(function(me){me[b]=k,me.parent=Z,k&&(k[f]=me),k=me}),K},U.disown=function(){var Z=this,k=Z.ends[b];if(!k||Z.disowned)return Z;Z.disowned=!0;var P=Z.ends[f],K=k.parent;return h(K,k[b],k),h(K,P,P[f]),k[b]?k[b][f]=P[f]:K.ends[b]=P[f],P[f]?P[f][b]=k[b]:K.ends[f]=k[b],Z},U.remove=function(){return this.jQ.remove(),this.disown()},U.each=function(Z){return a(this.ends,Z),this},U.fold=function(Z,k){return l(this.ends,Z,k)}}),M={},D={},V=E(j,function(U){U.init=function(Z,k,P){this.controller=P,this.parent=Z,this.options=k;var K=this.jQ=this._jQ=S('<span class="dcg-mq-cursor">&#8203;</span>');this.blink=function(){K.toggleClass("dcg-mq-blink")},this.upDownCache={}},U.show=function(){return this.jQ=this._jQ.removeClass("dcg-mq-blink"),"intervalId"in this?clearInterval(this.intervalId):(this[f]?this.selection&&this.selection.ends[b][b]===this[b]?this.jQ.insertBefore(this.selection.jQ):this.jQ.insertBefore(this[f].jQ.first()):this.jQ.appendTo(this.parent.jQ),this.parent.focus()),this.intervalId=setInterval(this.blink,500),this},U.hide=function(){return"intervalId"in this&&clearInterval(this.intervalId),delete this.intervalId,this.jQ.detach(),this.jQ=S(),this},U.withDirInsertAt=function(Z,k,P,K){var ue=this.parent;this.parent=k,this[Z]=P,this[-Z]=K,ue!==k&&ue.blur&&ue.blur(this)},U.insDirOf=function(Z,k){return e(Z),this.jQ.insDirOf(Z,k.jQ),this.withDirInsertAt(Z,k.parent,k[Z],k),this.parent.jQ.addClass("dcg-mq-hasCursor"),this},U.insLeftOf=function(Z){return this.insDirOf(b,Z)},U.insRightOf=function(Z){return this.insDirOf(f,Z)},U.insAtDirEnd=function(Z,k){return e(Z),this.jQ.insAtDirEnd(Z,k.jQ),this.withDirInsertAt(Z,k,0,k.ends[Z]),k.focus(),this},U.insAtLeftEnd=function(Z){return this.insAtDirEnd(b,Z)},U.insAtRightEnd=function(Z){return this.insAtDirEnd(f,Z)},U.jumpUpDown=function(Z,k){var P=this;P.upDownCache[Z.id]=j.copy(P);var K=P.upDownCache[k.id];if(K)K[f]?P.insLeftOf(K[f]):P.insAtRightEnd(K.parent);else{var ue=P.offset().left;k.seek(ue,P)}ye.queue(k,!0)},U.offset=function(){var Z=this,k=Z.jQ.removeClass("dcg-mq-cursor").offset();return Z.jQ.addClass("dcg-mq-cursor"),k},U.unwrapGramp=function(){var Z=this.parent.parent,k=Z.parent,P=Z[f],K=this,ue=Z[b];if(Z.disown().eachChild(function(z){z.isEmpty()||(z.children().adopt(k,ue,P).each(function(me){me.jQ.insertBefore(Z.jQ.first())}),ue=z.ends[f])}),!this[f])if(this[b])this[f]=this[b][f];else for(;!this[f];){if(this.parent=this.parent[f],!this.parent){this[f]=Z[f],this.parent=k;break}this[f]=this.parent.ends[b]}this[f]?this.insLeftOf(this[f]):this.insAtRightEnd(k),Z.jQ.remove(),Z[b].siblingDeleted&&Z[b].siblingDeleted(K.options,f),Z[f].siblingDeleted&&Z[f].siblingDeleted(K.options,b)},U.startSelection=function(){for(var Z=this.anticursor=j.copy(this),k=Z.ancestors={},P=Z;P.parent;P=P.parent)k[P.parent.id]=P},U.endSelection=function(){delete this.anticursor},U.select=function(){var Z=this.anticursor;if(this[b]===Z[b]&&this.parent===Z.parent)return!1;for(var k=this;k.parent;k=k.parent)if(k.parent.id in Z.ancestors){var P=k.parent;break}w("cursor and anticursor in the same tree",P);var K,ue,z=Z.ancestors[P.id],me=f;if(k[b]!==z){for(var we=k;we;we=we[f])if(we[f]===z[f]){me=b,K=k,ue=z;break}}return me===f&&(K=z,ue=k),K instanceof j&&(K=K[f]),ue instanceof j&&(ue=ue[b]),this.hide().selection=P.selectChildren(K,ue),this.insDirOf(me,this.selection.ends[me]),this.selectionChanged(),!0},U.resetToEnd=function(Z){this.clearSelection();var k=Z.root;this[f]=0,this[b]=k.ends[f],this.parent=k},U.clearSelection=function(){return this.selection&&(this.selection.clear(),delete this.selection,this.selectionChanged()),this},U.deleteSelection=function(){this.selection&&(this[b]=this.selection.ends[b][b],this[f]=this.selection.ends[f][f],this.selection.remove(),this.selectionChanged(),delete this.selection)},U.replaceSelection=function(){var Z=this.selection;return Z&&(this[b]=Z.ends[b][b],this[f]=Z.ends[f][f],delete this.selection),Z}}),W=E(L,function(U,Z){U.init=function(){Z.init.apply(this,arguments),this.jQ=this.jQ.wrapAll('<span class="dcg-mq-selection"></span>').parent()},U.adopt=function(){return this.jQ.replaceWith(this.jQ=this.jQ.children()),Z.adopt.apply(this,arguments)},U.clear=function(){return this.jQ.replaceWith(this.jQ[0].childNodes),this},U.join=function(k,P){var K=P||"";return this.fold("",function(ue,z){return ue+K+z[k]()})}}),N=E(function(U){U.init=function(k,P,K){this.id=k.id,this.data={},this.root=k,this.container=P,this.options=K,this.ariaLabel="Math Input",this.ariaPostLabel="",k.controller=this,this.cursor=k.cursor=V(k,K,this)},U.handle=function(k,P){var K=this.options.handlers;if(K&&K.fns[k]){var ue=K.APIClasses[this.KIND_OF_MQ](this);P===b||P===f?K.fns[k](P,ue):K.fns[k](ue)}};var Z=[];this.onNotify=function(k){Z.push(k)},U.notify=function(){for(var k=0;k<Z.length;k+=1)Z[k].apply(this.cursor,arguments);return this}}),re={},Y=E(),O={},ee=E(),oe={};s.prototype=ee.p,s.VERSION="vv1.5",s.interfaceVersion=function(U){if(U!==1)throw"Only interface version 1 supported. You specified: "+U;return o=function(){window.console&&console.warn(`You called MathQuill.interfaceVersion(1); to specify the interface version, which will fail in v1.0.0. You can fix this easily by doing this before doing anything else:

    MathQuill = MathQuill.getInterface(1);
    // now MathQuill.MathField() works like it used to

See also the "\`dev\` branch (20142015)  v0.10.0 Migration Guide" at
  https://github.com/mathquill/mathquill/wiki/%60dev%60-branch-(2014%E2%80%932015)-%E2%86%92-v0.10.0-Migration-Guide`)},o(),s},s.getInterface=p;var H=p.MIN=1,J=p.MAX=2;s.noConflict=function(){return window.MathQuill=ie,s};var ie=window.MathQuill;window.MathQuill=s;var de=E(function(U,Z,k){function P(me,we){throw me=me?"'"+me+"'":"EOF","Parse Error: "+we+" at "+me}U.init=function(me){this._=me},U.parse=function(me){function we(qe,Ge){return Ge}return this.skip(z)._(""+me,we,P)},U.or=function(me){w("or is passed a parser",me instanceof k);var we=this;return k(function(qe,Ge,$e){function it(ot){return me._(qe,Ge,$e)}return we._(qe,Ge,it)})},U.then=function(me){var we=this;return k(function(qe,Ge,$e){function it(ot,ct){var St=me instanceof k?me:me(ct);return w("a parser is returned",St instanceof k),St._(ot,Ge,$e)}return we._(qe,it,$e)})},U.many=function(){var me=this;return k(function(we,qe,Ge){function $e(ct,St){return we=ct,ot.push(St),!0}function it(){return!1}for(var ot=[];me._(we,$e,it););return qe(we,ot)})},U.times=function(me,we){arguments.length<2&&(we=me);var qe=this;return k(function(Ge,$e,it){function ot(It,At){return qt.push(At),Ge=It,!0}function ct(It,At){return Bt=At,Ge=It,!1}function St(It,At){return!1}for(var Bt,qt=[],Lt=!0,Ut=0;Ut<me;Ut+=1)if(!(Lt=qe._(Ge,ot,ct)))return it(Ge,Bt);for(;Ut<we&&Lt;Ut+=1)Lt=qe._(Ge,ot,St);return $e(Ge,qt)})},U.result=function(me){return this.then(ue(me))},U.atMost=function(me){return this.times(0,me)},U.atLeast=function(me){var we=this;return we.times(me).then(function(qe){return we.many().map(function(Ge){return qe.concat(Ge)})})},U.map=function(me){return this.then(function(we){return ue(me(we))})},U.skip=function(me){return this.then(function(we){return me.result(we)})};var K=(this.string=function(me){var we=me.length,qe="expected '"+me+"'";return k(function(Ge,$e,it){var ot=Ge.slice(0,we);return ot===me?$e(Ge.slice(we),ot):it(Ge,qe)})},this.regex=function(me){w("regexp parser is anchored",me.toString().charAt(1)==="^");var we="expected "+me;return k(function(qe,Ge,$e){var it=me.exec(qe);if(it){var ot=it[0];return Ge(qe.slice(ot.length),ot)}return $e(qe,we)})}),ue=k.succeed=function(me){return k(function(we,qe){return qe(we,me)})},z=(k.fail=function(me){return k(function(we,qe,Ge){return Ge(we,me)})},k.letter=K(/^[a-z]/i),k.letters=K(/^[a-z]*/i),k.digit=K(/^[0-9]/),k.digits=K(/^[0-9]*/),k.whitespace=K(/^\s+/),k.optWhitespace=K(/^\s*/),k.any=k(function(me,we,qe){return me?we(me.slice(1),me.charAt(0)):qe(me,"expected any character")}),k.all=k(function(me,we,qe){return we("",me)}),k.eof=k(function(me,we,qe){return me?qe(me,"expected EOF"):we(me,me)}))}),fe=function(){function U(k){var P,K=k.which||k.keyCode,ue=Z[K],z=[];return k.ctrlKey&&z.push("Ctrl"),k.originalEvent&&k.originalEvent.metaKey&&z.push("Meta"),k.altKey&&z.push("Alt"),k.shiftKey&&z.push("Shift"),P=ue||String.fromCharCode(K),z.length||ue?(z.push(P),z.join("-")):P}var Z={8:"Backspace",9:"Tab",10:"Enter",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",45:"Insert",46:"Del",144:"NumLock"};return function(k,P){function K(mt){Xt=mt,clearTimeout(Lt),Lt=setTimeout(mt)}function ue(mt){K(function(Zt){Xt=B,clearTimeout(Lt),mt(Zt)})}function z(){try{At[0].select()}catch{}}function me(mt){Xt(),Xt=B,clearTimeout(Lt),At.val(mt),mt&&z(),pn=!!mt}function we(){var mt=At[0];return"selectionStart"in mt&&mt.selectionStart!==mt.selectionEnd}function qe(){P.options&&P.options.overrideKeystroke?P.options.overrideKeystroke(U(Ut),Ut):P.keystroke(U(Ut),Ut)}function Ge(mt){Ut=mt,It=null,pn&&ue(function(Zt){Zt&&Zt.type==="focusout"||z()}),qe()}function $e(mt){if(!mt||!mt.originalEvent)return!1;switch(mt.originalEvent.key){case"ArrowRight":case"ArrowLeft":case"ArrowDown":case"ArrowUp":return!0}return!1}function it(mt){Ut&&It&&qe(),It=mt,$e(mt)||K(ct)}function ot(mt){Ut&&!It&&($e(mt)||K(ct))}function ct(){if(!we()){var mt=At.val();mt.length===1?(At.val(""),P.options&&P.options.overrideTypedText?P.options.overrideTypedText(mt):P.typedText(mt)):mt&&z()}}function St(){Ut=null,It=null,Xt=B,clearTimeout(Lt),At.val("")}function Bt(mt){At.focus(),K(qt)}function qt(){var mt=At.val();At.val(""),mt&&P.paste(mt)}var Lt,Ut=null,It=null,At=m(k),Kt=m(P.container||At),Xt=B;Kt.bind("keydown keypress input keyup paste",function(mt){Xt(mt)});var pn=!1;return P.options&&P.options.disableCopyPaste?Kt.bind({keydown:Ge,keypress:it,keyup:ot,focusout:St,copy:function(mt){mt.preventDefault()},cut:function(mt){mt.preventDefault()},paste:function(mt){mt.preventDefault()}}):Kt.bind({keydown:Ge,keypress:it,keyup:ot,focusout:St,cut:function(){ue(function(){P.cut()})},copy:function(){ue(function(){P.copy()})},paste:Bt}),{select:me}}}(),Ee=E(function(U){U.init=function(){this.jQ=m([]),m(document).ready((function(){var Z=".dcg-mq-aria-alert";m(Z).length||m("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-mq-aria-alert'></p>"),this.jQ=m(Z)}).bind(this)),this.items=[],this.msg=""},U.queue=function(Z,k){return Z instanceof q&&(Z=k?Z.parent&&Z.parent.ariaLabel&&Z.ariaLabel==="block"?Z.parent.ariaLabel+" "+Z.mathspeak():Z.ariaLabel?Z.ariaLabel+" "+Z.mathspeak():Z.mathspeak():Z.mathspeak()),this.items.push(Z),this},U.queueDirOf=function(Z){return e(Z),this.queue(Z===b?"before":"after")},U.queueDirEndOf=function(Z){return e(Z),this.queue(Z===b?"beginning of":"end of")},U.alert=function(Z){return Z&&this.queue(Z),this.items.length&&(this.msg=this.items.join(" ").replace(/ +(?= )/g,"").trim(),this.jQ.empty().text(this.msg)),this.clear()},U.clear=function(){return this.items.length=0,this}}),ye=Ee();N.open(function(U){U.aria=ye,U.exportMathSpeak=function(){return this.root.mathspeak()}}),N.open(function(U,Z){U.exportText=function(){return this.root.foldChildren("",function(k,P){return k+P.text()})}}),N.open(function(U){this.onNotify(function(Z){if(Z==="edit"||Z==="replace"||Z===r){var k=this.controller;if(!k||!k.options.enableDigitGrouping||k.blurred!==!1)return;k.disableGroupingForSeconds(1)}}),U.disableGroupingForSeconds=function(Z){clearTimeout(this.__disableGroupingTimeout);var k=this.root.jQ;Z===0?k.removeClass("dcg-mq-suppress-grouping"):(k.addClass("dcg-mq-suppress-grouping"),this.__disableGroupingTimeout=setTimeout(function(){k.removeClass("dcg-mq-suppress-grouping")},1e3*Z))},U.focusBlurEvents=function(){function Z(){clearTimeout(K),me.selection&&me.selection.jQ.addClass("dcg-mq-blur"),k(),P()}function k(){me.hide().parent.blur(),ue.container.removeClass("dcg-mq-focused"),S(window).unbind("blur",Z),ue.options&&ue.options.resetCursorOnBlur&&me.resetToEnd(ue)}function P(){var we=(ue.ariaLabel+": "+z.mathspeak()+" "+ue.ariaPostLabel).trim();ye.jQ.empty(),ue.textarea.attr("aria-label",we),ue.container.attr("aria-label",we)}var K,ue=this,z=ue.root,me=ue.cursor;ue.textarea.focus(function(){P(),ue.blurred=!1,clearTimeout(K),ue.container.addClass("dcg-mq-focused"),me.parent||me.insAtRightEnd(z),me.selection?(me.selection.jQ.removeClass("dcg-mq-blur"),ue.selectionChanged()):me.show(),ue.setOverflowClasses()}).blur(function(){ue.textareaSelectionTimeout&&(clearTimeout(ue.textareaSelectionTimeout),ue.textareaSelectionTimeout=r),ue.disableGroupingForSeconds(0),ue.blurred=!0,K=setTimeout(function(){z.postOrder(function(we){we.intentionalBlur()}),me.clearSelection().endSelection(),k(),P(),ue.scrollHoriz()}),S(window).bind("blur",Z)}),P(),ue.blurred=!0,me.hide().parent.blur()}}),N.open(function(U){U.keystroke=function(Z,k){this.cursor.parent.keystroke(Z,k,this)}}),q.open(function(U){U.keystroke=function(Z,k,P){var K=P.cursor;switch(Z){case"Ctrl-Shift-Backspace":case"Ctrl-Backspace":P.ctrlDeleteDir(b);break;case"Shift-Backspace":case"Backspace":P.backspace();break;case"Esc":case"Tab":return void P.escapeDir(f,Z,k);case"Shift-Tab":case"Shift-Esc":return void P.escapeDir(b,Z,k);case"End":P.notify("move").cursor.insAtRightEnd(K.parent),ye.queue("end of").queue(K.parent,!0);break;case"Ctrl-End":P.notify("move").cursor.insAtRightEnd(P.root),ye.queue("end of").queue(P.ariaLabel).queue(P.root).queue(P.ariaPostLabel);break;case"Shift-End":for(;K[f];)P.selectRight();break;case"Ctrl-Shift-End":for(;K[f]||K.parent!==P.root;)P.selectRight();break;case"Home":P.notify("move").cursor.insAtLeftEnd(K.parent),ye.queue("beginning of").queue(K.parent,!0);break;case"Ctrl-Home":P.notify("move").cursor.insAtLeftEnd(P.root),ye.queue("beginning of").queue(P.ariaLabel).queue(P.root).queue(P.ariaPostLabel);break;case"Shift-Home":for(;K[b];)P.selectLeft();break;case"Ctrl-Shift-Home":for(;K[b]||K.parent!==P.root;)P.selectLeft();break;case"Left":P.moveLeft();break;case"Shift-Left":P.selectLeft();break;case"Ctrl-Left":break;case"Right":P.moveRight();break;case"Shift-Right":P.selectRight();break;case"Ctrl-Right":break;case"Up":P.moveUp();break;case"Down":P.moveDown();break;case"Shift-Up":if(K[b])for(;K[b];)P.selectLeft();else P.selectLeft();case"Shift-Down":if(K[f])for(;K[f];)P.selectRight();else P.selectRight();case"Ctrl-Up":case"Ctrl-Down":break;case"Ctrl-Shift-Del":case"Ctrl-Del":P.ctrlDeleteDir(f);break;case"Shift-Del":case"Del":P.deleteForward();break;case"Meta-A":case"Ctrl-A":for(P.notify("move").cursor.insAtRightEnd(P.root);K[b];)P.selectLeft();break;case"Ctrl-Alt-Up":K.parent.parent&&K.parent.parent instanceof q?ye.queue(K.parent.parent):ye.queue("nothing above");break;case"Ctrl-Alt-Down":K.parent&&K.parent instanceof q?ye.queue(K.parent):ye.queue("block is empty");break;case"Ctrl-Alt-Left":K.parent.parent&&K.parent.parent.ends&&K.parent.parent.ends[b]&&K.parent.parent.ends[b]instanceof q?ye.queue(K.parent.parent.ends[b]):ye.queue("nothing to the left");break;case"Ctrl-Alt-Right":K.parent.parent&&K.parent.parent.ends&&K.parent.parent.ends[f]&&K.parent.parent.ends[f]instanceof q?ye.queue(K.parent.parent.ends[f]):ye.queue("nothing to the right");break;case"Ctrl-Alt-Shift-Down":K.selection?ye.queue(K.selection.join("mathspeak"," ").trim()+" selected"):ye.queue("nothing selected");break;case"Ctrl-Alt-=":case"Ctrl-Alt-Shift-Right":P.ariaPostLabel.length?ye.queue(P.ariaPostLabel):ye.queue("no answer");break;default:return}ye.alert(),k.preventDefault(),P.scrollHoriz()},U.moveOutOf=U.moveTowards=U.deleteOutOf=U.deleteTowards=U.unselectInto=U.selectOutOf=U.selectTowards=function(){w("overridden or never called on this node")}}),N.open(function(U){function Z(k,P){var K=k.notify("upDown").cursor,ue=P+"Into",z=P+"OutOf";return K[f][ue]?K.insAtLeftEnd(K[f][ue]):K[b][ue]?K.insAtRightEnd(K[b][ue]):K.parent.bubble(function(me){var we=me[z];if(we&&(typeof we=="function"&&(we=me[z](K)),we instanceof q&&K.jumpUpDown(me,we),we!==!0))return!1}),k}this.onNotify(function(k){k!=="move"&&k!=="upDown"||this.show().clearSelection()}),U.escapeDir=function(k,P,K){e(k);var ue=this.cursor;if(ue.parent!==this.root&&K.preventDefault(),ue.parent!==this.root)return ue.parent.moveOutOf(k,ue),ye.alert(),this.notify("move")},O.leftRightIntoCmdGoes=function(k){if(k&&k!=="up"&&k!=="down")throw'"up" or "down" required for leftRightIntoCmdGoes option, got "'+k+'"';return k},U.moveDir=function(k){e(k);var P=this.cursor,K=P.options.leftRightIntoCmdGoes;return P.selection?P.insDirOf(k,P.selection.ends[k]):P[k]?P[k].moveTowards(k,P,K):P.parent.moveOutOf(k,P,K),this.notify("move")},U.moveLeft=function(){return this.moveDir(b)},U.moveRight=function(){return this.moveDir(f)},U.moveUp=function(){return Z(this,"up")},U.moveDown=function(){return Z(this,"down")},this.onNotify(function(k){k!=="upDown"&&(this.upDownCache={})}),this.onNotify(function(k){k==="edit"&&this.show().deleteSelection()}),U.deleteDir=function(k){e(k);var P=this.cursor,K=P[k],ue=P.parent.parent;if(K&&K instanceof q)K.sides?ye.queue(K.parent.chToCmd(K.sides[-k].ch).mathspeak({createdLeftOf:P})):K.blocks||K.parent.ctrlSeq==="\\text"||ye.queue(K);else if(ue&&ue instanceof q)if(ue.sides)ye.queue(ue.parent.chToCmd(ue.sides[k].ch).mathspeak({createdLeftOf:P}));else if(ue.blocks&&ue.mathspeakTemplate)if(ue.upInto&&ue.downInto)ye.queue(ue.mathspeakTemplate[1]);else{var z=ue.mathspeakTemplate,me=k===b?z[0]:z[z.length-1];ye.queue(me)}else ye.queue(ue);var we=P.selection;return this.notify("edit"),we||(P[k]?P[k].deleteTowards(k,P):P.parent.deleteOutOf(k,P)),P[b].siblingDeleted&&P[b].siblingDeleted(P.options,f),P[f].siblingDeleted&&P[f].siblingDeleted(P.options,b),P.parent.bubble(function(qe){qe.reflow()}),this},U.ctrlDeleteDir=function(k){e(k);var P=this.cursor;if(!P[k]||P.selection)return this.deleteDir(k);this.notify("edit");var K;return K=k===b?L(P.parent.ends[b],P[b]):L(P[f],P.parent.ends[f]),ye.queue(K),K.remove(),P.insAtDirEnd(k,P.parent),P[b].siblingDeleted&&P[b].siblingDeleted(P.options,f),P[f].siblingDeleted&&P[f].siblingDeleted(P.options,b),P.parent.bubble(function(ue){ue.reflow()}),this},U.backspace=function(){return this.deleteDir(b)},U.deleteForward=function(){return this.deleteDir(f)},this.onNotify(function(k){k!=="select"&&this.endSelection()}),U.selectDir=function(k){var P=this.notify("select").cursor,K=P.selection;e(k),P.anticursor||P.startSelection();var ue=P[k];ue?K&&K.ends[k]===ue&&P.anticursor[-k]!==ue?ue.unselectInto(k,P):ue.selectTowards(k,P):P.parent.selectOutOf(k,P),P.clearSelection(),P.select()||P.show(),P.selection&&ye.clear().queue(P.selection.join("mathspeak"," ").trim()+" selected")},U.selectLeft=function(){return this.selectDir(b)},U.selectRight=function(){return this.selectDir(f)}});var _e=function(){function U(It){var At=ge();return It.adopt(At,0,0),At}function Z(It){for(var At=It[0]||ge(),Kt=1;Kt<It.length;Kt+=1)It[Kt].children().adopt(At,At.ends[f],0);return At}var k=de.string,P=de.regex,K=de.letter,ue=de.digit,z=de.any,me=de.optWhitespace,we=de.succeed,qe=de.fail,Ge=K.map(function(It){return T(It)}),$e=ue.map(function(It){return ve(It)}),it=P(/^[^${}\\_^]/).map(function(It){return ne(It)}),ot=P(/^[^\\a-eg-zA-Z]/).or(k("\\").then(P(/^[a-z]+/i).or(P(/^\s+/).result(" ")).or(z))).then(function(It){var At=M[It];return At?At(It).parser():qe("unknown command: \\"+It)}),ct=ot.or(Ge).or($e).or(it),St=k("{").then(function(){return qt}).skip(k("}")),Bt=me.then(St.or(ct.map(U))),qt=Bt.many().map(Z).skip(me),Lt=k("[").then(Bt.then(function(It){return It.join("latex")!=="]"?we(It):qe()}).many().map(Z).skip(me)).skip(k("]")),Ut=qt;return Ut.block=Bt,Ut.optBlock=Lt,Ut}();N.open(function(U,Z){U.cleanLatex=function(k){return k.replace(/(\\[a-z]+) (?![a-z])/gi,"$1")},U.exportLatex=function(){return this.cleanLatex(this.root.latex())},U.writeLatex=function(k){var P=this.notify("edit").cursor,K=de.all,ue=de.eof,z=_e.skip(ue).or(K.result(!1)).parse(k);return z&&!z.isEmpty()&&(z.children().adopt(P.parent,P[b],P[f]),z.jQize().insertBefore(P.jQ),P[b]=z.ends[f],z.finalizeInsert(P.options,P),z.ends[f][f].siblingCreated&&z.ends[f][f].siblingCreated(P.options,b),z.ends[b][b].siblingCreated&&z.ends[b][b].siblingCreated(P.options,f),P.parent.bubble(function(me){me.reflow()})),this},U.classifyLatexForEfficientUpdate=function(k){if(typeof k=="string"){var P=k.match(/-?[0-9.]+$/g);return P&&P.length===1?{latex:k,prefix:k.substr(0,k.length-P[0].length),digits:P[0]}:void 0}},U.renderLatexMathEfficiently=function(k){var P,K,ue=this.classifyLatexForEfficientUpdate(k);if(!ue||(P=this.exportLatex(),!(K=this.classifyLatexForEfficientUpdate(P))||K.prefix!==ue.prefix))return!1;var z=this.root,me=K.digits,we=ue.digits,qe=!1,Ge=!1;me[0]==="-"&&(qe=!0,me=me.substr(1)),we[0]==="-"&&(Ge=!0,we=we.substr(1));for(var $e=this.root.ends[f],it=[],ot=me.length-1;ot>=0;ot--){if($e.ctrlSeq!==me[ot]||$e.parent!==z)return!1;it.unshift($e),$e=$e[b]}if(qe&&!Ge){var ct=$e;if(ct.ctrlSeq!=="-"||ct[f]!==it[0]||ct.parent!==z||ct[b]&&ct[b].parent!==z)return!1;it[0][b]=ct[b],z.ends[b]===ct&&(z.ends[b]=it[0]),ct[b]&&(ct[b][f]=it[0]),ct.jQ.remove()}if(!qe&&Ge){var St=xe("-"),Bt=document.createElement("span");Bt.textContent="-",St.jQ=S(Bt),it[0][b]&&(it[0][b][f]=St),z.ends[b]===it[0]&&(z.ends[b]=St),St.parent=z,St[b]=it[0][b],St[f]=it[0],it[0][b]=St,St.contactWeld(),St.jQ.insertBefore(it[0].jQ)}var qt=Math.min(me.length,we.length);for(ot=0;ot<qt;ot++){var Lt=we[ot];$e=it[ot],$e.ctrlSeq!==Lt&&($e.ctrlSeq=Lt,$e.jQ[0].textContent=Lt,$e.mathspeakName=Lt)}if(me.length>we.length)for($e=it[we.length-1],z.ends[f]=$e,$e[f]=0,ot=me.length-1;ot>=qt;ot--)it[ot].jQ.remove();if(we.length>me.length){var Ut=document.createDocumentFragment();for(ot=qt;ot<we.length;ot++){var It=document.createElement("span");It.className="dcg-mq-digit",It.textContent=we[ot];var At=ve(we[ot]);At.parent=z,At.jQ=S(It),Ut.appendChild(It),At[b]=z.ends[f],At[f]=0,At[b][f]=At,z.ends[f]=At}z.jQ[0].appendChild(Ut)}var Kt=this.exportLatex();if(Kt!==k)return console.warn("tried updating latex efficiently but did not work. Attempted: "+k+" but wrote: "+Kt),!1;this.cursor.resetToEnd(this);var Xt=z.ends[f];return Xt.fixDigitGrouping&&Xt.fixDigitGrouping(this.cursor.options),!0},U.renderLatexMathFromScratch=function(k){var P=this.root,K=this.cursor,ue=de.all,z=de.eof,me=_e.skip(z).or(ue.result(!1)).parse(k);P.ends[b]=P.ends[f]=0,me&&me.children().adopt(P,0,0);var we=P.jQ;if(me){var qe=me.join("html");we.html(qe),P.jQize(we.children()),P.finalizeInsert(K.options)}else we.empty();var Ge=this.ariaLabel&&this.ariaLabel!=="Math Input"?this.ariaLabel+": ":"";this.container.attr("aria-label",Ge+P.mathspeak().trim()),delete K.selection,K.insAtRightEnd(P)},U.renderLatexMath=function(k){this.notify("replace"),this.renderLatexMathEfficiently(k)||this.renderLatexMathFromScratch(k)},U.renderLatexText=function(k){var P=this.root,K=this.cursor;P.jQ.children().slice(1).remove(),P.ends[b]=P.ends[f]=0,delete K.selection,K.show().insAtRightEnd(P);var ue=de.regex,z=de.string,me=de.eof,we=de.all,qe=z("$").then(_e).skip(z("$").or(me)).map(function(St){var Bt=RootMathCommand(K);Bt.createBlocks();var qt=Bt.ends[b];return St.children().adopt(qt,0,0),Bt}),Ge=z("\\$").result("$"),$e=Ge.or(ue(/^[^$]/)).map(ne),it=qe.or($e).many(),ot=it.skip(me).or(we.result(!1)).parse(k);if(ot){for(var ct=0;ct<ot.length;ct+=1)ot[ct].adopt(P,P.ends[f],0);P.jQize().appendTo(P.jQ),P.finalizeInsert(K.options)}}}),N.open(function(U){Y.p.ignoreNextMousedown=B;var Z;this.onNotify(function(k){k!=="edit"&&k!=="replace"||Z&&Z.cursor===this&&Z.cb()}),U.delegateMouseEvents=function(){var k=this.root.jQ;this.container.bind("mousedown.mathquill",function(P){function K(Lt){Bt=S(Lt.target)}function ue(Lt){it.anticursor||it.startSelection(),$e.seek(Bt,Lt.pageX,Lt.pageY).cursor.select(),it.selection&&ye.clear().queue(it.selection.join("mathspeak")+" selected").alert(),Bt=r}function z(Lt){qe.unbind("mousemove",K),S(Lt.target.ownerDocument).unbind("mousemove",ue).unbind("mouseup",we),Z=r}function me(){$e.editable?(it.show(),ye.queue(it.parent).alert()):ct.detach()}function we(Lt){it.blink=ot,it.selection||me(),z(Lt)}var qe=S(P.target).closest(".dcg-mq-root-block"),Ge=q.getNodeOfElement(qe[0])||q.getNodeOfElement(k[0]),$e=Ge.controller,it=$e.cursor,ot=it.blink,ct=$e.textareaSpan,St=$e.textarea;if(P.preventDefault(),P.target.unselectable=!0,!it.options.ignoreNextMousedown(P)){it.options.ignoreNextMousedown=B;var Bt,qt;Z={cursor:it,cb:function(){qt=!0,it.blink=ot,it.clearSelection(),me(),z(P)}},$e.blurred&&($e.editable||qe.prepend(ct),St.focus(),qt)||(it.blink=B,$e.seek(S(P.target),P.pageX,P.pageY).cursor.startSelection(),qe.mousemove(K),S(P.target.ownerDocument).mousemove(ue).mouseup(we))}})}}),N.open(function(U){U.seek=function(Z,k,P){for(var K,ue=this.notify("select").cursor,z=Z&&Z[0];z&&!(K=q.getNodeOfElement(z));)z=z.parentElement;return K||(K=this.root),ue.clearSelection().show(),K.seek(k,ue),this.scrollHoriz(),this}}),N.open(function(U){U.setOverflowClasses=function(){var Z=this.root.jQ[0],k=!1,P=!1;if(!this.blurred){var K=Z.getBoundingClientRect().width,ue=Z.scrollWidth,z=Z.scrollLeft;k=ue>K+z,P=z>0}Z.classList.contains("dcg-mq-editing-overflow-right")!==k&&Z.classList.toggle("dcg-mq-editing-overflow-right"),Z.classList.contains("dcg-mq-editing-overflow-left")!==P&&Z.classList.toggle("dcg-mq-editing-overflow-left")},U.scrollHoriz=function(){var Z=this.cursor,k=Z.selection,P=this.root.jQ[0].getBoundingClientRect();if(!Z.jQ[0]&&!k)return void this.root.jQ.stop().animate({scrollLeft:0},100,(function(){this.setOverflowClasses()}).bind(this));if(k){var K=k.jQ[0].getBoundingClientRect(),ue=K.left-(P.left+20),z=K.right-(P.right-20);if(k.ends[b]===Z[f])if(ue<0)var me=ue;else{if(!(z>0))return;if(K.left-z<P.left+20)var me=ue;else var me=z}else if(z>0)var me=z;else{if(!(ue<0))return;if(K.right-ue>P.right-20)var me=z;else var me=ue}}else{var we=Z.jQ[0].getBoundingClientRect().left;if(we>P.right-20)var me=we-(P.right-20);else{if(!(we<P.left+20))return;var me=we-(P.left+20)}}var qe=this.root.jQ[0];me<0&&qe.scrollLeft===0||me>0&&qe.scrollWidth<=qe.scrollLeft+P.width||this.root.jQ.stop().animate({scrollLeft:"+="+me},100,(function(){this.setOverflowClasses()}).bind(this))}}),N.open(function(U){Y.p.substituteTextarea=function(){return S("<textarea autocapitalize=off autocomplete=off autocorrect=off spellcheck=false x-palm-disable-ste-all=true/>")[0]},U.createTextarea=function(){var Z=this.textareaSpan=S('<span class="dcg-mq-textarea"></span>'),k=this.options.substituteTextarea();if(!k.nodeType)throw"substituteTextarea() must return a DOM element, got "+k;k=this.textarea=S(k).appendTo(Z);var P=this;P.cursor.selectionChanged=function(){P.selectionChanged()}},U.selectionChanged=function(){var Z=this;Z.textareaSelectionTimeout===r&&(Z.textareaSelectionTimeout=setTimeout(function(){Z.setTextareaSelection()}))},U.setTextareaSelection=function(){this.textareaSelectionTimeout=r;var Z="";this.cursor.selection&&(Z=this.cleanLatex(this.cursor.selection.join("latex")),this.options.statelessClipboard&&(Z="$"+Z+"$")),this.selectFn(Z)},U.staticMathTextareaEvents=function(){function Z(){z.detach(),k.blurred=!0}var k=this,P=k.root,K=k.cursor,ue=k.textarea,z=k.textareaSpan;this.container.prepend('<span aria-hidden="true" class="dcg-mq-selectable">$'+k.exportLatex()+"$</span>"),k.blurred=!0,ue.bind("cut paste",!1),k.options.disableCopyPaste?ue.bind("copy",!1):ue.bind("copy",function(){k.setTextareaSelection()}),ue.focus(function(){k.blurred=!1}).blur(function(){K.selection&&K.selection.clear(),setTimeout(Z)}),k.selectFn=function(Ge){ue.val(Ge),Ge&&ue.select()};var me=k&&k.ariaLabel!=="Math Input"?k.ariaLabel+": ":"";k.container.attr("aria-label",me+P.mathspeak().trim());var we=navigator.userAgent||navigator.vendor||window.opera,qe=/iPad|iPhone|iPod/.test(we)&&!window.Stream;navigator.appVersion.indexOf("Mac")!==-1&&!qe||k.container.attr("role","math")},Y.p.substituteKeyboardEvents=fe,U.editablesTextareaEvents=function(){var Z=this,k=Z.textarea,P=Z.textareaSpan,K=this.options.substituteKeyboardEvents(k,this);this.selectFn=function(ue){K.select(ue)},this.container.prepend(P),this.focusBlurEvents()},U.typedText=function(Z){if(Z===`
`)return this.handle("enter");var k=this.notify().cursor;k.parent.write(k,Z),this.scrollHoriz()},U.cut=function(){var Z=this,k=Z.cursor;k.selection&&setTimeout(function(){Z.notify("edit"),k.parent.bubble(function(P){P.reflow()}),Z.options&&Z.options.onCut&&Z.options.onCut()})},U.copy=function(){this.setTextareaSelection()},U.paste=function(Z){this.options.statelessClipboard&&(Z=Z.slice(0,1)==="$"&&Z.slice(-1)==="$"?Z.slice(1,-1):"\\text{"+Z+"}"),this.writeLatex(Z).cursor.show(),this.scrollHoriz(),this.options&&this.options.onPaste&&this.options.onPaste()}});var Fe=E(q,function(U,Z){U.finalizeInsert=function(k,P){var K=this;K.postOrder(function(ue){ue.finalizeTree(k)}),K.postOrder(function(ue){ue.contactWeld(P)}),K.postOrder(function(ue){ue.blur()}),K.postOrder(function(ue){ue.reflow()}),K[f].siblingCreated&&K[f].siblingCreated(k,b),K[b].siblingCreated&&K[b].siblingCreated(k,f),K.bubble(function(ue){ue.reflow()})}}),se=E(Fe,function(U,Z){U.init=function(k,P,K){var ue=this;Z.init.call(ue),ue.ctrlSeq||(ue.ctrlSeq=k),P&&(ue.htmlTemplate=P),K&&(ue.textTemplate=K)},U.replaces=function(k){k.disown(),this.replacedFragment=k},U.isEmpty=function(){return this.foldChildren(!0,function(k,P){return k&&P.isEmpty()})},U.parser=function(){var k=_e.block,P=this;return k.times(P.numBlocks()).map(function(K){P.blocks=K;for(var ue=0;ue<K.length;ue+=1)K[ue].adopt(P,P.ends[f],0);return P})},U.createLeftOf=function(k){var P=this,K=P.replacedFragment;P.createBlocks(),Z.createLeftOf.call(P,k),K&&(K.adopt(P.ends[b],0,0),K.jQ.appendTo(P.ends[b].jQ)),P.finalizeInsert(k.options),P.placeCursor(k)},U.createBlocks=function(){for(var k=this,P=k.numBlocks(),K=k.blocks=Array(P),ue=0;ue<P;ue+=1)(K[ue]=ge()).adopt(k,k.ends[f],0)},U.placeCursor=function(k){k.insAtRightEnd(this.foldChildren(this.ends[b],function(P,K){return P.isEmpty()?P:K}))},U.moveTowards=function(k,P,K){var ue=K&&this[K+"Into"];P.insAtDirEnd(-k,ue||this.ends[-k]),ye.queueDirEndOf(-k).queue(P.parent,!0)},U.deleteTowards=function(k,P){this.isEmpty()?P[k]=this.remove()[k]:this.moveTowards(k,P,null)},U.selectTowards=function(k,P){P[-k]=this,P[k]=this[k]},U.selectChildren=function(){return W(this,this)},U.unselectInto=function(k,P){P.insAtDirEnd(-k,P.anticursor.ancestors[this.id])},U.seek=function(k,P){function K(we){var qe={};return qe[b]=we.jQ.offset().left,qe[f]=qe[b]+we.jQ.outerWidth(),qe}var ue=this,z=K(ue);if(k<z[b])return P.insLeftOf(ue);if(k>z[f])return P.insRightOf(ue);var me=z[b];ue.eachChild(function(we){var qe=K(we);return k<qe[b]?(k-me<qe[b]-k?we[b]?P.insAtRightEnd(we[b]):P.insLeftOf(ue):P.insAtLeftEnd(we),!1):k>qe[f]?void(we[f]?me=qe[f]:z[f]-k<k-qe[f]?P.insRightOf(ue):P.insAtRightEnd(we)):(we.seek(k,P),!1)})},U.numBlocks=function(){var k=this.htmlTemplate.match(/&\d+/g);return k?k.length:0},U.html=function(){var k=this,P=k.blocks,K=" mathquill-command-id="+k.id,ue=k.htmlTemplate.match(/<[^<>]+>|[^<>]+/g);w("no unmatched angle brackets",ue.join("")===this.htmlTemplate);for(var z=0,me=ue[0];me;z+=1,me=ue[z])if(me.slice(-2)==="/>")ue[z]=me.slice(0,-2)+K+' aria-hidden="true"/>';else if(me.charAt(0)==="<"){w("not an unmatched top-level close tag",me.charAt(1)!=="/"),ue[z]=me.slice(0,-1)+K+' aria-hidden="true">';var we=1;do z+=1,me=ue[z],w("no missing close tags",me),me.slice(0,2)==="</"?we-=1:me.charAt(0)==="<"&&me.slice(-2)!=="/>"&&(we+=1);while(we>0)}return ue.join("").replace(/>&(\d+)/g,function(qe,Ge){return" mathquill-block-id="+P[Ge].id+' aria-hidden="true">'+P[Ge].join("html")})},U.latex=function(){return this.foldChildren(this.ctrlSeq,function(k,P){return k+"{"+(P.latex()||" ")+"}"})},U.textTemplate=[""],U.text=function(){var k=this,P=0;return k.foldChildren(k.textTemplate[P],function(K,ue){P+=1;var z=ue.text();return K&&k.textTemplate[P]==="("&&z[0]==="("&&z.slice(-1)===")"?K+z.slice(1,-1)+k.textTemplate[P]:K+z+(k.textTemplate[P]||"")})},U.mathspeakTemplate=[],U.mathspeak=function(){var k=this,P=0;return k.foldChildren(k.mathspeakTemplate[P]||"Start"+k.ctrlSeq+" ",function(K,ue){return P+=1,K+" "+ue.mathspeak()+" "+(k.mathspeakTemplate[P]+" "||"End"+k.ctrlSeq+" ")})}}),I=E(se,function(U,Z){U.init=function(k,P,K,ue){!K&&k&&(K=k.replace(/^\\/,"")),this.mathspeakName=ue||K,Z.init.call(this,k,P,[K])},U.parser=function(){return de.succeed(this)},U.numBlocks=function(){return 0},U.replaces=function(k){k.remove()},U.createBlocks=B,U.moveTowards=function(k,P){P.jQ.insDirOf(k,this.jQ),P[-k]=this,P[k]=this[k],ye.queue(this)},U.deleteTowards=function(k,P){P[k]=this.remove()[k]},U.seek=function(k,P){k-this.jQ.offset().left<this.jQ.outerWidth()/2?P.insLeftOf(this):P.insRightOf(this)},U.latex=function(){return this.ctrlSeq},U.text=function(){return this.textTemplate.join("")},U.mathspeak=function(){return this.mathspeakName},U.placeCursor=B,U.isEmpty=function(){return!0}}),ne=E(I,function(U,Z){U.init=function(k,P,K){Z.init.call(this,k,"<span>"+(P||k)+"</span>",r,K)}}),pe=E(I,function(U,Z){U.init=function(k,P,K,ue){Z.init.call(this,k,'<span class="dcg-mq-binary-operator">'+P+"</span>",K,ue)}}),ge=E(Fe,function(U,Z){U.join=function(k){return this.foldChildren("",function(P,K){return P+K[k]()})},U.html=function(){return this.join("html")},U.latex=function(){return this.join("latex")},U.text=function(){return this.ends[b]===this.ends[f]&&this.ends[b]!==0?this.ends[b].text():this.join("text")},U.mathspeak=function(){var k="",P={};return this.controller&&(P=this.controller.options.autoOperatorNames),this.foldChildren([],function(K,ue){if(ue.isPartOfOperator)k+=ue.mathspeak();else{if(k!==""){if(P!=={}&&P._maxLength>0){var z=P[k.toLowerCase()];typeof z=="string"&&(k=z)}K.push(k+" "),k=""}var me=ue.mathspeak(),we=ue.ctrlSeq;isNaN(we)&&(me=" "+me,we!=="."&&(me+=" ")),K.push(me)}return K}).join("").replace(/ +(?= )/g,"")},U.ariaLabel="block",U.keystroke=function(k,P,K){return!K.options.spaceBehavesLikeTab||k!=="Spacebar"&&k!=="Shift-Spacebar"?Z.keystroke.apply(this,arguments):(P.preventDefault(),void K.escapeDir(k==="Shift-Spacebar"?b:f,k,P))},U.moveOutOf=function(k,P,K){K&&this.parent[K+"Into"]||!this[k]?(P.insDirOf(k,this.parent),ye.queueDirOf(k).queue(this.parent)):(P.insAtDirEnd(-k,this[k]),ye.queueDirEndOf(-k).queue(P.parent,!0))},U.selectOutOf=function(k,P){P.insDirOf(k,this.parent)},U.deleteOutOf=function(k,P){P.unwrapGramp()},U.seek=function(k,P){var K=this.ends[f];if(!K||K.jQ.offset().left+K.jQ.outerWidth()<k)return P.insAtRightEnd(this);if(k<this.ends[b].jQ.offset().left)return P.insAtLeftEnd(this);for(;k<K.jQ.offset().left;)K=K[b];return K.seek(k,P)},U.chToCmd=function(k,P){var K;return k.match(/^[a-eg-zA-Z]$/)?T(k):/^\d$/.test(k)?ve(k):P&&P.typingSlashWritesDivisionSymbol&&k==="/"?M[""](k):P&&P.typingAsteriskWritesTimesSymbol&&k==="*"?M[""](k):P&&P.typingPercentWritesPercentOf&&k==="%"?M.percentof(k):(K=D[k]||M[k])?K(k):ne(k)},U.write=function(k,P){var K=this.chToCmd(P,k.options);k.selection&&K.replaces(k.replaceSelection()),K.createLeftOf(k.show()),P==="/"?ye.alert("over"):ye.alert(K.mathspeak({createdLeftOf:k}))},U.focus=function(){return this.jQ.addClass("dcg-mq-hasCursor"),this.jQ.removeClass("dcg-mq-empty"),this},U.blur=function(){return this.jQ.removeClass("dcg-mq-hasCursor"),this.isEmpty()&&(this.jQ.addClass("dcg-mq-empty"),this.isEmptyParens()&&this.jQ.addClass("dcg-mq-empty-parens")),this}});re.StaticMath=function(U){return E(U.AbstractMathQuill,function(Z,k){this.RootBlock=ge,Z.__mathquillify=function(P,K){return this.config(P),k.__mathquillify.call(this,"dcg-mq-math-mode"),this.__controller.delegateMouseEvents(),this.__controller.staticMathTextareaEvents(),this},Z.init=function(){k.init.apply(this,arguments);var P=this.innerFields=[];this.__controller.root.postOrder(function(K){K.registerInnerField(P,U.MathField)})},Z.latex=function(){var P=k.latex.apply(this,arguments);if(arguments.length>0){var K=this.innerFields=[];this.__controller.root.postOrder(function(ue){ue.registerInnerField(K,U.MathField)})}return P},Z.setAriaLabel=function(P){this.__controller.ariaLabel=typeof P=="string"?P:"";var K=this.__controller.ariaLabel!=="Math Input"?this.__controller.ariaLabel+": ":"";return this.__controller.container.attr("aria-label",K+this.__controller.root.mathspeak().trim()),this},Z.getAriaLabel=function(){return this.__controller.ariaLabel||""}})};var Be=E(ge,g);re.MathField=function(U){return E(U.EditableField,function(Z,k){this.RootBlock=Be,Z.__mathquillify=function(P,K){return this.config(P),K>1&&(this.__controller.root.reflow=B),k.__mathquillify.call(this,"dcg-mq-editable-field dcg-mq-math-mode"),delete this.__controller.root.reflow,this}})};var Re=E(I,function(U,Z){U.finalizeTree=U.siblingDeleted=U.siblingCreated=function(k,P){P!==b&&this[f]instanceof Re||this.fixDigitGrouping(k)},U.fixDigitGrouping=function(k){if(k.enableDigitGrouping){var P=this,K=this,ue=0,z=[],me=P;do if(/^[0-9]$/.test(me.ctrlSeq))P=me;else if(me.ctrlSeq==="\\ ")P=me,ue+=1;else{if(me.ctrlSeq!==".")break;P=me,z.push(me)}while(me=P[b]);for(;me=K[f];)if(/^[0-9]$/.test(me.ctrlSeq))K=me;else if(me.ctrlSeq==="\\ ")K=me,ue+=1;else{if(me.ctrlSeq!==".")break;K=me,z.push(me)}for(;K!==P&&P.ctrlSeq==="\\ ";)P=P[f],ue-=1;for(;K!==P&&K.ctrlSeq==="\\ ";)K=K[b],ue-=1;(P!==K||P.ctrlSeq!=="\\ ")&&(ue>0||z.length>1?this.removeGroupingBetween(P,K):z[0]?(z[0]!==P&&this.addGroupingBetween(z[0][b],P),z[0]!==K&&this.removeGroupingBetween(z[0][f],K)):this.addGroupingBetween(K,P))}},U.removeGroupingBetween=function(k,P){var K=k;do if(K.setGroupingClass(r),K===P)break;while(K=K[f])},U.addGroupingBetween=function(k,P){for(var z=k,K=0,ue=0,z=k;z&&(ue+=1,z!==P);)z=z[b];var me=ue%3;me===0&&(me=3);for(var z=k;z;){K+=1;var we=r;if(ue>=4&&(K===ue?we="dcg-mq-group-leading-"+me:K%3==0&&K!==ue&&(we="dcg-mq-group-start"),we||(we="dcg-mq-group-other")),z.setGroupingClass(we),z===P)break;z=z[b]}},U.setGroupingClass=function(k){this._groupingClass!==k&&(this._groupingClass&&this.jQ.removeClass(this._groupingClass),k&&this.jQ.addClass(k),this._groupingClass=k)}}),ve=E(Re,function(U,Z){U.init=function(k,P,K){Z.init.call(this,k,'<span class="dcg-mq-digit">'+(P||k)+"</span>",r,K)},U.createLeftOf=function(k){k.options.autoSubscriptNumerals&&k.parent!==k.parent.parent.sub&&(k[b]instanceof ke&&k[b].isItalic!==!1||k[b]instanceof rt&&k[b][b]instanceof ke&&k[b][b].isItalic!==!1)?(M._().createLeftOf(k),Z.createLeftOf.call(this,k),k.insRightOf(k.parent.parent)):Z.createLeftOf.call(this,k)},U.mathspeak=function(k){if(k&&k.createdLeftOf){var P=k.createdLeftOf;if(P.options.autoSubscriptNumerals&&P.parent!==P.parent.parent.sub&&(P[b]instanceof ke&&P[b].isItalic!==!1||P[b]instanceof rt&&P[b][b]instanceof ke&&P[b][b].isItalic!==!1))return"Subscript "+Z.mathspeak.call(this)+" Baseline"}return Z.mathspeak.apply(this,arguments)}}),ke=E(I,function(U,Z){U.init=function(k,P){Z.init.call(this,k,"<var>"+(P||k)+"</var>")},U.text=function(){var k=this.ctrlSeq;return this.isPartOfOperator?k[0]=="\\"?k=k.slice(1,k.length):k[k.length-1]==" "&&(k=k.slice(0,-1)):(!this[b]||this[b]instanceof ke||this[b]instanceof pe||this[b].ctrlSeq==="\\ "||(k="*"+k),!this[f]||this[f]instanceof pe||this[f]instanceof rt||(k+="*")),k},U.mathspeak=function(){var k=this.ctrlSeq;return this.isPartOfOperator||k.length!==1?Z.mathspeak.call(this):'"'+k+'"'}});Y.p.autoCommands={_maxLength:0},O.autoCommands=function(U){if(!/^[a-z]+(?: [a-z]+)*$/i.test(U))throw'"'+U+'" not a space-delimited list of only letters';for(var Z=U.split(" "),k={},P=0,K=0;K<Z.length;K+=1){var ue=Z[K];if(ue.length<2)throw'autocommand "'+ue+'" not minimum length of 2';if(M[ue]===bt)throw'"'+ue+'" is a built-in operator name';k[ue]=1,P=v(P,ue.length)}return k._maxLength=P,k},Y.p.autoParenthesizedFunctions={_maxLength:0},O.autoParenthesizedFunctions=function(U){if(!/^[a-z]+(?: [a-z]+)*$/i.test(U))throw'"'+U+'" not a space-delimited list of only letters';for(var Z=U.split(" "),k={},P=0,K=0;K<Z.length;K+=1){var ue=Z[K];if(ue.length<2)throw'autocommand "'+ue+'" not minimum length of 2';k[ue]=1,P=v(P,ue.length)}return k._maxLength=P,k};var T=E(ke,function(U,Z){function k(P){return!P||P.ctrlSeq==="."||P instanceof pe||P instanceof Ct}U.init=function(P){return Z.init.call(this,this.letter=P)},U.checkAutoCmds=function(P){var K=P.options.autoCommands,ue=K._maxLength;if(ue>0){for(var z="",me=this,we=0;me instanceof T&&me.ctrlSeq===me.letter&&we<ue;)z=me.letter+z,me=me[b],we+=1;for(;z.length;){if(K.hasOwnProperty(z)){for(var we=1,me=this;we<z.length;we+=1,me=me[b]);return L(me,this).remove(),P[b]=me[b],M[z](z).createLeftOf(P)}z=z.slice(1)}}},U.autoParenthesize=function(P){var K=P.parent.ends[f];if(!(K&&K instanceof dt&&K.ctrlSeq==="\\left("||this.isParentSimpleSubscript())){for(var ue="",z=this,me=0,we=P.options.autoParenthesizedFunctions,qe=we._maxLength,Ge=P.options.autoOperatorNames;z instanceof T&&me<qe;)ue=z.letter+ue,z=z[b],me+=1;for(;ue.length;){if(we.hasOwnProperty(ue)&&Ge.hasOwnProperty(ue))return P.parent.write(P,"(");ue=ue.slice(1)}}},U.createLeftOf=function(P){Z.createLeftOf.apply(this,arguments),this.checkAutoCmds(P),this.autoParenthesize(P)},U.italicize=function(P){return this.isItalic=P,this.isPartOfOperator=!P,this.jQ.toggleClass("dcg-mq-operator-name",!P),this},U.finalizeTree=U.siblingDeleted=U.siblingCreated=function(P,K){K!==b&&this[f]instanceof T||this.autoUnItalicize(P)},U.autoUnItalicize=function(P){var K=P.autoOperatorNames;if(K._maxLength!==0&&!this.isParentSimpleSubscript()){for(var ue=this.letter,z=this[b];z instanceof T;z=z[b])ue=z.letter+ue;for(var me=this[f];me instanceof T;me=me[f])ue+=me.letter;L(z[f]||this.parent.ends[b],me[b]||this.parent.ends[f]).each(function(Lt){Lt.italicize(!0).jQ.removeClass("dcg-mq-first dcg-mq-last dcg-mq-followed-by-supsub"),Lt.ctrlSeq=Lt.letter});e:for(var we=0,qe=z[f]||this.parent.ends[b];we<ue.length;we+=1,qe=qe[f])for(var Ge=y(K._maxLength,ue.length-we);Ge>0;Ge-=1){var $e=ue.slice(we,we+Ge);if(K.hasOwnProperty($e)){for(var it=0,ot=qe;it<Ge;it+=1,ot=ot[f]){ot.italicize(!1);var ct=ot}var St=Ie.hasOwnProperty($e);if(qe.ctrlSeq=(St?"\\":"\\operatorname{")+qe.ctrlSeq,ct.ctrlSeq+=St?" ":"}",Ye.hasOwnProperty($e)&&ct[b][b][b].jQ.addClass("dcg-mq-last"),k(qe[b])||qe.jQ.addClass("dcg-mq-first"),!k(ct[f]))if(ct[f]instanceof rt){var Bt=ct[f],qt=Bt.siblingCreated=Bt.siblingDeleted=function(){Bt.jQ.toggleClass("dcg-mq-after-operator-name",!(Bt[f]instanceof dt))};qt()}else ct.jQ.toggleClass("dcg-mq-last",!(ct[f]instanceof dt));we+=Ge-1,qe=ct;continue e}}}}}),Ie={},Ke=Y.p.autoOperatorNames={_maxLength:9},Ye={limsup:1,liminf:1,projlim:1,injlim:1};(function(){for(var U="arg deg det dim exp gcd hom inf ker lg lim ln log max min sup limsup liminf injlim projlim Pr".split(" "),Z=0;Z<U.length;Z+=1)Ie[U[Z]]=Ke[U[Z]]=1;for(var k="sin cos tan arcsin arccos arctan sinh cosh tanh sec csc cot coth".split(" "),Z=0;Z<k.length;Z+=1)Ie[k[Z]]=1;for(var P="sin cos tan sec cosec csc cotan cot ctg".split(" "),Z=0;Z<P.length;Z+=1)Ke[P[Z]]=Ke["arc"+P[Z]]=Ke[P[Z]+"h"]=Ke["ar"+P[Z]+"h"]=Ke["arc"+P[Z]+"h"]=1;for(var K="gcf hcf lcm proj span".split(" "),Z=0;Z<K.length;Z+=1)Ke[K[Z]]=1})(),O.autoOperatorNames=function(U){if(typeof U!="string")throw'"'+U+'" not a space-delimited list';if(!/^[a-z\|\-]+(?: [a-z\|\-]+)*$/i.test(U))throw'"'+U+'" not a space-delimited list of letters or "|"';for(var Z=U.split(" "),k={},P=0,K=0;K<Z.length;K+=1){var ue=Z[K];if(ue.length<2)throw'"'+ue+'" not minimum length of 2';if(ue.indexOf("|")<0)k[ue]=ue,P=v(P,ue.length);else{var z=ue.split("|");if(z.length>2)throw'"'+ue+'" has more than 1 mathspeak delimiter';if(z[0].length<2)throw'"'+ue[0]+'" not minimum length of 2';k[z[0]]=z[1].replace(/-/g," "),P=v(P,z[0].length)}}return k._maxLength=P,k};var bt=E(I,function(U,Z){U.init=function(k){this.ctrlSeq=k},U.createLeftOf=function(k){for(var P=this.ctrlSeq,K=0;K<P.length;K+=1)T(P.charAt(K)).createLeftOf(k)},U.parser=function(){for(var k=this.ctrlSeq,P=ge(),K=0;K<k.length;K+=1)T(k.charAt(K)).adopt(P,P.ends[f],0);return de.succeed(P.children())}});for(var le in Ke)Ke.hasOwnProperty(le)&&(M[le]=bt);M.operatorname=E(se,function(U){U.createLeftOf=B,U.numBlocks=function(){return 1},U.parser=function(){return _e.block.map(function(Z){var k=!0,P="",K=Z.children();return K.each(function(ue){ue instanceof T?P+=ue.letter:k=!1}),k&&P==="ans"?M[P](P):K})}}),M.f=E(T,function(U,Z){U.init=function(){I.p.init.call(this,this.letter="f",'<var class="dcg-mq-f">f</var>')},U.italicize=function(k){return this.jQ.html("f").toggleClass("dcg-mq-f",k),Z.italicize.apply(this,arguments)}}),M[" "]=M.space=E(Re,function(U,Z){U.init=function(){Z.init.call(this,"\\ ","<span>&nbsp;</span>"," ")}}),M["."]=E(Re,function(U,Z){U.init=function(){Z.init.call(this,".",'<span class="dcg-mq-digit">.</span>',".")}}),M["'"]=M.prime=u(ne,"'","&prime;","prime"),M[""]=M.dprime=u(ne,"","&Prime;","double prime"),M.backslash=u(ne,"\\backslash ","\\","backslash"),D["\\"]||(D["\\"]=M.backslash),M.$=u(ne,"\\$","$","dollar"),M.square=u(ne,"\\square ","","square"),M.mid=u(ne,"\\mid ","","mid");var Te=E(I,function(U,Z){U.init=function(k,P){Z.init.call(this,k,'<span class="dcg-mq-nonSymbola">'+(P||k)+"</span>")}});M["@"]=Te,M["&"]=u(Te,"\\&","&amp;","and"),M["%"]=E(Te,function(U,Z){U.init=function(){Z.init.call(this,"\\%","%","percent")},U.parser=function(){var k=de.optWhitespace,P=de.string;return k.then(P("\\operatorname{of}").map(function(){return M.percentof()})).or(Z.parser.call(this))}}),M[""]=M.parallel=u(ne,"\\parallel ","&#x2225;","parallel"),M[""]=M.nparallel=u(ne,"\\nparallel ","&#x2226;","not parallel"),M[""]=M.perp=u(ne,"\\perp ","&#x27C2;","perpendicular"),M.alpha=M.beta=M.gamma=M.delta=M.zeta=M.eta=M.theta=M.iota=M.kappa=M.mu=M.nu=M.xi=M.rho=M.sigma=M.tau=M.chi=M.psi=M.omega=E(ke,function(U,Z){U.init=function(k){Z.init.call(this,"\\"+k+" ","&"+k+";")}}),M.phi=u(ke,"\\phi ","&#981;","phi"),M.phiv=M.varphi=u(ke,"\\varphi ","&phi;","phi"),M.epsilon=u(ke,"\\epsilon ","&#1013;","epsilon"),M.epsiv=M.varepsilon=u(ke,"\\varepsilon ","&epsilon;","epsilon"),M.piv=M.varpi=u(ke,"\\varpi ","&piv;","piv"),M.sigmaf=M.sigmav=M.varsigma=u(ke,"\\varsigma ","&sigmaf;","sigma"),M.thetav=M.vartheta=M.thetasym=u(ke,"\\vartheta ","&thetasym;","theta"),M.upsilon=M.upsi=u(ke,"\\upsilon ","&upsilon;","upsilon"),M.gammad=M.Gammad=M.digamma=u(ke,"\\digamma ","&#989;","gamma"),M.kappav=M.varkappa=u(ke,"\\varkappa ","&#1008;","kappa"),M.rhov=M.varrho=u(ke,"\\varrho ","&#1009;","rho"),M.pi=M.=u(Te,"\\pi ","&pi;","pi"),M.lambda=u(Te,"\\lambda ","&lambda;","lambda"),M.Upsilon=M.Upsi=M.upsih=M.Upsih=u(I,"\\Upsilon ",'<var style="font-family: serif">&upsih;</var>',"capital upsilon"),M.Gamma=M.Delta=M.Theta=M.Lambda=M.Xi=M.Pi=M.Sigma=M.Phi=M.Psi=M.Omega=M.forall=E(ne,function(U,Z){U.init=function(k){Z.init.call(this,"\\"+k+" ","&"+k+";")}});var Ce=E(se,function(U){U.init=function(Z){this.latex=Z},U.createLeftOf=function(Z){var k=_e.parse(this.latex);k.children().adopt(Z.parent,Z[b],Z[f]),Z[b]=k.ends[f],k.jQize().insertBefore(Z.jQ),k.finalizeInsert(Z.options,Z),k.ends[f][f].siblingCreated&&k.ends[f][f].siblingCreated(Z.options,b),k.ends[b][b].siblingCreated&&k.ends[b][b].siblingCreated(Z.options,f),Z.parent.bubble(function(P){P.reflow()})},U.mathspeak=function(){return _e.parse(this.latex).mathspeak()},U.parser=function(){var Z=_e.parse(this.latex).children();return de.succeed(Z)}});M[""]=u(Ce,"^0"),M[""]=u(Ce,"^1"),M[""]=u(Ce,"^2"),M[""]=u(Ce,"^3"),M[""]=u(Ce,"^4"),M[""]=u(Ce,"^5"),M[""]=u(Ce,"^6"),M[""]=u(Ce,"^7"),M[""]=u(Ce,"^8"),M[""]=u(Ce,"^9"),M[""]=u(Ce,"\\frac14"),M[""]=u(Ce,"\\frac12"),M[""]=u(Ce,"\\frac34"),M[""]=u(Ce,"\\sqrt{}");var xe=E(pe,function(U){U.init=ne.prototype.init,U.contactWeld=U.siblingCreated=U.siblingDeleted=function(Z,k){function P(K){return K[b]?K[b]instanceof pe||/^(\\ )|[,;:\(\[]$/.test(K[b].ctrlSeq)?"":"dcg-mq-binary-operator":K.parent&&K.parent.parent&&K.parent.parent.isStyleBlock()?P(K.parent.parent):""}if(k!==f)return this.jQ[0].className=P(this),this}});M["+"]=u(xe,"+","+","plus"),M[""]=M[""]=M[""]=M["-"]=u(xe,"-","&minus;","minus"),M[""]=M.pm=M.plusmn=M.plusminus=u(xe,"\\pm ","&plusmn;","plus-or-minus"),M.mp=M.mnplus=M.minusplus=u(xe,"\\mp ","&#8723;","minus-or-plus"),D["*"]=M.sdot=M.cdot=u(pe,"\\cdot ","&middot;","*","times");var Qe=E(pe,function(U,Z){U.init=function(k,P){this.data=k,this.strict=P;var K=P?"Strict":"";Z.init.call(this,k["ctrlSeq"+K],k["html"+K],k["text"+K],k["mathspeak"+K])},U.swap=function(k){this.strict=k;var P=k?"Strict":"";this.ctrlSeq=this.data["ctrlSeq"+P],this.jQ.html(this.data["html"+P]),this.textTemplate=[this.data["text"+P]],this.mathspeakName=this.data["mathspeak"+P]},U.deleteTowards=function(k,P){if(k===b&&!this.strict)return this.swap(!0),void this.bubble(function(K){K.reflow()});Z.deleteTowards.apply(this,arguments)}}),je={ctrlSeq:"\\le ",html:"&le;",text:"",mathspeak:"less than or equal to",ctrlSeqStrict:"<",htmlStrict:"&lt;",textStrict:"<",mathspeakStrict:"less than"},be={ctrlSeq:"\\ge ",html:"&ge;",text:"",mathspeak:"greater than or equal to",ctrlSeqStrict:">",htmlStrict:"&gt;",textStrict:">",mathspeakStrict:"greater than"};M["<"]=M.lt=u(Qe,je,!0),M[">"]=M.gt=u(Qe,be,!0),M[""]=M.le=M.leq=u(Qe,je,!1),M[""]=M.ge=M.geq=u(Qe,be,!1),M.infty=M.infin=M.infinity=u(ne,"\\infty ","&infin;","infinity"),M[""]=M.ne=M.neq=u(pe,"\\ne ","&ne;","not equal");var Me=E(pe,function(U,Z){U.init=function(){Z.init.call(this,"=","=","=","equals")},U.createLeftOf=function(k){if(k[b]instanceof Qe&&k[b].strict)return k[b].swap(!1),void k[b].bubble(function(P){P.reflow()});Z.createLeftOf.apply(this,arguments)}});M["="]=Me,M[""]=M.times=u(pe,"\\times ","&times;","[x]","times"),M[""]=M.div=M.divide=M.divides=u(pe,"\\div ","&divide;","[/]","over");var De=E(pe,function(U,Z){U.init=function(){Z.init.call(this,"\\sim ","~","~","tilde")},U.createLeftOf=function(k){if(k[b]instanceof De){var P=k[b];return k[b]=P[b],P.remove(),Pe().createLeftOf(k),void k[b].bubble(function(K){K.reflow()})}Z.createLeftOf.apply(this,arguments)}}),Pe=E(pe,function(U,Z){U.init=function(){Z.init.call(this,"\\approx ","&approx;","","approximately equal")},U.deleteTowards=function(k,P){if(k===b){var K=P[b];return L(K,this).remove(),P[b]=K[b],De().createLeftOf(P),void P[b].bubble(function(ue){ue.reflow()})}Z.deleteTowards.apply(this,arguments)}});D["~"]=M.sim=De,M[""]=M.approx=Pe;var He={sqrt:{html:'<svg preserveAspectRatio="none" viewBox="0 0 32 54"><path d="M0 33 L7 27 L12.5 47 L13 47 L30 0 L32 0 L13 54 L11 54 L4.5 31 L0 33" /></svg>'},"|":{width:".4em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M4.4 0 L4.4 54 L5.6 54 L5.6 0" /></svg>'},"[":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 11 24"><path d="M8 0 L3 0 L3 24 L8 24 L8 23 L4 23 L4 1 L8 1" /></svg>'},"]":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 11 24"><path d="M3 0 L8 0 L8 24 L3 24 L3 23 L7 23 L7 1 L3 1" /></svg>'},"(":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="3 0 106 186"><path d="M85 0 A61 101 0 0 0 85 186 L75 186 A75 101 0 0 1 75 0" /></svg>'},")":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="3 0 106 186"><path d="M24 0 A61 101 0 0 1 24 186 L34 186 A75 101 0 0 0 34 0" /></svg>'},"{":{width:".7em",html:'<svg preserveAspectRatio="none" viewBox="10 0 210 350"><path d="M170 0 L170 6 A47 52 0 0 0 123 60 L123 127 A35 48 0 0 1 88 175 A35 48 0 0 1 123 223 L123 290 A47 52 0 0 0 170 344 L170 350 L160 350 A58 49 0 0 1 102 301 L103 220 A45 40 0 0 0 58 180 L58 170 A45 40 0 0 0 103 130 L103 49 A58 49 0 0 1 161 0" /></svg>'},"}":{width:".7em",html:'<svg preserveAspectRatio="none" viewBox="10 0 210 350"><path d="M60 0 L60 6 A47 52 0 0 1 107 60 L107 127 A35 48 0 0 0 142 175 A35 48 0 0 0 107 223 L107 290 A47 52 0 0 1 60 344 L60 350 L70 350 A58 49 0 0 0 128 301 L127 220 A45 40 0 0 1 172 180 L172 170 A45 40 0 0 1 127 130 L127 49 A58 49 0 0 0 70 0" /></svg>'},"&#8741;":{width:".7em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M3.2 0 L3.2 54 L4 54 L4 0 M6.8 0 L6.8 54 L6 54 L6 0" /></svg>'},"&lang;":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M6.8 0 L3.2 27 L6.8 54 L7.8 54 L4.2 27 L7.8 0" /></svg>'},"&rang;":{width:".55em",html:'<svg preserveAspectRatio="none" viewBox="0 0 10 54"><path d="M3.2 0 L6.8 27 L3.2 54 L2.2 54 L5.8 27 L2.2 0" /></svg>'}},Ze=E(se,function(U,Z){U.init=function(k,P,K,ue){Z.init.call(this,k,"<"+P+" "+K+">&0</"+P+">"),U.ariaLabel=ue||k.replace(/^\\/,""),U.mathspeakTemplate=["Start"+U.ariaLabel+",","End"+U.ariaLabel]}});M.mathrm=u(Ze,"\\mathrm","span",'class="dcg-mq-roman dcg-mq-font"',"Roman Font"),M.mathit=u(Ze,"\\mathit","i",'class="dcg-mq-font"',"Italic Font"),M.mathbf=u(Ze,"\\mathbf","b",'class="dcg-mq-font"',"Bold Font"),M.mathsf=u(Ze,"\\mathsf","span",'class="dcg-mq-sans-serif dcg-mq-font"',"Serif Font"),M.mathtt=u(Ze,"\\mathtt","span",'class="dcg-mq-monospace dcg-mq-font"',"Math Text"),M.underline=u(Ze,"\\underline","span",'class="dcg-mq-non-leaf dcg-mq-underline"',"Underline"),M.overline=M.bar=u(Ze,"\\overline","span",'class="dcg-mq-non-leaf dcg-mq-overline"',"Overline"),M.overrightarrow=u(Ze,"\\overrightarrow","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-right"',"Over Right Arrow"),M.overleftarrow=u(Ze,"\\overleftarrow","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-left"',"Over Left Arrow"),M.overleftrightarrow=u(Ze,"\\overleftrightarrow ","span",'class="dcg-mq-non-leaf dcg-mq-overarrow dcg-mq-arrow-leftright"',"Over Left and Right Arrow"),M.overarc=u(Ze,"\\overarc","span",'class="dcg-mq-non-leaf dcg-mq-overarc"',"Over Arc");var rt=(M.textcolor=E(se,function(U,Z){U.setColor=function(k){this.color=k,this.htmlTemplate='<span class="dcg-mq-textcolor" style="color:'+k+'">&0</span>'},U.latex=function(){return"\\textcolor{"+this.color+"}{"+this.blocks[0].latex()+"}"},U.parser=function(){var k=this,P=de.optWhitespace,K=de.string,ue=de.regex;return P.then(K("{")).then(ue(/^[#\w\s.,()%-]*/)).skip(K("}")).then(function(z){return k.setColor(z),Z.parser.call(k)})},U.isStyleBlock=function(){return!0}}),M.class=E(se,function(U,Z){U.parser=function(){var k=this,P=de.string,K=de.regex;return de.optWhitespace.then(P("{")).then(K(/^[-\w\s\\\xA0-\xFF]*/)).skip(P("}")).then(function(ue){return k.cls=ue||"",k.htmlTemplate='<span class="dcg-mq-class '+ue+'">&0</span>',Z.parser.call(k)})},U.latex=function(){return"\\class{"+this.cls+"}{"+this.blocks[0].latex()+"}"},U.isStyleBlock=function(){return!0}}),E(se,function(U,Z){U.ctrlSeq="_{...}^{...}",U.createLeftOf=function(k){if(this.replacedFragment||k[b]||!k.options.supSubsRequireOperand)return Z.createLeftOf.apply(this,arguments)},U.contactWeld=function(k){for(var P=b;P;P=P===b&&f)if(this[P]instanceof rt){for(var K="sub";K;K=K==="sub"&&"sup"){var ue=this[K],z=this[P][K];if(ue){if(z)if(ue.isEmpty())var me=j(z,0,z.ends[b]);else{ue.jQ.children().insAtDirEnd(-P,z.jQ);var we=ue.children().disown(),me=j(z,we.ends[f],z.ends[b]);P===b?we.adopt(z,z.ends[f],0):we.adopt(z,0,z.ends[b])}else this[P].addBlock(ue.disown());this.placeCursor=function(qe,Ge){return function($e){$e.insAtDirEnd(-P,qe||Ge)}}(z,ue)}}this.remove(),k&&k[b]===this&&(P===f&&me?me[b]?k.insRightOf(me[b]):k.insAtLeftEnd(me.parent):k.insRightOf(this[P]));break}},Y.p.charsThatBreakOutOfSupSub="",U.finalizeTree=function(){this.ends[b].write=function(k,P){if(k.options.autoSubscriptNumerals&&this===this.parent.sub){if(P==="_")return;var K=this.chToCmd(P,k.options);return K instanceof I?k.deleteSelection():k.clearSelection().insRightOf(this.parent),K.createLeftOf(k.show()),void ye.queue("Baseline").alert(K.mathspeak({createdLeftOf:k}))}k[b]&&!k[f]&&!k.selection&&k.options.charsThatBreakOutOfSupSub.indexOf(P)>-1&&(k.insRightOf(this.parent),ye.queue("Baseline")),ge.p.write.apply(this,arguments)}},U.moveTowards=function(k,P,K){P.options.autoSubscriptNumerals&&!this.sup?P.insDirOf(k,this):Z.moveTowards.apply(this,arguments)},U.deleteTowards=function(k,P){if(P.options.autoSubscriptNumerals&&this.sub){var K=this.sub.ends[-k];K instanceof I?K.remove():K&&K.deleteTowards(k,P.insAtDirEnd(-k,this.sub)),this.sub.isEmpty()&&(this.sub.deleteOutOf(b,P.insAtLeftEnd(this.sub)),this.sup&&P.insDirOf(-k,this))}else Z.deleteTowards.apply(this,arguments)},U.latex=function(){function k(P,K){var ue=K&&K.latex();return K?P+"{"+(ue||" ")+"}":""}return k("_",this.sub)+k("^",this.sup)},U.addBlock=function(k){this.supsub==="sub"?(this.sup=this.upInto=this.sub.upOutOf=k,k.adopt(this,this.sub,0).downOutOf=this.sub,k.jQ=S('<span class="dcg-mq-sup"/>').append(k.jQ.children()).prependTo(this.jQ),q.linkElementByBlockNode(k.jQ[0],k)):(this.sub=this.downInto=this.sup.downOutOf=k,k.adopt(this,0,this.sup).upOutOf=this.sup,k.jQ=S('<span class="dcg-mq-sub"></span>').append(k.jQ.children()).appendTo(this.jQ.removeClass("dcg-mq-sup-only")),q.linkElementByBlockNode(k.jQ[0],k),this.jQ.append('<span style="display:inline-block;width:0">&#8203;</span>'));for(var P=0;P<2;P+=1)(function(K,ue,z,me){K[ue].deleteOutOf=function(we,qe){if(qe.insDirOf(this[we]?-we:we,this.parent),!this.isEmpty()){var Ge=this.ends[we];this.children().disown().withDirAdopt(we,qe.parent,qe[we],qe[-we]).jQ.insDirOf(-we,qe.jQ),qe[-we]=Ge}K.supsub=z,delete K[ue],delete K[me+"Into"],K[z][me+"OutOf"]=d,delete K[z].deleteOutOf,ue==="sub"&&S(K.jQ.addClass("dcg-mq-sup-only")[0].lastChild).remove(),this.remove()}})(this,"sub sup".split(" ")[P],"sup sub".split(" ")[P],"down up".split(" ")[P])}}));M.subscript=M._=E(rt,function(U,Z){U.supsub="sub",U.htmlTemplate='<span class="dcg-mq-supsub dcg-mq-non-leaf"><span class="dcg-mq-sub">&0</span><span style="display:inline-block;width:0">&#8203;</span></span>',U.textTemplate=["_"],U.mathspeakTemplate=["Subscript,",", Baseline"],U.ariaLabel="subscript",U.finalizeTree=function(){this.downInto=this.sub=this.ends[b],this.sub.upOutOf=d,Z.finalizeTree.call(this)}}),M.superscript=M.supscript=M["^"]=E(rt,function(U,Z){U.supsub="sup",U.htmlTemplate='<span class="dcg-mq-supsub dcg-mq-non-leaf dcg-mq-sup-only"><span class="dcg-mq-sup">&0</span></span>',U.textTemplate=["^"],U.mathspeakTemplate=["Superscript,",", Baseline"],U.ariaLabel="superscript",U.finalizeTree=function(){this.upInto=this.sup=this.ends[f],this.sup.downOutOf=d,Z.finalizeTree.call(this)}});var Ct=E(se,function(U,Z){U.init=function(k,P,K){U.ariaLabel=K||ctrlSeq.replace(/^\\/,"");var ue='<span class="dcg-mq-large-operator dcg-mq-non-leaf"><span class="dcg-mq-to"><span>&1</span></span><big>'+P+'</big><span class="dcg-mq-from"><span>&0</span></span></span>';I.prototype.init.call(this,k,ue)},U.createLeftOf=function(k){Z.createLeftOf.apply(this,arguments),k.options.sumStartsWithNEquals&&(T("n").createLeftOf(k),Me().createLeftOf(k))},U.latex=function(){function k(P){return"{"+(P||" ")+"}"}return this.ctrlSeq+"_"+k(this.ends[b].latex())+"^"+k(this.ends[f].latex())},U.mathspeak=function(){return"Start "+this.ariaLabel+" from "+this.ends[b].mathspeak()+" to "+this.ends[f].mathspeak()+", end "+this.ariaLabel+", "},U.parser=function(){for(var k=de.string,P=de.optWhitespace,K=de.succeed,ue=_e.block,z=this,me=z.blocks=[ge(),ge()],we=0;we<me.length;we+=1)me[we].adopt(z,z.ends[f],0);return P.then(k("_").or(k("^"))).then(function(qe){var Ge=me[qe==="_"?0:1];return ue.then(function($e){return $e.children().adopt(Ge,Ge.ends[f],0),K(z)})}).many().result(z)},U.finalizeTree=function(){this.ends[b].ariaLabel="lower bound",this.ends[f].ariaLabel="upper bound",this.downInto=this.ends[b],this.upInto=this.ends[f],this.ends[b].upOutOf=this.ends[f],this.ends[f].downOutOf=this.ends[b]}});M[""]=M.sum=M.summation=u(Ct,"\\sum ","&sum;","sum"),M[""]=M.prod=M.product=u(Ct,"\\prod ","&prod;","product"),M.coprod=M.coproduct=u(Ct,"\\coprod ","&#8720;","co product"),M[""]=M.int=M.integral=E(Ct,function(U,Z){U.init=function(){U.ariaLabel="integral",I.prototype.init.call(this,"\\int ",'<span class="dcg-mq-int dcg-mq-non-leaf"><big>&int;</big><span class="dcg-mq-supsub dcg-mq-non-leaf"><span class="dcg-mq-sup"><span class="dcg-mq-sup-inner">&1</span></span><span class="dcg-mq-sub">&0</span><span style="display:inline-block;width:0">&#8203</span></span></span>',"integral")},U.createLeftOf=se.p.createLeftOf});var nt=M.frac=M.dfrac=M.cfrac=M.fraction=E(se,function(U,Z){U.ctrlSeq="\\frac",U.htmlTemplate='<span class="dcg-mq-fraction dcg-mq-non-leaf"><span class="dcg-mq-numerator">&0</span><span class="dcg-mq-denominator">&1</span><span style="display:inline-block;width:0">&#8203;</span></span>',U.textTemplate=["(",")/(",")"],U.finalizeTree=function(){this.upInto=this.ends[f].upOutOf=this.ends[b],this.downInto=this.ends[b].downOutOf=this.ends[f],this.ends[b].ariaLabel="numerator",this.ends[f].ariaLabel="denominator",this.getFracDepth()>1?this.mathspeakTemplate=["StartNestedFraction,","NestedOver",", EndNestedFraction"]:this.mathspeakTemplate=["StartFraction,","Over",", EndFraction"]},U.mathspeak=function(k){return k&&k.createdLeftOf?k.createdLeftOf.parent.mathspeak():Z.mathspeak.apply(this,arguments)},U.getFracDepth=function(){var k=function(P,K){return P instanceof q&&P.ctrlSeq&&P.ctrlSeq.toLowerCase().search("frac")>=0&&(K+=1),P.parent?k(P.parent,K):K};return k(this,0)}}),at=M.over=D["/"]=E(nt,function(U,Z){U.createLeftOf=function(k){if(!this.replacedFragment){var P=k[b];if(!k.options.typingSlashCreatesNewFraction)for(;P&&!(P instanceof pe||P instanceof(M.text||B)||P instanceof Ct||P.ctrlSeq==="\\ "||/^[,;:]$/.test(P.ctrlSeq));)P=P[b];P instanceof Ct&&P[f]instanceof rt&&(P=P[f],P[f]instanceof rt&&P[f].ctrlSeq!=P.ctrlSeq&&(P=P[f])),P!==k[b]&&(this.replaces(L(P[f]||k.parent.ends[b],k[b])),k[b]=P)}Z.createLeftOf.call(this,k)}});M.ans=E(I,function(U,Z){U.init=function(k){Z.init.call(this,"\\operatorname{ans}",'<span class="dcg-mq-ans">ans</span>',"ans")}}),M.percent=M.percentof=E(I,function(U,Z){U.init=function(){Z.init.call(this,"\\%\\operatorname{of}",'<span class="dcg-mq-nonSymbola dcg-mq-operator-name">% of </span>',"percent of")}});var Mt=M.sqrt=E(se,function(U,Z){U.ctrlSeq="\\sqrt",U.htmlTemplate='<span class="dcg-mq-non-leaf dcg-mq-sqrt-container"><span class="dcg-mq-scaled dcg-mq-sqrt-prefix">'+He.sqrt.html+'</span><span class="dcg-mq-non-leaf dcg-mq-sqrt-stem">&0</span></span>',U.textTemplate=["sqrt(",")"],U.mathspeakTemplate=["StartRoot,",", EndRoot"],U.ariaLabel="root",U.parser=function(){return _e.optBlock.then(function(k){return _e.block.map(function(P){var K=ht();return K.blocks=[k,P],k.adopt(K,0,0),P.adopt(K,k,0),K})}).or(Z.parser.call(this))}}),ht=(M.hat=E(se,function(U,Z){U.ctrlSeq="\\hat",U.htmlTemplate='<span class="dcg-mq-non-leaf"><span class="dcg-mq-hat-prefix">^</span><span class="dcg-mq-hat-stem">&0</span></span>',U.textTemplate=["hat(",")"]}),M.nthroot=E(Mt,function(U,Z){U.htmlTemplate='<span class="dcg-mq-nthroot-container dcg-mq-non-leaf"><sup class="dcg-mq-nthroot dcg-mq-non-leaf">&0</sup><span class="dcg-mq-scaled dcg-mq-sqrt-container"><span class="dcg-mq-sqrt-prefix dcg-mq-scaled">'+He.sqrt.html+'</span><span class="dcg-mq-sqrt-stem dcg-mq-non-leaf">&1</span></span></span>',U.textTemplate=["sqrt[","](",")"],U.latex=function(){return"\\sqrt["+this.ends[b].latex()+"]{"+this.ends[f].latex()+"}"},U.mathspeak=function(){var k=this.ends[b].mathspeak(),P=this.ends[f].mathspeak();return this.ends[b].ariaLabel="Index",this.ends[f].ariaLabel="Radicand",k==="3"?"Start Cube Root, "+P+", End Cube Root":"Root Index "+k+", Start Root, "+P+", End Root"}})),Qt=(M.cbrt=E(ht,function(U,Z){U.createLeftOf=function(k){Z.createLeftOf.apply(this,arguments),ve("3").createLeftOf(k),k.controller.moveRight()}}),E(se,function(U,Z){U.init=function(k,P,K){var ue='<span class="dcg-mq-non-leaf"><span class="dcg-mq-diacritic-above">'+P+'</span><span class="dcg-mq-diacritic-stem">&0</span></span>';Z.init.call(this,k,ue,K)}}));M.vec=u(Qt,"\\vec","&rarr;",["vec(",")"]),M.tilde=u(Qt,"\\tilde","~",["tilde(",")"]);var dt=E(E(se,i),function(U,Z){U.init=function(k,P,K,ue,z){Z.init.call(this,"\\left"+ue,r,[P,K]),this.side=k,this.sides={},this.sides[b]={ch:P,ctrlSeq:ue},this.sides[f]={ch:K,ctrlSeq:z}},U.numBlocks=function(){return 1},U.html=function(){var k=this.getSymbol(b),P=this.getSymbol(f);return this.htmlTemplate='<span class="dcg-mq-non-leaf dcg-mq-bracket-container"><span style="width:'+k.width+'" class="dcg-mq-scaled dcg-mq-bracket-l dcg-mq-paren'+(this.side===f?" dcg-mq-ghost":"")+'">'+k.html+'</span><span style="margin-left:'+k.width+";margin-right:"+P.width+'" class="dcg-mq-bracket-middle dcg-mq-non-leaf">&0</span><span style="width:'+P.width+'" class="dcg-mq-scaled dcg-mq-bracket-r dcg-mq-paren'+(this.side===b?" dcg-mq-ghost":"")+'">'+P.html+"</span></span>",Z.html.call(this)},U.getSymbol=function(k){return He[this.sides[k||f].ch]||{width:"0",html:""}},U.latex=function(){return"\\left"+this.sides[b].ctrlSeq+this.ends[b].latex()+"\\right"+this.sides[f].ctrlSeq},U.mathspeak=function(k){var P=this.sides[b].ch,K=this.sides[f].ch;if(P==="|"&&K==="|")this.mathspeakTemplate=["StartAbsoluteValue,",", EndAbsoluteValue"],this.ariaLabel="absolute value";else{if(k&&k.createdLeftOf&&this.side){var ue="";return this.side===b?ue=this.textTemplate[0]:this.side===f&&(ue=this.textTemplate[1]),(this.side===b?"left ":"right ")+Dt[ue]}this.mathspeakTemplate=["left "+Dt[P]+",",", right "+Dt[K]],this.ariaLabel=Dt[P]+" block"}return Z.mathspeak.call(this)},U.matchBrack=function(k,P,K){return K instanceof dt&&K.side&&K.side!==-P&&(!k.restrictMismatchedBrackets||Pt[this.sides[this.side].ch]===K.sides[K.side].ch||{"(":"]","[":")"}[this.sides[b].ch]===K.sides[f].ch)&&K},U.closeOpposing=function(k){k.side=0,k.sides[this.side]=this.sides[this.side];var P=k.delimjQs.eq(this.side===b?0:1).removeClass("dcg-mq-ghost");this.replaceBracket(P,this.side)},U.createLeftOf=function(k){if(!this.replacedFragment){var P=k.options;if(this.sides[b].ch==="|")var K=this.matchBrack(P,f,k[f])||this.matchBrack(P,b,k[b])||this.matchBrack(P,0,k.parent.parent);else var K=this.matchBrack(P,-this.side,k[-this.side])||this.matchBrack(P,-this.side,k.parent.parent)}if(K){var ue=this.side=-K.side;this.closeOpposing(K),K===k.parent.parent&&k[ue]&&L(k[ue],k.parent.ends[ue],-ue).disown().withDirAdopt(-ue,K.parent,K,K[ue]).jQ.insDirOf(ue,K.jQ),K.bubble(function(z){z.reflow()})}else K=this,ue=K.side,K.replacedFragment?K.side=0:k[-ue]&&(K.replaces(L(k[-ue],k.parent.ends[-ue],ue)),k[-ue]=0),Z.createLeftOf.call(K,k);ue===b?k.insAtLeftEnd(K.ends[b]):k.insRightOf(K)},U.placeCursor=B,U.unwrap=function(){this.ends[b].children().disown().adopt(this.parent,this,this[f]).jQ.insertAfter(this.jQ),this.remove()},U.deleteSide=function(k,P,K){var ue=this.parent,z=this[k],me=ue.ends[k];if(k===this.side)return this.unwrap(),void(z?K.insDirOf(-k,z):K.insAtDirEnd(k,ue));var we=K.options,qe=!this.side;if(this.side=-k,this.matchBrack(we,k,this.ends[b].ends[this.side])){this.closeOpposing(this.ends[b].ends[this.side]);var Ge=this.ends[b].ends[k];this.unwrap(),Ge.siblingCreated&&Ge.siblingCreated(K.options,k),z?K.insDirOf(-k,z):K.insAtDirEnd(k,ue)}else{if(this.matchBrack(we,k,this.parent.parent))this.parent.parent.closeOpposing(this),this.parent.parent.unwrap();else{if(P&&qe)return this.unwrap(),void(z?K.insDirOf(-k,z):K.insAtDirEnd(k,ue));this.sides[k]={ch:Pt[this.sides[this.side].ch],ctrlSeq:Pt[this.sides[this.side].ctrlSeq]};var $e=this.delimjQs.removeClass("dcg-mq-ghost").eq(k===b?0:1).addClass("dcg-mq-ghost");this.replaceBracket($e,k)}if(z){var Ge=this.ends[b].ends[k];L(z,me,-k).disown().withDirAdopt(-k,this.ends[b],Ge,0).jQ.insAtDirEnd(k,this.ends[b].jQ.removeClass("dcg-mq-empty")),Ge.siblingCreated&&Ge.siblingCreated(K.options,k),K.insDirOf(-k,z)}else P?K.insDirOf(k,this):K.insAtDirEnd(k,this.ends[b])}},U.replaceBracket=function(k,P){var K=this.getSymbol(P);k.html(K.html).css("width",K.width),P===b?k.next().css("margin-left",K.width):k.prev().css("margin-right",K.width)},U.deleteTowards=function(k,P){this.deleteSide(-k,!1,P)},U.finalizeTree=function(){this.ends[b].deleteOutOf=function(k,P){this.parent.deleteSide(k,!0,P)},this.finalizeTree=this.intentionalBlur=function(){this.delimjQs.eq(this.side===b?1:0).removeClass("dcg-mq-ghost"),this.side=0}},U.siblingCreated=function(k,P){P===-this.side&&this.finalizeTree()}}),Pt={"(":")",")":"(","[":"]","]":"[","{":"}","}":"{","\\{":"\\}","\\}":"\\{","&lang;":"&rang;","&rang;":"&lang;","\\langle ":"\\rangle ","\\rangle ":"\\langle ","|":"|","\\lVert ":"\\rVert ","\\rVert ":"\\lVert "},Dt={"&lang;":"angle-bracket","&rang;":"angle-bracket","|":"pipe"};n("(",null,"parenthesis"),n("[",null,"bracket"),n("{","\\{","brace"),M.langle=u(dt,b,"&lang;","&rang;","\\langle ","\\rangle "),M.rangle=u(dt,f,"&lang;","&rang;","\\langle ","\\rangle "),D["|"]=u(dt,b,"|","|","|","|"),M.lVert=u(dt,b,"&#8741;","&#8741;","\\lVert ","\\rVert "),M.rVert=u(dt,f,"&#8741;","&#8741;","\\lVert ","\\rVert "),M.left=E(se,function(U){U.parser=function(){var Z=de.regex,k=de.string,P=(de.succeed,de.optWhitespace);return P.then(Z(/^(?:[([|]|\\\{|\\langle\b|\\lVert\b)/)).then(function(K){var ue=K.replace(/^\\/,"");return K=="\\langle"&&(ue="&lang;",K+=" "),K=="\\lVert"&&(ue="&#8741;",K+=" "),_e.then(function(z){return k("\\right").skip(P).then(Z(/^(?:[\])|]|\\\}|\\rangle\b|\\rVert\b)/)).map(function(me){var we=me.replace(/^\\/,"");me=="\\rangle"&&(we="&rang;",me+=" "),me=="\\rVert"&&(we="&#8741;",me+=" ");var qe=dt(0,ue,we,K,me);return qe.blocks=[z],z.adopt(qe,0,0),qe})})})}}),M.right=E(se,function(U){U.parser=function(){return de.fail("unmatched \\right")}});var Wt=M.binom=M.binomial=E(E(se,i),function(U,Z){var k=He["("],P=He[")"];U.ctrlSeq="\\binom",U.htmlTemplate='<span class="dcg-mq-non-leaf dcg-mq-bracket-container"><span style="width:'+k.width+'" class="dcg-mq-paren dcg-mq-bracket-l dcg-mq-scaled">'+k.html+'</span><span style="margin-left:'+k.width+"; margin-right:"+P.width+';" class="dcg-mq-non-leaf dcg-mq-bracket-middle"><span class="dcg-mq-array dcg-mq-non-leaf"><span>&0</span><span>&1</span></span></span><span style="width:'+P.width+'" class="dcg-mq-paren dcg-mq-bracket-r dcg-mq-scaled">'+P.html+"</span></span>",U.textTemplate=["choose(",",",")"],U.mathspeakTemplate=["StartBinomial,","Choose",", EndBinomial"],U.ariaLabel="binomial"});M.choose=E(Wt,function(U){U.createLeftOf=at.prototype.createLeftOf}),M.editable=M.MathQuillMathField=E(se,function(U,Z){U.ctrlSeq="\\MathQuillMathField",U.htmlTemplate='<span class="dcg-mq-editable-field"><span class="dcg-mq-root-block">&0</span></span>',U.parser=function(){var k=this,P=de.string,K=de.regex,ue=de.succeed;return P("[").then(K(/^[a-z][a-z0-9]*/i)).skip(P("]")).map(function(z){k.name=z}).or(ue()).then(Z.parser.call(k))},U.finalizeTree=function(k){var P=N(this.ends[b],this.jQ,k);P.KIND_OF_MQ="MathField",P.editable=!0,P.createTextarea(),P.editablesTextareaEvents(),P.cursor.insAtRightEnd(P.root),g(P.root)},U.registerInnerField=function(k,P){k.push(k[this.name]=P(this.ends[b].controller))},U.latex=function(){return this.ends[b].latex()},U.text=function(){return this.ends[b].text()}});var nn=M.embed=E(I,function(U,Z){U.setOptions=function(k){function P(){return""}return this.text=k.text||P,this.htmlTemplate=k.htmlString||"",this.latex=k.latex||P,this},U.parser=function(){var k=this,P=de.string,K=de.regex,ue=de.succeed;return P("{").then(K(/^[a-z][a-z0-9]*/i)).skip(P("}")).then(function(z){return P("[").then(K(/^[-\w\s]*/)).skip(P("]")).or(ue()).map(function(me){return k.setOptions(oe[z](me))})})}}),zt=p(1);for(var Nt in zt)(function(U,Z){typeof Z=="function"?(s[U]=function(){return o(),Z.apply(this,arguments)},s[U].prototype=Z.prototype):s[U]=Z})(Nt,zt[Nt])}(),$("mathquill_src",["jquery"],function(){}),$("text",{load:function(B){throw new Error("Dynamic load not allowed: "+B)}}),$("lib/inject-css",["require","underscore"],function(B){function u(t,a){var l=e[t];if(!l){l=document.createElement("style"),e[t]=l;var h=w.sortedIndex(c,t),o=e[c[h]];o?document.head.insertBefore(l,o):document.head.appendChild(l),c.splice(h,0,t)}l.textContent=a}var w=B("underscore"),e={},c=[];return u}),$("vendor/css",{}),$("lib/prefix-css",["require","vendor/css"],function(B){function u(h,o){if(o){var s="."+o;return w(s),e(h,s)}return h}function w(h){if(!/\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*/.test(h))throw new Error("Illegal css selector prefix "+h)}function e(h,o){var s=l.parse(h),p=Object.assign({},s,{stylesheet:c(s.stylesheet,o)});return l.stringify(p)}function c(h,o){return Object.assign({},h,{rules:t(h.rules,o)})}function t(h,o){return h.map(function(s){return s.rules?Object.assign({},s,{rules:t(s.rules,o)}):s.selectors?Object.assign({},s,{selectors:a(s.selectors,o)}):s})}function a(h,o){for(var s=[],p=0;p<h.length;p++){var g=h[p];if(g==="html")s.push(g);else if(/dcg(-mq)?-aria-alert/.test(g))s.push(g);else if(/^html body( |$)/.test(g))s.push("html"+o+" body"+g.slice(9)),s.push("html body "+o+g.slice(9));else{if(/^html/.test(g))throw new Error("Cannot correctly prefix selector "+g);s.push(o+" "+g)}}return s}var l=B("vendor/css");return u}),$("loadcss",{load:function(B){throw new Error("Dynamic load not allowed: "+B)}}),$("loadcss!Symbola-basic",function(){}),$("loadcss!vendor_css/mathquill/mathquill-basic",function(){}),$("toplevel/mathquill",["require","testbridge","mathquill_src","loadcss!Symbola-basic","loadcss!vendor_css/mathquill/mathquill-basic"],function(B){return B("testbridge"),B("mathquill_src"),B("loadcss!Symbola-basic"),B("loadcss!vendor_css/mathquill/mathquill-basic"),window.MathQuill.noConflict()}),$("lib/parse-query-params",["require","exports"],function(B,u){Object.defineProperty(u,"__esModule",{value:!0}),u.getQueryParams=function(){var w="";try{w=location.search,w[0]=="?"&&(w=w.slice(1))}catch{}for(var e=w.split("&"),c={},t=0,a=e;t<a.length;t++){var l=a[t],h=l.split("=");h.length==2?c[h[0]]=decodeURIComponent(h[1]):c[h[0]]=!0}return c}}),$("config",["require","exports","core/lib/deepCopy","lib/parse-query-params"],function(B,u,w,e){function c(d){return a[d]}function t(){return w.default(a)}Object.defineProperty(u,"__esModule",{value:!0});var a={},l=e.getQueryParams();if(typeof Et<"u"&&Et.config)for(var h in Et.config)Et.config.hasOwnProperty(h)&&(l[h]=Et.config[h]);var o=function(d){return l.hasOwnProperty(d)},s=function(d){a[d]=o(d)},p=function(d){a[d]=!o("no"+d)};s("testing"),s("maintenance"),s("disableScrollFix"),s("nativeOnscreenKeypad"),s("hidden"),s("disableMouseInteractions"),s("advancedStyling"),s("authorIDE"),s("clickableObjects"),s("outofdom"),l.lang&&(a.lang=l.lang),l.fontSize&&(a.fontSize=l.fontSize),l.backgroundColor&&(a.backgroundColor="#"+l.backgroundColor),l.textColor&&(a.textColor="#"+l.textColor),a.no_navigation_warning=o("noconcat")||o("testing"),a.previewMessage="You're previewing some new accessibility features.",a.previewFeedbackUrl="mailto:feedback@desmos.com";var g=location&&location.hostname==="preview.desmos.com";a.previewMode=o("previewMode")||g,s("lockViewport"),s("administerSecretFolders"),s("clickableObjects"),s("degreeMode"),s("clearIntoDegreeMode"),s("plaidMode"),s("editOnWeb"),s("crossOriginSaveTest"),s("showResetButtonOnGraphpaper"),s("transparentBackground"),p("links"),p("trace"),s("expressionsCollapsed"),s("invertedColors"),s("projectorMode"),p("images"),p("folders"),p("settingsMenu"),p("expressionsTopbar"),p("zoomButtons"),p("keypad"),p("graphpaper"),p("expressions"),p("expressionsTopbar"),p("settingsMenu"),p("branding"),p("pointsOfInterest"),p("plotSingleVariableImplicitEquations"),p("plotImplicits"),p("plotInequalities"),p("notes"),p("sliders"),s("pauseWhenOffscreen"),s("worksheetSVG"),s("sciKeypad"),s("4fnKeypad"),s("ans"),o("braille")&&(a.braille=!0),p("qwertyKeyboard"),s("restrictedFunctions"),p("functionDefinition"),s("singleExpression"),s("restrictedEditing"),s("replaceCommaWith10Exp"),s("replaceRoundWithReciprocal"),o("typingAsteriskWritesTimesSymbol")&&(a.typingAsteriskWritesTimesSymbol=!0),p("labels"),s("bare-i18n"),p("distributions"),a["4fnKeypad"]?s("decimalToFraction"):p("decimalToFraction"),s("3d"),o("exponentButtonForSquareRoot")?a.additionalFunctions=["exponent"]:l.additionalFunctions&&typeof l.additionalFunctions=="string"&&(a.additionalFunctions=l.additionalFunctions.split(",")),u.get=c,u.all=t}),$("mathquill",["require","browser","jquery","toplevel/mathquill","config"],function(B){var u=B("browser"),w=B("jquery"),e=B("toplevel/mathquill").getInterface(1),c=B("config"),t=["erf|error-function","TTest|t-test ttest|t-test TScore|t-score tscore|t-score","iTTest|independent-t-test ittest|independent-t-test IndependentTTest","TScore|t-score Tscore|t-score tscore|t-score","normaldist|normal-distribution tdist|t-distribution poissondist|poisson-distribution","binomialdist|binomial-distribution","uniformdist|uniform-distribution","pdf cdf random inverseCdf inversecdf","histogram dotplot boxplot","pdf cdf","histogram dotplot boxplot"].join(" "),a=["cube sphere cone dodecahedron octahedron tetrahedron"].join(" ");return e.config({leftRightIntoCmdGoes:"up",sumStartsWithNEquals:!0,supSubsRequireOperand:!0,charsThatBreakOutOfSupSub:"+-=<>*",autoCommands:"alpha beta sqrt theta phi pi tau nthroot cbrt sum prod int ans percent infinity infty",autoSubscriptNumerals:!0,restrictMismatchedBrackets:!0,typingPercentWritesPercentOf:!0,substituteTextarea:function(){return u.IS_IOS||u.IS_ANDROID?w('<span class="dcg-mathquill-input-span" tabindex=0 role="textbox" style="display:inline-block;height:1px;width:1px">')[0]:u.IS_WINDOWS&&u.IS_TOUCH?w("<textarea readonly>").on("keydown",function(){this.readOnly=!1,this.select()}).on("blur",function(){this.readOnly=!0})[0]:w("<textarea>")[0]},autoOperatorNames:["exp|exponent ln|natural-log log","total length mean median quantile quartile nCr nPr stats","stdev|standard-deviation stddev|standard-deviation","stdDev|standard-deviation stdevp|standard-deviation-population","stddevp|standard-deviation-population stdDevP|standard-deviation-population mad var|variance","varp|variance-population variance cov|co-variance corr|correlation spearman","lcm mcm gcd mcd gcf mod ceil|ceiling floor round abs|absolute-value min max sign|signum signum","sin|sine cos|cosine tan|tangent csc|co-secant sec|secant cot|co-tangent","sinh|hyperbolic-sine cosh|hyperbolic-cosine tanh|hyperbolic-tangent csch|hyperbolic-co-secant","sech|hyperbolic-secant coth|hyperbolic-co-tangent","arcsin|arc-sine arccos|arc-cosine arctan|arc-tangent arccsc|arc-co-secant arcsec|arc-secant","arccot|arc-co-tangent","arcsinh|hyperbolic-arc-sine arccosh|hyperbolic-arc-cosine arctanh|hyperbolic-arc-co-tangent","arccsch|hyperbolic-arc-co-secant arcsech|hyperbolic-arc-secant","arccoth|hyperbolic-arc-co-tangent","polygon","distance midpoint",t,c.get("3d")?a:""].filter(function(l){return!!l}).join(" "),resetCursorOnBlur:!0,enableDigitGrouping:!0})}),$("graphing/clipping",["require","exports","core/types/graphmode"],function(B,u,w){function e(p,g,d,i){var n=[],r=g.xmin,m=g.ymin,y=g.xmax-g.xmin,v=g.ymax-g.ymin,x=d.width,E=d.height,b=x/y,f=-E/v,S=p.length;if(i===u.Y_EQUALS)for(var j=0;j<S;j+=2){var Q=(p[j]-r)*b-.5,G=(p[j+1]-m)*f+E-.5;n.push(Q,G)}else if(i===u.X_EQUALS)for(var j=0;j<S;j+=2){var Q=(p[j+1]-r)*b-.5,G=(p[j]-m)*f+E-.5;n.push(Q,G)}else if(i===u.POLAR_RADIAN_EQUALITY)for(var j=0;j<p.length;j+=2){var q=p[j],L=p[j+1],Q=(L*Math.cos(q)-r)*b-.5,G=(L*Math.sin(q)-m)*f+E-.5;n.push(Q,G)}else if(i===u.POLAR_RADIAN_INEQUALITY)for(var j=0;j<p.length;j+=2){var q=p[j],L=p[j+1];L<0&&(L=0);var Q=(L*Math.cos(q)-r)*b-.5,G=(L*Math.sin(q)-m)*f+E-.5;n.push(Q,G)}else if(i===u.POLAR_DEGREE_EQUALITY)for(var j=0;j<p.length;j+=2){var q=p[j]*Math.PI/180,L=p[j+1],Q=(L*Math.cos(q)-r)*b-.5,G=(L*Math.sin(q)-m)*f+E-.5;n.push(Q,G)}else if(i===u.POLAR_DEGREE_INEQUALITY)for(var j=0;j<p.length;j+=2){var q=p[j]*Math.PI/180,L=p[j+1];L<0&&(L=0);var Q=(L*Math.cos(q)-r)*b-.5,G=(L*Math.sin(q)-m)*f+E-.5;n.push(Q,G)}return n}function c(p,g){return a(p,g,u.ALL,!0)}function t(p,g,d,i){var n,r,m,y,v=[];i?(r=p[0],m=p[1],n=2,(y=g(r,m))&&v.push(r,m)):(r=p[p.length-2],m=p[p.length-1],n=0,y=g(r,m));for(var x=n;x<p.length;x+=2){var E=r,b=m,f=y;r=p[x],m=p[x+1],y=g(r,m),(y||f)&&(y&&f&&v.push(r,m),y&&!f&&(Array.prototype.push.apply(v,d(r,m,E,b)),v.push(r,m)),!y&&f&&Array.prototype.push.apply(v,d(E,b,r,m)))}return v}function a(p,g,d,i){var n=g.xmin,r=g.xmax,m=g.ymin,y=g.ymax,v=function(q,L){return q>=n},x=function(q,L){return q<=r},E=function(q,L){return L>=m},b=function(q,L){return L<=y},f=function(q,L,M,D){return q=q,L=L,M=M,D=D,[n,L+(D-L)*(n-q)/(M-q)]},S=function(q,L,M,D){return q=q,L=L,M=M,D=D,[r,L+(D-L)*(r-q)/(M-q)]},j=function(q,L,M,D){return q=q,L=L,M=M,D=D,[q+(M-q)*(m-L)/(D-L),m]},Q=function(q,L,M,D){return q=q,L=L,M=M,D=D,[q+(M-q)*(y-L)/(D-L),y]},G=p;return d&u.LEFT&&(G=t(p,v,f,i)),d&u.BOTTOM&&(G=t(G,E,j,i)),d&u.RIGHT&&(G=t(G,x,S,i)),d&u.TOP&&(G=t(G,b,Q,i)),G}function l(p,g){return a(p,g,u.ALL,!1)}function h(p,g,d){var i=[],n=p[0],r=n+d,m=[];i.push(m);for(var y=0;y<p.length;y+=2){var v=p[y],x=p[y+1];if(x<0&&(x=0),v>=r){for(m=[],i.push(m),n=p[y-2],r=n;v>=r;)r+=d;y-=4}else m.push(v,x)}if(g===0)for(var y=0;y<i.length;y++)i[y].push(0,0);else for(var E=d/16,b=g,y=0;y<i.length;y++){var f=i[y];n=f[0],r=f[f.length-2];for(var v=r;v>n;v-=E)f.push(v,b);f.push(n,b)}return i}function o(p,g){return p=p.slice(),p.push(p[p.length-2],g),p.push(p[0],g),[p]}function s(p,g,d){switch(p){case w.X:return u.X_EQUALS;case w.IMPLICIT:case w.PARAMETRIC:case w.Y:return u.Y_EQUALS;case w.POLAR:return d.degreeMode?g?u.POLAR_DEGREE_INEQUALITY:u.POLAR_DEGREE_EQUALITY:g?u.POLAR_RADIAN_INEQUALITY:u.POLAR_RADIAN_EQUALITY}}Object.defineProperty(u,"__esModule",{value:!0}),u.TOP=1,u.BOTTOM=2,u.LEFT=4,u.RIGHT=8,u.ALL=15,u.X=12,u.Y=3,u.POLAR_RADIAN_EQUALITY=1,u.POLAR_RADIAN_INEQUALITY=2,u.POLAR_DEGREE_EQUALITY=3,u.POLAR_DEGREE_INEQUALITY=4,u.Y_EQUALS=5,u.X_EQUALS=6,u.mapSegmentToCanvas=e,u.clipStrokeEdges=c,u.clipFillEdge=t,u.clipFillEdges=a,u.clipAllFillEdges=l,u.computePolarFill=h,u.computeCartesianFill=o,u.getClippingGraphType=s}),$("core/lib/color-helpers",["require","exports"],function(B,u){function w(h){return e(h)?(h.match(/^#([A-Fa-f0-9]{3})$/g)&&(h="#"+h[1]+h[1]+h[2]+h[2]+h[3]+h[3]),h.toLowerCase()):h}function e(h){return typeof h=="string"&&(h.match(/^#([A-Fa-f0-9]{3})$/g)||h.match(/^#([A-Fa-f0-9]{6})$/g))}function c(h,o){if(h=w(h),!e(h))return h;o>1&&(o=1),o<-1&&(o=-1);var s=parseInt(h.slice(1),16),p=o<0?0:255,g=o<0?-1*o:o,d=s>>16,i=s>>8&255,n=255&s;return"#"+(16777216+65536*(Math.round((p-d)*g)+d)+256*(Math.round((p-i)*g)+i)+(Math.round((p-n)*g)+n)).toString(16).slice(1)}function t(h){if(h=w(h),!e(h))return h;var o="0123456789abcdef";return"#"+h.slice(1).split("").map(function(s){return o[15-o.indexOf(s)]}).join("")}function a(h){if(h=h.replace(/#/,""),h.length===3)var o=parseInt(h.slice(0,1)+h.slice(0,1),16),s=parseInt(h.slice(1,2)+h.slice(1,2),16),p=parseInt(h.slice(2,3)+h.slice(2,3),16);else if(h.length===6)var o=parseInt(h.slice(0,2),16),s=parseInt(h.slice(2,4),16),p=parseInt(h.slice(4,6),16);else var o=0,s=0,p=0;return{r:o,g:s,b:p}}function l(h,o){var s=/(rgba\([\d]+\,\ ?[\d]+\,\ ?[\d]+\,\ ?)[\d.]+(\))/;return h.match(s)?h.replace(s,"$1"+o+"$2"):h}Object.defineProperty(u,"__esModule",{value:!0}),u.normalizeColor=w,u.isValidHexColor=e,u.shadeColor=c,u.invertColor=t,u.parseHex=a,u.mutateOpacity=l,u.colors={RED:"#c74440",BLUE:"#2d70b3",GREEN:"#388c46",PURPLE:"#6042a6",ORANGE:"#fa7e19",BLACK:"#000000",GRAY:"#aaaaaa"}}),$("expressions/colors",["require","exports","core/lib/color-helpers"],function(B,u,w){function e(c,t){switch(t){case w.colors.RED:return c.t("red");case w.colors.BLUE:return c.t("blue");case w.colors.GREEN:return c.t("green");case w.colors.PURPLE:return c.t("purple");case w.colors.ORANGE:return c.t("orange");case w.colors.BLACK:return c.t("black");case w.colors.GRAY:return c.t("gray");default:return c.t("color unknown")}}Object.defineProperty(u,"__esModule",{value:!0}),u.RED=w.colors.RED,u.BLUE=w.colors.BLUE,u.GREEN=w.colors.GREEN,u.PURPLE=w.colors.PURPLE,u.ORANGE=w.colors.ORANGE,u.BLACK=w.colors.BLACK,u.all=[u.RED,u.BLUE,u.GREEN,u.PURPLE,u.ORANGE,u.BLACK],u.getColorName=e}),$("lib/console",["require","exports","console"],function(B,u,w){Object.defineProperty(u,"__esModule",{value:!0}),u.log=w.log,u.warn=w.warn}),$("graphing-calc/api/sanitize-expression",["require","exports","core/types/styles","core/lib/dragmode","core/types/label-sizes","core/types/label-orientations","core/lib/number-to-latex","lib/console"],function(B,u,w,e,c,t,a,l){function h(L,M){for(var D in M)if(M.hasOwnProperty(D)&&M[D]===L)return!0;return!1}function o(L){return h(L,u.SanitizedPointStyle)}function s(L){return h(L,u.SanitizedLineStyle)}function p(L){return h(L,u.SanitizedDragMode)}function g(L){return h(L,u.SanitizedColumnMode)}function d(L){return h(L,u.SanitizedLabelSize)}function i(L){return h(L,u.SanitizedLabelOrientation)}function n(L){return{id:L.id,type:L.type,columns:L.columns.map(r)}}function r(L){return{id:L.id,latex:L.latex,color:L.color,hidden:L.hidden,pointStyle:L.pointStyle,lineStyle:L.lineStyle,points:L.points,lines:L.lines,dragMode:L.dragMode,values:L.values.slice()}}function m(L){var M=["latex","color","lineStyle","pointStyle","fillOpacity","points","lines","fill","hidden","secret","dragMode","label","showLabel","labelSize","labelOrientation","verticalLabel","interactiveLabel"],D={id:L.id,type:L.type};return M.forEach(function(V){L.hasOwnProperty(V)&&(D[V]=L[V])}),L.hasOwnProperty("parametricDomain")&&(D.parametricDomain={min:L.parametricDomain.min,max:L.parametricDomain.max}),L.hasOwnProperty("polarDomain")&&(D.polarDomain={min:L.polarDomain.min,max:L.polarDomain.max}),L.hasOwnProperty("domain")&&(D.domain={min:L.domain.min,max:L.domain.max}),L.slider&&(L.slider.hardMin&&(D.sliderBounds=D.sliderBounds||{},D.sliderBounds.min=L.slider.min),L.slider.hardMax&&(D.sliderBounds=D.sliderBounds||{},D.sliderBounds.max=L.slider.max),L.slider.step&&(D.sliderBounds=D.sliderBounds||{},D.sliderBounds.step=L.slider.step)),D}function y(L){return{id:L.id,type:L.type,hidden:L.hidden,secret:L.secret}}function v(L){return{id:L.id,type:L.type,hidden:L.hidden,secret:L.secret}}function x(L){return{id:L.id,type:L.type,secret:L.secret}}function E(L){switch(L.type){case"expression":return m(L);case"table":return n(L);case"folder":return v(L);case"image":return y(L);case"text":return x(L);default:return L}}function b(L,M){return L.hasOwnProperty("id")?L.id+"":M.generateId()}function f(L,M){var D={type:"expression",id:b(L,M)};return D.type="expression",D.id=b(L,M),L.hasOwnProperty("latex")&&(D.latex=L.latex+""),L.hasOwnProperty("color")&&(D.color=L.color+""),L.hasOwnProperty("points")&&(D.points=!!L.points),L.hasOwnProperty("lines")&&(D.lines=!!L.lines),L.hasOwnProperty("style")&&(l.warn("As of API v1.1 the 'style' property is deprecated and has been split into 'pointStyle' and 'lineStyle'."),o(L.style)?D.pointStyle=L.style:s(L.style)?D.lineStyle=L.style:l.warn("Invalid style: '"+L.style+"'.")),L.hasOwnProperty("pointStyle")&&(o(L.pointStyle)?D.pointStyle=L.pointStyle:l.warn("Invalid pointStyle: '"+L.pointStyle+"'.")),L.hasOwnProperty("lineStyle")&&(s(L.lineStyle)?D.lineStyle=L.lineStyle:l.warn("Invalid lineStyle: '"+L.lineStyle+"'.")),L.hasOwnProperty("hidden")&&(D.hidden=!!L.hidden),L.hasOwnProperty("secret")&&(D.secret=!!L.secret),L.hasOwnProperty("sliderBounds")&&L.sliderBounds&&(D.slider={min:a.default(L.sliderBounds.min),max:a.default(L.sliderBounds.max),step:a.default(L.sliderBounds.step)},D.slider.min&&(D.slider.hardMin=!0),D.slider.max&&(D.slider.hardMax=!0)),L.hasOwnProperty("parametricDomain")&&L.parametricDomain?(D.parametricDomain={min:a.default(L.parametricDomain.min),max:a.default(L.parametricDomain.max)},L.hasOwnProperty("domain")&&l.warn("Both 'parametricDomain' and the deprecated 'domain' property were specified. Using 'parametricDomain'.")):L.hasOwnProperty("domain")&&(l.warn("The 'domain' property is deprecated.Use 'parametricDomain' to specify the domain for parametric functions"),D.parametricDomain={min:a.default(L.domain.min),max:a.default(L.domain.max)}),L.hasOwnProperty("polarDomain")&&L.polarDomain&&(D.polarDomain={min:a.default(L.polarDomain.min),max:a.default(L.polarDomain.max)}),L.hasOwnProperty("dragMode")&&(p(L.dragMode)?D.dragMode=L.dragMode:l.warn("Invalid dragMode: '"+L.dragMode+"'.")),L.hasOwnProperty("label")&&(D.label=L.label+""),L.hasOwnProperty("showLabel")&&(D.showLabel=!!L.showLabel),L.hasOwnProperty("labelSize")&&(d(L.labelSize)?D.labelSize=L.labelSize:l.warn("Invalid labelSize: "+L.labelSize)),L.hasOwnProperty("labelOrientation")&&(i(L.labelOrientation)?D.labelOrientation=L.labelOrientation:l.warn("Invalid labelOrientation: "+L.labelOrientation)),L.hasOwnProperty("fill")&&(D.fill=!!L.fill),L.hasOwnProperty("fillOpacity")&&(D.fillOpacity=""+L.fillOpacity),D}function S(L,M){var D={id:b(L,M)};return L.hasOwnProperty("latex")&&(D.latex=L.latex+""),L.hasOwnProperty("color")&&(D.color=L.color+""),L.hasOwnProperty("hidden")&&(D.hidden=!!L.hidden),L.hasOwnProperty("points")&&(D.points=!!L.points),L.hasOwnProperty("lines")&&(D.lines=!!L.lines),L.hasOwnProperty("values")&&L.values&&(D.values=L.values.map(function(V){return V+""})),L.hasOwnProperty("columnMode")&&(l.warn("As of API v1.1 the 'columnMode' property is deprecated and has been split into individual 'points' and 'lines' properties."),L.columnMode===u.SanitizedColumnMode.POINTS_AND_LINES?(D.points=!0,D.lines=!0):L.columnMode===u.SanitizedColumnMode.LINES?(D.points=!1,D.lines=!0):(D.points=!0,D.lines=!1),D.lines&&!D.points&&L.hasOwnProperty("dragMode")&&L.dragMode!==e.DragMode.NONE&&(l.warn("A 'lines' value of true and 'points' value of false is only compatible with a dragMode of 'NONE'. Proceeding by setting 'points' to true."),D.points=!0),g(L.columnMode)&&l.warn("Invalid columnMode: '"+L.columnMode+"'.")),L.hasOwnProperty("dragMode")&&(p(L.dragMode)?D.dragMode=L.dragMode===e.DragMode.AUTO?e.DragMode.NONE:L.dragMode:l.warn("Invalid dragMode: '"+L.dragMode+"'.")),D}function j(L,M){var D={type:"table",id:b(L,M)};return L.hasOwnProperty("columns")&&L.columns&&(D.columns=L.columns.map(function(V){return S(V,M)})),D}function Q(L,M){var D={type:"folder",id:b(L,M)};return L.hasOwnProperty("hidden")&&(D.hidden=!!L.hidden),D}function G(L,M){var D={type:"image",id:b(L,M)};return L.hasOwnProperty("hidden")&&(D.hidden=!!L.hidden),D}function q(L,M,D){var V=L.type;if(M&&V&&V!==M)return void l.warn("Cannot change type of expression from '"+M+"' to '"+V+"'.");switch(V){case void 0:case"expression":return f(L,D);case"image":return G(L,D);case"table":return j(L,D);case"folder":return Q(L,D);default:return M?void l.warn("Cannot modify expressions of type: '"+M+"' through the API."):void l.warn("Invalid expression type: '"+V+"'.")}}Object.defineProperty(u,"__esModule",{value:!0}),u.SanitizedPointStyle={OPEN:w.PointStyle.OPEN,CROSS:w.PointStyle.CROSS,POINT:w.PointStyle.POINT},u.SanitizedLineStyle={SOLID:w.LineStyle.SOLID,DASHED:w.LineStyle.DASHED,DOTTED:w.LineStyle.DOTTED},u.SanitizedDragMode={NONE:e.DragMode.NONE,AUTO:e.DragMode.AUTO,X:e.DragMode.X,Y:e.DragMode.Y,XY:e.DragMode.XY},u.SanitizedColumnMode={POINTS:"POINTS",LINES:"LINES",POINTS_AND_LINES:"POINTS_AND_LINES"},u.SanitizedLabelSize={SMALL:c.LabelSize.SMALL,MEDIUM:c.LabelSize.MEDIUM,LARGE:c.LabelSize.LARGE},u.SanitizedLabelOrientation={ABOVE:t.LabelOrientation.ABOVE,BELOW:t.LabelOrientation.BELOW,DEFAULT:t.LabelOrientation.DEFAULT,LEFT:t.LabelOrientation.LEFT,RIGHT:t.LabelOrientation.RIGHT},u.sanitizeItem=E,u.validateItem=q}),$("core/graphing-calc/json/graph-settings",["require","exports","tslib"],function(B,u,w){function e(l){return l in t}Object.defineProperty(u,"__esModule",{value:!0});var c;(function(l){l.NONE="NONE",l.POSITIVE="POSITIVE",l.BOTH="BOTH"})(c=u.AxisArrowModes||(u.AxisArrowModes={}));var t={showGrid:!0,showXAxis:!0,showYAxis:!0,xAxisStep:0,yAxisStep:0,xAxisMinorSubdivisions:0,yAxisMinorSubdivisions:0,xAxisArrowMode:c.NONE,yAxisArrowMode:c.NONE,xAxisLabel:"",yAxisLabel:"",xAxisNumbers:!0,yAxisNumbers:!0,polarMode:!1,polarNumbers:!0,degreeMode:!1,randomSeed:"",restrictGridToFirstQuadrant:!1},a={squareAxes:!0};u.DefaultGraphSettings=w.__assign(w.__assign({},t),a),u.publicGraphSettings=Object.keys(t),u.isGraphSetting=e}),$("main/font_sizes",["require","exports"],function(B,u){Object.defineProperty(u,"__esModule",{value:!0}),u.VERY_SMALL=9,u.SMALL=12,u.MEDIUM=16,u.LARGE=20,u.VERY_LARGE=24}),function(B){var u=function(e,c,t){var a,l,h=document.createElement("img");if(h.onerror=c,h.onload=function(){!l||t&&t.noRevoke||u.revokeObjectURL(l),c&&c(u.scale(h,t))},u.isInstanceOf("Blob",e)||u.isInstanceOf("File",e))a=l=u.createObjectURL(e),h._type=e.type;else{if(typeof e!="string")return!1;a=e,t&&t.crossOrigin&&(h.crossOrigin=t.crossOrigin)}return a?(h.src=a,h):u.readFile(e,function(o){var s=o.target;s&&s.result?h.src=s.result:c&&c(o)})},w=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;u.isInstanceOf=function(e,c){return Object.prototype.toString.call(c)==="[object "+e+"]"},u.transformCoordinates=function(){},u.getTransformedOptions=function(e){return e},u.renderImageToCanvas=function(e,c,t,a,l,h,o,s,p,g){return e.getContext("2d").drawImage(c,t,a,l,h,o,s,p,g),e},u.hasCanvasOption=function(e){return e.canvas||e.crop},u.scale=function(e,c){c=c||{};var t,a,l,h,o,s,p,g,d,i=document.createElement("canvas"),n=e.getContext||u.hasCanvasOption(c)&&i.getContext,r=e.naturalWidth||e.width,m=e.naturalHeight||e.height,y=r,v=m,x=function(){var b=Math.max((l||y)/y,(h||v)/v);b>1&&(y=Math.ceil(y*b),v=Math.ceil(v*b))},E=function(){var b=Math.min((t||y)/y,(a||v)/v);b<1&&(y=Math.ceil(y*b),v=Math.ceil(v*b))};return n&&(c=u.getTransformedOptions(c),p=c.left||0,g=c.top||0,c.sourceWidth?(o=c.sourceWidth,c.right!==void 0&&c.left===void 0&&(p=r-o-c.right)):o=r-p-(c.right||0),c.sourceHeight?(s=c.sourceHeight,c.bottom!==void 0&&c.top===void 0&&(g=m-s-c.bottom)):s=m-g-(c.bottom||0),y=o,v=s),t=c.maxWidth,a=c.maxHeight,l=c.minWidth,h=c.minHeight,n&&t&&a&&c.crop?(y=t,v=a,d=o/s-t/a,d<0?(s=a*o/t,c.top===void 0&&c.bottom===void 0&&(g=(m-s)/2)):d>0&&(o=t*s/a,c.left===void 0&&c.right===void 0&&(p=(r-o)/2))):((c.contain||c.cover)&&(l=t=t||l,h=a=a||h),c.cover?(E(),x()):(x(),E())),n?(i.width=y,i.height=v,u.transformCoordinates(i,c),u.renderImageToCanvas(i,e,p,g,o,s,0,0,y,v)):(e.width=y,e.height=v,e)},u.createObjectURL=function(e){return!!w&&w.createObjectURL(e)},u.revokeObjectURL=function(e){return!!w&&w.revokeObjectURL(e)},u.readFile=function(e,c,t){if(window.FileReader){var a=new FileReader;if(a.onload=a.onerror=c,t=t||"readAsDataURL",a[t])return a[t](e),a}return!1},typeof $=="function"&&$.amd?$("vendor/load-image/load-image",[],function(){return u}):B.loadImage=u}(this),function(B){typeof $=="function"&&$.amd?$("vendor/load-image/load-image-orientation",["./load-image"],B):B(window.loadImage)}(function(B){var u=B.hasCanvasOption;B.hasCanvasOption=function(w){return u(w)||w.orientation},B.transformCoordinates=function(w,e){var c=w.getContext("2d"),t=w.width,a=w.height,l=e.orientation;if(l)switch(l>4&&(w.width=a,w.height=t),l){case 2:c.translate(t,0),c.scale(-1,1);break;case 3:c.translate(t,a),c.rotate(Math.PI);break;case 4:c.translate(0,a),c.scale(1,-1);break;case 5:c.rotate(.5*Math.PI),c.scale(1,-1);break;case 6:c.rotate(.5*Math.PI),c.translate(0,-a);break;case 7:c.rotate(.5*Math.PI),c.translate(t,-a),c.scale(-1,1);break;case 8:c.rotate(-.5*Math.PI),c.translate(-t,0)}},B.getTransformedOptions=function(w){if(!w.orientation||w.orientation===1)return w;var e,c={};for(e in w)w.hasOwnProperty(e)&&(c[e]=w[e]);switch(w.orientation){case 2:c.left=w.right,c.right=w.left;break;case 3:c.left=w.right,c.top=w.bottom,c.right=w.left,c.bottom=w.top;break;case 4:c.top=w.bottom,c.bottom=w.top;break;case 5:c.left=w.top,c.top=w.left,c.right=w.bottom,c.bottom=w.right;break;case 6:c.left=w.top,c.top=w.right,c.right=w.bottom,c.bottom=w.left;break;case 7:c.left=w.bottom,c.top=w.right,c.right=w.top,c.bottom=w.left;break;case 8:c.left=w.bottom,c.top=w.left,c.right=w.top,c.bottom=w.right}return w.orientation>4&&(c.maxWidth=w.maxHeight,c.maxHeight=w.maxWidth,c.minWidth=w.minHeight,c.minHeight=w.minWidth,c.sourceWidth=w.sourceHeight,c.sourceHeight=w.sourceWidth),c}}),function(B){typeof $=="function"&&$.amd?$("vendor/load-image/load-image-meta",["./load-image"],B):B(window.loadImage)}(function(B){var u=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);B.blobSlice=u&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},B.metaDataParsers={jpeg:{65505:[]}},B.parseMetaData=function(w,e,c){c=c||{};var t=this,a=c.maxMetaDataSize||262144,l={};window.DataView&&w&&w.size>=12&&w.type==="image/jpeg"&&B.blobSlice&&B.readFile(B.blobSlice.call(w,0,a),function(h){var o,s,p,g,d=h.target.result,i=new DataView(d),n=2,r=i.byteLength-4,m=n;if(i.getUint16(0)===65496){for(;n<r&&((o=i.getUint16(n))>=65504&&o<=65519||o===65534);){if(s=i.getUint16(n+2)+2,n+s>i.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(p=B.metaDataParsers.jpeg[o])for(g=0;g<p.length;g+=1)p[g].call(t,i,n,s,l,c);n+=s,m=n}!c.disableImageHead&&m>6&&(d.slice?l.imageHead=d.slice(0,m):l.imageHead=new Uint8Array(d).subarray(0,m))}else console.log("Invalid JPEG file: Missing JPEG marker.");e(l)},"readAsArrayBuffer")||e(l)}}),function(B){typeof $=="function"&&$.amd?$("vendor/load-image/load-image-ios",["./load-image"],B):B(window.loadImage)}(function(B){if(window.navigator&&window.navigator.platform&&/iP(hone|od|ad)/.test(window.navigator.platform)){var u=B.renderImageToCanvas;B.detectSubsampling=function(w){var e,c;return w.width*w.height>1048576&&(e=document.createElement("canvas"),e.width=e.height=1,c=e.getContext("2d"),c.drawImage(w,1-w.width,0),c.getImageData(0,0,1,1).data[3]===0)},B.detectVerticalSquash=function(w,e){var c,t,a,l,h,o=w.naturalHeight||w.height,s=document.createElement("canvas"),p=s.getContext("2d");for(e&&(o/=2),s.width=1,s.height=o,p.drawImage(w,0,0),c=p.getImageData(0,0,1,o).data,t=0,a=o,l=o;l>t;)h=c[4*(l-1)+3],h===0?a=l:t=l,l=a+t>>1;return l/o||1},B.renderImageToCanvas=function(w,e,c,t,a,l,h,o,s,p){if(e._type==="image/jpeg"){var g,d,i,n,r=w.getContext("2d"),m=document.createElement("canvas"),y=m.getContext("2d");if(m.width=1024,m.height=1024,r.save(),g=B.detectSubsampling(e),g&&(c/=2,t/=2,a/=2,l/=2),d=B.detectVerticalSquash(e,g),g||d!==1){for(t*=d,s=Math.ceil(1024*s/a),p=Math.ceil(1024*p/l/d),o=0,n=0;n<l;){for(h=0,i=0;i<a;)y.clearRect(0,0,1024,1024),y.drawImage(e,c,t,a,l,-i,-n,a,l),r.drawImage(m,0,0,1024,1024,h,o,s,p),i+=1024,h+=s;n+=1024,o+=p}return r.restore(),w}}return u(w,e,c,t,a,l,h,o,s,p)}}}),function(B){typeof $=="function"&&$.amd?$("vendor/load-image/load-image-exif",["./load-image","./load-image-meta"],B):B(window.loadImage)}(function(B){B.ExifMap=function(){return this},B.ExifMap.prototype.map={Orientation:274},B.ExifMap.prototype.get=function(u){return this[u]||this[this.map[u]]},B.getExifThumbnail=function(u,w,e){var c,t,a;if(!e||w+e>u.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(c=[],t=0;t<e;t+=1)a=u.getUint8(w+t),c.push((a<16?"0":"")+a.toString(16));return"data:image/jpeg,%"+c.join("%")},B.exifTagTypes={1:{getValue:function(u,w){return u.getUint8(w)},size:1},2:{getValue:function(u,w){return String.fromCharCode(u.getUint8(w))},size:1,ascii:!0},3:{getValue:function(u,w,e){return u.getUint16(w,e)},size:2},4:{getValue:function(u,w,e){return u.getUint32(w,e)},size:4},5:{getValue:function(u,w,e){return u.getUint32(w,e)/u.getUint32(w+4,e)},size:8},9:{getValue:function(u,w,e){return u.getInt32(w,e)},size:4},10:{getValue:function(u,w,e){return u.getInt32(w,e)/u.getInt32(w+4,e)},size:8}},B.exifTagTypes[7]=B.exifTagTypes[1],B.getExifValue=function(u,w,e,c,t,a){var l,h,o,s,p,g,d=B.exifTagTypes[c];if(!d)return void console.log("Invalid Exif data: Invalid tag type.");if(l=d.size*t,(h=l>4?w+u.getUint32(e+8,a):e+8)+l>u.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(t===1)return d.getValue(u,h,a);for(o=[],s=0;s<t;s+=1)o[s]=d.getValue(u,h+s*d.size,a);if(d.ascii){for(p="",s=0;s<o.length&&(g=o[s])!=="\0";s+=1)p+=g;return p}return o},B.parseExifTag=function(u,w,e,c,t){var a=u.getUint16(e,c);t.exif[a]=B.getExifValue(u,w,e,u.getUint16(e+2,c),u.getUint32(e+4,c),c)},B.parseExifTags=function(u,w,e,c,t){var a,l,h;if(e+6>u.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(a=u.getUint16(e,c),(l=e+2+12*a)+4>u.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(h=0;h<a;h+=1)this.parseExifTag(u,w,e+2+12*h,c,t);return u.getUint32(l,c)},B.parseExifData=function(u,w,e,c,t){if(!t.disableExif){var a,l,h,o=w+10;if(u.getUint32(w+4)===1165519206){if(o+8>u.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(u.getUint16(w+8)!==0)return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(u.getUint16(o)){case 18761:a=!0;break;case 19789:a=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(u.getUint16(o+2,a)!==42)return void console.log("Invalid Exif data: Missing TIFF marker.");l=u.getUint32(o+4,a),c.exif=new B.ExifMap,l=B.parseExifTags(u,o,o+l,a,c),l&&!t.disableExifThumbnail&&(h={exif:{}},l=B.parseExifTags(u,o,o+l,a,h),h.exif[513]&&(c.exif.Thumbnail=B.getExifThumbnail(u,o+h.exif[513],h.exif[514]))),c.exif[34665]&&!t.disableExifSub&&B.parseExifTags(u,o,o+c.exif[34665],a,c),c.exif[34853]&&!t.disableExifGps&&B.parseExifTags(u,o,o+c.exif[34853],a,c)}}},B.metaDataParsers.jpeg[65505].push(B.parseExifData)}),function(B){typeof $=="function"&&$.amd?$("vendor/load-image/load-image-exif-map",["./load-image","./load-image-exif"],B):B(window.loadImage)}(function(B){B.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},B.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},B.ExifMap.prototype.getText=function(u){var w=this.get(u);switch(u){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[u][w];case"ExifVersion":case"FlashpixVersion":return String.fromCharCode(w[0],w[1],w[2],w[3]);case"ComponentsConfiguration":return this.stringValues[u][w[0]]+this.stringValues[u][w[1]]+this.stringValues[u][w[2]]+this.stringValues[u][w[3]];case"GPSVersionID":return w[0]+"."+w[1]+"."+w[2]+"."+w[3]}return String(w)},function(u){var w,e=u.tags,c=u.map;for(w in e)e.hasOwnProperty(w)&&(c[e[w]]=w)}(B.ExifMap.prototype),B.ExifMap.prototype.getAll=function(){var u,w,e={};for(u in this)this.hasOwnProperty(u)&&(w=this.tags[u])&&(e[w]=this.getText(w));return e}}),$("loadImage",["require","vendor/load-image/load-image-orientation","vendor/load-image/load-image-meta","vendor/load-image/load-image-ios","vendor/load-image/load-image-exif","vendor/load-image/load-image-exif-map","vendor/load-image/load-image"],function(B){return B("vendor/load-image/load-image-orientation"),B("vendor/load-image/load-image-meta"),B("vendor/load-image/load-image-ios"),B("vendor/load-image/load-image-exif"),B("vendor/load-image/load-image-exif-map"),B("vendor/load-image/load-image")}),$("expressions/image_file_to_data_url",["require","exports","loadImage"],function(B,u,w){function e(l,h){for(var o,s=[.92,.86,.8,.7,.6,.5,.4,.3,.2,.1],p=0;p<s.length;p++)if(o=l.toDataURL("image/jpeg",s[p]),o.length<h)return o;return o}function c(l,h){for(var o,s=l.toDataURL().length,p=l.width,g=l.height,d=document.createElement("canvas"),i=0;i<2;i++){var n=Math.sqrt(h/s);if(p=Math.round(n*p),g=Math.round(n*g),d.height=g,d.width=p,d.getContext("2d").drawImage(l,0,0,p,g),o=d.toDataURL(),(s=o.length)<h)return o}return o}function t(l){for(var h=l.getContext("2d"),o=h.getImageData(0,0,l.width,l.height).data,s=3;s<o.length;s+=4)if(o[s]!==255)return!0;return!1}function a(l,h){var o={orientation:!0,canvas:!0,maxWidth:1600,maxHeight:1600};w(l,function(s){if(!s.toDataURL)return void h(!0);var p;if(l.type==="image/jpeg")p=e(s,2e5);else if(p=s.toDataURL(),p.length>2e5){var g=p.length>.75*s.width*s.height,d=g&&!t(s);p=d?e(s,2e5):c(s,2e5)}h(null,p)},o)}Object.defineProperty(u,"__esModule",{value:!0}),u.imageFileToDataURL=a}),$("lib/i18n",["require","exports","config","jquery","underscore","lib/console"],function(B,u,w,e,c,t){function a(x,E){r=x||"",m=E||{},y={}}function l(x){for(var E,b=/(__[^_]+__)/g,f=[];(E=b.exec(x))!==null;)f.push({index:E.index,text:E[0]});x=x.replace(/[a-z]/gi,"");for(var S=x.split(""),j=0;j<f.length;j++)for(var Q=f[j].index,G=f[j].text,q=0;q<G.length;q++)S[Q+q]=G[q];return S.join("")}function h(x,E,b){var f,S=b!==void 0?b:r;y[S]||(y[S]=s([S]));for(var j=0,Q=y[S];j<Q.length;j++){var G=Q[j];if(m.hasOwnProperty(G)&&m[G][x]){f=m[G][x];break}}if(f||(f=x!==void 0?x:""),w.get("bare-i18n")&&(f=l(f)),E)for(var q in E)E.hasOwnProperty(q)&&(f=f.split("__"+q+"__").join(E[q]));return f}function o(x,E){return h(x,E)}function s(x){var E=[];return c.each(x,function(b){if(b&&typeof b=="string"){var f=b.split("-")[0];E.push(b),E.push(f),c.each(u.enabled_languages,function(S,j){j.split("-")[0]===f&&S.useAsRoot&&E.push(j)})}}),E}function p(){for(var x=s([w.get("lang"),navigator.userLanguage,navigator.language]),E=0;E<x.length;E++){var b=x[E];if(d(b))return b}return"en"}function g(){return r}function d(x){return u.enabled_languages.hasOwnProperty(x)||c.contains(v,x)}function i(x){var E=e.Deferred();if(typeof Et>"u")return E.reject(),E.promise();if(Et.supportedLanguages.indexOf(x)>=0||x==="en")return a(x,Et.locales),E.resolve(!0),E.promise();if(!d(x)){var b=x.indexOf("-")!==-1?x.split("-")[0]:x;for(var f in u.enabled_languages)if(f.indexOf("-")!==-1){var S=f.split("-")[0];if(b===S&&u.enabled_languages[f].useAsRoot){x=f;break}}}return e.get("/api/v1/calculator/language/"+x,function(j){Et.locales||(Et.locales={}),Et.supportedLanguages||(Et.supportedLanguages=[]),Et.locales[x]=j[x],Et.supportedLanguages.push(x),a(x,Et.locales),E.resolve(!0)}).fail(function(j){j.status===404&&t.warn(x+" is not an available language."),E.reject()}),E.promise()}function n(x,E){if(x==null)return"";if(typeof x=="string")return x;if(typeof x=="number")return""+x;var b,f=x.vars;if(f){b={};for(var S in f)f.hasOwnProperty(S)&&(b[S]=n(f[S],E))}return h(x.msg,b,E)}Object.defineProperty(u,"__esModule",{value:!0}),u.locales=function(){return typeof Et<"u"&&Et.locales?Et.locales:{}}();var r="",m={},y={};u.enabled_languages={en:{displayName:"English (US)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"en-GB":{displayName:"English (GB)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"es-ES":{displayName:"Espaol (Espaa)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ES-ES.pdf",useAsRoot:!0},ru:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_RU.pdf",useAsRoot:!1},da:{displayName:"Dansk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},de:{displayName:"Deutsch",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_DE.pdf",useAsRoot:!1},"pt-BR":{displayName:"Portugus (Brasil)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"pt-PT":{displayName:"Portugus (Portugal)",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ca:{displayName:"Catal",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},fr:{displayName:"Franais",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_FR.pdf",useAsRoot:!1},it:{displayName:"Italiano",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_IT.pdf",useAsRoot:!1},is:{displayName:"slenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},nl:{displayName:"Nederlands",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},no:{displayName:"Norsk",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"sv-SE":{displayName:"Svenska",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},hr:{displayName:"Hrvatski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},hu:{displayName:"Magyar",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},cs:{displayName:"etina",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},tr:{displayName:"Trke",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_TR.pdf",useAsRoot:!1},sl:{displayName:"Slovenina",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_SL.pdf",useAsRoot:!1},lt:{displayName:"Lietuvi",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},pl:{displayName:"Polski",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_PL.pdf",useAsRoot:!1},ro:{displayName:"Romn",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},id:{displayName:"Bahasa Indonesia",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},vi:{displayName:"Ting Vit",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_VI.pdf",useAsRoot:!1},el:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_EL.pdf",useAsRoot:!1},"sr-CS":{displayName:"SRPSKI",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},bg:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_BG.pdf",useAsRoot:!1},mk:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},uk:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ka:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},th:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},"zh-CN":{displayName:"",useAsRoot:!0,userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-CN.pdf"},"zh-TW":{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_ZH-TW.pdf",useAsRoot:!1},ko:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide.pdf",useAsRoot:!1},ja:{displayName:"",userGuideURL:"https://desmos.s3.amazonaws.com/Desmos_User_Guide_JA.pdf",useAsRoot:!1}};var v=["sr","hy-AM","bn","eu","he","hi","ar","fi","kk","ml-IN","tr","fa"];u.init=a,u.t=h,u.raw=o,u.detectLanguage=p,u.currentLanguage=g,u.fetchLanguage=i,u.unpack=n,a(p(),u.locales)}),$("underscore_model",["require","underscore","pjs"],function(B){var u=B("underscore");return{UnderscoreModel:B("pjs")(function(w){var e=0,c="guid_"+Math.round(1e6*Math.random())+"_"+new Date().getTime()+"_";w.init=function(){this.__observers={},this.__eventObservers={},this.__oldProperties={},this.__propertyComparators={},this.guid=c+ ++e},w.unobserveAll=function(){this.__observers={},this.__eventObservers={}},w.getProperty=function(t){return this[t]},w.getOldProperty=function(t){return this.__oldProperties[t]},w.setProperty=function(t,a){var l=this[t];this[t]=a;var h=this.__propertyComparators[t];if(h){if(h(l,a))return}else if(u.isEqual(l,a))return;this.__oldProperties[t]=l,this.notifyPropertyChange(t)},w.setProperties=function(t){for(var a in t)t.hasOwnProperty(a)&&this.setProperty(a,t[a])},w.setPropertyComparator=function(t,a){this.__propertyComparators[t]=a},w.notifyPropertyChange=function(t){this.__callObservers(this.__observers,t,this)},w.observe=function(t,a){this.__addObservers(this.__observers,t,a)},w.unobserve=function(t){this.__removeObservers(this.__observers,t)},w.observeAndSync=function(t,a){this.observe(t,a);for(var l=t.split(" "),h=0;h<l.length;h++){var o=l[h].split("."),s=o[0];this.hasOwnProperty(s)&&a(s,this)}},w.triggerEvent=function(t,a){this.__callObservers(this.__eventObservers,t,a)},w.observeEvent=function(t,a){this.__addObservers(this.__eventObservers,t,a)},w.unobserveEvent=function(t){this.__removeObservers(this.__eventObservers,t)},w.__callObservers=function(t,a,l){var h=t[a];if(h)for(var o=0;o<h.length;o++)h[o].callback(a,l)},w.__removeObservers=function(t,a){for(var l=a.split(" "),h=0;h<l.length;h++){var o=l[h].split("."),s=o[0],p=o[1];if(s&&p){var g=t[s],d=[];if(!g)continue;for(var i=0;i<g.length;i++){var n=g[i];n.namespace!==p&&d.push(n)}t[s]=d}else if(s)delete t[s];else if(p)for(s in t)t.hasOwnProperty(s)&&this.__removeObservers(t,s+"."+p)}},w.__addObservers=function(t,a,l){for(var h=a.split(" "),o=0;o<h.length;o++){var s=h[o].split("."),p=s[0];if(!p)throw"Must supply a property to observe";var g=s[1],d={namespace:g,callback:l},i=t[p];i?i.push(d):t[p]=[d]}}})}}),$("main/graph_settings",["require","pjs","underscore","underscore_model","core/graphing-calc/json/graph-settings","console","core/graphing-calc/json/graph-settings","core/lib/color-helpers"],function(B){var u=B("pjs"),w=B("underscore"),e=B("underscore_model").UnderscoreModel,c=B("core/graphing-calc/json/graph-settings").AxisArrowModes,t=B("console"),a=B("core/graphing-calc/json/graph-settings").DefaultGraphSettings,l=B("core/lib/color-helpers"),h=u(e,function(o,s,p){o.init=function(){function d(m,y,v){function x(){r.setProperty(m,r.config.projectorMode?v:y)}r.cloneProperties.push(m),r.config.observe("projectorMode",x),x()}function i(m,y,v,x,E){function b(){var f;f=r.config.projectorMode?r.highlight?E:x:r.highlight?v:y,r.setProperty(m,f)}r.cloneProperties.push(m),r.observe("highlight",b),r.config.observe("projectorMode",b),b()}s.init.call(this),this.stateProperties=[],this.cloneProperties=[],this.config=new e;for(var n in a)a.hasOwnProperty(n)&&this.addStateProperty(n,a[n]);this.labelHangingColor="rgba(150,150,150,1)",this.lastChangedAxis="x";var r=this;d("labelSize",14,19),d("majorAxisOpacity",.4,1),d("minorAxisOpacity",.12,.25),d("axisOpacity",.9,.9),d("axisLineWidth",1.5,2),d("axisLineOffset",.25,0),d("pixelsPerLabel",80,120),i("curveOpacity",.7,1,.7,1),d("globalCurveColor",void 0,void 0),d("disableFill",!1,!1),i("graphLineWidth",2.5,3.5,5,7),i("pointLineWidth",9,11,15,17)},o.addStateProperty=function(d,i){this[d]=i,this.stateProperties.push(d),this.cloneProperties.push(d)},p.fromObject=function(d){var i=h();return i.cloneProperties.forEach(function(n){d.hasOwnProperty(n)&&i.setProperty(n,d[n])}),i},o.registerCallbacks=function(d,i){var n=this,r=function(){d.redrawAllLayers()};this.stateProperties.forEach(function(m){n.observe(m,r)}),this.config.observe("backgroundColor",r),this.config.observe("textColor",r),this.config.observe("invertedColors",r),this.observe("squareAxes",function(){d.viewportController.enforceSquareAxes()}),this.observe("backgroundColor",function(){d.redrawAllLayers()}),this.observe("textColor",function(){d.redrawAllLayers()}),this.config.observe("enableTabindex",function(){d.redrawAllLayers()}),this.config.observeAndSync("projectorMode",function(){d.redrawAllLayers()})};var g=function(d,i){var n;switch(d){case"xAxisMinorSubdivisions":case"yAxisMinorSubdivisions":n=Math.round(Math.min(Math.max(0,i),5)),i!==n&&t.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+i+", which we changed to "+n+".");break;case"degreeMode":case"projectorMode":case"showGrid":case"showXAxis":case"showYAxis":case"xAxisNumbers":case"yAxisNumbers":case"polarNumbers":case"enableTabindex":case"invertedColors":n=i!=="false"&&!!i,i!==n&&t.warn(d+" must be a Boolean. You provided "+i+" ("+typeof i+"), which we changed to "+n+" ("+typeof n+").");break;case"xAxisStep":case"yAxisStep":n=parseFloat(i),isFinite(i)||(n=0,t.warn(d+" must be a number. You provided "+i+", which we changed to "+n+"."));break;case"yAxisMinorSubdivisions":n=Math.round(Math.min(Math.max(0,i),5)),i!==n&&t.warn("minorSubdivisions must be an integer between 0 and 5. You provided "+i+", which we changed to "+n+".");break;case"xAxisArrowMode":case"yAxisArrowMode":n=c[i],n!==i&&(n=c.NONE,t.warn(`unknown AxisArrowMode. Allowed values are: 
`+w.keys(c).join(`
`)));break;case"xAxisLabel":case"yAxisLabel":n=i,typeof i!="string"&&(n="",t.warn(d+" must be a string. you provided a "+typeof i+"."));break;case"randomSeed":n=i,typeof i!="string"&&(n=""+i,t.warn("randomSeed must be a string. you provided a "+typeof i+"."));break;case"backgroundColor":n=i,typeof i!="string"&&(n="",t.warn(d+" must be a string. you provided a "+typeof i+".")),n||(n="#fff"),n[0]!=="#"&&(n="#"+n);break;case"textColor":n=i,typeof i!="string"&&(n="",t.warn(d+" must be a string. you provided a "+typeof i+".")),n||(n="#000"),n[0]!=="#"&&(n="#"+n);break;case"fontSize":n=i,typeof i!="number"&&(n=parseInt(n,10),t.warn("fontSize must be a number. Attempted to convert "+i+" to "+n+"."));break;case"language":n=i,typeof i!="string"&&(n="",t.warn(d+" must be a string. you provided a "+typeof i+".")),typeof Et<"u"&&Et.supportedLanguages.indexOf(i)<0&&i!=="en"&&(n="en",t.warn(i+" is not currently an available language."));break;default:n=i}return n};o._validateSettings=function(d){var i={},n=!1;for(var r in d)this.stateProperties.indexOf(r)>=0?i[r]=g(r,d[r]):(t.warn('Invalid graph setting "'+r+'".'),n=!0);return n&&t.warn(`Available graph settings are: 
`+this.stateProperties.join(`
`)),i},o.getBackgroundColor=function(){var d=l.normalizeColor(this.config.backgroundColor||"#fff");return this.config.invertedColors&&d!=="#ffffff"?l.invertColor(d):d},o.getTextColor=function(){var d=l.normalizeColor(this.config.textColor||"#000");return this.config.invertedColors&&d!=="#000000"?l.invertColor(d):d},o.setGraphSettings=function(d){var i=this._validateSettings(d);for(var n in i)i.hasOwnProperty(n)&&(n==="projectorMode"||n==="invertedColors"||n==="fontSize"||n==="language"||n==="backgroundColor"||n==="textColor"?this.config.setProperty(n,i[n]):this.setProperty(n,i[n]))}});return h}),$("scroll_helpers",["require"],function(B){return{scrollVisible:function(u,w,e){var c,t=w.height(),a=u.height(),l=u.offset(),h=w.offset();if(!l||!h)return!1;var o=w[0].scrollTop,s=l.top+o-h.top,p=s-e,g=a+s+e-t;return(c=p>=g?Math.min(Math.max(o,g),p):.5*(p+g))!==o&&(w[0].scrollTop=c,w[0].scrollTop!=o)}}}),$("bugsnag",["require","exports","tslib"],function(B,u,w){function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(d){var i=16*Math.random()|0;return(d=="x"?i:3&i|8).toString(16)})}function c(){return window.Desmos&&window.Desmos.commit}function t(){var d="production";if(location&&location.hostname){var i=location.hostname,n=i.split("."),r=n.slice(0,n.length-2).join(".");n.slice(n.length-2).join(".")==="desmos.com"&&(d=r&&r!=="www"?r:"production")}return d}function a(d){if(!s){var i=0,n=e();s=d({apiKey:"7f7807097671acbc4557e64bbf5eb529",maxBreadcrumbs:40,appVersion:c(),releaseStage:t(),consoleBreadcrumbsEnabled:!1,beforeSend:function(r){if(r.errorClass)for(var m=0,y=g;m<y.length;m++){var v=y[m];if(r.errorClass.indexOf(v)!==-1)return void r.ignore()}if(r.errorMessage)for(var x=0,E=g;x<E.length;x++){var v=E[x];if(r.errorMessage.indexOf(v)!==-1)return void r.ignore()}p&&p(r),r.isIgnored()||(i+=1,r.metaData.errorNumber=i,r.metaData.pageLoadId=n)}})}}function l(d,i){s&&s.notify(d,i)}function h(d,i,n,r){if(i){i=w.__assign({},i);for(var m in i)try{i[m]=JSON.stringify(i[m],null,2)}catch{i[m]="[[could not stringify]]"}}s&&s.leaveBreadcrumb(d,i,n,r)}function o(d){p=d}Object.defineProperty(u,"__esModule",{value:!0});var s,p,g=["UnhandledRejection","lnrAppboy","socratic","MyAppGet","SymBrowser_","mobincube_","_avast_submit","Cannot redefine property: googletag","jcarousel","SyntaxError: Unexpected identifier 'script'","__gCrWeb.autofill.extractForms","BrowseITEXT","Can't find variable: removeAllHighlights","aAttribruteValue.parentNode.getAttribute","vid_mate_check","GetImageTagSrcFromPoint","Can't find variable: didEnterViewPort","tinyMCE is not defined"];u.init=a,u.notify=l,u.leaveBreadcrumb=h,u.setBeforeSendCB=o}),$("tours/trip",["require","jquery","pjs","mathquill","scroll_helpers","bugsnag"],function(B){var u=B("jquery"),w=B("pjs"),e=B("mathquill"),c=B("scroll_helpers"),t=B("bugsnag");return w({init:function(a){this.settings=a,this.__cachedStepName=null},ensureTripBlock:function(){if(!this.$tripBlock){var a=['<div class="trip-block">','<div class="trip-interior">','<a class="trip-close">&times;</a>','<div class="trip-content"></div>',"</div>",'<div class="trip-arrow"></div>',"</div>"].join(""),l=this,h=this.$tripBlock=u(a);h.css({top:"-100px"}),u("body").append(h),h.find(".trip-close").on("dcg-tap",function(o){o.preventDefault(),l.stop()}),this.bindKeyEvents()}},cleanup:function(){return this.unbindKeyEvents(),this.hideTripBlock(),!1},bindKeyEvents:function(){var a=this;u(document).on({"keydown.Trip":function(l){a.keyEvent.call(a,l)}})},unbindKeyEvents:function(){u(document).off("keydown.Trip")},keyEvent:function(a){a.which===27&&this.stop()},stop:function(){this.hideTripBlock(),this.settings.onTripStop()},exitTourBecauseOfError:function(a,l){var h="",o=l;do h=o.selector+h;while(o=o.prevObject);this.stop(),t.notify("TourError: could not find $sel.offset()",{metaData:{message:a,selector:h}})},showTripBlock:function(a){this.ensureTripBlock(),typeof a.sel=="string"&&(a.sel=u(a.sel)),a.sel=a.sel.filter(":visible"),a.scrollContainer&&c.scrollVisible(a.sel,a.scrollContainer,0);var l=this.$tripBlock;l.find(".trip-content").html(a.content),l.toggleClass("trip-hidden",!!a.hidden);var h=a.sel,o=h.outerWidth(),s=h.outerHeight(),p=l.outerWidth(),g=l.outerHeight();if(!h.offset())return void(this.__cachedMissingSelTime?Date.now()-this.__cachedMissingSelTime>1e3&&(a.final?this.stop():this.exitTourBecauseOfError(a.content,h)):this.__cachedMissingSelTime=Date.now());this.__cachedMissingSelTime=void 0,l.removeClass("trip-e trip-s trip-w trip-n");var d=0;switch(a.position){case"e":l.addClass("trip-e"),l.css({left:h.offset().left+o+10,top:h.offset().top-(g-s)/2});break;case"s":l.addClass("trip-s");var i=h.offset().left+(o-p)/2;l.css({left:i,top:h.offset().top+s+10}),i+p>u(window).width()-1&&(d=u(window).width()-1-i-p),i<1&&(d=1-i);break;case"w":l.addClass("trip-w"),l.css({left:h.offset().left-(10+p),top:h.offset().top-(g-s)/2});break;default:l.addClass("trip-n"),l.css({left:h.offset().left+(o-p)/2,top:h.offset().top-10-g})}l.find(".trip-interior").css("transform","translate("+d+"px, 0)"),l.css({display:"inline-block"}),l.find(".trip-math:not(.dcg-mq-math-mode)").each(function(){e.StaticMath(this)})},fadeInTripBlock:function(){this.ensureTripBlock();var a=this.$tripBlock;setTimeout(function(){a.addClass("trip-is-loaded")},0)},hideTripBlock:function(){this.$tripBlock&&this.$tripBlock.removeClass("trip-is-loaded")}})}),$("tours/tour_manager",["require","pjs","./trip"],function(B){var u=B("pjs"),w=B("./trip");return u(function(e,c){e.init=function(){this.tripManager=new w({onTripStop:this.stopTour.bind(this)}),this.currentStep=void 0,this.currentTour=void 0},e._tripLoop=function(){if(clearTimeout(this.__tripLoopTimeout),this.running){var t=this;t._advanceTrip(),t.__tripLoopTimeout=setTimeout(t._tripLoop.bind(t),200)}},e._advanceTrip=function(){var t=this.currentTour.update(),a=new Date().getTime();if(t&&this.currentStep&&t.content!==this.currentStep.content){if(this.currentStep.delayBeforeExit){if(this.throttleTimer&&a-this.throttleTimer<this.currentStep.delayBeforeExit)return;if(!this.throttleTimer)return void(this.throttleTimer=a)}t.delayBeforeEnter&&(this.currentStep=t,this.throttleTimer=a)}if(!(t&&this.currentStep&&t.content===this.currentStep.content&&this.throttleTimer&&a-this.throttleTimer<this.currentStep.delayBeforeEnter)&&(this.throttleTimer=null,t&&!t.doNotUpdate)){if(this.currentStep=t,t.final)return void this.finishTour(t,5);this.tripManager.showTripBlock(t)}},e.updateNow=e._advanceTrip,e.startTour=function(t){this.running||(this.currentTour=t,this.running=!0,this._tripLoop(),this.tripManager.fadeInTripBlock())},e.closingMsg="<b>__endingMessage__</b><br>This message will self-destruct in __seconds__...",e.finishTour=function(t,a){clearTimeout(this.__tripLoopTimeout),this.running=!1;var l=this;if(a<0)return void l.tripManager.stop();t.endingMsg&&(t.content=l.closingMsg.replace("__endingMessage__",t.endingMsg).replace("__seconds__",a)),l.tripManager.showTripBlock(t),setTimeout(function(){l.finishTour(t,a-1)},1e3)},e.stopTour=function(){this.running=!1,this.currentStep=void 0,this.currentTour=void 0}})}),$("lib/named-colors",["require"],function(B){return{aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}),$("lib/color-distance",["require","underscore","lib/named-colors"],function(B){function u(g){var d=[],i=g.toLowerCase();if(i.slice(0,3)==="rgb")try{d=i.replace(/[^\d,]/g,"").split(",").slice(0,3),d=s.map(d,function(r){return parseInt(r,10)})}catch{e(g)}else if(i[0]==="#"){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/;i=i.replace(n,function(r,m,y,v){return m+m+y+y+v+v});try{d=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/.exec(i).slice(1),d=s.map(d,function(r){return parseInt(r,16)})}catch{e(g)}}else d=p[i];return w(d)||e(g),{R:d[0],G:d[1],B:d[2]}}function w(g){return!!s.isArray(g)&&g.length===3&&s.every(g,function(d){return Number.isInteger(d)&&d>=0&&d<=255})}function e(g){throw new Error("Invalid color string: "+g)}function c(g){var d=g.R,i=g.G,n=g.B,r=[];return r[0]=.49*d+.31*i+.2*n,r[1]=.17697*d+.8124*i+.01063*n,r[2]=.01*i+.99*n,r=s.map(r,function(m){return m/.17697}),{X:r[0],Y:r[1],Z:r[2]}}function t(g){var d=g.X,i=g.Y,n=g.Z,r=[];return r[0]=116*a(i/100)-16,r[1]=500*(a(d/95.047)-a(i/100)),r[2]=200*(a(i/100)-a(n/108.883)),{L:r[0],a:r[1],b:r[2]}}function a(g){var d=.20689655172413793;return g>Math.pow(d,3)?Math.pow(g,1/3):g/(3*d*d)+4/29}function l(g,d){var i=g.L,n=g.a,r=g.b,m=d.L,y=d.a,v=d.b,x=i-m,E=Math.sqrt(n*n+r*r),b=Math.sqrt(y*y+v*v),f=E-b,S=n-y,j=r-v,Q=Math.sqrt(S*S+j*j-f*f),G=1+.045*E,q=1+.015*E,L=x/1,M=f/(1*G),D=Q/(1*q);return Math.sqrt(L*L+M*M+D*D)}function h(g,d){return l(t(c(u(g))),t(c(u(d))))}function o(g,d){var i=s.map(d,function(r){return h(g,r)}),n=s.min(i);return d[i.indexOf(n)]}var s=B("underscore"),p=B("lib/named-colors");return{str2rgb:u,difference:h,closestColor:o}}),$("core/math/evaluate-single-expression",["require","exports","parser","core/math/builtinframe","core/math/parsenode/constant","core/math/policy"],function(B,u,w,e,c,t){function a(l,h){if(/^\s*(\-|\+)?([0-9]+(\.[0-9]+)?)\s*$/.test(l))return parseFloat(l);var o=Object.create(e);return o.trigAngleMultiplier=c(h?Math.PI/180:1),+w.parse(l).tryGetConcreteTree(t.defaultPolicy,o).asValue()}Object.defineProperty(u,"__esModule",{value:!0}),u.default=a}),$("lib/rounding",["require","exports","core/math/distance"],function(B,u,w){function e(c,t){if(!isFinite(c))return c;if(!isFinite(t))return t;var a=w.mean(c,t);if(c>0!=t>0||c===0||t===0)return 0;var l=c>0?1:-1,h=Math.abs(c).toExponential().split("e"),o=Math.abs(t).toExponential().split("e"),s=h[0],p=o[0],g=h[1],d=o[1];if(d!==g)return l*Math.pow(10,Math.max(parseFloat(g),parseFloat(d)));if(s[0]!==p[0])return parseFloat(a.toPrecision(1));for(var i=1,n=2;n<Math.min(s.length,p.length)&&(i++,s[n]===p[n]);n++);return parseFloat(a.toPrecision(i))}Object.defineProperty(u,"__esModule",{value:!0}),u.shortestDecimalBetween=e}),$("lib/copy-properties",["require","exports","core/lib/deepCopy"],function(B,u,w){function e(c){var t=c.from,a=c.to,l=c.props;for(var h in l)l[h]&&t.hasOwnProperty(h)&&(a[h]=w.default(t[h]))}Object.defineProperty(u,"__esModule",{value:!0}),u.copyProperties=e}),$("graphing-calc/models/expression",["require","exports","parser","core/math/builtinframe","tslib","core/lib/dragmode","core/types/slider-loop-modes","core/types/styles","core/types/label-sizes","core/types/label-orientations","core/math/evaluate-single-expression","lib/rounding","core/lib/deepCopy","lib/copy-properties","./abstract-item","./list","underscore","core/math/expression-types","core/lib/label","core/lib/number-to-latex","core/math/sliders","core/lib/number-to-latex","core/graphing-calc/json/expression","core/math/distribution-spec","core/math/policyGraphing"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r,m,y,v,x,E,b,f,S){function j(C){var ae=C.formula;return!!ae&&C.controller.isDecimalToFractionEnabled()&&ae.hasOwnProperty("constant_value")&&y.canDisplayAsFraction(ae.constant_value)}function Q(C){return!!C.isGraphable}function G(C){var ae=C.formula;if(!ae)return!1;var ze=ae.is_evaluable&&ae.zero_values&&ae.zero_values.length>0&&typeof ae.zero_values[0].val!="boolean",et=j(C)&&U(C);return ze||et}function q(C){var ae=C.formula;return G(C)?ae.zero_values&&ae.zero_values.length?ae.zero_values[0].val:ae.constant_value:j(C)?C.formula.constant_value:NaN}function L(C){var ae=C.formula.ttest_results;if(ae&&isFinite(ae.lessThan))return{lessThan:ae.lessThan,greaterThan:ae.greaterThan,notEqual:ae.notEqual}}function M(C){var ae=C.formula.stats_results;if(ae&&isFinite(ae.min))return{min:ae.min,q1:ae.q1,median:ae.median,q3:ae.q3,max:ae.max}}function D(C,ae){if(!isFinite(ae))return C;var ze=/=(.*?)([-\.0-9]+)/,et=C.match(ze);if(!et||parseFloat(et[2])===ae)return C;var lt=E.numberToDecimalString(ae);return C.replace(ze,"=$1"+lt)}function V(C){return((C.latex||"")+(C.label||"")).split(" ").join("")===""}function W(C){var ae=C.dragMode===t.DragMode.AUTO?C.formula.default_drag_mode:C.dragMode;C.reconciledDragMode=t.reconcileDragMode(ae,C.formula.move_strategy),C.interactiveLabel&&C.reconciledDragMode!==t.DragMode.NONE&&Xt(C,!1)}function N(C,ae,ze){if(!C.sliderExists)return NaN;var et=_e(C),lt=Fe(C),vt=se(C);if(ze&&ze.overwriteStep!==void 0&&(vt=ze.overwriteStep),ae=x.constrainSliderValueLikeEvaluator({target:ae,hardMin:C.slider.hardMin?et:void 0,hardMax:C.slider.hardMax?lt:void 0,step:vt}),!ze||!ze.ignoreSoftLimits){if(!C.slider.hardMin&&ae<et)return et;if(!C.slider.hardMax&&ae>lt)return lt}return ae}function re(C,ae){if(!C.sliderExists)return NaN;var ze=I(C),et=_e(C),lt=Fe(C),vt=se(C),_t=vt||(lt-et)/20,Rt=0;switch(ae){case"min":return N(C,et);case"max":return N(C,lt);case"up":Rt=1;break;case"down":Rt=-1;break;case"bigup":Rt=5;break;case"bigdown":Rt=-5;break;default:return ae}for(var gt=ze,xt=0;xt<20;xt++){var st=xt/3*_t,ft=ze;if(Rt>0)(ze=N(C,gt+st,{overwriteStep:_t}))>ft&&(Rt-=1);else{if(!(Rt<0))break;(ze=N(C,gt-st,{overwriteStep:_t}))<ft&&(Rt+=1)}}return ze}function Y(C,ae){if(C.sliderExists){C.slider.isPlaying&&Qt(C,!1);var ze=N(C,ae,{ignoreSoftLimits:!0});C.latex=D(C.latex,ze)}}function O(C,ae){if(C.sliderExists){C.slider.isPlaying&&Qt(C,!1),dt(C);var ze=re(C,ae);C.latex=D(C.latex,ze)}}function ee(C,ae){if(C.sliderExists){C.slider.isPlaying&&Qt(C,!1);var ze=N(C,ae);C.latex=D(C.latex,ze)}}function oe(C,ae){if(C.sliderExists){var ze=C.sliderLastTickTime;if(C.sliderLastTickTime=ae,ze!==void 0){var et=ae-ze,lt=_e(C),vt=Fe(C),_t=se(C),Rt=C.slider.animationPeriod,gt=C.slider.loopMode;if(isNaN(C.sliderAnimationTargetValue)){var xt=I(C);isNaN(xt)||(C.sliderAnimationTargetValue=xt)}var st=_t?_t/2:0;if(gt===a.SliderLoopMode.LOOP_FORWARD_REVERSE)C.sliderAnimationTargetValue>=vt?ht(C,{playDirection:-1}):C.sliderAnimationTargetValue<=lt&&ht(C,{playDirection:1});else if(gt===a.SliderLoopMode.LOOP_FORWARD)ht(C,{playDirection:1}),C.sliderAnimationTargetValue>=vt+st&&(C.sliderAnimationTargetValue=lt-st);else if(gt===a.SliderLoopMode.PLAY_ONCE)ht(C,{playDirection:1});else{if(gt!==a.SliderLoopMode.PLAY_INDEFINITELY)throw new Error("Unexpected slider loop mode: "+gt);ht(C,{playDirection:1})}isFinite(et)||(et=0);var ft,Tt;gt===a.SliderLoopMode.PLAY_INDEFINITELY?(ft=et/(Rt/4),_t&&(ft*=_t),C.sliderAnimationTargetValue+=ft,Tt=C.sliderAnimationTargetValue,_t||(Tt=p.shortestDecimalBetween(Tt-.1*ft,Tt+.1*ft)),Tt=N(C,Tt,{ignoreSoftLimits:!0}),C.latex=D(C.latex,Tt)):(et=Math.min(et,Rt/10),ft=(vt-lt)*et/Rt,C.sliderAnimationTargetValue+=ft*C.slider.playDirection,C.sliderAnimationTargetValue=Math.max(lt-st,Math.min(vt+st,C.sliderAnimationTargetValue)),Tt=C.sliderAnimationTargetValue,_t||(Tt=p.shortestDecimalBetween(Tt-.1*ft,Tt+.1*ft)),Tt=N(C,Tt),C.latex=D(C.latex,Tt))}}}function H(C,ae){C.formula=ae,C.loading=!1,C.error=ae.error?ae.error:"",C.isGraphable=ae.is_graphable,C.dependent=ae.assignment,C.isTableable=ae.is_tableable,C.unresolved=!1,ae.is_single_identifier?C.missingVariables=[]:C.missingVariables=ae.variables||[],C.__workerSliderLatex=ae.raw_slider_latex,ae.is_slider?(C.__workerSliderValue=ae.constant_value,C.__workerSliderMin=ae.slider_min_number,C.__workerSliderMax=ae.slider_max_number,C.__workerSliderStep=ae.slider_step_number,C.__workerSliderMinValid=ae.slider_min_valid,C.__workerSliderMaxValid=ae.slider_max_valid,C.__workerSliderStepValid=ae.slider_step_valid,C.sliderExists||(C.sliderAnimationTargetValue=I(C),C.sliderDragging=!1,C.sliderExists=!0)):C.sliderExists=!1,C.__workerDomainMin=ae.domain_min_number,C.__workerDomainMax=ae.domain_max_number,C.__workerDomainMinValid=ae.domain_min_valid,C.__workerDomainMaxValid=ae.domain_max_valid,C.__workerCDFMinValid=ae.cdf_min_valid,C.__workerCDFMaxValid=ae.cdf_max_valid,C.__workerFillOpacityValid=ae.fill_opacity_valid,C.__workerLineWidthValid=ae.line_width_valid,C.__workerCDFEvaluation=ae.cdf_evaluation;var ze={};ae.is_regression&&(ze=ae.regression.parameters,C.residualVariable=ae.regression.residualVariable),r.isEqual(C.regressionParameters,ze)||(C.regressionParameters=ze)}function J(C){var ae=n.getParentFolderModel(C);ae&&ae.hidden||C.formula.expression_type&&Bn(C)?C.shouldGraph=!1:C.shouldGraph=!C.hidden}function ie(C){if(!C.sliderExists||C.latex!==C.__workerSliderLatex)return void(C.cachedDisplayLatex={storedLatex:C.latex,valueLatex:C.latex});var ae=C.latex;if(C.cachedDisplayLatex.storedLatex!==ae)return void(C.cachedDisplayLatex={storedLatex:C.latex,valueLatex:C.latex});if(isFinite(C.__workerSliderValue)){var ze=C.controller.getFocusLocation();ze&&ze.type==="expression"&&ze.id===C.id||(C.cachedDisplayLatex.valueLatex=D(C.latex,C.__workerSliderValue))}}function de(C){return C.cachedDisplayLatex.valueLatex}function fe(C){var ae=y.value(C);return ae.superscript&&ae.mantissa?ae.mantissa+"^{"+ae.superscript+"}":ae.string}function Ee(C){return C.slider.hardMin?C.slider.min:fe(_e(C))}function ye(C){return C.slider.hardMax?C.slider.max:fe(Fe(C))}function _e(C){if(C.slider.hardMin)return isFinite(C.__workerSliderMin)?C.__workerSliderMin:NaN;var ae=C.controller.isDegreeMode(),ze=s.default(C.slider.min,ae),et=I(C),lt=se(C),vt=C.slider.hardMax?C.__workerSliderMax:void 0,_t=-10;if(ze<_t&&(_t=ze),et<_t&&(_t=et),vt<_t&&(_t=vt),lt){var Rt=x.constrainSliderValueLikeEvaluator({target:_t,hardMin:void 0,hardMax:vt,step:lt});_t=Rt<=_t?Rt:Rt-lt}return _t}function Fe(C){if(C.slider.hardMax)return isFinite(C.__workerSliderMax)?C.__workerSliderMax:NaN;var ae=C.controller.isDegreeMode(),ze=s.default(C.slider.max,ae),et=I(C),lt=se(C),vt=C.slider.hardMin?C.__workerSliderMin:void 0,_t=10;if(ze>_t&&(_t=ze),et>_t&&(_t=et),vt>_t&&(_t=vt),lt){var Rt=x.constrainSliderValueLikeEvaluator({target:_t,hardMin:vt,hardMax:void 0,step:lt});_t=Rt>=_t?Rt:Rt+lt}return _t}function se(C){return C.__workerSliderStep}function I(C){return C.latex!==C.__workerSliderLatex?Pt(C.latex):isFinite(C.__workerSliderValue)?C.__workerSliderValue:NaN}function ne(C){return!!C.slider.isPlaying&&C.slider.loopMode===a.SliderLoopMode.PLAY_ONCE&&I(C)>=Fe(C)}function pe(C,ae){return!!C.formula.viz_valids&&!!C.formula.viz_valids[ae]}function ge(C,ae){return C.vizProps[ae]}function Be(C,ae,ze){var et;C.vizProps=c.__assign(c.__assign({},C.vizProps),(et={},et[ae]=ze,et))}function Re(C,ae){return C.clickableInfo[ae]}function ve(C,ae){return ae==="assignment"?!!C.formula.clickableinfo_identifier_valid:ae==="expression"&&!!C.formula.clickableinfo_expression_valid}function ke(C){return C.formula.clickableinfo_latex}function T(C){return C.formula.clickableinfo_identifier}function Ie(C,ae,ze){var et;C.clickableInfo=c.__assign(c.__assign({},C.clickableInfo),(et={},et[ae]=ze,et))}function Ke(C){return C.clickableInfo.enabled&&Ue(C)}function Ye(C){return!!C.__workerNeedsDotplotXMode}function bt(C){return!!C.__workerSliderMinValid}function le(C){return!!C.__workerSliderMaxValid}function Te(C){return!!C.__workerSliderStepValid}function Ce(C){return isFinite(C.__workerSampledDomainMin)?C.__workerSampledDomainMin:isFinite(C.__workerDomainMin)?C.__workerDomainMin:NaN}function xe(C){return isFinite(C.__workerSampledDomainMax)?C.__workerSampledDomainMax:isFinite(C.__workerDomainMax)?C.__workerDomainMax:NaN}function Qe(C){return!!C.__workerDomainMinValid}function je(C){return!!C.__workerDomainMaxValid}function be(C,ae){var ze=C.cachedViewState;if(ae.stripDefaults&&C.parametricDomain.min===""&&C.parametricDomain.max===""||(ze=c.__assign(c.__assign({},ze),{domain:{min:C.parametricDomain.min===""?"0":C.parametricDomain.min,max:C.parametricDomain.max===""?"1":C.parametricDomain.max}})),ae.stripDefaults)return b.stripDefaults(ze);if(ze.points===void 0||ze.lines===void 0||ze.fill===void 0){var et=g.default(ze);return et.points===void 0&&delete et.points,et.lines===void 0&&delete et.lines,et.fill===void 0&&delete et.fill,et}return ze}function Me(C){var ae=C.cachedViewState;ae&&ae.folderId===C.folderId&&ae.color===C.color&&ae.latex===C.latex&&ae.parametricDomain===C.parametricDomain&&ae.fillOpacity===C.fillOpacity&&ae.lineWidth===C.lineWidth&&ae.polarDomain===C.polarDomain&&ae.showLabel===C.showLabel&&ae.cdf===C.cdf&&ae.vizProps===C.vizProps&&ae.clickableInfo===C.clickableInfo&&ae.label===C.label&&ae.hidden===C.hidden&&ae.secret===C.secret&&ae.fill===C.fill&&ae.points===C.points&&ae.lines===C.lines&&ae.lineStyle===C.lineStyle&&ae.pointStyle===C.pointStyle&&ae.dragMode===C.dragMode&&ae.labelSize===C.labelSize&&ae.labelOrientation===C.labelOrientation&&ae.verticalLabel===C.verticalLabel&&ae.suppressTextOutline===C.suppressTextOutline&&ae.interactiveLabel===C.interactiveLabel&&ae.editableLabelMode===C.editableLabelMode&&ae.residualVariable===C.residualVariable&&ae.regressionParameters===C.regressionParameters&&ae.isLogModeRegression===C.isLogModeRegression&&ae.displayEvaluationAsFraction===C.displayEvaluationAsFraction&&ae.slider===C.slider||(C.cachedViewState={type:C.type,id:C.id,folderId:C.folderId,color:C.color,latex:C.latex,parametricDomain:C.parametricDomain,fillOpacity:C.fillOpacity,lineWidth:C.lineWidth,polarDomain:C.polarDomain,showLabel:C.showLabel,cdf:C.cdf,vizProps:C.vizProps,clickableInfo:C.clickableInfo,label:C.label,hidden:C.hidden,secret:C.secret,points:C.points,lines:C.lines,lineStyle:C.lineStyle,pointStyle:C.pointStyle,fill:C.fill,dragMode:C.dragMode,labelSize:C.labelSize,labelOrientation:C.labelOrientation,verticalLabel:C.verticalLabel,suppressTextOutline:C.suppressTextOutline,interactiveLabel:C.interactiveLabel,editableLabelMode:C.editableLabelMode,residualVariable:C.residualVariable,regressionParameters:C.regressionParameters,isLogModeRegression:C.isLogModeRegression,displayEvaluationAsFraction:C.displayEvaluationAsFraction,slider:C.slider})}function De(C,ae){ae&&dt(C),C.draggingOnGraphpaper=ae}function Pe(C){var ae=C.memoizedUndoRedoStateParams,ze=C.cachedViewState,et=C.preTransientState;if(!ae||ae.viewState!==ze||ae.preTransientState!==et){C.memoizedUndoRedoStateParams={viewState:ze,preTransientState:et};var lt;lt=et?c.__assign(c.__assign({},ze),{latex:et.latex,slider:c.__assign(c.__assign({},ze.slider),et.slider)}):c.__assign({},ze),delete lt.regressionParameters,delete lt.residualVariable,C.cachedUndoRedoState=lt}}function He(C,ae){var ze=g.default(b.inflateDefaults(C));return c.__assign(c.__assign(c.__assign({},ze),i.DEFAULTS(ae)),{loading:!0,labelDropdownOpen:!1,formula:{error:void 0},missingVariables:[],error:void 0,unresolved:!1,color:ze.color||ae.getNextColor(),fill:ze.fill,points:ze.points,lines:ze.lines,pointStyle:ze.pointStyle,lineStyle:ze.lineStyle,displayEvaluationAsFraction:ze.displayEvaluationAsFraction,shouldGraph:void 0,sliderDragging:void 0,sliderAnimationTargetValue:void 0,sliderLastTickTime:void 0,draggingOnGraphpaper:!1,cachedUndoRedoState:void 0,cachedParsableState:void 0,cachedViewState:void 0,cachedDisplayLatex:{storedLatex:"",valueLatex:""}})}function Ze(C){var ae=n.getParentFolderModel(C),ze=!(!ae||!ae.hidden),et=C.cachedViewState,lt=C.index,vt=C.showLabel&&!ze,_t=C.shouldGraph,Rt=C.slider.hardMin?C.slider.min:"",gt=C.slider.hardMax?C.slider.max:"",xt=C.slider.step,st=C.memoizedParsableStateParams;if(!st||st.viewState!==et||st.index!==lt||st.showLabel!==vt||st.shouldGraph!==_t||st.polarDomainMin!==C.polarDomain.min||st.polarDomainMax!==C.polarDomain.max||st.fillOpacity!==C.fillOpacity||st.lineWidth!==C.lineWidth||st.parametricDomainMin!==C.parametricDomain.min||st.parametricDomainMax!==C.parametricDomain.max||st.sliderMin!==Rt||st.sliderMax!==gt||st.sliderStep!==xt){C.memoizedParsableStateParams={viewState:et,index:lt,polarDomainMin:C.polarDomain.min,polarDomainMax:C.polarDomain.max,fillOpacity:C.fillOpacity,lineWidth:C.lineWidth,parametricDomainMin:C.parametricDomain.min,parametricDomainMax:C.parametricDomain.max,sliderMin:Rt,sliderMax:gt,sliderStep:xt,showLabel:vt,shouldGraph:_t};var ft=b.computeParsableState(et);ft.index=lt,ft.showLabel=vt,ft.shouldGraph=_t,C.cachedParsableState=ft}}function rt(C,ae){ae(C.latex),C.residualVariable&&ae(C.residualVariable)}function Ct(C){var ae=C.sliderExists&&(C.slider.isPlaying||C.sliderDragging);C.draggingOnGraphpaper||ae?C.preTransientState||(C.preTransientState={latex:C.latex,slider:{min:C.slider.min,max:C.slider.max,playDirection:C.slider.playDirection}}):delete C.preTransientState,C.sliderExists&&C.slider.isPlaying||(C.sliderLastTickTime=void 0),i.updateIsHiddenFromUI(C),J(C),W(C),Me(C),Pe(C),Ze(C),ie(C)}function nt(C,ae){d.copyProperties({from:ae,to:C,props:{id:!1,type:!1,color:!0,folderId:!0,latex:!0,polarDomain:!0,parametricDomain:!0,showLabel:!0,label:!0,cdf:!0,vizProps:!0,clickableInfo:!0,hidden:!0,secret:!0,points:!0,lines:!0,lineStyle:!0,pointStyle:!0,fill:!0,fillOpacity:!0,lineWidth:!0,dragMode:!0,labelSize:!0,labelOrientation:!0,verticalLabel:!0,suppressTextOutline:!0,interactiveLabel:!0,editableLabelMode:!0,residualVariable:!0,regressionParameters:!0,isLogModeRegression:!0,displayEvaluationAsFraction:!0,slider:!0}})}function at(C,ae){ae?ht(C,{hardMin:!0,min:ae}):ht(C,{hardMin:!1,min:"-10"})}function Mt(C,ae){ae?ht(C,{hardMax:!0,max:ae}):ht(C,{hardMax:!1,max:"10"})}function ht(C,ae){C.slider=c.__assign(c.__assign({},C.slider),ae)}function Qt(C,ae){C&&C.sliderExists&&C.slider.isPlaying!==ae&&(ht(C,{isPlaying:ae}),ae&&(dt(C),C.sliderAnimationTargetValue=I(C)))}function dt(C){if(!C.slider.hardMin){var ae=v.default(_e(C));ae!==C.slider.min&&ht(C,{min:ae})}if(!C.slider.hardMax){var ze=v.default(Fe(C));ze!==C.slider.max&&ht(C,{max:ze})}}function Pt(C){var ae=w.parse(C);if(ae.type!=="Assignment")return NaN;if(ae._expression.type!=="Constant")return NaN;if(!S.PolicyGraphing.validLHS(ae._symbol))return NaN;if(e[ae._symbol])return NaN;var ze=ae._expression.asValue();return typeof ze=="number"?ze:NaN}function Dt(C,ae){var ze=Pt(ae);if(isFinite(ze)){var et=x.determineWhichLimitsAreCompatibleWithValue({target:ze,step:se(C),hardMin:C.slider.hardMin?_e(C):void 0,hardMax:C.slider.hardMax?Fe(C):void 0});et.min||ht(C,{hardMin:!1,min:"-10"}),et.max||ht(C,{hardMax:!1,max:"10"}),et.step||ht(C,{step:""})}C.latex=ae}function Wt(C,ae){ht(C,{loopMode:ae,playDirection:1}),ae===a.SliderLoopMode.PLAY_INDEFINITELY&&ht(C,{hardMin:!1,hardMax:!1,min:"",max:""}),C.sliderAnimationTargetValue=_e(C)}function nn(C,ae){ae&&dt(C),C.sliderDragging=ae}function zt(C,ae){ht(C,{step:ae})}function Nt(C,ae){ht(C,{animationPeriod:ae})}function U(C){return C.displayEvaluationAsFraction}function Z(C,ae){C.displayEvaluationAsFraction=ae}function k(C,ae){C.label=ae}function P(C,ae){C.showLabel=ae}function K(C,ae){C.polarDomain=c.__assign(c.__assign({},C.polarDomain),{min:ae})}function ue(C,ae){C.parametricDomain=c.__assign(c.__assign({},C.parametricDomain),{min:ae})}function z(C,ae){C.polarDomain=c.__assign(c.__assign({},C.polarDomain),{max:ae})}function me(C,ae){C.parametricDomain=c.__assign(c.__assign({},C.parametricDomain),{max:ae})}function we(C,ae){C.isLogModeRegression=ae}function qe(C,ae){C.color=ae}function Ge(C,ae){C.fill=ae}function $e(C,ae){C.fillOpacity!==ae&&(C.fillOpacity=ae)}function it(C,ae){C.lineWidth!==ae&&(C.lineWidth=ae)}function ot(C,ae){C.labelDropdownOpen=ae}function ct(C,ae){C.dragMode!==ae&&(C.dragMode=ae,ae!==t.DragMode.NONE&&(C.pointStyle=l.PointStyle.POINT))}function St(C,ae){C.points=ae}function Bt(C,ae){C.pointStyle!==ae&&(C.pointStyle=ae,ae!==l.PointStyle.POINT&&(C.dragMode=t.DragMode.NONE))}function qt(C,ae){C.lines=ae}function Lt(C,ae){C.lineStyle!==ae&&(C.lineStyle=ae)}function Ut(C,ae){C.labelSize=ae}function It(C,ae){C.labelOrientation=ae}function At(C,ae){C.verticalLabel=ae}function Kt(C,ae){C.suppressTextOutline=ae}function Xt(C,ae){C.interactiveLabel=ae}function pn(C,ae){C.editableLabelMode=ae}function mt(C){return C.editableLabelMode}function Zt(C){var ae=C.editableLabelMode;return ae===b.EditableLabelMode.Math||ae===b.EditableLabelMode.Text}function ir(C,ae){C.hidden=ae,!ae&&Bn(C)&&(C.lines=C.points=C.fill=void 0)}function Bn(C){var ae=C.points,ze=C.lines,et=C.fill,lt=m.getReconciledExpressionProps(C.formula.expression_type,{points:ae,lines:ze,fill:et});return!lt.points&&!lt.lines&&!lt.fill}function Ln(C){return Kn(C)||Fn(C)}function or(C){return C.polarDomain.min}function ar(C){return C.polarDomain.max}function Hn(C){return C.parametricDomain.min}function wn(C){return C.parametricDomain.max}function Pn(C){return!!C.sliderExists}function On(C){return C.formula.expression_type===m.ExpressionType.POLYGON}function Kn(C){return C.formula.expression_type===m.ExpressionType.PARAMETRIC}function Fn(C){return C.formula.expression_type===m.ExpressionType.POLAR}function sr(C){return C.formula.expression_type===m.ExpressionType.SINGLE_POINT}function cr(C){return C.formula.expression_type===m.ExpressionType.POINT_LIST}function lr(C){return C.formula.expression_type===m.ExpressionType.POINT_LIST||C.formula.expression_type===m.ExpressionType.SINGLE_POINT}function Wn(C){var ae=bn(C);return!(!ae||ae.type!=="visualization"||ae.symbol!=="boxplot")}function qn(C){var ae=bn(C);return!(!ae||ae.type!=="visualization"||ae.symbol!=="dotplot")}function In(C){var ae=bn(C);return!(!ae||ae.type!=="visualization"||ae.symbol!=="histogram")}function Jn(C){return Wn(C)||qn(C)||In(C)}function Nn(C){return C.formula.expression_type===m.ExpressionType.TTEST}function dr(C){return C.formula.expression_type===m.ExpressionType.STATS}function ur(C){return!!bn(C)}function Rn(C){var ae=bn(C);return!(!ae||ae.type!=="distribution")}function pr(C){var ae=C.formula;return!!ae&&!!ae.is_discrete_distribution}function bn(C){if(C.controller.areDistributionsEnabled()&&C.latex)return C.cachedParseToplevelFunction&&C.cachedParseToplevelFunction.latex===C.latex||(C.cachedParseToplevelFunction={latex:C.latex,spec:f.parseToplevelFunction(C.latex)}),C.cachedParseToplevelFunction.spec}function Xn(C){return vn(C)&&Rn(C)}function vn(C){return!!C.formula.expression_type}function Qn(C){return!!C.formula.is_concrete_list}function zn(C){return!!Xn(C)&&!Qn(C)&&C.cdf.show}function Zn(C){return C.cdf.min}function hr(C){return C.cdf.max}function gr(C){var ae=C.formula.cdf_min_default;return ae===-1/0?"-\\infty":isFinite(ae)?ae+"":"-\\infty"}function A(C){var ae=C.formula.cdf_max_default;return ae===1/0?"\\infty":isFinite(ae)?ae+"":"\\infty"}function _(C,ae){C.cdf=c.__assign(c.__assign({},C.cdf),{show:ae})}function F(C,ae){C.cdf=c.__assign(c.__assign({},C.cdf),{min:ae})}function R(C,ae){C.cdf=c.__assign(c.__assign({},C.cdf),{max:ae})}function X(C){return C.__workerCDFMinValid!==!1}function te(C){return C.__workerCDFMaxValid!==!1}function ce(C){return C.__workerFillOpacityValid!==!1}function Ae(C){return C.__workerLineWidthValid!==!1}function Oe(C){return isFinite(C.__workerCDFEvaluation)?C.__workerCDFEvaluation:0}function Ue(C){return!!m.isClickableExpressionType(C.formula.expression_type)&&(!C.reconciledDragMode||C.reconciledDragMode===t.DragMode.NONE)}function We(C){C.showLabel=b.DEFAULTS.showLabel,C.label=b.DEFAULTS.label,C.hidden=b.DEFAULTS.hidden,C.dragMode=b.DEFAULTS.dragMode,C.fill=b.DEFAULTS.fill,C.fillOpacity=b.DEFAULTS.fillOpacity,C.lineWidth=b.DEFAULTS.lineWidth,C.points=b.DEFAULTS.points,C.pointStyle=b.DEFAULTS.pointStyle,C.lines=b.DEFAULTS.lines,C.lineStyle=b.DEFAULTS.lineStyle,C.polarDomain=b.DEFAULTS.polarDomain,C.parametricDomain=b.DEFAULTS.parametricDomain,C.slider=b.SLIDER_DEFAULTS,C.latex="",C.labelSize=h.LabelSize.MEDIUM,C.labelOrientation=o.LabelOrientation.DEFAULT,C.displayEvaluationAsFraction=b.DEFAULTS.displayEvaluationAsFraction,C.verticalLabel=!1,C.suppressTextOutline=!1,C.interactiveLabel=!1,C.editableLabelMode=b.DEFAULTS.editableLabelMode,C.cdf=b.DEFAULTS.cdf,C.vizProps=b.DEFAULTS.vizProps}Object.defineProperty(u,"__esModule",{value:!0}),u.EvaluationLabelOptions={smallCutoff:1e-6,bigCutoff:1e9,digits:12},u.isRationalizableConstant=j,u.isGraphable=Q,u.shouldShowEvaluation=G,u.getEvaluationValue=q,u.getTTestResults=L,u.getStatsResults=M,u.computeNewSliderLatex=D,u.isEmpty=V,u.updateReconciledDragMode=W,u.adjustSliderByMovablePoint=Y,u.adjustSliderByKeyboard=O,u.adjustSliderByDraggingThumb=ee,u.tickSliderStep=oe,u.onFormulaUpdate=H,u.computeShouldGraph=J,u.updateDisplayLatex=ie,u.getDisplayLatex=de,u.getDisplaySliderMin=Ee,u.getDisplaySliderMax=ye,u.getSliderMin=_e,u.getSliderMax=Fe,u.getSliderStep=se,u.getSliderValue=I,u.isSliderAtEndOfPlayOnce=ne,u.isVizPropValid=pe,u.getVizPropLatex=ge,u.setVizProp=Be,u.getClickableInfoPropLatex=Re,u.isClickableInfoPropValid=ve,u.getClickableInfoUpdateLatex=ke,u.getClickableInfoUpdateIdentifier=T,u.setClickableInfoProp=Ie,u.isClickableObject=Ke,u.needsDotplotXMode=Ye,u.isSliderMinValid=bt,u.isSliderMaxValid=le,u.isSliderStepValid=Te,u.getDomainMin=Ce,u.getDomainMax=xe,u.isDomainMinValid=Qe,u.isDomainMaxValid=je,u.getState=be,u.updateCachedViewState=Me,u.setIsDraggingOnGrapher=De,u.updateCachedUndoRedoState=Pe,u.initModel=He,u.updateCachedParsableState=Ze,u.eachLatex=rt,u.onControllerUpdate=Ct,u.restoreState=nt,u.setSliderMin=at,u.setSliderMax=Mt,u.setSliderIsPlaying=Qt,u.commitSliderSoftLimits=dt,u.extractSliderValueFromLatex=Pt,u.setLatex=Dt,u.setSliderLoopMode=Wt,u.setSliderDragging=nn,u.setSliderStep=zt,u.setSliderAnimationPeriod=Nt,u.shouldEvaluationDisplayAsFraction=U,u.setEvaluationAsFraction=Z,u.setLabel=k,u.setShowLabel=P,u.setPolarDomainMin=K,u.setParametricDomainMin=ue,u.setPolarDomainMax=z,u.setParametricDomainMax=me,u.setLogMode=we,u.setColor=qe,u.setFill=Ge,u.setFillOpacity=$e,u.setLineWidth=it,u.setLabelDropdownOpen=ot,u.setDragMode=ct,u.setPoints=St,u.setPointStyle=Bt,u.setLines=qt,u.setLineStyle=Lt,u.setLabelSize=Ut,u.setLabelOrientation=It,u.setVerticalLabel=At,u.setSuppressTextOutline=Kt,u.setInteractiveLabel=Xt,u.setEditableLabelMode=pn,u.getEditableLabelMode=mt,u.hasEditableLabel=Zt,u.setHidden=ir,u.areAllVisibilityPropsOff=Bn,u.hasDomain=Ln,u.getPolarDomainMin=or,u.getPolarDomainMax=ar,u.getParametricDomainMin=Hn,u.getParametricDomainMax=wn,u.hasSlider=Pn,u.isPolygon=On,u.isParametric=Kn,u.isPolar=Fn,u.isSinglePoint=sr,u.isPointList=cr,u.isPointOrPointList=lr,u.isBoxPlot=Wn,u.isDotPlot=qn,u.isHistogram=In,u.isVisualization=Jn,u.isTTest=Nn,u.isStats=dr,u.isToplevelFunction=ur,u.isToplevelDistribution=Rn,u.isDiscreteDistribution=pr,u.parseToplevelFunction=bn,u.shouldShowCDFCheckbox=Xn,u.isPrimaryLatexValid=vn,u.isListValuedDistribution=Qn,u.shouldShowCDFFooter=zn,u.getCDFMin=Zn,u.getCDFMax=hr,u.getCDFMinPlaceholder=gr,u.getCDFMaxPlaceholder=A,u.setShowCDF=_,u.setCDFMin=F,u.setCDFMax=R,u.isCDFMinValid=X,u.isCDFMaxValid=te,u.isFillOpacityValid=ce,u.isLineWidthValid=Ae,u.getCDFEvaluation=Oe,u.isClickableAllowed=Ue,u.blankOutExpressionAfterClearingLatex=We}),$("core/graphing-calc/json/folder",["require","exports","tslib","core/lib/default-spec"],function(B,u,w,e){function c(a){return w.__assign(w.__assign({},u.DEFAULTS),a)}function t(a){return e.stripDefaults(u.DEFAULTS,a)}Object.defineProperty(u,"__esModule",{value:!0}),u.DEFAULTS={collapsed:!1,hidden:!1,secret:!1,title:""},u.inflateDefaults=c,u.stripDefaults=t}),$("graphing-calc/models/folder",["require","exports","tslib","core/lib/deepCopy","lib/copy-properties","./abstract-item","./list","core/graphing-calc/json/folder"],function(B,u,w,e,c,t,a,l){function h(y,v){var x=y.cachedViewState;return v.stripDefaults?l.stripDefaults(x):x}function o(y){y.cachedViewState={type:y.type,id:y.id,title:y.title,hidden:y.hidden,collapsed:y.collapsed,secret:y.secret}}function s(y){y.cachedUndoRedoState=y.cachedViewState}function p(y,v){var x=e.default(l.inflateDefaults(y));return w.__assign(w.__assign(w.__assign({},x),t.DEFAULTS(v)),{cachedUndoRedoState:{},cachedViewState:{}})}function g(y){i(y),t.updateIsHiddenFromUI(y),o(y),s(y)}function d(y,v){c.copyProperties({from:v,to:y,props:{id:!1,type:!1,hidden:!0,secret:!0,collapsed:!0,title:!0}})}function i(y){var v=y.controller,x=v.getSelectedItem();y.collapsed?x&&x.type!=="folder"&&x.folderId===y.id?(y.selectedHiddenChild=x,a.setSelected(v.getListModel(),y)):x!==y&&(y.selectedHiddenChild=void 0):(x===y&&y.selectedHiddenChild&&a.setSelected(v.getListModel(),y.selectedHiddenChild),y.selectedHiddenChild=void 0)}function n(y,v){y.collapsed=v}function r(y,v){y.title=v}function m(y,v){y.hidden=v}Object.defineProperty(u,"__esModule",{value:!0}),u.getState=h,u.updateCachedViewState=o,u.updateCachedUndoRedoState=s,u.initModel=p,u.onControllerUpdate=g,u.restoreState=d,u.updateSelectedHiddenChild=i,u.setCollapsed=n,u.setTitle=r,u.setHidden=m}),$("core/graphing-calc/json/text",["require","exports","tslib","core/lib/default-spec"],function(B,u,w,e){function c(a){return w.__assign(w.__assign({},u.DEFAULTS),a)}function t(a){return e.stripDefaults(u.DEFAULTS,a)}Object.defineProperty(u,"__esModule",{value:!0}),u.DEFAULTS={folderId:"",text:"",secret:!1},u.inflateDefaults=c,u.stripDefaults=t}),$("graphing-calc/models/text",["require","exports","tslib","./abstract-item","core/lib/deepCopy","lib/copy-properties","core/graphing-calc/json/text"],function(B,u,w,e,c,t,a){function l(i,n){i.text=n}function h(i,n){var r=c.default(a.inflateDefaults(i));return w.__assign(w.__assign(w.__assign({},r),e.DEFAULTS(n)),{cachedUndoRedoState:{},cachedViewState:{}})}function o(i){e.updateIsHiddenFromUI(i),g(i),d(i)}function s(i,n){t.copyProperties({from:n,to:i,props:{id:!1,type:!1,folderId:!0,text:!0,secret:!0}})}function p(i,n){var r=i.cachedViewState;return n.stripDefaults?a.stripDefaults(r):r}function g(i){i.cachedViewState={type:i.type,id:i.id,folderId:i.folderId,text:i.text,secret:i.secret}}function d(i){i.cachedUndoRedoState=i.cachedViewState}Object.defineProperty(u,"__esModule",{value:!0}),u.setText=l,u.initModel=h,u.onControllerUpdate=o,u.restoreState=s,u.getState=p,u.updateCachedViewState=g,u.updateCachedUndoRedoState=d}),$("graphing-calc/models/helper-expression",["require","exports","core/math/evaluationstate","tslib","underscore"],function(B,u,w,e,c){function t(l){return e.__assign(e.__assign({},l),{formula:w.default(),cachedParsableState:{type:"statement",id:l.id,latex:l.latex,shouldGraph:!1}})}function a(l,h,o){h.formula=o;var s,p=h.proxy,g={numericValue:p.numericValue,listValue:p.listValue};o.zero_values&&o.zero_values.length===1&&(s=o.zero_values[0].val),p.numericValue=c.isNumber(s)?s:NaN,p.listValue=c.isArray(s)?s.slice(0):void 0,c.isEqual(p.numericValue,g.numericValue)||l.runAfterDispatch(function(){p.notifyPropertyChange("numericValue")}),c.isEqual(p.listValue,g.listValue)||l.runAfterDispatch(function(){p.notifyPropertyChange("listValue")})}Object.defineProperty(u,"__esModule",{value:!0}),u.init=t,u.onFormulaUpdate=a}),$("core/graphing-calc/json/image",["require","exports","tslib","core/lib/default-spec"],function(B,u,w,e){function c(l){return w.__assign(w.__assign(w.__assign({},u.DEFAULTS),l),{clickableInfo:w.__assign(w.__assign({},u.CLICKABLEINFO_DEFAULTS),l.clickableInfo)})}function t(l){var h=e.stripDefaults(u.DEFAULTS,l),o=e.stripDefaultsAndMaybeReturnUndefined(u.CLICKABLEINFO_DEFAULTS,l.clickableInfo);return o===void 0?delete h.clickableInfo:h.clickableInfo=o,h}function a(l){return{type:"image",id:l.id,center:l.center,angle:l.angle,width:l.width,height:l.height,opacity:l.opacity,clickableInfo:l.clickableInfo,guid:"",index:0,color:"",shouldGraph:l.hidden,showPoints:!1}}Object.defineProperty(u,"__esModule",{value:!0}),u.CLICKABLEINFO_DEFAULTS={enabled:!1,description:"",assignment:"",expression:"",hoveredImage:"",depressedImage:""},u.DEFAULTS={folderId:"",hidden:!1,secret:!1,center:"\\left(0,0\\right)",angle:"0",width:"10",height:"10",opacity:"1",foreground:!1,name:"",clickableInfo:u.CLICKABLEINFO_DEFAULTS},u.inflateDefaults=c,u.stripDefaults=t,u.computeParsableState=a}),$("graphing-calc/models/image",["require","exports","tslib","core/lib/color-helpers","./abstract-item","core/lib/deepCopy","lib/copy-properties","./list","jquery","core/graphing-calc/json/image"],function(B,u,w,e,c,t,a,l,h,o){function s(H,J){H.hidden=J}function p(H,J){H.secret=J}function g(H,J,ie){H[J]=ie}function d(H,J){return H[J]}function i(H,J){H.name=J}function n(H,J){H.opacity=J}function r(H,J){H.foreground=J}function m(H,J){H.image_url=J}function y(H){var J=o.computeParsableState(H);J.color=H.color,J.index=H.index,J.guid=H.guid,J.shouldGraph=H.shouldGraph,J.showPoints=H.showPoints,H.cachedParsableState=J}function v(H){H.draggingOnGraphpaper?H.preTransientState||(H.preTransientState={center:H.center,angle:H.angle,width:H.width,height:H.height,opacity:H.opacity}):delete H.preTransientState,c.updateIsHiddenFromUI(H);var J=l.getParentFolderModel(H);H.shouldGraph=(!J||!J.hidden)&&!H.hidden,H.showPoints=H.shouldGraph&&l.isItemSelected(H)&&H.loadStatus==="loaded",f(H),j(H),y(H)}function x(H,J){H.formula=J,H.missingVariables=H.formula.variables||[],H.computed_x=H.formula.dimensions.x,H.computed_y=H.formula.dimensions.y,H.computed_radian_angle=H.formula.dimensions.radianAngle,H.computed_height=H.formula.dimensions.height,H.computed_width=H.formula.dimensions.width,H.computed_opacity=H.formula.dimensions.opacity;var ie={center:H.controller.t("Invalid center. Try, for example, (0,0)."),angle:H.controller.t("Invalid angle. Try using any number."),width:H.controller.t("Invalid width. Try using any number."),height:H.controller.t("Invalid height. Try using any number."),opacity:H.controller.t("Invalid opacity. Try using any number.")},de=[];for(var fe in H.formula.errorMap)H.formula.errorMap[fe]&&de.push(ie[fe]);H.error=de[0],H.inputErrors={center:!!H.formula.errorMap.center,width:!!H.formula.errorMap.width,height:!!H.formula.errorMap.height,angle:!!H.formula.errorMap.angle,opacity:!!H.formula.errorMap.opacity}}function E(H,J){return!!H.inputErrors&&H.inputErrors[J]}function b(H,J){var ie=H.cachedViewState;return J.stripDefaults?o.stripDefaults(ie):ie}function f(H){var J=H.cachedViewState.clickableInfo,ie=!0,de=!0;if(J&&(J.depressedImage===H.clickableInfo.depressedImage&&(de=!1),J.hoveredImage===H.clickableInfo.hoveredImage&&(ie=!1)),ie&&(H.hoveredImageObj&&(h(H.hoveredImageObj).off("load"),delete H.hoveredImageObj),H.clickableInfo.hoveredImage)){H.hoveredImageObj=new Image;var fe=function(){var Fe=H.controller.getGrapher();Fe&&Fe.redrawAllLayers()},Ee=function(){};Q(H.hoveredImageObj,H.clickableInfo.hoveredImage,fe,Ee)}if(de&&(H.depressedImageObj&&(h(H.depressedImageObj).off("load"),delete H.depressedImageObj),H.clickableInfo.depressedImage)){H.depressedImageObj=new Image;var fe=function(){var I=H.controller.getGrapher();I&&I.redrawAllLayers()},Ee=function(){};Q(H.depressedImageObj,H.clickableInfo.depressedImage,fe,Ee)}if(H.cachedViewState.image_url!==H.image_url){h(H.imageObj).off("load"),H.imageObj=new Image;var ye=function(){H.controller.dispatch({type:"image-load-success",id:H.id})},_e=function(){H.controller.dispatch({type:"image-load-error",id:H.id})};Q(H.imageObj,H.image_url,ye,_e)}H.cachedViewState={type:H.type,id:H.id,folderId:H.folderId,image_url:H.image_url,name:H.name,hidden:H.hidden,height:H.height,width:H.width,center:H.center,angle:H.angle,opacity:H.opacity,foreground:H.foreground,secret:H.secret,clickableInfo:H.clickableInfo}}function S(H,J){H.draggingOnGraphpaper=J}function j(H){var J=H.cachedViewState;H.preTransientState&&(J=w.__assign(w.__assign({},J),H.preTransientState)),H.cachedUndoRedoState=J}function Q(H,J,ie,de){h(H).on("load",ie).on("error",de),/^data:/.test(J)||(H.crossOrigin="anonymous"),H.src=J}function G(H,J){var ie=t.default(o.inflateDefaults(H));return w.__assign(w.__assign(w.__assign({},ie),c.DEFAULTS(J)),{color:e.colors.BLUE,loadStatus:"loading",failures:0,imageObj:new Image,hoveredImageObj:void 0,depressedImageObj:void 0,shouldGraph:void 0,showPoints:void 0,error:void 0,formula:void 0,missingVariables:[],computed_x:void 0,computed_y:void 0,computed_width:void 0,computed_height:void 0,computed_radian_angle:void 0,computed_opacity:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoState:{}})}function q(H,J){a.copyProperties({from:J,to:H,props:{id:!1,type:!1,image_url:!0,name:!0,folderId:!0,hidden:!0,secret:!0,center:!0,opacity:!0,angle:!0,width:!0,height:!0,foreground:!0,clickableInfo:!0}})}function L(H){for(var J=H.controller,ie=H.files,de=H.id,fe={errors:[],tokens:[]},Ee=0;Ee<ie.length;Ee++){var ye=ie[Ee];ye.type.match("image/*")?fe.tokens.push(M({controller:J,file:ye,id:de})):fe.errors.push(J.t('The file "__file__" is not an image',{file:ye.name}))}return fe}function M(H){var J=H.controller,ie=H.file,de=H.id,fe=""+oe++;return J.getGraphSettings().config.imageUploadCallback(ie,function(Ee,ye){setTimeout(function(){if(Ee)J.dispatch({type:"image-upload-error",token:fe,error:Ee});else{var _e=new Image;Q(_e,ye,function(){var Fe=_e.width,se=_e.height,I=Math.max(Fe,se)/Math.min(Fe,se);Fe<se?(se=10,Fe=Math.round(10*se/I)/10):(Fe=10,se=Math.round(10*Fe/I)/10),J.dispatch({type:"image-upload-success",token:fe,url:ye,width:Fe+"",height:se+"",name:ie.name,id:de})},function(){J.dispatch({type:"image-upload-error",token:fe,error:""})})}})}),fe}function D(H,J){H.loadStatus=J,J==="loaded"&&(H.failures=0),J==="failed"&&(H.failures+=1)}function V(H){H.imageObj.src=H.imageObj.src,D(H,"loading")}function W(H,J){return H.clickableInfo[J]}function N(H,J){return!!H.formula&&(J==="assignment"?!!H.formula.clickableinfo_identifier_valid:J==="expression"&&!!H.formula.clickableinfo_expression_valid)}function re(H){if(H.formula)return H.formula.clickableinfo_latex}function Y(H){if(H.formula)return H.formula.clickableinfo_identifier}function O(H,J,ie){var de;H.clickableInfo=w.__assign(w.__assign({},H.clickableInfo),(de={},de[J]=ie,de))}function ee(H){return H.clickableInfo.enabled}Object.defineProperty(u,"__esModule",{value:!0}),u.setHidden=s,u.setSecret=p,u.setMQAttribute=g,u.getMQAttribute=d,u.setName=i,u.setOpacity=n,u.setForeground=r,u.setImageURL=m,u.updateCachedParsableState=y,u.onControllerUpdate=v,u.onFormulaUpdate=x,u.hasInputError=E,u.getState=b,u.updateCachedViewState=f,u.setIsDraggingOnGrapher=S,u.updateCachedUndoRedoState=j,u.initModel=G,u.restoreState=q,u.uploadImages=L;var oe=0;u.uploadImageAndGenerateToken=M,u.setLoadStatus=D,u.retryLoading=V,u.getClickableInfoPropLatex=W,u.isClickableInfoPropValid=N,u.getClickableInfoUpdateLatex=re,u.getClickableInfoUpdateIdentifier=Y,u.setClickableInfoProp=O,u.isClickableObject=ee}),$("graphing-calc/models/list",["require","exports","lib/color-distance","tslib","./expression","./folder","./table","./text","./helper-expression","./image","core/types/graphmode","core/lib/color-helpers","underscore","core/lib/deepCopy"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d){function i(le){return{controller:le,__itemModelArray:[],__itemIdToModel:{},__helperIdToModel:{},__anyDependsOnRandomSeed:!1,drawOrder:[],colorIdx:0,expressionAnalysis:{},nextDisplayIndex:1}}function n(le){for(var Te=0;Te<le.__itemModelArray.length;Te++){var Ce=le.__itemModelArray[Te];if(Ce.type==="image"&&Ce.loadStatus==="loading")return!0}return!1}function r(le){var Te=g.filter(g.values(le.controller.getColors()),function(xe){return xe!=p.colors.ORANGE}),Ce=Te[le.colorIdx];return le.colorIdx=(le.colorIdx+1)%Te.length,Ce}function m(le,Te){return le.__itemModelArray[Te]}function y(le){for(var Te=0;Te<le.__itemModelArray.length;Te++){var Ce=le.__itemModelArray[Te];if(j(Ce))return Ce}}function v(le){for(var Te=le.__itemModelArray.length-1;Te>=0;Te--){var Ce=le.__itemModelArray[Te];if(j(Ce))return Ce}}function x(le,Te){var Ce;do{if(--Te===-1)return;Ce=m(le,Te)}while(Ce&&!j(Ce));return Ce}function E(le,Te){var Ce,xe=H(le);do{if(++Te===xe)return;Ce=m(le,Te)}while(Ce&&!j(Ce));return Ce}function b(le){if(le.type!=="folder"&&le.folderId){var Te=le.controller.getListModel(),Ce=W(Te,le.folderId);if(Ce&&Ce.type==="folder")return Ce}}function f(le,Te){var Ce=W(le,Te);if(!Ce||Ce.type!=="folder")return 0;for(var xe=0,Qe=le.__itemModelArray.length,je=Ce.index+1;je<Qe;je++){var be=le.__itemModelArray[je];if(be.type==="folder"||be.folderId!==Te)break;xe+=1}return xe}function S(le){if(!le)return!1;if(le.secret)return!0;var Te=b(le);return!(!Te||!Te.secret)}function j(le){return!Q(le)}function Q(le){if(!le||le.filteredBySearch)return!0;if(le.controller.isItemBeingDragged(le.id))return!1;if(!le.controller.canAdministerSecretFolders()&&S(le))return!0;var Te=b(le);return!(!Te||!Te.collapsed||le.controller.getIDESearchStr())}function G(le){return le.__itemModelArray}function q(le){return g.values(le.__helperIdToModel)}function L(le,Te){for(var Ce=0;Ce<le.__itemModelArray.length;Ce++){var xe=le.__itemModelArray[Ce];switch(xe.type){case"expression":c.eachLatex(xe,Te);break;case"table":a.eachLatex(xe,Te);break;case"image":case"folder":case"text":break;default:return xe}}}function M(le,Te){for(var Ce=0;Ce<le.__itemModelArray.length;Ce++)if(Te){var xe=le.__itemModelArray[Ce];switch(xe.type){case"expression":xe.filteredBySearch=!0,c.eachLatex(xe,function(je){je.indexOf(Te)>=0&&(xe.filteredBySearch=!1,xe.folderId&&(le.__itemIdToModel[xe.folderId].filteredBySearch=!1))});break;case"table":xe.filteredBySearch=!0,a.eachLatex(xe,function(je){je.indexOf(Te)>=0&&(xe.filteredBySearch=!1,xe.folderId&&(le.__itemIdToModel[xe.folderId].filteredBySearch=!1))});break;case"image":case"folder":case"text":xe.filteredBySearch=!0;break;default:var Qe=xe;return Qe}}else le.__itemModelArray[Ce].filteredBySearch=!1}function D(le){var Te=[];L(le,function(Qe){if(Qe.indexOf("~")===-1&&Qe.indexOf("\\sim")===-1)for(var je=/_(\d)|_\{(?:\s|\\space)*(\d+)(?:\s|\\space)*\}/g;;){var be=je.exec(Qe);if(!be)break;Te.push(parseInt(be[1]||be[2],10))}}),Te.sort(function(Qe,je){return Qe-je});for(var Ce=1,xe=0;xe<Te.length;xe++)Te[xe]===Ce&&Ce++;return Ce}function V(le){var Te=[];g.each(le.__itemModelArray,function(Ce){Ce.type==="table"?g.each(Ce.columnModels,function(xe){Te.push(xe.id)}):Te.push(Ce.id)}),le.drawOrder=Te}function W(le,Te){return le.__itemIdToModel[Te]}function N(le,Te){for(var Ce=[],xe=0;xe<le.__itemModelArray.length;xe++){var Qe=le.__itemModelArray[xe];Qe.type==="expression"&&Qe.dependent===Te&&Ce.push(Qe)}return Ce}function re(le,Te){return le.__helperIdToModel[Te]}function Y(le,Te){var Ce=h.init(Te);le.__helperIdToModel[Ce.id]=Ce}function O(le){le.__anyDependsOnRandomSeed=!1;for(var Te=0;Te<le.__itemModelArray.length;Te++){var Ce=le.__itemModelArray[Te];if(Ce&&"formula"in Ce&&Ce.formula&&Ce.formula.depends_on_random_seed)return void(le.__anyDependsOnRandomSeed=!0)}}function ee(le){for(var Te=!le.controller.canAdministerSecretFolders(),Ce=1,xe=1,Qe=0;Qe<le.__itemModelArray.length;Qe++){var je=le.__itemModelArray[Qe];je.index=Qe,je.displayIndex=Ce,S(je)&&(je.secretIndex=xe,xe+=1),Te&&S(je)||(Ce+=1)}le.nextDisplayIndex=Ce}function oe(le){le.__itemModelArray=[],le.__itemIdToModel={},le.__helperIdToModel={},le.__anyDependsOnRandomSeed=!1}function H(le){return le.__itemModelArray.length}function J(le){return le.nextDisplayIndex===1}function ie(le){for(var Te=[],Ce=0;Ce<le.__itemModelArray.length;Ce++){var xe=le.__itemModelArray[Ce];xe.type==="expression"&&xe.sliderExists&&Te.push(xe)}return Te}function de(le){return le.selectedItem}function fe(le){return{list:le.__itemModelArray.map(function(Te){return Te.cachedUndoRedoState})}}function Ee(le,Te){return{list:le.__itemModelArray.map(function(Ce){switch(Ce.type){case"expression":return c.getState(Ce,Te);case"image":return o.getState(Ce,Te);case"table":return a.getState(Ce,Te);case"folder":return t.getState(Ce,Te);case"text":return l.getState(Ce,Te);default:return Ce}})}}function ye(le){for(var Te=0,Ce=/^[0-9]+$/,xe=le.list.length-1;xe>=0;xe--){var Qe=le.list[xe],je=Qe.id;if(Ce.test(je)){var be=parseInt(je,10);be>Te&&(Te=be)}if(Qe.type==="table"&&Qe.columns){for(var Me=Qe.columns.length-1;Me>=0;Me--)if(je=Qe.columns[Me].id,Ce.test(je)){var be=parseInt(je,10);be>Te&&(Te=be)}}}return Te}function _e(le,Te,Ce){Ce||(Ce={});var xe,Qe;for(le.colorIdx=0,oe(le),le.expressionAnalysis={},xe=0;xe<Te.list.length;xe++){if(Qe=Fe(le,Te.list[xe]),Ce.remapColors&&"color"in Qe&&Qe.color){var je=g.values(le.controller.getColors());g.contains(je,Qe.color)||(Qe.color=w.closestColor(Qe.color,je))}le.__itemModelArray.push(Qe),le.__itemIdToModel[Qe.id]=Qe}ee(le),le.nextDisplayIndex===1&&Be(le,Fe(le,{type:"expression",id:le.controller.generateId(),color:le.controller.getNextColor()}),le.__itemModelArray.length)}function Fe(le,Te){switch(Te.type){case"expression":return c.initModel(Te,le.controller);case"table":return a.initModel(Te,le.controller);case"image":return o.initModel(Te,le.controller);case"folder":return t.initModel(Te,le.controller);case"text":return l.initModel(Te,le.controller);default:return Te}}function se(le,Te){var Ce,xe,Qe=le.__itemIdToModel;for(le.__itemModelArray=[],le.__itemIdToModel={},Ce=0;Ce<Te.list.length;Ce++){var je=Te.list[Ce];if((xe=Qe[je.id])&&xe.type===je.type)switch(xe.type){case"expression":if(je.type!==xe.type)throw new Error("invalid restoration");c.restoreState(xe,je);break;case"table":if(je.type!==xe.type)throw new Error("invalid restoration");a.restoreState(xe,je);break;case"image":if(je.type!==xe.type)throw new Error("invalid restoration");o.restoreState(xe,je);break;case"folder":if(je.type!==xe.type)throw new Error("invalid restoration");t.restoreState(xe,je);break;case"text":if(je.type!==xe.type)throw new Error("invalid restoration");l.restoreState(xe,je);break;default:return xe}else xe=Fe(le,je);le.__itemModelArray.push(xe),le.__itemIdToModel[xe.id]=xe}O(le),ee(le)}function I(le,Te,Ce){var xe=Ce[0]&&Ce[0].tableId,Qe=W(le,xe||Te);if(Qe){var je;switch(Qe.type){case"expression":var be=!1;Qe.__workerNeedsDotplotXMode=!1;for(var Me=0;Me<Ce.length;Me++){var De=Ce[Me];De.graphMode!==s.Z_3D&&De.graphMode!==s.OBJECT3D&&De.graphMode!==s.PARAMETRIC_CURVE_3D&&("resolved"in De&&!De.resolved&&(be=!0),De.boundingBox&&(je||(je=[]),je.push(De.boundingBox)),De.needsDotplotXMode&&(Qe.__workerNeedsDotplotXMode=!0))}Qe.unresolved=be,Qe.boundingBoxes=je;for(var Pe=1/0,He=-1/0,Ze=0,rt=Ce;Ze<rt.length;Ze++){var De=rt[Ze];if(De.graphMode===s.POLAR){var Ct=De.sampledDomain;Ct&&(Pe=Math.min(Pe,Ct.min),He=Math.max(He,Ct.max))}}return isFinite(Pe)&&(Qe.__workerSampledDomainMin=Pe),void(isFinite(He)&&(Qe.__workerSampledDomainMax=He));case"table":for(var Me=0;Me<Ce.length;Me++){var De=Ce[Me];De.graphMode!==s.Z_3D&&De.graphMode!==s.OBJECT3D&&De.graphMode!==s.PARAMETRIC_CURVE_3D&&De.boundingBox&&(je||(je=[]),je.push(De.boundingBox))}return void(je&&a.setColumnBoundingBoxes(Qe,Te,je));default:return}}}function ne(le,Te){var Ce,xe,Qe,je=d.default(le.expressionAnalysis);for(Ce in Te)if(Te.hasOwnProperty(Ce)){Qe=Te[Ce],xe=W(le,Ce);var be={isGraphable:!!Qe.is_graphable,isError:!!Qe.error,errorMessage:Qe.error?le.controller.unpack(Qe.error):void 0};if(xe)switch(xe.type){case"expression":if(c.onFormulaUpdate(xe,Qe),Qe.zero_values&&Qe.zero_values.length===1){var Me=Qe.zero_values[0].val;g.isNumber(Me)&&(be.evaluation={type:"Number",value:Me},be.evaluationDisplayed=!0),g.isArray(Me)&&Me.every(g.isNumber)&&(be.evaluation={type:"ListOfNumber",value:Me.slice()},be.evaluationDisplayed=!0)}else Qe.hasOwnProperty("constant_value")&&g.isNumber(Qe.constant_value)&&(be.evaluation={type:"Number",value:Qe.constant_value},be.evaluationDisplayed=!1);break;case"image":o.onFormulaUpdate(xe,Qe);break;case"table":a.onFormulaUpdate(xe,Qe);break;case"folder":case"text":break;default:var De=xe;return De}else{var Pe=re(le,Ce);if(!Pe)continue;h.onFormulaUpdate(le.controller,Pe,Qe)}je[Ce]=be}O(le),le.expressionAnalysis=je}function pe(le,Te){le.selectedItem=Te}function ge(le,Te,Ce,xe){if(Te!==Ce){var Qe=le.__itemModelArray.splice(Te,xe);Te<Ce&&(Ce=Ce-xe+1),le.__itemModelArray.splice.apply(le.__itemModelArray,e.__spreadArrays([Ce,0],Qe)),ee(le)}}function Be(le,Te,Ce){var xe=String(Te.id);if(le.__itemIdToModel.hasOwnProperty(xe))throw Error("Item with id '"+xe+"' is already in list");le.__itemIdToModel[xe]=Te,le.__itemModelArray.splice(Ce,0,Te),ee(le)}function Re(le,Te){Be(le,Te,H(le))}function ve(le,Te){var Ce=le.__itemModelArray[Te];if(Ce.type==="folder"){for(var xe=0,Qe=Ce.index+1;Qe<le.__itemModelArray.length;Qe++){var je=le.__itemModelArray[Qe];if(je.type==="folder"||je.folderId!==Ce.id)break;xe+=1,Ye(je)&&pe(le,void 0),delete le.__itemIdToModel[je.id],delete le.expressionAnalysis[Ce.id]}le.__itemModelArray.splice(Te,1+xe)}else le.__itemModelArray.splice(Te,1);Ye(Ce)&&pe(le,void 0),delete le.__itemIdToModel[Ce.id],delete le.expressionAnalysis[Ce.id],O(le),ee(le)}function ke(le){return le.__anyDependsOnRandomSeed}function T(le,Te){var Ce=W(le,Te);Ce&&ve(le,Ce.index)}function Ie(le){var Te=de(le);if(!Te)return!1;var Ce=x(le,Te.index);return!!Ce&&(pe(le,Ce),Ce.index===H(le)-1&&Te.type==="expression"&&c.isEmpty(Te)&&ve(le,Ce.index),!0)}function Ke(le){var Te=de(le);if(!Te)return!1;var Ce=E(le,Te.index);return!!Ce&&(pe(le,Ce),!0)}function Ye(le){return le.controller.getListModel().selectedItem===le}function bt(le,Te){le.dragState=Te}Object.defineProperty(u,"__esModule",{value:!0}),u.init=i,u.areAnyImagesLoading=n,u.getNextColor=r,u.getItemByIndex=m,u.getFirstSelectableItem=y,u.getLastSelectableItem=v,u.findPrevSelectableItem=x,u.findNextSelectableItem=E,u.getParentFolderModel=b,u.getNumberOfItemsInFolder=f,u.isItemSecret=S,u.isItemSelectable=j,u.isItemHiddenFromUI=Q,u.getAllItemModels=G,u.getAllHelperItemModels=q,u.eachLatex=L,u.filterItemsBySearch=M,u.findAvailableColumnSubscript=D,u.updateDrawOrder=V,u.getItemById=W,u.getItemsByIdentifier=N,u.getHelperExpressionById=re,u.addHelperExpression=Y,u.recomputeAnyItemDependsOnRandomSeed=O,u.reindex=ee,u.removeAllItems=oe,u.getItemCount=H,u.hasNoVisibleExpressions=J,u.getAllModelsWithSliders=ie,u.getSelected=de,u.getUndoRedoState=fe,u.getState=Ee,u.getLargestIntegerId=ye,u.setListState=_e,u.modelFromSpec=Fe,u.restoreListState=se,u.onGraphComputed=I,u.onEvaluatorFormulaUpdates=ne,u.setSelected=pe,u.moveItemsTo=ge,u.insertItemAtIndex=Be,u.insertItemAtEnd=Re,u.removeItemAtIndex=ve,u.anyItemDependsOnRandomSeed=ke,u.removeItemById=T,u.selectPrevItem=Ie,u.selectNextItem=Ke,u.isItemSelected=Ye,u.setDragState=bt}),$("graphing-calc/models/abstract-item",["require","exports","./list"],function(B,u,w){function e(){return"abstract_item_"+o++}function c(s){return{guid:e(),controller:s,index:-1,displayIndex:-1,secretIndex:-1,isHiddenFromUI:!0,renderShell:!0}}function t(s,p){s.secret=p}function a(s,p){s.type!=="folder"&&(s.folderId=p)}function l(s){s.isHiddenFromUI=w.isItemHiddenFromUI(s)}function h(s){return s.isHiddenFromUI||s.filteredBySearch?"none":s.renderShell?"shell":"render"}Object.defineProperty(u,"__esModule",{value:!0});var o=0;u.getGUID=e,u.DEFAULTS=c,u.setSecret=t,u.setFolderId=a,u.updateIsHiddenFromUI=l,u.getDisplayState=h}),$("core/graphing-calc/json/table",["require","exports","tslib","core/lib/default-spec","core/types/styles","core/lib/dragmode"],function(B,u,w,e,c,t){function a(o){var s=w.__assign(w.__assign({},u.DEFAULTS),o);return s.columns=s.columns.map(function(p){return w.__assign(w.__assign({},u.COLUMN_DEFAULTS),p)}),s}function l(o){return o=w.__assign(w.__assign({},o),{columns:o.columns.map(function(s){return e.stripDefaults(u.COLUMN_DEFAULTS,s)})}),e.stripDefaults(u.DEFAULTS,o)}function h(o){return{type:"table",id:o.id,columns:o.columns.map(function(s){return w.__assign(w.__assign({},s),{tableId:o.id})})}}Object.defineProperty(u,"__esModule",{value:!0}),u.DEFAULTS={folderId:"",secret:!1,columns:[]},u.COLUMN_DEFAULTS={latex:"",color:"",hidden:!1,values:[],points:!0,lines:!1,dragMode:t.DragMode.NONE,pointStyle:c.PointStyle.POINT,lineStyle:c.LineStyle.SOLID},u.inflateDefaults=a,u.stripDefaults=l,u.computeParsableState=h}),$("graphing-calc/models/table",["require","exports","core/math/rational-arithmetic-sequence","tslib","core/types/styles","core/lib/dragmode","./abstract-item","underscore","core/lib/label","core/math/evaluate-single-expression","core/math/distance","core/lib/deepCopy","lib/copy-properties","graphing-calc/models/list","core/graphing-calc/json/table","core/graphing-calc/json/table","core/graphing-calc/json/table"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r){function m(be,Me,De,Pe){Pe.row=be.rowModels[Me],Pe.row.cells.splice(De,0,Pe)}function y(be,Me,De){be.rowModels[Me].cells.splice(De,1)}function v(be){return isFinite(be)?h.truncatedLatexLabel(be,{digits:8,bigCutoff:1e6,smallCutoff:.001}):"\\mathrm{undefined}"}function x(be,Me,De){var Pe=be.columnModels[Me];Pe.error=De.error,Pe.discrete=De.discrete,Pe.disabled=De.dependent,Pe.draggable=!De.error&&!De.dependent,Pe.packedErrors=[],Pe.computedValues=[];for(var He=De.values,Ze=He.length-1;Ze>=0;Ze--){var rt=He[Ze];Pe.computedValues[Ze]=typeof rt=="number"?v(rt):"",Pe.packedErrors[Ze]=rt&&rt.msg?rt:void 0}}function E(be){var Me=ne(be);if(Me){var De=b(be);if(!De)return void(be.isExpanded||Ie(be,!0));Me.row>=De.min&&Me.row<De.max&&Ie(be,!0)}}function b(be){if(!be.isExpanded){var Me=be.rowModels.length;if(!(Me<30))return{min:8,max:Me-5}}}function f(be,Me){var De=be.columnModels[Me];return{values:be.columns[Me].values.slice(),dragMode:De.dragMode,hidden:De.hidden,id:De.id,color:De.color,points:De.points,lines:De.lines,pointStyle:De.pointStyle,lineStyle:De.lineStyle,latex:De.latex}}function S(){return"table_guid_"+Qe++}function j(){return{guid:S(),type:"cell",row:void 0,column:void 0}}function Q(be){return{type:"row",index:be,guid:S(),cells:[]}}function G(be,Me,De,Pe){var He=be.columnModels[Me];He.cells.splice(De,0,Pe),Pe.column=He,be.columns[He.index].values.splice(De,0,"")}function q(be,Me,De){var Pe=be.columnModels[Me];Pe.cells.splice(De,1),be.columns[Pe.index].values.splice(De,1)}function L(be,Me,De){var Pe=e.__assign(e.__assign({},De),{type:"header",guid:S(),index:Me,error:void 0,table:be,color:De.color||be.controller.getNextColor(),packedErrors:[],computedValues:[],cells:void 0,row:void 0,discrete:void 0,shouldGraph:void 0,disabled:void 0,draggable:void 0});return Pe.cells=Pe.values.map(function(){var He=j();return He.column=Pe,He}),delete Pe.values,Me===0&&(Pe.hidden=!0),Pe}function M(be){be.draggingOnGraphpaper?be.preTransientState||(be.preTransientState={columns:J(be,{stripDefaults:!1}).columns}):delete be.preTransientState,a.updateIsHiddenFromUI(be);var Me=d.getParentFolderModel(be),De=Me&&Me.hidden;l.each(be.columnModels,function(Pe){Pe.shouldGraph=!De&&!Pe.hidden}),ie(be),fe(be),ee(be)}function D(be,Me){be.formula=Me;var De,Pe=be.formula.column_data,He=be.columnModels[0].cells.length,Ze=be.columnModels.length,rt=0;for(De=0;De<Pe.length;De++){var Ct=Pe[De].values.length;Ct>rt&&(rt=Ct)}for(De=rt-He;De>0;De--)V(be,He),He++;for(De=0;De<Pe.length&&De<Ze;De++)x(be,De,Pe[De]);var nt=be.columnModels[be.columnModels.length-1];nt.disabled=!0,nt.error=void 0}function V(be,Me){var De=Q(Me+1);be.rowModels.splice(Me+1,0,De);for(var Pe=Me+1;Pe<be.rowModels.length;Pe++)be.rowModels[Pe].index=Pe;for(Pe=0;Pe<be.columnModels.length;Pe++){var He=j();G(be,Pe,Me,He),m(be,Me+1,Pe,He)}}function W(be,Me){var De=b(be);De&&Me===De.max-1&&Ie(be,!0);for(var Pe=0;Pe<be.columnModels.length;Pe++)q(be,Pe,Me);for(be.rowModels.splice(Me+1,1),Pe=Me+1;Pe<be.rowModels.length;Pe++)be.rowModels[Pe].index=Pe}function N(be,Me,De){var Pe=e.__assign(e.__assign(e.__assign({},i.COLUMN_DEFAULTS),De),{values:be.columns[0].values.map(function(){return""})}),He=L(be,Me,Pe);be.columnModels.splice(Me,0,He),be.columns.splice(Me,0,Pe);for(var Ze=Me+1;Ze<be.columnModels.length;Ze++)be.columnModels[Ze].index=Ze;for(m(be,0,Me,He),Ze=1;Ze<be.rowModels.length;Ze++)m(be,Ze,Me,He.cells[Ze-1])}function re(be,Me){be.columns.splice(Me,1),be.columnModels.splice(Me,1);for(var De=Me;De<be.columnModels.length;De++)be.columnModels[De].index=De;for(De=0;De<be.rowModels.length;De++)y(be,De,Me)}function Y(be,Me){var De,Pe=be.columnModels.length,He=[];for(De=0;De<Pe;De++)He.push("");var Ze=be.columns[0].values;if(Me>1){var rt=be.controller.isDegreeMode(),Ct=o.default(Ze[0],rt),nt=o.default(Ze[1],rt);if(isFinite(Ct)&&isFinite(nt)){var at=w(Ct,nt);if(at){var Mt=at.nstart,ht=Mt/at.lcm;for(De=0;De<Me;De++){var Qt=o.default(Ze[De],rt);if(!s.approx(Qt,ht))return He;Mt+=at.nstep,ht=Mt/at.lcm}He[0]=(""+Ct).length<8&&(""+nt).length<8?""+ht:"\\frac{"+Mt+"}{"+at.lcm+"}"}}}return He}function O(be,Me){for(var De=0;De<be.columnModels.length;De++){Me(be.columnModels[De].latex);for(var Pe=be.columns[De],He=0;He<Pe.values.length;He++)Pe.values[He]&&Me(Pe.values[He])}}function ee(be){for(var Me=r.computeParsableState({type:"table",id:be.id,secret:be.secret,folderId:be.folderId,columns:be.columnModels.map(function(Pe){return f(be,Pe.index)})}),De=0;De<Me.columns.length;De++)Me.columns[De].hidden=!be.columnModels[De].shouldGraph;be.cachedParsableState=Me}function oe(be,Me){return be=p.default(be),be.push(e.__assign(e.__assign({},i.COLUMN_DEFAULTS),{id:Me,values:be[0].values.map(function(){return""})})),be.forEach(function(De){De.values.push("")}),be}function H(be){return be=p.default(be),be.pop(),be.forEach(function(Me){Me.values.pop()}),be}function J(be,Me){var De=e.__assign(e.__assign({},be.cachedViewState),{columns:H(be.cachedViewState.columns)});return Me.stripDefaults?n.stripDefaults(De):De}function ie(be){var Me=be.columnModels.map(function(De,Pe){return f(be,Pe)});be.cachedViewState={id:be.id,type:be.type,folderId:be.folderId,columns:Me,secret:be.secret}}function de(be,Me){be.draggingOnGraphpaper=Me}function fe(be){var Me=e.__assign(e.__assign({},be.cachedViewState),{columns:H(be.cachedViewState.columns)});be.preTransientState&&(Me=e.__assign(e.__assign({},Me),be.preTransientState)),be.cachedUndoRedoState=Me}function Ee(be,Me){if(be.columnModels.length-1!==Me.length)return{type:"start-fresh"};if(be.columnModels[0].cells.length-1!==Me[0].values.length)return{type:"start-fresh"};for(var De=-1,Pe=Me.length-1;Pe>=0;Pe--){var He=be.columns[Pe],Ze=Me[Pe];if(He.id!==Ze.id)return{type:"start-fresh"};for(var rt=He.values,Ct=Ze.values,nt=Ct.length-1;nt>=0;nt--)if(rt[nt]!==Ct[nt]&&(De===-1&&(De=nt),De!==nt))return{type:"start-fresh"}}return De===-1?{type:"none"}:{type:"edit-row",rowIndex:De}}function ye(be,Me){var De=Ee(be,Me.columns);if(g.copyProperties({from:Me,to:be,props:{id:!1,type:!1,columns:!1,folderId:!0,secret:!0}}),De.type==="start-fresh")be.columns=oe(Me.columns,be.controller.generateId()),Fe(be);else{switch(De.type){case"none":break;case"edit-row":for(var Pe=Me.columns.length-1;Pe>=0;Pe--)Te(be,{column:Pe,row:De.rowIndex+1},Me.columns[Pe].values[De.rowIndex]);break;default:return De}for(var He=0;He<Me.columns.length;He++)g.copyProperties({from:Me.columns[He],to:be.columnModels[He],props:{id:!1,values:!1,color:!0,latex:!0,hidden:!0,points:!0,lines:!0,dragMode:!0,lineStyle:!0,pointStyle:!0}})}}function _e(be,Me){var De=p.default(n.inflateDefaults(be)),Pe=e.__assign(e.__assign(e.__assign({},De),a.DEFAULTS(Me)),{columnModels:void 0,rowModels:void 0,formula:void 0,draggingOnGraphpaper:!1,cachedViewState:{},cachedParsableState:{},cachedUndoRedoState:{},isExpanded:!1});Pe.columns=oe(Pe.columns,Me.generateId());var He,Ze=0;for(He=0;He<Pe.columns.length;He++)Pe.columns[He].values||(Pe.columns[He].values=[]),Pe.columns[He].values.length>Ze&&(Ze=Pe.columns[He].values.length);for(He=0;He<Pe.columns.length;He++)for(var rt=Ze-Pe.columns[He].values.length;rt>0;rt--)Pe.columns[He].values.push("");return Fe(Pe),Pe}function Fe(be){be.columnModels=be.columns.map(function(He,Ze){return L(be,Ze,He)}),be.rowModels=[Q(0)];for(var Me=0;Me<be.columnModels.length;Me++)m(be,0,Me,be.columnModels[Me]);for(var Me=0;Me<be.columnModels[0].cells.length;Me++){var De=Q(Me+1);be.rowModels.push(De);for(var Pe=0;Pe<be.columnModels.length;Pe++)m(be,Me+1,Pe,be.columnModels[Pe].cells[Me])}}function se(be,Me,De){for(var Pe=[],He=Math.min(Me.length,je.length),Ze=0;Ze<He;Ze++)Pe.push({id:De.generateId(),latex:h.identifierToLatex(je[Ze]+"_"+be),values:Me[Ze],color:De.getNextColor(),hidden:!1,points:!0,lines:!1,dragMode:t.DragMode.NONE,pointStyle:c.PointStyle.POINT,lineStyle:c.LineStyle.SOLID});return{id:De.generateId(),type:"table",folderId:"",secret:!1,columns:Pe}}function I(be,Me){var De=J(be,{stripDefaults:!1});if(!De.columns||!Me.columns)return Me;for(var Pe=0;Pe<Me.columns.length;Pe++){var He=De.columns[Pe],Ze=Me.columns[Pe];if(He)for(var rt in He)He.hasOwnProperty(rt)&&(Ze.hasOwnProperty(rt)||(Ze[rt]=He[rt]))}return Me}function ne(be){var Me=be.controller.getFocusLocation();return Me&&Me.type==="table"&&Me.id===be.id?Me.location:void 0}function pe(be,Me){for(var De=0;De<be.columnModels.length;De++){var Pe=be.columnModels[De];if(Pe.id===Me)return Pe}}function ge(be,Me,De){var Pe=pe(be,Me);Pe&&(Pe.points=De,De||(Pe.dragMode=t.DragMode.NONE))}function Be(be,Me,De){var Pe=pe(be,Me);Pe&&(Pe.pointStyle=De)}function Re(be,Me,De){var Pe=pe(be,Me);Pe&&(Pe.lines=De)}function ve(be,Me,De){var Pe=pe(be,Me);Pe&&(Pe.lineStyle=De)}function ke(be,Me,De){var Pe=pe(be,Me);Pe&&(Pe.dragMode=De,De===t.DragMode.NONE||Pe.points||(Pe.points=!0))}function T(be,Me,De){var Pe=pe(be,Me);Pe&&(Pe.color=De)}function Ie(be,Me){be.isExpanded=Me}function Ke(be,Me,De){var Pe=pe(be,Me);Pe&&(Pe.hidden=De,De&&bt(be))}function Ye(be,Me,De){var Pe=pe(be,Me);Pe&&(Pe.boundingBoxes=De,bt(be))}function bt(be){var Me=[];be.columnModels.forEach(function(De){De.boundingBoxes&&!De.hidden&&(Me=Me.concat(De.boundingBoxes))}),be.boundingBoxes=Me}function le(be,Me){var De=pe(be,Me);return!De||!De.points&&!De.lines}function Te(be,Me,De){if(Me.row===0){var Pe=be.columnModels[Me.column].id,He=pe(be,Pe);return He?(He.latex=De,void(Me.column>=be.columnModels.length-1&&N(be,Me.column+1,{id:be.controller.generateId(),latex:"",color:be.controller.getNextColor()}))):void 0}var Ze=be.columnModels[Me.column];be.columns[Ze.index].values[Me.row-1]=De,De!==""&&Me.row>=be.columnModels[0].cells.length&&V(be,Me.row)}function Ce(be,Me){return Me.row<be.rowModels.length&&Me.column<be.columnModels.length}function xe(be){if(be.values){for(var Me=0,De=be.values;Me<De.length;Me++)if(De[Me]!=="")return!1}if(be.computedValues){for(var Pe=0,He=be.computedValues;Pe<He.length;Pe++)if(He[Pe]!=="")return!1}return!0}Object.defineProperty(u,"__esModule",{value:!0}),u.insertCellToRow=m,u.removeCellFromRow=y,u.formatValueForDisplay=v,u.setColumnComputedValues=x,u.updateIsCollapsedByFocusLocation=E,u.getCollapsedRange=b,u.getColumnState=f;var Qe=0;u.getGUID=S,u.makeCell=j,u.makeRow=Q,u.insertCellToColumn=G,u.removeCellFromColumn=q,u.makeColumn=L,u.onControllerUpdate=M,u.onFormulaUpdate=D,u.insertBlankRow=V,u.removeRow=W,u.insertBlankColumn=N,u.removeColumn=re,u.getRowAutoFillValues=Y,u.eachLatex=O,u.updateCachedParsableState=ee,u.addBlankRowAndColumn=oe,u.stripBlankRowAndColumn=H,u.getState=J,u.updateCachedViewState=ie,u.setIsDraggingOnGrapher=de,u.updateCachedUndoRedoState=fe,u.computeTableStructureMutation=Ee,u.restoreState=ye,u.initModel=_e,u.buildEntireColumnStructure=Fe;var je=["x","y","z","u","v","w"];u.makeTableState=se,u.cloneTableAndExtendWithProperties=I,u.getSelectedCell=ne,u.getColumnModel=pe,u.setColumnPoints=ge,u.setColumnPointStyle=Be,u.setColumnLines=Re,u.setColumnLineStyle=ve,u.setColumnDragMode=ke,u.setColumnColor=T,u.setExpanded=Ie,u.setColumnHidden=Ke,u.setColumnBoundingBoxes=Ye,u.mergeBoundingBoxes=bt,u.shouldHideColumn=le,u.setCellLatex=Te,u.doesCellExist=Ce,u.isColumnEmpty=xe}),$("main/propagate_selection",["require","graphing-calc/models/table"],function(B){function u(c){var t=c&&c.id;if(c&&c.type==="table"){var a=e.getSelectedCell(c);if(a){var l=c.columnModels[a.column];t=l?l.id:void 0}else t=void 0}if(c&&c.type==="folder"){var h=c.selectedHiddenChild;t=h?h.id:void 0}return t}function w(c,t,a,l){var h=c.getSelectedItem(),o=u(h);return o!==l&&t.select(o),o}var e=B("graphing-calc/models/table");return{getSelectedId:u,propagateSelection:w}}),function(B,u){typeof $=="function"&&$.amd?$("flux",[],u):B.Flux=u()}(this,function(){return function(B){function u(e){if(w[e])return w[e].exports;var c=w[e]={exports:{},id:e,loaded:!1};return B[e].call(c.exports,c,c.exports,u),c.loaded=!0,c.exports}var w={};return u.m=B,u.c=w,u.p="",u(0)}([function(B,u,w){B.exports.Dispatcher=w(1)},function(B,u,w){function e(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}u.__esModule=!0;var c=w(2),t=function(){function a(){e(this,a),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return a.prototype.register=function(l){var h="ID_"+this._lastID++;return this._callbacks[h]=l,h},a.prototype.unregister=function(l){this._callbacks[l]||c(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",l),delete this._callbacks[l]},a.prototype.waitFor=function(l){this._isDispatching||c(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var h=0;h<l.length;h++){var o=l[h];this._isPending[o]?this._isHandled[o]||c(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",o):(this._callbacks[o]||c(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",o),this._invokeCallback(o))}},a.prototype.dispatch=function(l){this._isDispatching&&c(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this._startDispatching(l);try{for(var h in this._callbacks)this._isPending[h]||this._invokeCallback(h)}finally{this._stopDispatching()}},a.prototype.isDispatching=function(){return this._isDispatching},a.prototype._invokeCallback=function(l){this._isPending[l]=!0,this._callbacks[l](this._pendingPayload),this._isHandled[l]=!0},a.prototype._startDispatching=function(l){for(var h in this._callbacks)this._isPending[h]=!1,this._isHandled[h]=!1;this._pendingPayload=l,this._isDispatching=!0},a.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},a}();B.exports=t},function(B,u,w){function e(c,t,a,l,h,o,s,p){if(t===void 0)throw new Error("invariant requires an error message argument");if(!c){var g;if(t===void 0)g=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[a,l,h,o,s,p],i=0;g=new Error(t.replace(/%s/g,function(){return d[i++]})),g.name="Invariant Violation"}throw g.framesToPop=1,g}}B.exports=e}])}),$("keys",["require"],function(B){return new function(){var u={8:this.BACKSPACE="Backspace",9:this.TAB="Tab",13:this.ENTER="Enter",16:this.SHIFT="Shift",17:this.CONTROL="Control",18:this.ALT="Alt",20:this.CAPSLOCK="CapsLock",27:this.ESCAPE="Esc",32:this.SPACEBAR="Space",33:this.PAGEUP="PageUp",34:this.PAGEDOWN="PageDown",35:this.END="End",36:this.HOME="Home",37:this.LEFT="Left",38:this.UP="Up",39:this.RIGHT="Right",40:this.DOWN="Down",46:this.DELETE="Del"},w={UIKeyInputUpArrow:this.UP,UIKeyInputDownArrow:this.DOWN,UIKeyInputLeftArrow:this.LEFT,UIKeyInputRightArrow:this.RIGHT,UIKeyInputEscape:this.ESCAPE,UIKeyInputPageUp:this.PAGEUP,UIKeyInputPageDown:this.PAGEDOWN};this.isUndo=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&e.which==90&&!e.shiftKey},this.isRedo=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&(e.which==89||e.which==90&&e.shiftKey)},this.isSelectAll=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&e.which==65},this.isBacktick=function(e){return!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey||e.which!=192)},this.isHelp=function(e){return!e.altKey&&(e.ctrlKey||e.metaKey)&&e.which==191},this.lookup=function(e){return u[e.which]||w[e.key]},this.lookupChar=function(e){return String.fromCharCode(e.which)}}}),$("loadcss!touchtracking",function(){}),$("touchtracking",["require","jquery","ipad.ghostevents","keys","loadcss!./touchtracking"],function(B){function u(O,ee){var oe=Y?{passive:!1}:void 0;document.addEventListener(O,function(H){ee(w.event.fix(H))},oe)}var w=B("jquery"),e=B("ipad.ghostevents"),c=B("keys");B("loadcss!./touchtracking"),window._touchtracking_id_counter==null&&(window._touchtracking_id_counter=0),window._touchtracking_id_counter+=1;var t="touchtracking_id_"+window._touchtracking_id_counter,a=function(O){w(O).addClass("dcg-tap-container"),w(O).addClass(t)},l=function(O){w(O).addClass("dcg-no-touchtracking")};e.evtInScope=function(O){return f(O.target)},e.isGhostEvent=function(O){return!window.PointerEvent&&!(s!==h&&s!==o&&!Q())&&O.target!==r&&(!O.target||!w.contains(O.target,r))&&(!r||!w.contains(r,O.target))};var h=1,o=4,s=0,p={},g={},d=[],i=0,n=null,r=null,m=null,y=[],v=function(O){for(var ee=[];O;)ee.push(O),O=O.parentNode;return ee},x=function(O){for(var ee=[],oe=0;oe<O.length;oe++){var H=O[oe];if(ee.push(H),w(H).is(".dcg-tap-container, .dcg-no-touchtracking"))return w(H).is(".dcg-tap-container."+t)?ee:[]}return[]},E=function(O,ee){r=null,s=O,d=v(s===h?ee.originalEvent.touches[0].target:ee.target),w(x(d)).addClass("dcg-depressed").each(function(){var oe=w(this);S(oe)&&oe.addClass("dcg-focus-by-tap")}),w(d).each(function(){var oe=w(this);oe.data({originalScrollTop:oe.scrollTop(),originalScrollLeft:oe.scrollLeft()})}),g={}},b=function(O){return O.is("input, textarea, select")||O.hasClass("dcg-mathquill-input-span")||O.is("[contenteditable=true]")},f=function(O){return!!w(O).closest(".dcg-tap-container, .dcg-no-touchtracking").is(".dcg-tap-container."+t)},S=function(O){return s!==3&&!b(O)&&f(O)},j=function(O){r=null,w(".dcg-depressed").removeClass("dcg-depressed");var ee=w(document.activeElement);if(S(ee))try{ee.blur()}catch{}if(w(".dcg-focus-by-tap").removeClass("dcg-focus-by-tap"),w(d).each(function(){var ye=w(this),_e=ye.data("originalScrollTop")-ye.scrollTop(),Fe=ye.data("originalScrollLeft")-ye.scrollLeft();(_e||Fe)&&(g.scroll=!0)}),g["dcg-tapstart"]===1&&g["dcg-tapend"]===1&&!g["dcg-tapcancel"]&&!g.scroll){var oe=O.device==="mouse"?O.clientX:O.originalEvent.changedTouches[0].clientX,H=O.device==="mouse"?O.clientY:O.originalEvent.changedTouches[0].clientY;if(O&&!O.device&&oe===0&&H===0){var J=O.target.getBoundingClientRect();oe=(J.left+J.right)/2,H=(J.top+J.bottom)/2,O.device="keyboard"}for(var ie=!1,de=0;de<d.length&&!ie;de++){var fe,Ee=w(d[de]);if(typeof Ee[0].getBoundingClientRect=="function"&&(fe=Ee[0].getBoundingClientRect()),Ee.attr("tapboundary")==="true"&&(ie=!0),!(fe&&(oe<fe.left||H<fe.top||oe>fe.right||H>fe.bottom))){r=Ee[0],q("dcg-tap",O,r);break}}}s!==h&&s!==o||(n=setTimeout(function(){n=null,i=new Date().getTime()},1e3)),d=[],s=0},Q=function(){return n||new Date().getTime()-i<500},G=function(O){for(var ee=[],oe=0;oe<O.length;oe++){var H=O[oe];ee.push({identifier:H.identifier,x:H.pageX,y:H.pageY,screenX:H.screenX,screenY:H.screenY,pageX:H.pageX,pageY:H.pageY,clientX:H.clientX,clientY:H.clientY})}return ee},q=function(O,ee,oe){if(O==="dcg-tapstart")p[ee.identifier]={type:O,pageX:ee.originalEvent.changedTouches[0].pageX,pageY:ee.originalEvent.changedTouches[0].pageY};else if(O==="dcg-tapmove"){var H=ee.originalEvent.changedTouches[0],J=p[ee.identifier];if(J&&H.pageX===J.pageX&&H.pageY===J.pageY||(s===h||s===o)&&J&&J.type==="dcg-tapstart"&&Math.abs(J.pageX-H.pageX)+Math.abs(J.pageY-H.pageY)<2)return;p[ee.identifier]={type:O,pageX:ee.originalEvent.changedTouches[0].pageX,pageY:ee.originalEvent.changedTouches[0].pageY}}g[O.toLowerCase()]===void 0?g[O.toLowerCase()]=1:g[O.toLowerCase()]++;var ie=w.event.fix(ee.originalEvent);ie.type=O,ie.device=s===h||s===o?"touch":s===3?"keyboard":"mouse",ie.touches=G(ee.originalEvent.touches),ie.changedTouches=G(ee.originalEvent.changedTouches),ie.target=oe||ee.target;var de=ie.device!=="keyboard"&&g["dcg-longhold"]>0;ie.wasLongheld=function(){return de},ie.preventTap=function(){g["dcg-tapcancel"]=1},clearTimeout(m),ie.type==="dcg-tapstart"&&ie.device!=="keyboard"&&ie.touches.length===1&&(m=setTimeout(function(){q("dcg-longhold",ee,oe)},500)),ie.target&&w.nodeName(ie.target,"a")&&ie.type==="dcg-tap"&&ie.device==="keyboard"&&ie.target.click&&ie.target.click(),w(ie.target).trigger(ie)},L=function(O){var ee=d,oe=!!d.length,H=w(".dcg-tap-container."+t+" .dcg-hovered"),J=w.makeArray(H.filter(function(){return f(this)})),ie=[],de=[],fe=[];x(v(O)).forEach(function(ye){oe&&ee.indexOf(ye)===-1||(J.indexOf(ye)===-1&&fe.push(ye),ie.push(ye))});for(var Ee=0;Ee<J.length;Ee++)O=J[Ee],ie.indexOf(O)===-1&&de.push(O);w(de).removeClass("dcg-hovered").trigger("tipsyhide"),w(fe).addClass("dcg-hovered").trigger("tipsyshow")},M=function(O){for(var ee=0;ee<y.length;ee++)if(y[ee].pointerId===O)return!0;return!1},D=function(O){for(var ee=0;ee<y.length;ee++)if(y[ee].pointerId===O)return y.splice(ee,1)[0]},V=function(O){s===0&&E(o,O),L(null),y.push(O.originalEvent),O.originalEvent.identifier=O.originalEvent.pointerId,O.originalEvent.touches=y,O.originalEvent.changedTouches=[O.originalEvent],q("dcg-tapstart",O)},W=function(O){D(O.originalEvent.pointerId),O.originalEvent.identifier=O.originalEvent.pointerId,O.originalEvent.touches=y,O.originalEvent.changedTouches=[O.originalEvent],q("dcg-tapcancel",O),y.length===0&&j(O)},N=function(O){D(O.originalEvent.pointerId),O.originalEvent.identifier=O.originalEvent.pointerId,O.originalEvent.touches=y,O.originalEvent.changedTouches=[O.originalEvent],q("dcg-tapend",O),y.length===0&&j(O)},re=function(O){return O.originalEvent.pointerType==="touch"||O.originalEvent.pointerType===2};w(document).on("pointerdown MSPointerDown",function(O){s!==2&&s!==h&&re(O)&&(M(O.originalEvent.pointerId)||V(O))}),w(document).on("pointermove MSPointerMove",function(O){s!==2&&s!==h&&re(O)&&(M(O.originalEvent.pointerId)||V(O),D(O.originalEvent.pointerId),y.push(O.originalEvent),O.originalEvent.identifier=O.originalEvent.pointerId,O.originalEvent.touches=y,O.originalEvent.changedTouches=[O.originalEvent],q("dcg-tapmove",O))}),w(document).on("pointercancel MSPointerCancel",function(O){if(s===o&&re(O)&&M(O.originalEvent.pointerId)){W(O);for(var ee;ee=y.pop();){var O=w.Event(ee,{originalEvent:ee});W(O)}}}),w(document).on("pointerup MSPointerUp",function(O){if(s===o&&re(O)&&M(O.originalEvent.pointerId)){N(O);for(var ee;ee=y.pop();){var O=w.Event(ee,{originalEvent:ee});N(O)}}});var Y=function(){var O=!1;try{var ee=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("test",function(){},ee),window.removeEventListener("test",function(){},ee)}catch{}return O}();return u("touchstart",function(O){s!==2&&s!==o&&(s===0&&E(h,O),L(null),q("dcg-tapstart",O))}),u("touchmove",function(O){s===h&&q("dcg-tapmove",O)}),u("touchcancel",function(O){s===h&&(q("dcg-tapcancel",O),O.originalEvent.touches.length===0&&j(O))}),u("touchend",function(O){s===h&&(q("dcg-tapend",O),O.originalEvent.touches.length===0&&j(O))}),w(document).on("mousedown",function(O){if(O.button!==1&&O.button!==2){if(s===h||s===o||Q())return void(!w(O.target).is("input, textarea, select")&&f(O.target)&&O.preventDefault());E(2,O),O.originalEvent.touches=[O],O.originalEvent.changedTouches=[O],q("dcg-tapstart",O)}}),w(document).ready(function(){w(document).on("mousedown",function(O){var ee=!!w(O.target).closest(".dcg-do-not-blur").length,oe=!!w(O.target).closest(".dcg-do-blur").length;if(ee&&!oe&&f(O.target)){O.preventDefault();try{var H=window.getSelection();if(H.rangeCount===1){var J=H.getRangeAt(0);J.startContainer===J.endContainer&&w(J.startContainer).closest(".dcg-text-selectable").length&&H.removeAllRanges()}}catch{}}})}),w(document).on("mouseleave",function(O){s===0&&(Q()||L(null))}),w(document).on("mousemove",function(O){O.button!==1&&O.button!==2&&s!==h&&s!==o&&(Q()||(L(O.target),O.originalEvent.touches=[O],O.originalEvent.changedTouches=[O],q("dcg-tapmove",O)))}),w(document).on("mouseup",function(O){O.button!==1&&O.button!==2&&s===2&&(O.originalEvent.touches=[],O.originalEvent.changedTouches=[O],q("dcg-tapend",O),j(O))}),w(document).on("keydown",function(O){if((c.lookup(O)===c.ENTER||c.lookup(O)===c.SPACEBAR)&&f(O.target)&&s!==3){if(w(O.target).is('a:not([ontap]), button, input, textarea, select, [contenteditable="true"]'))return;O.preventDefault(),E(3,O),O.originalEvent.touches=[O],O.originalEvent.changedTouches=[O],q("dcg-tapstart",O)}}),w(document).on("keyup",function(O){c.lookup(O)!==c.ENTER&&c.lookup(O)!==c.SPACEBAR||!f(O.target)||s===3&&(O.originalEvent.touches=[],O.originalEvent.changedTouches=[O],q("dcg-tapend",O),j(O))}),{monitor:a,ignore:l,isTapActive:function(){return s!==0},elIsFocusable:b}}),$("lib/conditional_blur",["require","exports","touchtracking","jquery"],function(B,u,w,e){function c(){if(document.activeElement){var t=e(document.activeElement);w.elIsFocusable(t)&&e(document.activeElement).blur()}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=c}),$("lib/state-stack",["require","exports"],function(B,u){Object.defineProperty(u,"__esModule",{value:!0});var w=function(){function e(c){c===void 0&&(c=100),this.clear(),this._sizeLimit=c}return e.prototype.clear=function(){this._stack=[],this._stackPointer=-1},e.prototype.getState=function(){return this._stack[this._stackPointer]},e.prototype.serializeForBugsnag=function(){function c(t){try{return JSON.stringify(t,null,2)}catch{return"[[could not jsonify]]"}}return{currentState:c(this._stack[this._stackPointer]),undoState:c(this._stack[this._stackPointer-1]),redoState:c(this._stack[this._stackPointer+1])}},e.prototype.addState=function(c){this.canRedo()&&this._stack.splice(this._stackPointer+1),this._stack.push(c),this._stack.length>this._sizeLimit&&this._stack.shift(),this._stackPointer=this._stack.length-1},e.prototype.replaceState=function(c){this.canRedo()&&this._stack.splice(this._stackPointer+1),this._stack.length===0?(this._stack.push(c),this._stackPointer=0):this._stack[this._stackPointer]=c},e.prototype.canUndo=function(){return this._stackPointer>0},e.prototype.canRedo=function(){return this._stackPointer<this._stack.length-1},e.prototype.undo=function(){this.canUndo()&&(this._stackPointer-=1)},e.prototype.redo=function(){this.canRedo()&&(this._stackPointer+=1)},e}();u.default=w}),$("graphing/viewport",["require","exports"],function(B,u){function w(c,t){return c*(1-1e-8)+1e-8*t>c&&t-c>1e-300&&t-c<1e300}Object.defineProperty(u,"__esModule",{value:!0});var e=function(){function c(t,a,l,h){t===void 0&&(t=-10),a===void 0&&(a=10),l===void 0&&(l=-10),h===void 0&&(h=10),this.xmin=t,this.xmax=a,this.ymin=l,this.ymax=h}return c.fromObject=function(t){return new c(t.xmin,t.xmax,t.ymin,t.ymax)},c.prototype.toObject=function(){return{xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax}},c.prototype.equals=function(t){return this.xmin===t.xmin&&this.ymin===t.ymin&&this.xmax===t.xmax&&this.ymax===t.ymax},c.prototype.isXValid=function(){return w(this.xmin,this.xmax)},c.prototype.isYValid=function(){return w(this.ymin,this.ymax)},c.prototype.isValid=function(){return this.isXValid()&&this.isYValid()},c.prototype.isSquare=function(t){return Math.abs(t.height-t.width*this.aspectRatio())<1},c.prototype.aspectRatio=function(){return(this.ymax-this.ymin)/(this.xmax-this.xmin)},c.prototype.squareXAxis=function(t){var a=this.xmax-this.xmin,l=this.ymax-this.ymin,h=this.xmin+a/2,o=l/t.height*t.width;return new c(h-o/2,h+o/2,this.ymin,this.ymax)},c.prototype.squareYAxis=function(t){var a=this.xmax-this.xmin,l=this.ymax-this.ymin,h=this.ymin+l/2,o=a/t.width*t.height;return new c(this.xmin,this.xmax,h-o/2,h+o/2)},c.prototype.squareCrop=function(t){return this.aspectRatio()>t.height/t.width?this.squareYAxis(t):this.squareXAxis(t)},c.prototype.polarDiameter=function(){var t=Math.abs(this.xmax),a=Math.abs(this.xmin),l=Math.abs(this.ymax),h=Math.abs(this.ymin);return 1.5*Math.max(t,a,l,h)},c.prototype.largestR=function(){return Math.sqrt(Math.pow(Math.max(-this.xmin,this.xmax),2)+Math.pow(Math.max(-this.ymin,this.ymax),2))},c.prototype.smallestR=function(){return this.xmin<=0&&this.xmax>=0&&this.ymin<=0&&this.ymax>=0?0:this.xmin<=0&&this.xmax>=0?Math.min(Math.abs(this.ymin),Math.abs(this.ymax)):this.ymin<=0&&this.ymax>=0?Math.min(Math.abs(this.xmin),Math.abs(this.xmax)):Math.sqrt(Math.pow(Math.max(this.xmin,-this.xmax),2)+Math.pow(Math.max(this.ymin,-this.ymax),2))},c}();u.Viewport=e}),$("core/graphing-calc/migrations/0",["require"],function(B){function u(s){if(s.type){if(h.hasOwnProperty(s.type))return s.type;throw new Error("Invalid item type: '"+s.type+"'.")}return s.text!==void 0?"text":s.columns!==void 0||s.headings!==void 0?"table":"expression"}function w(s){return s.replace(/\\(total|length|mean|median|quantile|stdev|stddev|stdDev|stdevp|stddevp|stdDevP|var|variance|cov|corr|ceil|floor|round|abs|mod|lcm|mcm|mcd|nCr|nPr|signum|sign|arcsinh|arccosh|arctanh|arccsch|arcsech|arccoth|arccsc|arcsec|arccot)/g,"\\operatorname{$1}")}function e(s){var p={};for(var g in s)s.hasOwnProperty(g)&&(p[g]=g==="latex"?w(s[g]):g==="values"?s[g].map(w):s[g]);return p}function c(s){var p,g=u(s),d={};switch(g){case"expression":for(p in s)s.hasOwnProperty(p)&&(d[p]=p==="latex"?w(s[p]):s[p]);return d.type=g,d;case"table":for(p in s)s.hasOwnProperty(p)&&(d[p]=p==="columns"?s[p].map(e):s[p]);return d.type=g,d;case"image":for(p in s)s.hasOwnProperty(p)&&(d[p]=p==="width"||p==="height"||p==="x"||p==="y"?w(s[p]):s[p]);return d.type=g,d;case"text":case"folder":for(p in s)s.hasOwnProperty(p)&&(d[p]=s[p]);return d.type=g,d}}function t(s){var p={};for(var g in s)s.hasOwnProperty(g)&&g!=="xAxisArrows"&&g!=="yAxisArrows"&&(p[g]=s[g]);return p.xAxisArrowMode=o[s.xAxisArrows||"none"],p.yAxisArrowMode=o[s.yAxisArrows||"none"],p}function a(s){if(s.version)throw new Error("Unexpected version: "+s.version);var p={};return p.graph=t(s.graph),p.expressions={list:s.expressions.list.map(c)},p.version=0,p}var l={NONE:"NONE",POSITIVE:"POSITIVE",BOTH:"BOTH"},h={expression:!0,table:!0,image:!0,folder:!0,text:!0},o={none:l.NONE,both:l.BOTH,positive:l.POSITIVE};return a}),$("core/graphing-calc/migrations/1",["require"],function(B){function u(a){return a.replace(/\\(sech|csch)/g,"\\operatorname{$1}")}function w(a){var l={};for(var h in a)a.hasOwnProperty(h)&&(l[h]=h==="latex"?u(a[h]):h==="values"?a[h].map(u):a[h]);return l}function e(a){var l,h=a.type,o={};switch(h){case"expression":for(l in a)a.hasOwnProperty(l)&&(o[l]=l==="latex"?u(a[l]):a[l]);return o;case"table":for(l in a)a.hasOwnProperty(l)&&(o[l]=l==="columns"?a[l].map(w):a[l]);return o;case"image":for(l in a)a.hasOwnProperty(l)&&(o[l]=l==="width"||l==="height"||l==="x"||l==="y"?u(a[l]):a[l]);return o;case"text":case"folder":for(l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);return o;default:throw new Error("Unexpected expression type: "+h)}}function c(a){if(a.version)throw new Error("Unexpected version: "+a.version);var l={};return l.graph=a.graph,l.expressions={list:a.expressions.list.map(e)},l.version=t,l}var t=1;return c}),$("core/graphing-calc/migrations/2",["require","core/lib/color-helpers"],function(B){function u(d){switch(d){case l:return a.RED;case h:return a.BLUE;case o:return a.GREEN;case s:return a.PURPLE;case p:return a.ORANGE;case g:return a.BLACK;default:return d}}function w(d){var i={};for(var n in d)d.hasOwnProperty(n)&&(i[n]=n==="color"?u(d[n]):d[n]);return i}function e(d){var i,n=d.type,r={};switch(n){case"expression":for(i in d)d.hasOwnProperty(i)&&(r[i]=i==="color"?u(d[i]):d[i]);return r;case"table":for(i in d)d.hasOwnProperty(i)&&(r[i]=i==="columns"?d[i].map(w):d[i]);return r;case"image":case"text":case"folder":for(i in d)d.hasOwnProperty(i)&&(r[i]=d[i]);return r;default:throw new Error("Unexpected expression type: "+n)}}function c(d){if(d.version>1)throw new Error("Unexpected version: "+d.version);var i={};return i.graph=d.graph,i.expressions={list:d.expressions.list.map(e)},i.version=t,i}var t=2,a=B("core/lib/color-helpers").colors,l="#C0504D",h="#4F81BD",o="#9BBB59",s="#8064A2",p="#F79646",g="#000000";return c}),$("core/graphing-calc/migrations/3",["require"],function(B){function u(t){if(typeof t=="string")return t;if(t===void 0)return"";var a=t+"";return a=a.replace(/1e\+?([-\d]+)/,"10^{$1}"),a=a.replace(/([-\d\.]+)e\+?([-\d]+)/,"$1\\cdot 10^{$2}")}function w(t){var a,l=t.type,h={};switch(l){case"expression":for(a in t)t.hasOwnProperty(a)&&(h[a]=a==="sliderMax"||a==="sliderMin"||a==="sliderInterval"?u(t[a]):a==="domain"?{max:u(t[a].max),min:u(t[a].min)}:t[a]);return h.hasOwnProperty("sliderMin")&&h.sliderInterval===void 0&&(h.sliderInterval=""),h;case"image":case"table":case"text":case"folder":for(a in t)t.hasOwnProperty(a)&&(h[a]=t[a]);return h;default:throw new Error("Unexpected expression type: "+l)}}function e(t){if(t.version>2)throw new Error("Unexpected version: "+t.version);var a={};return a.graph=t.graph,a.expressions={list:t.expressions.list.map(w)},a.version=c,a}var c=3;return e}),$("core/graphing-calc/migrations/4",["require"],function(B){function u(a){switch(a){case"point":return"POINT";case"cross":return"CROSS";case"open":return"OPEN";case"normal":return"SOLID";case"dashed":return"DASHED";case"dotted":return"DOTTED";default:return a}}function w(a){var l={};for(var h in a)a.hasOwnProperty(h)&&(l[h]=h==="style"?u(a[h]):a[h]);return l}function e(a){var l,h=a.type,o={};switch(h){case"expression":for(l in a)a.hasOwnProperty(l)&&(o[l]=l==="style"?u(a[l]):a[l]);return o;case"table":for(l in a)a.hasOwnProperty(l)&&(o[l]=l==="columns"?a[l].map(w):a[l]);return o;case"image":case"text":case"folder":for(l in a)a.hasOwnProperty(l)&&(o[l]=a[l]);return o;default:throw new Error("Unexpected expression type: "+h)}}function c(a){if(a.version!==3)throw new Error("Unexpected version: "+a.version);var l={};return l.graph=a.graph,l.expressions={list:a.expressions.list.map(e)},l.version=t,l}var t=4;return c}),$("core/graphing-calc/validate-state",["require","exports","core/lib/deepCopy"],function(B,u,w){function e(o){typeof o.min=="number"&&(o.min=""+o.min),typeof o.max=="number"&&(o.max=""+o.max),typeof o.step=="number"&&(o.step=""+o.step)}function c(o){o.slider&&e(o.slider),typeof o.id!="string"&&(o.id=""+o.id)}function t(o){for(var s,p,g=l(o)+1,d={},i=0,n=o;i<n.length;i++){var r=n[i];if(c(r),r.type==="folder")s=r.id,d[r.id]&&(r.id=""+g,g+=1),p=r.id,d[r.id]=!0,r.hasOwnProperty("folderId")&&delete r.folderId;else{if(s!==void 0&&r.folderId===s?r.folderId=p:(r.folderId&&(r.folderId=""),s=void 0,p=void 0),r.type==="table")for(var m=0,y=r.columns;m<y.length;m++){var v=y[m];d[v.id]&&(v.id=""+g,g+=1),d[v.id]=!0}d[r.id]&&(r.id=""+g,g+=1),d[r.id]=!0}}}function a(o,s){var p=parseFloat(s);return p!==Math.floor(p)?o:Math.max(o,p)}function l(o){for(var s=0,p=0,g=o;p<g.length;p++){var d=g[p];if(s=a(s,d.id),d.type==="table")for(var i=0,n=d.columns;i<n.length;i++){var r=n[i];a(s,r.id)}}return s}function h(o){var s=w.default(o);return t(s.expressions.list),s}Object.defineProperty(u,"__esModule",{value:!0}),u.validateState=h}),$("core/graphing-calc/migrations/back-migration",["require","exports","tslib"],function(B,u,w){function e(t){var a=t.slider;if(a){var l=w.__assign(w.__assign({},a),{loopMode:void 0});return a.loopMode==="PLAY_ONCE"||a.loopMode==="PLAY_INDEFINITELY"?l.newLoopMode=a.loopMode:l.loopMode=a.loopMode,l.loopMode||delete l.loopMode,l}}function c(t){if(t.version!==8)throw new Error("Unexpected version: "+t.version);var a=t.expressions.list.map(function(l){if(l.type==="image"){var h=w.__assign(w.__assign({},l),{stringOpacity:void 0,opacity:void 0});if(l.opacity!==void 0){var o=l.opacity===void 0?NaN:+l.opacity;h.stringOpacity=l.opacity,o>0&&o<1&&(h.opacity=o)}return h.opacity===void 0&&delete h.opacity,h.stringOpacity===void 0&&delete h.stringOpacity,h}if(l.type==="expression"){var h=w.__assign(w.__assign({},l),{stringFillOpacity:void 0,fillOpacity:void 0,slider:e(l)});return h.slider||delete h.slider,delete h.fillOpacity,l.fillOpacity===void 0?delete h.stringFillOpacity:h.stringFillOpacity=l.fillOpacity,h}return l});return{version:7,graph:t.graph,randomSeed:t.randomSeed,expressions:{list:a}}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=c}),$("core/graphing-calc/migrations/5",["require","exports"],function(B,u){function w(l){var h,o={};for(var s in l)if(l.hasOwnProperty(s))switch(h=l[s],s){case"showAxes":o.showXAxis=h,o.showYAxis=h;break;case"showLabels":o.xAxisNumbers=h,o.yAxisNumbers=h,o.polarNumbers=h;break;case"labelXMode":o.xAxisStep=h==="pi"?Math.PI:0;break;case"labelYMode":o.yAxisStep=h==="pi"?Math.PI:0;break;default:o[s]=h}return o}function e(l){var h={};for(var o in l)l.hasOwnProperty(o)&&o!=="showPoints"&&o!=="showLine"&&(h[o]=l[o]);return l.showPoints===void 0&&l.showLine===void 0||(l.showPoints&&l.showLine?h.columnMode="POINTS_AND_LINES":l.showPoints?h.columnMode="POINTS":l.showLine?h.columnMode="LINES":(h.hidden=!0,h.columnMode="POINTS")),h}function c(l){var h,o=l.type,s={};switch(o){case"expression":l.hidden===void 0?l.hasOwnProperty("graphed")?s.hidden=!l.graphed:l.hasOwnProperty("userRequestedGraphing")?s.hidden=l.userRequestedGraphing==="never":s.hidden=!1:s.hidden=l.hidden;for(h in l)l.hasOwnProperty(h)&&h!=="graphed"&&h!=="userRequestedGraphing"&&h!=="hidden"&&h!=="slider"&&(h!=="color"?h!=="style"?h!=="sliderInterval"?s[h]=l[h]:s.sliderInterval=l.sliderInterval==="undefined"?"":l.sliderInterval:s.style=l.style==="normal"?"SOLID":l.style:typeof l.color=="object"?s.color=l.color.value:s.color=l.color);return s;case"table":if(l.headings||l.columns){var p=l.headings?l.headings:l.columns;if(s.columns=p.map(e),l.rows)for(var g=0;g<s.columns.length;g++){var d=s.columns[g];d.values=[];for(var i=0;i<l.rows.length;i++)d.values.push(l.rows[i][g])}}for(h in l)l.hasOwnProperty(h)&&h!=="rows"&&h!=="headings"&&h!=="columns"&&(s[h]=l[h]);return s;case"image":case"text":case"folder":for(h in l)l.hasOwnProperty(h)&&(s[h]=l[h]);return s;default:throw new Error("Unexpected expression type: "+o)}}function t(l){if(l.version!==4)throw new Error("Unexpected version: "+l.version);return{version:a,graph:w(l.graph),expressions:{list:l.expressions.list.map(c)}}}Object.defineProperty(u,"__esModule",{value:!0});var a=5;u.migrateState=t}),$("core/graphing-calc/migrations/6",["require","exports","core/lib/deepCopy","underscore","core/math/sliders","core/math/evaluate-single-expression"],function(B,u,w,e,c,t){function a(r){return!(r.length<2)&&r[0]==="`"&&r[r.length-1]==="`"}function l(r){if(a(r))return{raw:r,parts:[r]};for(var m,y=["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\{[a-zA-Z0-9]+\\}"],v="({"+y.join("})|({")+"})",x=new RegExp(v,"g"),E=[],b=0,f=0;m=x.exec(r);){f=m.index,f>b&&E.push(r.substr(b,f-b));var S=m[0],j=S.replace(/[{}\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");E.push({symbol:j,str:S}),b=m.index+S.length}return b<r.length&&E.push(r.substr(b)),{raw:r,parts:E}}function h(r){var m={};for(var y in r)if(r.hasOwnProperty(y)&&y!=="style")if(y==="values"&&(m[y]=r[y].map(function(v){return v?""+v:""})),y!=="columnMode"||r.hasOwnProperty("points")||r.hasOwnProperty("lines"))m[y]=r[y];else switch(r[y]){case"LINES":m.points=!1,m.lines=!0;break;case"POINTS_AND_LINES":m.points=!0,m.lines=!0;break;default:m.points=!0,m.lines=!1}return m.hasOwnProperty("pointStyle")||(m.pointStyle="POINT"),m.hasOwnProperty("lineStyle")||(m.lineStyle="SOLID"),m.id=""+m.id,m}function o(r){var m=l(r),y="";return e.each(m.parts,function(v){y+=typeof v=="object"&&v.str?"$"+v.str:v}),y}function s(r,m){var y=r.latex.split("=");if(y.length===2){var v=t.default(y[1],m);if(isFinite(v)){var x=r.slider.hardMin?t.default(r.slider.min||"-10",m):void 0,E=r.slider.hardMax?t.default(r.slider.max||"10",m):void 0,b=r.slider.step?t.default(r.slider.step,m):void 0,f=c.determineWhichLimitsAreCompatibleWithValue({target:v,step:b,hardMin:x,hardMax:E});f.min||(delete r.slider.hardMin,delete r.slider.min),f.max||(delete r.slider.hardMax,delete r.slider.max),f.step||delete r.slider.step}}}function p(r,m,y,v){var x,E=r.type,b={};switch(E){case"folder":for(x in r)r.hasOwnProperty(x)&&(x==="memberIds"||(b[x]=r[x]));break;case"expression":for(x in r)if(r.hasOwnProperty(x))if(x!=="style"||r.hasOwnProperty("pointStyle")||r.hasOwnProperty("lineStyle"))n.hasOwnProperty(x)?(b.slider=b.slider||{},b.slider[n[x]]=r[x]):b[x]=r[x],r.label&&(b.label=o(r.label));else{var f=r[x];e.contains(["POINT","OPEN","CROSS"],f)?(b.pointStyle=f,b.lineStyle="SOLID"):e.contains(["SOLID","DASHED","DOTTED"],f)?(b.pointStyle="POINT",b.lineStyle=f):(b.pointStyle="POINT",b.lineStyle="SOLID")}b.latex&&b.slider&&!b.slider.isPlaying&&s(b,v),b.hasOwnProperty("fillOpacity")||(b.fillOpacity=.4),b.label===!1&&(b.label=""),b.labelSize||(b.labelSize="medium"),b.labelOrientation||(b.labelOrientation="default"),b.verticalLabel||(b.verticalLabel=!1),b.interactiveLabel||(b.interactiveLabel=!1);break;case"image":for(x in r)r.hasOwnProperty(x)&&x!=="x"&&x!=="y"&&(b[x]=r[x]);b.center="\\left("+(r.x||"0")+","+(r.y||"0")+"\\right)",b.angle=r.angle||"0",b.foreground=!!b.foreground;break;case"text":for(x in r)r.hasOwnProperty(x)&&(b[x]=r[x]);break;case"table":for(x in r)r.hasOwnProperty(x)&&(b[x]=x==="columns"?r[x].map(h):r[x]);break;default:throw new Error("Unexpected expression type: "+E)}if(b.id=""+b.id,r.type==="folder")m.folderId=b.id,m.memberIds=r.memberIds,b.folderId="";else{var S=y[b.id];m.memberIds&&m.memberIds[S]?b.folderId=m.folderId:(b.folderId="",m.folderId=void 0,m.memberIds=void 0)}return b}function g(r){for(var m=0,y=/^[0-9]+$/,v=r.length-1;v>=0;v--){var x,E=r[v],b=E.id;if(y.test(b)&&(x=parseInt(b,10))>m&&(m=x),E.type==="table"&&E.columns)for(var f=E.columns.length-1;f>=0;f--)b=E.columns[f].id,y.test(b)&&(x=parseInt(b,10))>m&&(m=x)}return m+1}function d(r){if(r.version!==5)throw new Error("Unexpected version: "+r.version);var m=!(!r.graph||!r.graph.degreeMode),y=r.expressions.list,v=-1,x={},E={},b={};return{version:i,graph:r.graph,expressions:{list:y.map(function(f){return x[f.id]?(v===-1&&(v=g(y)),E[v]=f.id,f=w.default(f),f.id=v+"",v+=1):E[f.id]=f.id,x[f.id]=!0,p(f,b,E,m)})}}}Object.defineProperty(u,"__esModule",{value:!0});var i=6,n={sliderMin:"min",sliderMax:"max",sliderInterval:"step",sliderHardMin:"hardMin",sliderHardMax:"hardMax",sliderAnimationPeriod:"animationPeriod",sliderLoopMode:"loopMode",sliderPlayDirection:"playDirection",sliderIsPlaying:"isPlaying"};u.migrateState=d}),$("core/graphing-calc/migrations/7",["require","exports","tslib"],function(B,u,w){function e(c){if(c.version!==6)throw new Error("Unexpected version: "+c.version);var t=c.expressions.list.map(function(a){if(a.type==="expression"&&a.domain){var l=w.__assign(w.__assign({},a),{parametricDomain:{min:a.domain.min,max:a.domain.max}});return delete l.domain,l}return a});return{version:7,randomSeed:c.randomSeed,graph:c.graph,expressions:{list:t}}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=e}),$("core/lib/random-seed",["require","exports","core/lib/md5"],function(B,u,w){function e(t){return t.length===1?"0"+t:t}function c(){var t=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(t);else{if(typeof msCrypto>"u")return w(Date.now().toString());msCrypto.getRandomValues(t)}return Array.prototype.slice.call(t).map(function(a){return e(a.toString(16))}).join("")}Object.defineProperty(u,"__esModule",{value:!0}),u.default=c}),$("core/graphing-calc/migrations/8",["require","exports","tslib","core/lib/random-seed","core/lib/deepCopy"],function(B,u,w,e,c){function t(s){var p=s.split("_");return p.length===2&&p[1]&&p[1].length===1?p[0]+"_{"+p[1]+"}":s}function a(s){var p=/\\operatorname(?:\{stdev\}p|\{stddev\}p|\{stdDev\}P|\{var\}iance)/g;return s.replace(p,function(g){switch(g){case"\\operatorname{stdev}p":return"\\operatorname{stdevp}";case"\\operatorname{stddev}p":return"\\operatorname{stddevp}";case"\\operatorname{stdDev}P":return"\\operatorname{stdDevP}";case"\\operatorname{var}iance":return"\\operatorname{variance}";default:return""}})}function l(s){return s.columns?w.__assign(w.__assign({},s),{columns:s.columns.map(h)}):s}function h(s){var p=s.latex,g=s.values,d=w.__assign({},s);return p&&(d.latex=a(p),d.latex=t(d.latex)),g&&(d.values=g.map(function(i){return i?a(i):""})),d}function o(s){if(s.version!==7)throw new Error("Unexpected version: "+s.version);var p=s.expressions.list.map(function(g){if(g.type==="image"){var d=w.__assign(w.__assign({},g),{opacity:""});g.hasOwnProperty("stringOpacity")?d.opacity=g.stringOpacity:g.hasOwnProperty("opacity")?d.opacity=g.opacity+"":delete d.opacity,delete d.stringOpacity;for(var i in g)if(i==="x"||i==="y"||i==="width"||i==="height"){var n=g[i];n&&(d[i]=a(n))}return d}if(g.type==="expression"){var d=w.__assign(w.__assign({},g),{fillOpacity:"",lineStyle:"SOLID"});if(g.lineStyle==="SINGLE_PIXEL"?d.lineWidth="1":g.hasOwnProperty("lineStyle")?d.lineStyle=g.lineStyle:delete d.lineStyle,d.hasOwnProperty("lineWidth")||(d.lineWidth=""),typeof g.latex=="string"&&(d.latex=a(g.latex)),g.latex&&(d.latex=a(g.latex)),g.hasOwnProperty("stringFillOpacity")?d.fillOpacity=g.stringFillOpacity:g.hasOwnProperty("fillOpacity")?d.fillOpacity=g.fillOpacity+"":delete d.fillOpacity,d.slider&&g.slider&&g.slider.newLoopMode&&(d.slider=c.default(d.slider),d.slider.loopMode=g.slider.newLoopMode,delete d.slider.newLoopMode),d.residualVariable&&(d.residualVariable=t(d.residualVariable)),d.regressionParameters){d.regressionParameters={};for(var r in g.regressionParameters){var m=t(r),y=g.regressionParameters[r];d.regressionParameters[m]=y}}return d}return g.type==="table"?l(g):g});return{version:8,randomSeed:s.randomSeed||e.default(),graph:s.graph,expressions:{list:p}}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=o}),$("core/graphing-calc/migrate-state",["require","exports","./migrations/0","./migrations/1","./migrations/2","./migrations/3","./migrations/4","core/graphing-calc/validate-state","./migrations/back-migration","./migrations/5","./migrations/6","./migrations/7","./migrations/8"],function(B,u,w,e,c,t,a,l,h,o,s,p,g){function d(r){if(r.version>u.currentVersion)return typeof console<"u"&&console.warn&&console.warn("Loading saved state with version "+r.version+" but last known version is "+u.currentVersion+". States saved in a newer version of the calculator may not load correctly in an older version of the calculator."),l.validateState(r);if(r.hasOwnProperty("version")&&!n[r.version])return typeof console<"u"&&console.warn&&console.warn("State has invalid version "+r.version+". If a version is present, it should be a non-negative integer less than or equal to "+u.currentVersion+"."),l.validateState(r);for(r.hasOwnProperty("version")||(r=n[0](r));r.version<u.currentVersion;)r=n[r.version+1](r);return l.validateState(r)}function i(r){return h.default(d(r))}Object.defineProperty(u,"__esModule",{value:!0});var n=[w,e,c,t,a,o.migrateState,s.migrateState,p.default,g.default];u.persistedVersion=7,u.currentVersion=8,u.migrateToLatest=d,u.migrateToPersisted=i}),$("graphing-calc/models/focus",["require","exports","./expression","./list"],function(B,u,w,e){function c(s,p,g){t(s,a(s,p,g))}function t(s,p){if(s.focusLocation=p,p&&p.type!=="settings"&&p.type!=="editable-label"&&p.type!=="add-item-btn"&&p.type!=="add-expression-btn"&&p.type!=="add-table-btn"&&p.type!=="add-folder-btn"&&p.type!=="add-image-btn"&&p.type!=="edit-list-toggle"){var g=s.getItemModel(p.id);if(p.type==="expression-menu")return void e.setSelected(s.getListModel(),void 0);e.setSelected(s.getListModel(),g),g&&g.type==="expression"&&w.setSliderIsPlaying(g,!1)}}function a(s,p,g){var d=s.getItemModel(p);if(d)switch(d.type){case"expression":return{type:s.isInEditListMode()?"readonly-expression":d.type,id:p};case"folder":case"text":return{type:d.type,id:p};case"table":var i={row:1,column:0},n=!1;return g&&(g.location==="cell"?i={row:g.row,column:g.column}:g==="end"?i={row:d.columnModels[0].cells.length,column:0}:g==="start"?i={row:0,column:0}:g==="container"&&(n=!0)),n?{type:"table-container",id:p}:{type:d.type,id:p,location:i};case"image":return{type:d.type,id:p,location:"name"};default:return d}}function l(s){var p=s.getSelectedItem();if(p&&p.type==="expression")return void c(s,p.id);if(!p||p.type!=="table"||!s.focusLocation){for(var g=s.getFirstFullyVisibleItem(),d=s.getListModel();g&&g.type!=="expression";)g=e.findNextSelectableItem(d,g.index);if(g)return void c(s,g.id);var i=s.createItemModel({type:"expression",id:s.generateId(),color:s.getNextColor()});e.insertItemAtEnd(s.getListModel(),i),c(s,i.id)}}function h(s){var p=s.focusLocation;if(p&&p.type!=="settings"&&p.type!=="editable-label"&&p.type!=="add-item-btn"&&p.type!=="add-expression-btn"&&p.type!=="add-table-btn"&&p.type!=="add-folder-btn"&&p.type!=="add-image-btn"&&p.type!=="edit-list-toggle")return s.getItemModel(p.id)}function o(s,p,g){t(s,{type:"table",id:p,location:g})}Object.defineProperty(u,"__esModule",{value:!0}),u.moveFocusToItem=c,u.setFocusLocation=t,u.computeFocusLocationForItem=a,u.addFocusForKeypad=l,u.getFocusedItem=h,u.focusTableCell=o}),$("graphing-calc/actions/keyboard",["require","exports","browser","lib/conditional_blur","../models/table","../models/focus","../models/list","../models/abstract-item"],function(B,u,w,e,c,t,a,l){function h(r,m,y){var v=r.getItemModel(m);if(v&&v.type==="table"){var x=v,E=c.getSelectedCell(x),b=E?E.row:-1,f=E?E.column:-1,S=x.columnModels,j=S[0].cells.length,Q=S.length,G=function(V,W){V===-1?o(r):V>j?s(r):(W===-1?(W=Q-1,V--):W===Q&&(V++,W=0),t.focusTableCell(r,m,{row:V,column:W}))},q=function(V){j>2&&c.removeRow(x,b-1),t.focusTableCell(r,m,{row:V,column:f})},L=function(V){f===0||Q<=2||(c.removeColumn(x,f),t.focusTableCell(r,m,{row:b,column:V}))};switch(y){case"Left":G(b,f-1);break;case"Right":G(b,f+1);break;case"Up":G(b-1,f);break;case"Down":G(b+1,f);break;case"Enter":if(b>=j)return d(r);if(f>0)return G(b+1,f);if(b===j-1){var M=c.getRowAutoFillValues(x,b);c.insertBlankRow(x,b);for(var D=0;D<M.length;D++)c.setCellLatex(x,{row:b+1,column:D},M[D]);return void t.focusTableCell(r,m,{row:b+1,column:f})}c.insertBlankRow(x,b),t.focusTableCell(r,m,{row:b+1,column:f});break;case"Backspace":b===0?f===0?p(r):f===Q-1||f===1&&Q===3?G(0,f-1):L(f-1):f!==0?G(b,f-1):b===j?G(b-1,f):q(b-1);break;case"Delete":b===0?f===0?g(r):f<Q-1&&L(f):b>=j||q(b)}}}function o(r){var m=r.getSelectedItem();m&&(r.inAudioTraceMode()||m.index!==0&&(a.selectPrevItem(r.getListModel()),(m=r.getSelectedItem())&&t.moveFocusToItem(r,m.id,"end")))}function s(r){if(!r.inAudioTraceMode()){if(!a.selectNextItem(r.getListModel())&&!r.isInEditListMode()){var m=r.createItemModel({type:"expression",id:r.generateId(),color:r.getNextColor()});a.insertItemAtEnd(r.getListModel(),m),a.setSelected(r.getListModel(),m)}var y=r.getSelectedItem();y&&t.moveFocusToItem(r,y.id,"start")}}function p(r){if(!r.isInEditListMode()){var m=r.getSelectedItem();if(m&&(r.getItemCount()!==1||m.type!=="expression")){var y=m.type==="text",v=a.getParentFolderModel(m);if(v){var x=r.getNumberOfItemsInFolder(v.id);if(m.index===v.index+x)return void l.setFolderId(m,"")}if(i(r),y&&w.IS_IPAD&&w.IS_IN_IFRAME)return void a.setSelected(r.getListModel(),void 0);m=r.getSelectedItem(),m&&t.moveFocusToItem(r,m.id,"end")}}}function g(r){if(!r.isInEditListMode()){var m=r.getSelectedItem();m&&(r.getItemCount()===1&&m.type==="expression"||(n(r),(m=r.getSelectedItem())&&t.moveFocusToItem(r,m.id,"start")))}}function d(r){if(!r.isInEditListMode()){var m=r.getSelectedItem();if(m){if(m.type==="text"&&w.IS_IPAD&&w.IS_IN_IFRAME)return e.default(),void a.setSelected(r.getListModel(),void 0);if((m.type==="expression"||m.type==="image")&&m.missingVariables.length&&r.areSlidersEnabled())return r.createSlidersForItem(m.id,m.missingVariables.concat(""));var y=r.createItemModel({type:"expression",id:r.generateId(),color:r.getNextColor()}),v=m.index+1;m.type==="folder"&&m.collapsed&&(v+=r.getNumberOfItemsInFolder(m.id)),a.insertItemAtIndex(r.getListModel(),y,v),a.setSelected(r.getListModel(),y),m.type!=="folder"||m.collapsed?m.type!=="folder"&&m.folderId&&l.setFolderId(y,m.folderId):l.setFolderId(y,m.id),m=r.getSelectedItem(),m&&t.moveFocusToItem(r,m.id)}}}function i(r){var m=r.getSelectedItem(),y=r.getListModel();if(m){var v=a.findPrevSelectableItem(y,m.index);if(r._removeExpressionSynchronously(m),!v){var x=a.getFirstSelectableItem(y);x&&(v=x)}a.setSelected(y,v)}}function n(r){var m=r.getSelectedItem(),y=r.getListModel();if(m){var v=a.findNextSelectableItem(y,m.index);if(r._removeExpressionSynchronously(m),!v){var x=a.getLastSelectableItem(y);x&&(v=x)}a.setSelected(y,v)}}Object.defineProperty(u,"__esModule",{value:!0}),u.navigateTableByKey=h,u.onUpPressed=o,u.onDownPressed=s,u.onBackspacePressed=p,u.onDeletePressed=g,u.onEnterPressed=d,u.upwardDeleteSelectedExpression=i,u.downwardDeleteSelectedExpression=n}),$("main/expression-zoom-helpers",["require","exports","core/lib/deepCopy"],function(B,u,w){function e(p){switch(p){case"histogram":case"dotplot":return 12;case"boxplot":return 40}return 1/0}function c(p){return p==="boxplot"||p==="dotplot"||p=="histogram"}function t(p){return p==="boxplot"?3:.5}function a(p,g){if(p.type==="dotplot"||p.type==="histogram"){var d=Math.max(1,p.xmax-p.xmin),i=80*d/(p.binWidth?p.binWidth:1),n=.5*(g.screen.width-i)/i;return Math.max(.2,n)}return .5}function l(p){return p=w.default(p),p.xmax<0&&p.xmin<0&&p.xmax/(p.xmin-p.xmax)<1.2&&(p.xmax=0),p.xmax>0&&p.xmin>0&&p.xmin/(p.xmax-p.xmin)<1.2&&(p.xmin=0),p.ymax<0&&p.ymin<0&&p.ymax/(p.ymin-p.ymax)<1.2&&(p.ymax=0),p.ymax>0&&p.ymin>0&&p.ymin/(p.ymax-p.ymin)<1.2&&(p.ymin=0),p}function h(p,g){var d,i,n,r,m=p.type,y=a(p,g),v=t(m);p.xmin===p.xmax&&(p.xmin-=.5,p.xmax+=.5),p.ymin===p.ymax&&(p.ymin-=.5,p.ymax+=.5);var x=p.xmax-p.xmin;d=p.xmin-y*x,i=p.xmax+y*x;var E=p.ymax-p.ymin;if(n=p.ymin-v*E,r=p.ymax+v*E,c(m)){var b=g.screen.height/g.screen.width,f=(i-d)*b;if(f>p.ymax-p.ymin&&f<e(m)*(p.ymax-p.ymin)){var S=.5*(p.ymax+p.ymin);r=S+.5*f,n=S-.5*f}}return{xmin:d,xmax:i,ymin:n,ymax:r}}function o(p,g){var d=s(p,g);if(!d)return!1;var i=g.mapx(d.xmin),n=g.mapx(d.xmax),r=g.mapy(d.ymin),m=g.mapy(d.ymax);return!(Math.abs(i)<=10&&Math.abs(m)<=10&&Math.abs(n-g.screen.width)<=10&&Math.abs(r-g.screen.height)<=10)}function s(p,g){for(var d=1/0,i=-1/0,n=1/0,r=-1/0,m=0,y=p.length,v=0;v<y;v++){var x=l(p[v]);if(isFinite(x.xmax-x.xmin)&&isFinite(x.ymax-x.ymin)){var E=h(x,g);E.xmin<d&&(d=E.xmin),E.xmax>i&&(i=E.xmax),E.ymin<n&&(n=E.ymin),E.ymax>r&&(r=E.ymax)}else m+=1}if(m!==y)return{xmin:d,xmax:i,ymin:n,ymax:r}}Object.defineProperty(u,"__esModule",{value:!0}),u.conditionalExpandViewport=l,u.padViewport=h,u.shouldExpressionZoomFit=o,u.getRecommendedViewportForExpression=s}),$("main/layout-model",["require","exports","browser"],function(B,u,w){function e(t){switch(t){case"letters":return"capitalLetters";case"noQwertyLetters":return"noQwertyCapitalLetters";case"noQwertyCapitalLetters":return"noQwertyLetters";default:return"letters"}}function c(t){return{keypadMinimized:!w.IS_TOUCH_DEVICE,keypadLayout:"mainNumbers",keypadFunctionsTab:"trig",keypadFunctionsOpen:!1,graphSettingsOpen:!1,addExpressionOpen:!1,expressionsVisible:!!t.expressions,inEditListMode:!1,isFileDraggedOver:!1,expressionsHiddenTime:void 0}}Object.defineProperty(u,"__esModule",{value:!0}),u.getShiftedLayoutForCurrentLayout=e,u.defaultLayoutModel=c}),$("main/settings-view-model",["require","exports","tslib","core/lib/label"],function(B,u,w,e){function c(o,s){var p=e.value(o,s),g="";if(p.mantissa)g=p.mantissa.split("").join("\\cdot")+"^{"+p.superscript+"}";else{var d=p.string.split("/");g=d.length===2?d[0][0]==="-"?"-\\frac{"+d[0].slice(1)+"}{"+d[1]+"}":"\\frac{"+d[0]+"}{"+d[1]+"}":p.string}return g=g.replace(//,"\\pi")}function t(o){return{xmin:c(o.xmin,o.xmax-o.xmin),xmax:c(o.xmax,o.xmax-o.xmin),ymin:c(o.ymin,o.ymax-o.ymin),ymax:c(o.ymax,o.ymax-o.ymin)}}function a(o,s){return o===0?"":c(o,s)}function l(o,s,p){var g=t(o);return w.__assign(w.__assign({},g),{xstep:a(s,o.xmax-o.xmin),ystep:a(p,o.ymax-o.ymin)})}function h(){return{limitLatex:{xmin:"",xmax:"",xstep:"",ymin:"",ymax:"",ystep:""}}}Object.defineProperty(u,"__esModule",{value:!0}),u.formatLatex=c,u.formatViewport=t,u.formatStep=a,u.limitLatex=l,u.defaultSettingsViewModel=h}),function(B,u){if(typeof $=="function"&&$.amd)$("abraham",[],u);else{var w=u();for(var e in w)B[e]=w[e]}}(this,function(){return function(B){function u(e){if(w[e])return w[e].exports;var c=w[e]={i:e,l:!1,exports:{}};return B[e].call(c.exports,c,c.exports,u),c.l=!0,c.exports}var w={};return u.m=B,u.c=w,u.i=function(e){return e},u.d=function(e,c,t){u.o(e,c)||Object.defineProperty(e,c,{configurable:!1,enumerable:!0,get:t})},u.n=function(e){var c=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(c,"a",c),c},u.o=function(e,c){return Object.prototype.hasOwnProperty.call(e,c)},u.p="",u(u.s=26)}([function(B,u,w){function e(t,a){var l=c.map(t,a);return t.warnings&&(l.warnings=t.warnings),l}Object.defineProperty(u,"__esModule",{value:!0});var c=w(22);u.map=e},function(B,u){function w(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function c(m){if(s===setTimeout)return setTimeout(m,0);if((s===w||!s)&&setTimeout)return s=setTimeout,setTimeout(m,0);try{return s(m,0)}catch{try{return s.call(null,m,0)}catch{return s.call(this,m,0)}}}function t(m){if(p===clearTimeout)return clearTimeout(m);if((p===e||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(m);try{return p(m)}catch{try{return p.call(null,m)}catch{return p.call(this,m)}}}function a(){n&&d&&(n=!1,d.length?i=d.concat(i):r=-1,i.length&&l())}function l(){if(!n){var m=c(a);n=!0;for(var y=i.length;y;){for(d=i,i=[];++r<y;)d&&d[r].run();r=-1,y=i.length}d=null,n=!1,t(m)}}function h(m,y){this.fun=m,this.array=y}function o(){}var s,p,g=B.exports={};(function(){try{s=typeof setTimeout=="function"?setTimeout:w}catch{s=w}try{p=typeof clearTimeout=="function"?clearTimeout:e}catch{p=e}})();var d,i=[],n=!1,r=-1;g.nextTick=function(m){var y=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)y[v-1]=arguments[v];i.push(new h(m,y)),i.length!==1||n||c(l)},h.prototype.run=function(){this.fun.apply(null,this.array)},g.title="browser",g.browser=!0,g.env={},g.argv=[],g.version="",g.versions={},g.on=o,g.addListener=o,g.once=o,g.off=o,g.removeListener=o,g.removeAllListeners=o,g.emit=o,g.prependListener=o,g.prependOnceListener=o,g.listeners=function(m){return[]},g.binding=function(m){throw new Error("process.binding is not supported")},g.cwd=function(){return"/"},g.chdir=function(m){throw new Error("process.chdir is not supported")},g.umask=function(){return 0}},function(B,u,w){function e(d){for(var i=!1,n=0,r="",m="",y=0,v=d;y<v.length;y++){var x=v[y];if(x.type!=="terminal"||!/[A-Za-z]/.test(x.value))break;r+=x.value,n++}return m=r.replace(o,"\\operatorname{$1}"),i=n>0&&m!==r,{modified:i,terminalCount:n,value:m}}function c(d){return p.indexOf(d.toLowerCase())!==-1}function t(d){if(!Array.isArray(d))throw new Error("Operator names must be an array, got "+typeof d);for(var i=0,n=d;i<n.length;i++){var r=n[i];if(typeof r!="string")throw new Error("Operator names must be strings, found "+typeof r)}p=d,l()}function a(){p=s,o=g}function l(){o=h(p)}function h(d){var i=d.sort(function(n,r){return r.length-n.length||r.localeCompare(n)}).join("|");return new RegExp("("+i+")","g")}Object.defineProperty(u,"__esModule",{value:!0});var o,s=["abs","ans","arccosh","arccot","arccoth","arccsc","arccsch","arcsec","arcsech","arcsinh","arctanh","binomialdist","boxplot","cdf","ceil","corr","cov","csch","distance","dotplot","erf","floor","gcf","histogram","IndependentTTest","iTTest","ittest","lcm","length","mad","mcd","mcm","mean","median","midpoint","mod","nCr","normaldist","nPr","pdf","poissondist","polygon","quantile","quartile","random","round","sech","sign","signum","stdDev","stddev","stdDevP","stddevp","stdev","stdevp","tdist","total","TScore","TScore","Tscore","tscore","tscore","TTest","ttest","var","variance","varp"],p=s,g=h(s);u.getAutoOperator=e,u.containsValue=c,u.setOperatorNames=t,u.resetOperatorNames=a},function(B,u,w){function e(n){if(!i.isSixDotCells(n))throw new Error("EncodingError: Expected input to be six-dot unicode braille characters.")}function c(n,r){return e(n),p.default(u.UnicodeBraille.toBrailleAscii(n),r)}function t(n,r){return r&&r.operatorNames?h.setOperatorNames(r.operatorNames):h.resetOperatorNames(),g.map(o.default(n),u.UnicodeBraille.coerceToSixDotCells)}function a(n,r){return e(n),d.default(u.UnicodeBraille.toBrailleAscii(n),r)}function l(n,r){return r&&r.operatorNames?h.setOperatorNames(r.operatorNames):h.resetOperatorNames(),g.map(s.default(n),u.UnicodeBraille.coerceToSixDotCells)}Object.defineProperty(u,"__esModule",{value:!0});var h=w(2),o=w(14),s=w(15),p=w(16),g=w(0),d=w(23),i=w(25);u.nemethToLatex=c,u.latexToNemeth=t,u.uebToLatex=a,u.latexToUeb=l,u.UnicodeBraille={coerceToSixDotCells:i.coerceToSixDotCells,toBrailleAscii:i.toBrailleAscii,toExpandedBrailleAscii:i.toExpandedBrailleAscii},u.version="1.0.3"},function(B,u){},function(B,u,w){(function(e){function c(o,s){for(var p=0,g=o.length-1;g>=0;g--){var d=o[g];d==="."?o.splice(g,1):d===".."?(o.splice(g,1),p++):p&&(o.splice(g,1),p--)}if(s)for(;p--;p)o.unshift("..");return o}function t(o,s){if(o.filter)return o.filter(s);for(var p=[],g=0;g<o.length;g++)s(o[g],g,o)&&p.push(o[g]);return p}var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,l=function(o){return a.exec(o).slice(1)};u.resolve=function(){for(var o="",s=!1,p=arguments.length-1;p>=-1&&!s;p--){var g=p>=0?arguments[p]:e.cwd();if(typeof g!="string")throw new TypeError("Arguments to path.resolve must be strings");g&&(o=g+"/"+o,s=g.charAt(0)==="/")}return o=c(t(o.split("/"),function(d){return!!d}),!s).join("/"),(s?"/":"")+o||"."},u.normalize=function(o){var s=u.isAbsolute(o),p=h(o,-1)==="/";return o=c(t(o.split("/"),function(g){return!!g}),!s).join("/"),o||s||(o="."),o&&p&&(o+="/"),(s?"/":"")+o},u.isAbsolute=function(o){return o.charAt(0)==="/"},u.join=function(){var o=Array.prototype.slice.call(arguments,0);return u.normalize(t(o,function(s,p){if(typeof s!="string")throw new TypeError("Arguments to path.join must be strings");return s}).join("/"))},u.relative=function(o,s){function p(y){for(var v=0;v<y.length&&y[v]==="";v++);for(var x=y.length-1;x>=0&&y[x]==="";x--);return v>x?[]:y.slice(v,x-v+1)}o=u.resolve(o).substr(1),s=u.resolve(s).substr(1);for(var g=p(o.split("/")),d=p(s.split("/")),i=Math.min(g.length,d.length),n=i,r=0;r<i;r++)if(g[r]!==d[r]){n=r;break}for(var m=[],r=n;r<g.length;r++)m.push("..");return m=m.concat(d.slice(n)),m.join("/")},u.sep="/",u.delimiter=":",u.dirname=function(o){var s=l(o),p=s[0],g=s[1];return p||g?(g&&(g=g.substr(0,g.length-1)),p+g):"."},u.basename=function(o,s){var p=l(o)[2];return s&&p.substr(-1*s.length)===s&&(p=p.substr(0,p.length-s.length)),p},u.extname=function(o){return l(o)[3]};var h="ab".substr(-1)==="b"?function(o,s,p){return o.substr(s,p)}:function(o,s,p){return s<0&&(s=o.length+s),o.substr(s,p)}}).call(u,w(1))},function(B,u,w){function e(c){if(!c.hash)throw c;return{_diagnostic:{expected:c.hash.expected,message:c.message,text:c.hash.text,token:c.hash.token},location:c.hash.loc}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=e},function(B,u,w){function e(g){return{type:"terminal",value:g}}function c(g){return{type:"command",value:g}}function t(g){return{type:"greek",value:g}}function a(g){return{subscript:g._,superscript:g["^"],type:"level"}}function l(g,d){var i=[],n=g.match(/'+/);if(n!==null)for(var r=n[0].length,m=0;m<r;m++)i.push(c("\\prime"));return p(i,d)}function h(g,d){return{type:"fraction",numerator:g,denominator:d}}function o(g,d){return{name:g,type:"typeform",value:d}}function s(g,d){return{type:"radical",index:d,radicand:g}}function p(){for(var g=[],d=0;d<arguments.length;d++)g[d]=arguments[d];return Array.prototype.concat.apply([],g)}Object.defineProperty(u,"__esModule",{value:!0}),u.terminal=e,u.command=c,u.greek=t,u.level=a,u.processPrimes=l,u.fraction=h,u.typeform=o,u.radical=s,u.group=p},function(B,u){B.exports=function(w){return w.webpackPolyfill||(w.deprecate=function(){},w.paths=[],w.children||(w.children=[]),Object.defineProperty(w,"loaded",{enumerable:!0,get:function(){return w.l}}),Object.defineProperty(w,"id",{enumerable:!0,get:function(){return w.i}}),w.webpackPolyfill=1),w}},function(B,u,w){(function(e,c){var t=function(){function a(){this.yy={}}var l=function(ve,ke,T,Ie){for(T=T||{},Ie=ve.length;Ie--;T[ve[Ie]]=ke);return T},h=[1,11],o=[1,12],s=[1,13],p=[1,69],g=[1,70],d=[1,68],i=[1,38],n=[1,39],r=[1,58],m=[1,59],y=[1,60],v=[1,61],x=[1,62],E=[1,63],b=[1,64],f=[1,65],S=[1,66],j=[1,67],Q=[1,40],G=[1,34],q=[1,35],L=[1,36],M=[1,37],D=[1,41],V=[1,42],W=[1,43],N=[1,44],re=[1,45],Y=[1,46],O=[1,47],ee=[1,48],oe=[1,49],H=[1,50],J=[1,51],ie=[1,52],de=[1,17],fe=[1,53],Ee=[1,54],ye=[1,55],_e=[1,56],Fe=[1,57],se=[5,12,13,14,18,24,25],I=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,81],ne=[1,74],pe=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,76,77,78,79,81],ge=[5,11,12,13,14,15,17,18,20,21,23,24,25,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81],Be={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,element:6,index_element:7,modified_expression:8,radical:9,primes:10,OPEN_MODEXP:11,MODEXP_UNDER:12,MODEXP_OVER:13,CLOSE_MODEXP:14,RADICAL_INDEX:15,index_group:16,OPEN_RADICAL:17,CLOSE_RADICAL:18,level:19,LEVEL:20,BASELINE:21,frac:22,OPEN_FRAC:23,SLASH:24,CLOSE_FRAC:25,subscript_head:26,number:27,atom:28,command:29,greek:30,letter:31,comma:32,period:33,space:34,operation:35,comparison:36,level_with_comparison:37,ellipsis:38,colon:39,infinity:40,integral:41,factorial:42,ampersand:43,question_mark:44,bracket:45,",":46,".":47,"[":48,"{":49,"(":50,"]":51,"}":52,")":53,LANGLE:54,RANGLE:55,PIPE:56,DOUBLE_PIPE:57,SPACE:58,COMMAND:59,GREEK:60,LETTER:61,CAPITAL_LETTER:62,"+":63,"-":64,CDOT:65,TIMES:66,"*":67,"/":68,DIV:69,PERCENT:70,COMPARISON:71,LEVEL_WITH_COMPARISON:72,ELLIPSIS:73,COLON:74,NUMBER:75,INFINITY:76,INTEGRAL:77,FACTORIAL:78,"&":79,PRIMES:80,"?":81,unknown:82,UNKNOWN:83,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",11:"OPEN_MODEXP",12:"MODEXP_UNDER",13:"MODEXP_OVER",14:"CLOSE_MODEXP",15:"RADICAL_INDEX",17:"OPEN_RADICAL",18:"CLOSE_RADICAL",20:"LEVEL",21:"BASELINE",23:"OPEN_FRAC",24:"SLASH",25:"CLOSE_FRAC",46:",",47:".",48:"[",49:"{",50:"(",51:"]",52:"}",53:")",54:"LANGLE",55:"RANGLE",56:"PIPE",57:"DOUBLE_PIPE",58:"SPACE",59:"COMMAND",60:"GREEK",61:"LETTER",62:"CAPITAL_LETTER",63:"+",64:"-",65:"CDOT",66:"TIMES",67:"*",68:"/",69:"DIV",70:"PERCENT",71:"COMPARISON",72:"LEVEL_WITH_COMPARISON",73:"ELLIPSIS",74:"COLON",75:"NUMBER",76:"INFINITY",77:"INTEGRAL",78:"FACTORIAL",79:"&",80:"PRIMES",81:"?",83:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,2],[4,1],[6,1],[6,1],[6,2],[6,1],[8,7],[8,6],[8,5],[8,6],[8,5],[8,5],[8,4],[8,4],[8,3],[8,4],[8,4],[8,4],[8,4],[8,3],[8,3],[8,2],[9,5],[9,4],[9,4],[9,3],[9,3],[9,2],[19,1],[19,1],[22,5],[22,4],[22,4],[22,3],[16,2],[16,1],[7,3],[7,2],[7,2],[7,3],[7,2],[7,2],[7,1],[7,1],[7,1],[26,1],[26,1],[26,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[28,1],[32,1],[33,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[45,1],[34,1],[29,1],[30,1],[31,1],[31,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[35,1],[36,1],[37,1],[38,1],[39,1],[27,1],[40,1],[41,1],[42,1],[43,1],[10,1],[44,1],[82,1]],performAction:function(ve,ke,T,Ie,Ke,Ye,bt){var le=Ye.length-1;switch(Ke){case 1:return Ye[le-1];case 2:return Ie.group();case 3:case 37:case 41:case 43:case 44:this.$=Ie.group(Ye[le-1],Ye[le]);break;case 4:case 38:this.$=Ie.group(Ye[le]);break;case 7:this.$=Ie.group(Ye[le-1],Ye[le]);break;case 9:this.$=Ie.modified_expression(Ye[le-5],Ye[le-3],Ye[le-1]);break;case 10:this.$=Ie.modified_expression(Ye[le-4],Ye[le-2]);break;case 11:this.$=Ie.modified_expression(Ye[le-3],Ye[le-1]);break;case 12:this.$=Ie.modified_expression(Ye[le-4],Ie.group(),Ye[le-1]);break;case 13:this.$=Ie.modified_expression(Ye[le-3],Ie.group(),Ye[le-1]);break;case 14:this.$=Ie.modified_expression(Ye[le-3],Ie.group(),Ie.group());break;case 15:case 16:this.$=Ie.modified_expression(Ye[le-2],Ie.group());break;case 17:this.$=Ie.modified_expression(Ye[le-1]);break;case 18:case 19:case 22:case 23:case 24:this.$=Ie.modified_expression(Ie.group());break;case 20:case 21:Ie.warnOrError("Multi-level modified expressions are not supported."),this.$=Ie.modified_expression(Ie.group());break;case 25:this.$=Ie.radical(Ye[le-1],Ye[le-3]);break;case 26:this.$=Ie.radical(Ye[le-1],Ie.group());break;case 27:this.$=Ie.radical(Ie.group(),Ye[le-2]);break;case 28:this.$=Ie.radical(Ie.group(),Ie.group());break;case 29:this.$=Ie.radical(Ye[le-1]);break;case 30:this.$=Ie.radical(Ie.group());break;case 31:this.$=Ie.level(Ye[le]);break;case 32:this.$=Ie.baseline();break;case 33:this.$=Ie.fraction(Ye[le-3],Ye[le-1]);break;case 34:this.$=Ie.fraction(Ye[le-2],Ie.group());break;case 35:this.$=Ie.fraction(Ie.group(),Ye[le-1]);break;case 36:this.$=Ie.fraction(Ie.group(),Ie.group());break;case 39:this.$=Ie.group(Ie.simple_subscript(Ye[le-2],Ye[le]),Ye[le-1]);break;case 40:this.$=Ie.simple_subscript(Ye[le-1],Ye[le]);break;case 42:Ie.warnOrError("Illegal use of Nemeth primes"),this.$=Ie.group(Ie.simple_subscript(Ye[le-2],Ye[le-1]),Ye[le]);break;case 67:this.$=Ie.terminal(",");break;case 68:this.$=Ie.terminal(".");break;case 69:this.$=Ie.terminal("[");break;case 70:this.$=Ie.terminal("\\{");break;case 71:this.$=Ie.terminal("(");break;case 72:this.$=Ie.terminal("]");break;case 73:this.$=Ie.terminal("\\}");break;case 74:this.$=Ie.terminal(")");break;case 75:this.$=Ie.terminal("\\langle ");break;case 76:this.$=Ie.terminal("\\rangle ");break;case 77:this.$=Ie.terminal("|");break;case 78:this.$=Ie.terminal("\\|");break;case 79:this.$=Ie.terminal(" ");break;case 80:this.$=Ie.command(Ye[le].toLowerCase());break;case 81:this.$=Ie.terminal(Ie.greek(Ye[le]));break;case 82:this.$=Ie.terminal(Ye[le].toLowerCase());break;case 83:this.$=Ie.terminal(Ye[le].toUpperCase());break;case 84:this.$=Ie.terminal("+");break;case 85:this.$=Ie.terminal("-");break;case 86:this.$=Ie.terminal("\\cdot ");break;case 87:this.$=Ie.terminal("\\times ");break;case 88:this.$=Ie.terminal("*");break;case 89:this.$=Ie.terminal("/");break;case 90:this.$=Ie.terminal("\\div ");break;case 91:this.$=Ie.terminal("\\%");break;case 92:this.$=Ie.comparison(Ye[le].trim());break;case 93:this.$=Ie.level_with_comparison(Ye[le].trim());break;case 94:this.$=Ie.terminal("\\ldots ");break;case 95:this.$=Ie.terminal(":");break;case 96:this.$=Ie.terminal(Ye[le]);break;case 97:this.$=Ie.terminal("\\infty ");break;case 98:this.$=Ie.terminal("\\int ");break;case 99:this.$=Ie.terminal("!");break;case 100:this.$=Ie.terminal("\\&");break;case 101:this.$=Ie.primes(Ye[le]);break;case 102:this.$=Ie.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,11:h,15:o,17:s,19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},{1:[3]},{5:[1,71]},{1:[2,2]},l(se,[2,4],{6:4,7:5,8:6,9:7,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,22:32,19:33,4:72,11:h,15:o,17:s,20:p,21:g,23:d,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe}),l(I,[2,5]),l(I,[2,6]),l(I,[2,8],{10:73,80:ne}),l(pe,[2,45],{10:75,27:76,75:de,80:ne}),l(I,[2,46],{10:77,80:ne}),l(I,[2,47],{10:78,80:ne}),{4:79,6:4,7:5,8:6,9:7,11:h,12:[1,81],13:[1,80],14:[1,82],15:o,17:s,19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},{7:85,16:83,17:[1,84],19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},{4:86,6:4,7:5,8:6,9:7,11:h,15:o,17:s,18:[1,87],19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},l(ge,[2,48]),l(ge,[2,49]),l(ge,[2,50]),l(ge,[2,96]),l(ge,[2,51]),l(ge,[2,52]),l(ge,[2,53]),l(ge,[2,54]),l(ge,[2,55]),l(ge,[2,56]),l(ge,[2,57]),l(ge,[2,58]),l(ge,[2,59]),l(ge,[2,60]),l(ge,[2,61]),l(ge,[2,62]),l(ge,[2,63]),l(ge,[2,64]),l(ge,[2,65]),l(ge,[2,66]),l(ge,[2,80]),l(ge,[2,81]),l(ge,[2,82]),l(ge,[2,83]),l(ge,[2,67]),l(ge,[2,68]),l(ge,[2,79]),l(ge,[2,84]),l(ge,[2,85]),l(ge,[2,86]),l(ge,[2,87]),l(ge,[2,88]),l(ge,[2,89]),l(ge,[2,90]),l(ge,[2,91]),l(ge,[2,92]),l(ge,[2,93]),l(ge,[2,94]),l(ge,[2,95]),l(ge,[2,97]),l(ge,[2,98]),l(ge,[2,99]),l(ge,[2,100]),l(ge,[2,102]),l(ge,[2,69]),l(ge,[2,70]),l(ge,[2,71]),l(ge,[2,72]),l(ge,[2,73]),l(ge,[2,74]),l(ge,[2,75]),l(ge,[2,76]),l(ge,[2,77]),l(ge,[2,78]),{4:88,6:4,7:5,8:6,9:7,11:h,15:o,17:s,19:33,20:p,21:g,22:32,23:d,24:[1,89],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},l(ge,[2,31]),l(ge,[2,32]),{1:[2,1]},l(se,[2,3]),l(I,[2,7]),l(I,[2,101]),l(pe,[2,41],{27:90,75:de}),l(I,[2,40],{10:91,80:ne}),l(I,[2,43]),l(I,[2,44]),{12:[1,92],13:[1,93],14:[1,94]},{12:[1,95],13:[1,96],14:[1,97]},{12:[1,99],13:[1,98],14:[1,100]},l(I,[2,24]),{17:[1,101]},{4:102,6:4,7:5,8:6,9:7,11:h,15:o,17:s,18:[1,103],19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},{7:85,16:104,17:[2,38],19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},{18:[1,105]},l(ge,[2,30]),{24:[1,106]},{4:107,6:4,7:5,8:6,9:7,11:h,15:o,17:s,19:33,20:p,21:g,22:32,23:d,25:[1,108],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},l(I,[2,39]),l(I,[2,42]),{4:109,6:4,7:5,8:6,9:7,11:h,13:[1,110],14:[1,111],15:o,17:s,19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},{4:112,6:4,7:5,8:6,9:7,11:h,14:[1,113],15:o,17:s,19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},l(I,[2,17]),{14:[1,114]},{14:[1,115]},l(I,[2,22]),{14:[1,116]},{14:[1,117]},l(I,[2,23]),{4:118,6:4,7:5,8:6,9:7,11:h,15:o,17:s,18:[1,119],19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},{18:[1,120]},l(ge,[2,28]),{17:[2,37]},l(ge,[2,29]),{4:121,6:4,7:5,8:6,9:7,11:h,15:o,17:s,19:33,20:p,21:g,22:32,23:d,25:[1,122],26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},{25:[1,123]},l(ge,[2,36]),{13:[1,124],14:[1,125]},{4:126,6:4,7:5,8:6,9:7,11:h,14:[1,127],15:o,17:s,19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},l(I,[2,16]),{14:[1,128]},l(I,[2,15]),l(I,[2,18]),l(I,[2,20]),l(I,[2,19]),l(I,[2,21]),{18:[1,129]},l(ge,[2,27]),l(ge,[2,26]),{25:[1,130]},l(ge,[2,34]),l(ge,[2,35]),{4:131,6:4,7:5,8:6,9:7,11:h,14:[1,132],15:o,17:s,19:33,20:p,21:g,22:32,23:d,26:8,27:9,28:10,29:14,30:15,31:16,32:18,33:19,34:20,35:21,36:22,37:23,38:24,39:25,40:26,41:27,42:28,43:29,44:30,45:31,46:i,47:n,48:r,49:m,50:y,51:v,52:x,53:E,54:b,55:f,56:S,57:j,58:Q,59:G,60:q,61:L,62:M,63:D,64:V,65:W,66:N,67:re,68:Y,69:O,70:ee,71:oe,72:H,73:J,74:ie,75:de,76:fe,77:Ee,78:ye,79:_e,81:Fe},l(I,[2,11]),{14:[1,133]},l(I,[2,14]),l(I,[2,13]),l(ge,[2,25]),l(ge,[2,33]),{14:[1,134]},l(I,[2,10]),l(I,[2,12]),l(I,[2,9])],defaultActions:{3:[2,2],71:[2,1],104:[2,37]},parseError:function(ve,ke){if(!ke.recoverable){var T=new Error(ve);throw T.hash=ke,T}this.trace(ve)},parse:function(ve){var ke=this,T=[0],Ie=[null],Ke=[],Ye=this.table,bt="",le=0,Te=0,Ce=0,xe=Ke.slice.call(arguments,1),Qe=Object.create(this.lexer),je={yy:{}};for(var be in this.yy)Object.prototype.hasOwnProperty.call(this.yy,be)&&(je.yy[be]=this.yy[be]);Qe.setInput(ve,je.yy),je.yy.lexer=Qe,je.yy.parser=this,Qe.yylloc===void 0&&(Qe.yylloc={});var Me=Qe.yylloc;Ke.push(Me);var De=Qe.options&&Qe.options.ranges;typeof je.yy.parseError=="function"?this.parseError=je.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Pe,He,Ze,rt,Ct,nt,at,Mt,ht,Qt=function(){var Dt;return Dt=Qe.lex()||1,typeof Dt!="number"&&(Dt=ke.symbols_[Dt]||Dt),Dt},dt={};;){if(Ze=T[T.length-1],this.defaultActions[Ze]?rt=this.defaultActions[Ze]:(Pe!=null||(Pe=Qt()),rt=Ye[Ze]&&Ye[Ze][Pe]),rt===void 0||!rt.length||!rt[0]){var Pt="";ht=[];for(nt in Ye[Ze])this.terminals_[nt]&&nt>2&&ht.push("'"+this.terminals_[nt]+"'");Pt=Qe.showPosition?"Parse error on line "+(le+1)+`:
`+Qe.showPosition()+`
Expecting `+ht.join(", ")+", got '"+(this.terminals_[Pe]||Pe)+"'":"Parse error on line "+(le+1)+": Unexpected "+(Pe==1?"end of input":"'"+(this.terminals_[Pe]||Pe)+"'"),this.parseError(Pt,{text:Qe.match,token:this.terminals_[Pe]||Pe,line:Qe.yylineno,loc:Me,expected:ht})}if(rt[0]instanceof Array&&rt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ze+", token: "+Pe);switch(rt[0]){case 1:T.push(Pe),Ie.push(Qe.yytext),Ke.push(Qe.yylloc),T.push(rt[1]),Pe=null,He?(Pe=He,He=null):(Te=Qe.yyleng,bt=Qe.yytext,le=Qe.yylineno,Me=Qe.yylloc,Ce>0);break;case 2:if(at=this.productions_[rt[1]][1],dt.$=Ie[Ie.length-at],dt._$={first_line:Ke[Ke.length-(at||1)].first_line,last_line:Ke[Ke.length-1].last_line,first_column:Ke[Ke.length-(at||1)].first_column,last_column:Ke[Ke.length-1].last_column},De&&(dt._$.range=[Ke[Ke.length-(at||1)].range[0],Ke[Ke.length-1].range[1]]),(Ct=this.performAction.apply(dt,[bt,Te,le,je.yy,rt[1],Ie,Ke].concat(xe)))!==void 0)return Ct;at&&(T=T.slice(0,-1*at*2),Ie=Ie.slice(0,-1*at),Ke=Ke.slice(0,-1*at)),T.push(this.productions_[rt[1]][0]),Ie.push(dt.$),Ke.push(dt._$),Mt=Ye[T[T.length-2]][T[T.length-1]],T.push(Mt);break;case 3:return!0}}return!0}},Re=function(){return{EOF:1,parseError:function(ve,ke){if(!this.yy.parser)throw new Error(ve);this.yy.parser.parseError(ve,ke)},setInput:function(ve,ke){return this.yy=ke||this.yy||{},this._input=ve,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ve=this._input[0];return this.yytext+=ve,this.yyleng++,this.offset++,this.match+=ve,this.matched+=ve,ve.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ve},unput:function(ve){var ke=ve.length,T=ve.split(/(?:\r\n?|\n)/g);this._input=ve+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ke),this.offset-=ke;var Ie=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),T.length-1&&(this.yylineno-=T.length-1);var Ke=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:T?(T.length===Ie.length?this.yylloc.first_column:0)+Ie[Ie.length-T.length].length-T[0].length:this.yylloc.first_column-ke},this.options.ranges&&(this.yylloc.range=[Ke[0],Ke[0]+this.yyleng-ke]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(ve){this.unput(this.match.slice(ve))},pastInput:function(){var ve=this.matched.substr(0,this.matched.length-this.match.length);return(ve.length>20?"...":"")+ve.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ve=this.match;return ve.length<20&&(ve+=this._input.substr(0,20-ve.length)),(ve.substr(0,20)+(ve.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ve=this.pastInput(),ke=new Array(ve.length+1).join("-");return ve+this.upcomingInput()+`
`+ke+"^"},test_match:function(ve,ke){var T,Ie,Ke;if(this.options.backtrack_lexer&&(Ke={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ke.yylloc.range=this.yylloc.range.slice(0))),Ie=ve[0].match(/(?:\r\n?|\n).*/g),Ie&&(this.yylineno+=Ie.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ie?Ie[Ie.length-1].length-Ie[Ie.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ve[0].length},this.yytext+=ve[0],this.match+=ve[0],this.matches=ve,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ve[0].length),this.matched+=ve[0],T=this.performAction.call(this,this.yy,this,ke,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),T)return T;if(this._backtrack){for(var Ye in Ke)this[Ye]=Ke[Ye];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ve,ke,T,Ie;this._more||(this.yytext="",this.match="");for(var Ke=this._currentRules(),Ye=0;Ye<Ke.length;Ye++)if((T=this._input.match(this.rules[Ke[Ye]]))&&(!ke||T[0].length>ke[0].length)){if(ke=T,Ie=Ye,this.options.backtrack_lexer){if((ve=this.test_match(T,Ke[Ye]))!==!1)return ve;if(this._backtrack){ke=!1;continue}return!1}if(!this.options.flex)break}return ke?(ve=this.test_match(ke,Ke[Ie]))!==!1&&ve:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ve=this.next();return ve||this.lex()},begin:function(ve){this.conditionStack.push(ve)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ve){return ve=this.conditionStack.length-1-Math.abs(ve||0),ve>=0?this.conditionStack[ve]:"INITIAL"},pushState:function(ve){this.begin(ve)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(ve,ke,T,Ie){switch(T){case 0:return this.begin("modexp"),11;case 1:return 21;case 2:return this.begin("modexp"),11;case 3:return 12;case 4:return 13;case 5:return this.popState(),14;case 6:return 63;case 7:return 64;case 8:return 65;case 9:return 66;case 10:return 67;case 11:return 68;case 12:return 69;case 13:return 54;case 14:return 48;case 15:return 49;case 16:return 50;case 17:return 55;case 18:return 51;case 19:return 52;case 20:return 53;case 21:return 57;case 22:return 56;case 23:return 74;case 24:return 70;case 25:case 26:case 27:case 28:case 29:case 30:case 31:case 32:case 33:return 72;case 34:return 71;case 35:case 36:return 72;case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:return 71;case 47:return 73;case 48:return 20;case 49:return 47;case 50:return 21;case 51:return 80;case 52:return 60;case 53:return 15;case 54:return this.begin("radical"),17;case 55:return this.popState(),18;case 56:return 18;case 57:return 77;case 58:return 79;case 59:return 78;case 60:case 61:return 59;case 62:return ke.yytext=this.matches[1],75;case 63:return 23;case 64:return 24;case 65:return 25;case 66:return ke.yytext=this.matches[1],62;case 67:return 61;case 68:return 76;case 69:return 81;case 70:return 46;case 71:return 47;case 72:return 58;case 73:return 5;case 74:return 83}},rules:[/^(?:"(?=[^>\]]+%))/,/^(?:")/,/^(?:"(?=[^>\]]+\]|[^>\]]+%))/,/^(?:%)/,/^(?:<)/,/^(?:\])/,/^(?:[+])/,/^(?:[-])/,/^(?:[*])/,/^(?:[@][*])/,/^(?:[@][\#])/,/^(?:[_][\/])/,/^(?:[.][\/])/,/^(?:[.][.][(])/,/^(?:[@][(])/,/^(?:[.][(])/,/^(?:[(])/,/^(?:[.][.][)])/,/^(?:[@][)])/,/^(?:[.][)])/,/^(?:[)])/,/^(?:[\\][\\])/,/^(?:[\\])/,/^(?:[_][3])/,/^(?:[@][0])/,/^(?:[ ][\^;]+[.]K[ ])/,/^(?:[\^;]+[=])/,/^(?:[ ][\^;]+[\/][.]K[ ])/,/^(?:[ ][\^;]+[@][:][@][:][ ])/,/^(?:[ ][\^;]+["]K[:][ ])/,/^(?:[ ][\^;]+[.]1[:][ ])/,/^(?:[ ][\^;]+["]K[ ])/,/^(?:[ ][\^;]+[.]1[ ])/,/^(?:[ ][\^;]+[\/][$][L][ ])/,/^(?:[ ][.]K[ ])/,/^(?:[ ][\^;]+[\/]?[$][L][ ])/,/^(?:[ ][\^;]+[$]P[ ])/,/^(?:[=])/,/^(?:[ ][\/][.]K[ ])/,/^(?:[ ][@][:][@][:][ ])/,/^(?:[ ]["]K[:][ ])/,/^(?:[ ][.]1[:][ ])/,/^(?:[ ]["]K[ ])/,/^(?:[ ][.]1[ ])/,/^(?:[@][:])/,/^(?:[ ][\/]?[$][L][ ])/,/^(?:[ ][$]P[ ])/,/^(?:[ ]['][']['][ ])/,/^(?:[\^;]+)/,/^(?:[.]["])/,/^(?:["])/,/^(?:[']+)/,/^(?:[.][,]?[ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[.]*[<])/,/^(?:[.]*[>])/,/^(?:[.]*\])/,/^(?:[.]*\])/,/^(?:!)/,/^(?:[_]&)/,/^(?:&)/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:#?(\d*\.?\d+))/,/^(?:[,]*[?])/,/^(?:[,]*[\/])/,/^(?:[,]*#)/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,][=])/,/^(?:[_][8])/,/^(?:[,][ ]?)/,/^(?:[.])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{radical:{rules:[0,1,2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],inclusive:!0},modexp:{rules:[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],inclusive:!0},INITIAL:{rules:[2,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74],inclusive:!0}}}}();return Be.lexer=Re,a.prototype=Be,Be.Parser=a,new a}();u.parser=t,u.Parser=t.Parser,u.parse=function(){return t.parse.apply(t,arguments)},u.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),e.exit(1));var l=w(4).readFileSync(w(5).normalize(a[1]),"utf8");return u.parser.parse(l)},c!==void 0&&w.c[w.s]===c&&u.main(e.argv.slice(1))}).call(u,w(1),w(8)(B))},function(B,u,w){(function(e,c){var t=function(){function a(){this.yy={}}var l=function(le,Te,Ce,xe){for(Ce=Ce||{},xe=le.length;xe--;Ce[le[xe]]=Te);return Ce},h=[1,15],o=[1,16],s=[1,17],p=[1,36],g=[1,18],d=[1,37],i=[1,38],n=[1,14],r=[1,46],m=[1,47],y=[1,39],v=[1,40],x=[1,41],E=[1,56],b=[1,42],f=[1,43],S=[1,44],j=[1,45],Q=[1,54],G=[1,55],q=[1,57],L=[1,58],M=[1,59],D=[1,60],V=[1,61],W=[1,62],N=[1,63],re=[1,64],Y=[1,65],O=[1,66],ee=[1,67],oe=[1,68],H=[1,69],J=[1,70],ie=[1,71],de=[1,72],fe=[1,73],Ee=[1,74],ye=[1,75],_e=[1,48],Fe=[1,49],se=[1,50],I=[1,51],ne=[1,52],pe=[1,76],ge=[1,53],Be=[5,14,18,19,29,52,53,54],Re=[5,10,13,14,15,18,19,29,52,53,54],ve=[5,10,13,14,15,17,18,19,21,23,24,28,29,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87],ke=[1,84],T=[1,85],Ie=[1,86],Ke=[10,13,15,17,21,23,24,28,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87],Ye={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,expression_group:6,delimited_expression:7,level:8,radical:9,LEVEL:10,basic_token:11,bracketed_expression:12,RADICAL_WITH_INDEX:13,CLOSE_RADICAL:14,RADICAL:15,frac:16,OPEN_FRAC:17,OVER:18,CLOSE_FRAC:19,simple_frac:20,NUMBER:21,NUMBER_FRAC_DENOMINATOR:22,NUMBER_FRAC_NUMERATOR_BAD:23,NUMBER_FRAC_DENOMINATOR_BAD:24,atom:25,lbracket:26,rbracket:27,OPEN_GROUP:28,CLOSE_GROUP:29,command:30,greek:31,letter:32,comma:33,period:34,colon:35,infinity:36,integral:37,factorial:38,ampersand:39,question_mark:40,bracket:41,space:42,operation:43,comparison:44,ellipsis:45,primes:46,",":47,".":48,"[":49,"{":50,"(":51,"]":52,"}":53,")":54,SPACE:55,COMMAND:56,GREEK:57,CAPITAL_LETTER:58,LETTER:59,PIPE:60,DOUBLE_PIPE:61,"+":62,"-":63,CDOT:64,TIMES:65,"*":66,DIV:67,SLASH:68,PERCENT:69,"=":70,NEQ:71,"<":72,">":73,LEQ:74,APPROX:75,GEQ:76,TILDE:77,PARALLEL:78,PERPENDICULAR:79,ELLIPSIS:80,COLON:81,INFINITY:82,INTEGRAL:83,FACTORIAL:84,"&":85,PRIMES:86,"?":87,unknown:88,UNKNOWN:89,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"LEVEL",13:"RADICAL_WITH_INDEX",14:"CLOSE_RADICAL",15:"RADICAL",17:"OPEN_FRAC",18:"OVER",19:"CLOSE_FRAC",21:"NUMBER",22:"NUMBER_FRAC_DENOMINATOR",23:"NUMBER_FRAC_NUMERATOR_BAD",24:"NUMBER_FRAC_DENOMINATOR_BAD",28:"OPEN_GROUP",29:"CLOSE_GROUP",47:",",48:".",49:"[",50:"{",51:"(",52:"]",53:"}",54:")",55:"SPACE",56:"COMMAND",57:"GREEK",58:"CAPITAL_LETTER",59:"LETTER",60:"PIPE",61:"DOUBLE_PIPE",62:"+",63:"-",64:"CDOT",65:"TIMES",66:"*",67:"DIV",68:"SLASH",69:"PERCENT",70:"=",71:"NEQ",72:"<",73:">",74:"LEQ",75:"APPROX",76:"GEQ",77:"TILDE",78:"PARALLEL",79:"PERPENDICULAR",80:"ELLIPSIS",81:"COLON",82:"INFINITY",83:"INTEGRAL",84:"FACTORIAL",85:"&",86:"PRIMES",87:"?",89:"UNKNOWN"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[7,1],[7,1],[8,2],[8,2],[8,2],[9,4],[9,3],[9,3],[9,2],[9,4],[9,3],[9,2],[16,5],[16,4],[16,4],[16,3],[16,2],[20,2],[20,1],[20,1],[11,1],[11,1],[11,1],[6,2],[6,2],[6,1],[6,1],[12,3],[12,2],[12,3],[12,2],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[25,1],[33,1],[34,1],[26,1],[26,1],[26,1],[27,1],[27,1],[27,1],[42,1],[30,1],[31,1],[32,1],[32,1],[41,1],[41,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[43,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[44,1],[45,1],[35,1],[36,1],[37,1],[38,1],[39,1],[46,1],[40,1],[88,1]],performAction:function(le,Te,Ce,xe,Qe,je,be){var Me=je.length-1;switch(Qe){case 1:return je[Me-1];case 2:return xe.group();case 3:case 35:this.$=xe.group(je[Me-2],je[Me-1],je[Me]);break;case 4:case 6:case 31:case 32:case 36:this.$=xe.group(je[Me-1],je[Me]);break;case 5:case 7:case 33:case 34:this.$=xe.group(je[Me]);break;case 10:case 11:case 12:this.$=xe.basic_level(je[Me-1],xe.group(je[Me]));break;case 13:case 17:this.$=xe.radical(je[Me-1],xe.group(je[Me-2]));break;case 14:case 15:this.$=xe.radical(xe.group(),xe.group(je[Me-1]));break;case 16:this.$=xe.radical(xe.group(),xe.group());break;case 18:this.$=xe.radical(je[Me-1]);break;case 19:this.$=xe.radical(xe.group());break;case 20:this.$=xe.fraction(je[Me-3],je[Me-1]);break;case 21:this.$=xe.fraction(je[Me-2],xe.group());break;case 22:this.$=xe.fraction(xe.group(),je[Me-1]);break;case 23:case 24:this.$=xe.fraction(xe.group(),xe.group());break;case 25:this.$=xe.fraction(xe.group(xe.terminal(xe.to_number(je[Me-1]))),xe.group(xe.terminal(xe.to_number(je[Me]))));break;case 26:this.$=xe.fraction(xe.group(xe.terminal(xe.to_number(je[Me]))),xe.group());break;case 27:this.$=xe.fraction(xe.group(),xe.group(xe.terminal(xe.to_number(je[$01]))));break;case 37:this.$=xe.group(je[Me-1]);break;case 38:this.$=xe.group();break;case 39:this.$=xe.terminal(xe.to_number(je[Me]));break;case 57:this.$=xe.terminal(",");break;case 58:this.$=xe.terminal(".");break;case 59:this.$=xe.terminal("[");break;case 60:this.$=xe.terminal("\\{");break;case 61:this.$=xe.terminal("(");break;case 62:this.$=xe.terminal("]");break;case 63:this.$=xe.terminal("\\}");break;case 64:this.$=xe.terminal(")");break;case 65:this.$=xe.terminal(" ");break;case 66:this.$=xe.command("\\"+je[Me].trim().toLowerCase());break;case 67:this.$=xe.terminal(xe.greek(je[Me]));break;case 68:this.$=xe.terminal(je[Me].toUpperCase());break;case 69:this.$=xe.terminal(je[Me].toLowerCase());break;case 70:this.$=xe.terminal("|");break;case 71:this.$=xe.terminal("\\|");break;case 72:this.$=xe.terminal("+");break;case 73:this.$=xe.terminal("-");break;case 74:this.$=xe.terminal("\\cdot ");break;case 75:this.$=xe.terminal("\\times ");break;case 76:this.$=xe.terminal("*");break;case 77:this.$=xe.terminal("\\div ");break;case 78:this.$=xe.terminal("/");break;case 79:this.$=xe.terminal("\\%");break;case 80:this.$=xe.terminal("=");break;case 81:this.$=xe.terminal("\\neq ");break;case 82:this.$=xe.terminal("<");break;case 83:this.$=xe.terminal(">");break;case 84:this.$=xe.terminal("\\leq ");break;case 85:this.$=xe.terminal("\\approx ");break;case 86:this.$=xe.terminal("\\geq ");break;case 87:this.$=xe.terminal("\\sim ");break;case 88:this.$=xe.terminal("\\parallel ");break;case 89:this.$=xe.terminal("\\perp ");break;case 90:this.$=xe.terminal("\\ldots ");break;case 91:this.$=xe.terminal(":");break;case 92:this.$=xe.terminal("\\infty ");break;case 93:this.$=xe.terminal("\\int ");break;case 94:this.$=xe.terminal("!");break;case 95:this.$=xe.terminal("\\&");break;case 96:this.$=xe.primes(je[Me]);break;case 97:this.$=xe.terminal("?")}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:8,9:9,10:h,11:6,12:7,13:o,15:s,16:11,17:p,20:12,21:g,23:d,24:i,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},{1:[3]},{5:[1,77]},{1:[2,2]},l(Be,[2,5],{8:8,9:9,7:78,10:h,13:o,15:s}),l(Be,[2,7],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:79,10:h,13:o,15:s,17:p,21:g,23:d,24:i,28:n,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge}),l(Re,[2,33],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:80,17:p,21:g,23:d,24:i,28:n,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge}),l(Re,[2,34],{11:6,12:7,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,6:81,17:p,21:g,23:d,24:i,28:n,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge}),l(ve,[2,8]),l(ve,[2,9]),l(ve,[2,28]),l(ve,[2,29]),l(ve,[2,30]),{4:82,6:4,7:5,8:8,9:9,10:h,11:6,12:7,13:o,15:s,16:11,17:p,20:12,21:g,23:d,24:i,25:10,26:13,27:83,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,52:ke,53:T,54:Ie,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},{4:87,6:4,7:5,8:8,9:9,10:h,11:6,12:7,13:o,15:s,16:11,17:p,20:12,21:g,23:d,24:i,25:10,26:13,28:n,29:[1,88],30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},{9:91,11:89,12:90,13:o,15:s,16:11,17:p,20:12,21:g,23:d,24:i,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},{11:92,12:93,14:[1,94],16:11,17:p,20:12,21:g,23:d,24:i,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},{4:95,6:4,7:5,8:8,9:9,10:h,11:6,12:7,13:o,14:[1,96],15:s,16:11,17:p,20:12,21:g,23:d,24:i,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},l(ve,[2,39],{22:[1,97]}),l(ve,[2,40]),l(ve,[2,41]),l(ve,[2,42]),l(ve,[2,43]),l(ve,[2,44]),l(ve,[2,45]),l(ve,[2,46]),l(ve,[2,47]),l(ve,[2,48]),l(ve,[2,49]),l(ve,[2,50]),l(ve,[2,51]),l(ve,[2,52]),l(ve,[2,53]),l(ve,[2,54]),l(ve,[2,55]),l(ve,[2,56]),{4:98,6:4,7:5,8:8,9:9,10:h,11:6,12:7,13:o,15:s,16:11,17:p,18:[1,99],19:[1,100],20:12,21:g,23:d,24:i,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},l(ve,[2,26]),l(ve,[2,27]),l(Ke,[2,59]),l(Ke,[2,60]),l(Ke,[2,61]),l(ve,[2,66]),l(ve,[2,67]),l(ve,[2,68]),l(ve,[2,69]),l(ve,[2,57]),l(ve,[2,58]),l(ve,[2,91]),l(ve,[2,92]),l(ve,[2,93]),l(ve,[2,94]),l(ve,[2,95]),l(ve,[2,97]),l(ve,[2,70]),l(ve,[2,71]),l(ve,[2,65]),l(ve,[2,72]),l(ve,[2,73]),l(ve,[2,74]),l(ve,[2,75]),l(ve,[2,76]),l(ve,[2,77]),l(ve,[2,78]),l(ve,[2,79]),l(ve,[2,80]),l(ve,[2,81]),l(ve,[2,82]),l(ve,[2,83]),l(ve,[2,84]),l(ve,[2,85]),l(ve,[2,86]),l(ve,[2,87]),l(ve,[2,88]),l(ve,[2,89]),l(ve,[2,90]),l(ve,[2,96]),{1:[2,1]},l(Be,[2,4],{6:4,7:5,11:6,12:7,8:8,9:9,25:10,16:11,20:12,26:13,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,4:101,10:h,13:o,15:s,17:p,21:g,23:d,24:i,28:n,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge}),l(Be,[2,6]),l(Re,[2,31]),l(Re,[2,32]),{27:102,52:ke,53:T,54:Ie},l(ve,[2,36]),l(ve,[2,62]),l(ve,[2,63]),l(ve,[2,64]),{29:[1,103]},l(ve,[2,38]),l(ve,[2,10]),l(ve,[2,11]),l(ve,[2,12]),{4:104,6:4,7:5,8:8,9:9,10:h,11:6,12:7,13:o,14:[1,105],15:s,16:11,17:p,20:12,21:g,23:d,24:i,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},{4:107,6:4,7:5,8:8,9:9,10:h,11:6,12:7,13:o,14:[1,106],15:s,16:11,17:p,20:12,21:g,23:d,24:i,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},l(ve,[2,16]),{14:[1,108]},l(ve,[2,19]),l(ve,[2,25]),{18:[1,109]},{4:110,6:4,7:5,8:8,9:9,10:h,11:6,12:7,13:o,15:s,16:11,17:p,19:[1,111],20:12,21:g,23:d,24:i,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},l(ve,[2,24]),l(Be,[2,3]),l(ve,[2,35]),l(ve,[2,37]),{14:[1,112]},l(ve,[2,15]),l(ve,[2,14]),{14:[1,113]},l(ve,[2,18]),{4:114,6:4,7:5,8:8,9:9,10:h,11:6,12:7,13:o,15:s,16:11,17:p,19:[1,115],20:12,21:g,23:d,24:i,25:10,26:13,28:n,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:r,48:m,49:y,50:v,51:x,55:E,56:b,57:f,58:S,59:j,60:Q,61:G,62:q,63:L,64:M,65:D,66:V,67:W,68:N,69:re,70:Y,71:O,72:ee,73:oe,74:H,75:J,76:ie,77:de,78:fe,79:Ee,80:ye,81:_e,82:Fe,83:se,84:I,85:ne,86:pe,87:ge},{19:[1,116]},l(ve,[2,23]),l(ve,[2,13]),l(ve,[2,17]),{19:[1,117]},l(ve,[2,21]),l(ve,[2,22]),l(ve,[2,20])],defaultActions:{3:[2,2],77:[2,1]},parseError:function(le,Te){if(!Te.recoverable){var Ce=new Error(le);throw Ce.hash=Te,Ce}this.trace(le)},parse:function(le){var Te=this,Ce=[0],xe=[null],Qe=[],je=this.table,be="",Me=0,De=0,Pe=0,He=Qe.slice.call(arguments,1),Ze=Object.create(this.lexer),rt={yy:{}};for(var Ct in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ct)&&(rt.yy[Ct]=this.yy[Ct]);Ze.setInput(le,rt.yy),rt.yy.lexer=Ze,rt.yy.parser=this,Ze.yylloc===void 0&&(Ze.yylloc={});var nt=Ze.yylloc;Qe.push(nt);var at=Ze.options&&Ze.options.ranges;typeof rt.yy.parseError=="function"?this.parseError=rt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var Mt,ht,Qt,dt,Pt,Dt,Wt,nn,zt,Nt=function(){var k;return k=Ze.lex()||1,typeof k!="number"&&(k=Te.symbols_[k]||k),k},U={};;){if(Qt=Ce[Ce.length-1],this.defaultActions[Qt]?dt=this.defaultActions[Qt]:(Mt!=null||(Mt=Nt()),dt=je[Qt]&&je[Qt][Mt]),dt===void 0||!dt.length||!dt[0]){var Z="";zt=[];for(Dt in je[Qt])this.terminals_[Dt]&&Dt>2&&zt.push("'"+this.terminals_[Dt]+"'");Z=Ze.showPosition?"Parse error on line "+(Me+1)+`:
`+Ze.showPosition()+`
Expecting `+zt.join(", ")+", got '"+(this.terminals_[Mt]||Mt)+"'":"Parse error on line "+(Me+1)+": Unexpected "+(Mt==1?"end of input":"'"+(this.terminals_[Mt]||Mt)+"'"),this.parseError(Z,{text:Ze.match,token:this.terminals_[Mt]||Mt,line:Ze.yylineno,loc:nt,expected:zt})}if(dt[0]instanceof Array&&dt.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Qt+", token: "+Mt);switch(dt[0]){case 1:Ce.push(Mt),xe.push(Ze.yytext),Qe.push(Ze.yylloc),Ce.push(dt[1]),Mt=null,ht?(Mt=ht,ht=null):(De=Ze.yyleng,be=Ze.yytext,Me=Ze.yylineno,nt=Ze.yylloc,Pe>0);break;case 2:if(Wt=this.productions_[dt[1]][1],U.$=xe[xe.length-Wt],U._$={first_line:Qe[Qe.length-(Wt||1)].first_line,last_line:Qe[Qe.length-1].last_line,first_column:Qe[Qe.length-(Wt||1)].first_column,last_column:Qe[Qe.length-1].last_column},at&&(U._$.range=[Qe[Qe.length-(Wt||1)].range[0],Qe[Qe.length-1].range[1]]),(Pt=this.performAction.apply(U,[be,De,Me,rt.yy,dt[1],xe,Qe].concat(He)))!==void 0)return Pt;Wt&&(Ce=Ce.slice(0,-1*Wt*2),xe=xe.slice(0,-1*Wt),Qe=Qe.slice(0,-1*Wt)),Ce.push(this.productions_[dt[1]][0]),xe.push(U.$),Qe.push(U._$),nn=je[Ce[Ce.length-2]][Ce[Ce.length-1]],Ce.push(nn);break;case 3:return!0}}return!0}},bt=function(){return{EOF:1,parseError:function(le,Te){if(!this.yy.parser)throw new Error(le);this.yy.parser.parseError(le,Te)},setInput:function(le,Te){return this.yy=Te||this.yy||{},this._input=le,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var le=this._input[0];return this.yytext+=le,this.yyleng++,this.offset++,this.match+=le,this.matched+=le,le.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),le},unput:function(le){var Te=le.length,Ce=le.split(/(?:\r\n?|\n)/g);this._input=le+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Te),this.offset-=Te;var xe=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Ce.length-1&&(this.yylineno-=Ce.length-1);var Qe=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Ce?(Ce.length===xe.length?this.yylloc.first_column:0)+xe[xe.length-Ce.length].length-Ce[0].length:this.yylloc.first_column-Te},this.options.ranges&&(this.yylloc.range=[Qe[0],Qe[0]+this.yyleng-Te]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(le){this.unput(this.match.slice(le))},pastInput:function(){var le=this.matched.substr(0,this.matched.length-this.match.length);return(le.length>20?"...":"")+le.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var le=this.match;return le.length<20&&(le+=this._input.substr(0,20-le.length)),(le.substr(0,20)+(le.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var le=this.pastInput(),Te=new Array(le.length+1).join("-");return le+this.upcomingInput()+`
`+Te+"^"},test_match:function(le,Te){var Ce,xe,Qe;if(this.options.backtrack_lexer&&(Qe={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Qe.yylloc.range=this.yylloc.range.slice(0))),xe=le[0].match(/(?:\r\n?|\n).*/g),xe&&(this.yylineno+=xe.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:xe?xe[xe.length-1].length-xe[xe.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+le[0].length},this.yytext+=le[0],this.match+=le[0],this.matches=le,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(le[0].length),this.matched+=le[0],Ce=this.performAction.call(this,this.yy,this,Te,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Ce)return Ce;if(this._backtrack){for(var je in Qe)this[je]=Qe[je];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var le,Te,Ce,xe;this._more||(this.yytext="",this.match="");for(var Qe=this._currentRules(),je=0;je<Qe.length;je++)if((Ce=this._input.match(this.rules[Qe[je]]))&&(!Te||Ce[0].length>Te[0].length)){if(Te=Ce,xe=je,this.options.backtrack_lexer){if((le=this.test_match(Ce,Qe[je]))!==!1)return le;if(this._backtrack){Te=!1;continue}return!1}if(!this.options.flex)break}return Te?(le=this.test_match(Te,Qe[xe]))!==!1&&le:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var le=this.next();return le||this.lex()},begin:function(le){this.conditionStack.push(le)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(le){return le=this.conditionStack.length-1-Math.abs(le||0),le>=0?this.conditionStack[le]:"INITIAL"},pushState:function(le){this.begin(le)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(le,Te,Ce,xe){switch(Ce){case 0:return void this.begin("captext");case 1:return 58;case 2:return this.popState(),58;case 3:return 62;case 4:return 63;case 5:return 64;case 6:return 65;case 7:return 66;case 8:return 67;case 9:return 49;case 10:return 50;case 11:return 51;case 12:return 52;case 13:return 53;case 14:return 54;case 15:return 71;case 16:return 74;case 17:return 75;case 18:return 76;case 19:return 70;case 20:return 72;case 21:return 73;case 22:return 77;case 23:return 69;case 24:return 80;case 25:return 13;case 26:return 15;case 27:return 14;case 28:return 10;case 29:return 28;case 30:return 29;case 31:return 83;case 32:return 84;case 33:return 85;case 34:return 17;case 35:return 18;case 36:return 19;case 37:return 78;case 38:return 79;case 39:return 82;case 40:return Te.yytext=this.matches[1],21;case 41:return Te.yytext=this.matches[1],22;case 42:return Te.yytext=this.matches[1],24;case 43:return 68;case 44:return 47;case 45:return 48;case 46:return 86;case 47:return 61;case 48:return 60;case 49:return 81;case 50:case 51:return 56;case 52:return 57;case 53:return Te.yytext=this.matches[1],58;case 54:return 59;case 55:return;case 56:return 87;case 57:return;case 58:return 55;case 59:return 5;case 60:return 89}},rules:[/^(?:([,][,])(?=[A-Z]))/,/^(?:[A-Z](?=[A-Z]))/,/^(?:[A-Z])/,/^(?:["][6])/,/^(?:["][-])/,/^(?:["][4])/,/^(?:["][8])/,/^(?:["][9])/,/^(?:["][\/])/,/^(?:[.][<])/,/^(?:[_][<])/,/^(?:["][<])/,/^(?:[.][>])/,/^(?:[_][>])/,/^(?:["][>])/,/^(?:["][7][@][:])/,/^(?:[_][@][<])/,/^(?:[\^][9])/,/^(?:[_][@][>])/,/^(?:["][7])/,/^(?:[@][<])/,/^(?:[@][>])/,/^(?:[@][9])/,/^(?:[.][0])/,/^(?:[4][4][4])/,/^(?:[%][9])/,/^(?:[%])/,/^(?:[\+])/,/^(?:[95]+(?=.))/,/^(?:[<])/,/^(?:[>])/,/^(?:!)/,/^(?:[6])/,/^(?:[@]&)/,/^(?:[(])/,/^(?:[.][\/])/,/^(?:[)])/,/^(?:#[L])/,/^(?:#-)/,/^(?:#=)/,/^(?:#([A-J4]+))/,/^(?:[\/]([A-J4]+))/,/^(?:[#][\/]([A-J4]+))/,/^(?:[_]?[\/])/,/^(?:[1])/,/^(?:[4])/,/^(?:[7]+)/,/^(?:[_][\\][_][\\])/,/^(?:[_][\\])/,/^(?:[3])/,/^(?:(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?)/,/^(?:(ARG|DET|EXP|IM|INF|LIM|LN|LOG|MAX|MIN|MOD|RE|SUP))/,/^(?:[,]?[.][ABGDEZ\?\:IKLMNXOPRSTUYF\&W])/,/^(?:[,]([A-Z]))/,/^(?:[A-Z])/,/^(?:[,]['])/,/^(?:[8])/,/^(?:[;])/,/^(?:[ ])/,/^(?:$)/,/^(?:.)/],conditions:{captext:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0},INITIAL:{rules:[0,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],inclusive:!0}}}}();return Ye.lexer=bt,a.prototype=Ye,Ye.Parser=a,new a}();u.parser=t,u.Parser=t.Parser,u.parse=function(){return t.parse.apply(t,arguments)},u.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),e.exit(1));var l=w(4).readFileSync(w(5).normalize(a[1]),"utf8");return u.parser.parse(l)},c!==void 0&&w.c[w.s]===c&&u.main(e.argv.slice(1))}).call(u,w(1),w(8)(B))},function(B,u,w){function e(p){for(var g=[],d=0;d<p.length;d++){var i=p[d];switch(i.type){case"command":var n=i.value.slice(1).trim();o.hasOwnProperty(i.value)?g.push(l.command(o[i.value])):a.containsValue(n)?g.push(l.typeform("operator_name",c(n))):s[i.value]||g.push(i);break;case"level":var r={subscript:i.subscript&&i.subscript.length>0?e(i.subscript):void 0,superscript:i.superscript&&i.superscript.length>0?e(i.superscript):void 0,type:i.type};(r.subscript||r.superscript)&&g.push(r);break;case"fraction":g.push({denominator:e(i.denominator),numerator:e(i.numerator),type:i.type});break;case"radical":g.push({index:i.index?e(i.index):void 0,radicand:e(i.radicand),type:i.type});break;case"terminal":t(p.slice(d))?(g.push({type:"command",value:"\\ldots"}),d+=2):g.push({type:i.type,value:h.hasOwnProperty(i.value)?h[i.value]:i.value});break;case"typeform":g.push(i);break;case"greek":g.push({type:i.type,value:h.hasOwnProperty(i.value)?h[i.value]:i.value});break;default:throw new Error(`Unexpected item:
`+JSON.stringify({group:p,item:i}))}}return g}function c(p){for(var g=[],d=0,i=p;d<i.length;d++){var n=i[d];g.push(l.terminal(n))}return g}function t(p){for(var g=0,d=0;d<Math.min(3,p.length);d++){var i=p[d];i.type==="terminal"&&i.value==="."&&g++}return g===3}Object.defineProperty(u,"__esModule",{value:!0});var a=w(2),l=w(7),h={"~":"\\ ","\\,":"\\ ","\\:":"\\ ","\\;":"\\ ","\\!":"\\ "},o={"\\Vert":"\\|","\\ge":"\\geq","\\le":"\\leq","\\vert":"|"},s={"\\space":!0};u.default=e},function(B,u,w){function e(l){try{return{isError:!1,value:t.parser.parse(l)}}catch(h){return{isError:!0,error:c.default(h)}}}Object.defineProperty(u,"__esModule",{value:!0});var c=w(6),t=w(13),a=w(7);t.parser.yy=a,u.default=e},function(B,u,w){(function(e,c){var t=function(){function a(){this.yy={}}var l=function(D,V,W,N){for(W=W||{},N=D.length;N--;W[D[N]]=V);return W},h=[1,13],o=[1,14],s=[1,15],p=[1,16],g=[1,17],d=[1,21],i=[1,18],n=[1,19],r=[1,20],m=[1,22],y=[1,23],v=[1,28],x=[1,30],E=[1,31],b=[1,32],f=[1,33],S=[1,29],j=[5,21,27,38],Q=[5,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],G=[5,10,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],q=[5,10,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],L={trace:function(){},yy:{},symbols_:{error:2,sentence:3,group:4,EOF:5,level:6,expression:7,subscript:8,superscript:9,_:10,atom:11,"^":12,"PRIMES^":13,PRIMES:14,delimited_group:15,typeform:16,frac:17,radical:18,LEFT:19,delimiter:20,RIGHT:21,FRAC:22,OPERATOR_NAME:23,MATHRM:24,TEXT:25,RADICAL_OPTARG:26,CLOSE_OPTARG:27,RADICAL:28,curly_group:29,greek:30,command:31,SYMBOL:32,DELIMITER:33,DELIMITER_COMMAND:34,GREEK:35,COMMAND:36,"{":37,"}":38,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",10:"_",12:"^",13:"PRIMES^",14:"PRIMES",19:"LEFT",21:"RIGHT",22:"FRAC",23:"OPERATOR_NAME",24:"MATHRM",25:"TEXT",26:"RADICAL_OPTARG",27:"CLOSE_OPTARG",28:"RADICAL",32:"SYMBOL",33:"DELIMITER",34:"DELIMITER_COMMAND",35:"GREEK",36:"COMMAND",37:"{",38:"}"},productions_:[0,[3,2],[3,1],[4,3],[4,2],[4,1],[4,2],[4,1],[6,2],[6,2],[6,1],[6,1],[8,2],[9,2],[9,2],[9,1],[7,1],[7,1],[7,1],[7,1],[7,1],[15,5],[15,4],[17,3],[16,2],[16,2],[16,2],[18,4],[18,3],[18,2],[18,2],[11,1],[11,1],[11,1],[11,1],[11,1],[20,1],[20,1],[30,1],[31,1],[29,3],[29,2]],performAction:function(D,V,W,N,re,Y,O){var ee=Y.length-1;switch(re){case 1:return Y[ee-1];case 2:return N.group();case 3:this.$=N.group(Y[ee-2],Y[ee-1],Y[ee]);break;case 4:case 6:this.$=N.group(Y[ee-1],Y[ee]);break;case 5:case 7:this.$=N.group(Y[ee]);break;case 8:this.$=N.level({_:N.group(Y[ee-1]),"^":N.group(Y[ee])});break;case 9:this.$=N.level({_:N.group(Y[ee]),"^":N.group(Y[ee-1])});break;case 10:this.$=N.level({"^":N.group(Y[ee])});break;case 11:this.$=N.level({_:N.group(Y[ee])});break;case 12:case 13:this.$=Y[ee];break;case 14:this.$=N.processPrimes(Y[ee-1],Y[ee]);break;case 15:this.$=N.processPrimes(Y[ee],N.group());break;case 21:this.$=N.group(Y[ee-3],Y[ee-2],Y[ee]);break;case 22:this.$=N.group(Y[ee-2],Y[ee]);break;case 23:this.$=N.fraction(N.group(Y[ee-1]),N.group(Y[ee]));break;case 24:this.$=N.typeform("operator_name",N.group(Y[ee]));break;case 25:this.$=N.typeform("mathrm",N.group(Y[ee]));break;case 26:this.$=N.typeform("text",N.group(Y[ee]));break;case 27:this.$=N.radical(Y[ee],N.group(Y[ee-2]));break;case 28:this.$=N.radical(N.group(Y[ee]),N.group());break;case 29:case 30:this.$=N.radical(N.group(Y[ee]));break;case 35:case 36:this.$=N.terminal(Y[ee]);break;case 37:case 39:this.$=N.command(Y[ee]);break;case 38:this.$=N.greek(Y[ee]);break;case 40:this.$=Y[ee-1];break;case 41:this.$=N.group()}},table:[{3:1,4:2,5:[1,3],6:4,7:5,8:6,9:7,10:h,11:12,12:o,13:s,14:p,15:8,16:9,17:10,18:11,19:g,20:25,22:d,23:i,24:n,25:r,26:m,28:y,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},{1:[3]},{5:[1,34]},{1:[2,2]},l(j,[2,5],{15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,7:35,19:g,22:d,23:i,24:n,25:r,26:m,28:y,32:v,33:x,34:E,35:b,36:f,37:S}),l(j,[2,7],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:36,10:h,12:o,13:s,14:p,19:g,22:d,23:i,24:n,25:r,26:m,28:y,32:v,33:x,34:E,35:b,36:f,37:S}),l(Q,[2,11],{9:37,12:o,13:s,14:p}),l(Q,[2,10],{8:38,10:h}),l(G,[2,16]),l(G,[2,17]),l(G,[2,18]),l(G,[2,19]),l(G,[2,20]),{11:39,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},{11:40,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},{11:41,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},l(q,[2,15]),{20:42,33:x,34:E},{11:43,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},{11:44,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},{11:45,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},{11:46,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},{4:47,6:4,7:5,8:6,9:7,10:h,11:12,12:o,13:s,14:p,15:8,16:9,17:10,18:11,19:g,20:25,22:d,23:i,24:n,25:r,26:m,27:[1,48],28:y,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},{11:49,17:50,20:25,22:d,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},l(G,[2,31]),l(G,[2,32]),l(G,[2,33]),l(G,[2,34]),l(G,[2,35]),{4:51,6:4,7:5,8:6,9:7,10:h,11:12,12:o,13:s,14:p,15:8,16:9,17:10,18:11,19:g,20:25,22:d,23:i,24:n,25:r,26:m,28:y,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S,38:[1,52]},l(G,[2,36]),l(G,[2,37]),l(G,[2,38]),l(G,[2,39]),{1:[2,1]},l(j,[2,4],{6:4,7:5,8:6,9:7,15:8,16:9,17:10,18:11,11:12,29:24,20:25,30:26,31:27,4:53,10:h,12:o,13:s,14:p,19:g,22:d,23:i,24:n,25:r,26:m,28:y,32:v,33:x,34:E,35:b,36:f,37:S}),l(j,[2,6]),l(Q,[2,8]),l(Q,[2,9]),l([5,12,13,14,19,21,22,23,24,25,26,27,28,32,33,34,35,36,37,38],[2,12]),l(q,[2,13]),l(q,[2,14]),{4:54,6:4,7:5,8:6,9:7,10:h,11:12,12:o,13:s,14:p,15:8,16:9,17:10,18:11,19:g,20:25,21:[1,55],22:d,23:i,24:n,25:r,26:m,28:y,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},l(G,[2,24]),l(G,[2,25]),l(G,[2,26]),{11:56,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},{27:[1,57]},{11:58,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},l(G,[2,29]),l(G,[2,30]),{38:[1,59]},l(G,[2,41]),l(j,[2,3]),{21:[1,60]},{20:61,33:x,34:E},l(G,[2,23]),{11:62,20:25,29:24,30:26,31:27,32:v,33:x,34:E,35:b,36:f,37:S},l(G,[2,28]),l(G,[2,40]),{20:63,33:x,34:E},l(G,[2,22]),l(G,[2,27]),l(G,[2,21])],defaultActions:{3:[2,2],34:[2,1]},parseError:function(D,V){if(!V.recoverable){var W=new Error(D);throw W.hash=V,W}this.trace(D)},parse:function(D){var V=this,W=[0],N=[null],re=[],Y=this.table,O="",ee=0,oe=0,H=0,J=re.slice.call(arguments,1),ie=Object.create(this.lexer),de={yy:{}};for(var fe in this.yy)Object.prototype.hasOwnProperty.call(this.yy,fe)&&(de.yy[fe]=this.yy[fe]);ie.setInput(D,de.yy),de.yy.lexer=ie,de.yy.parser=this,ie.yylloc===void 0&&(ie.yylloc={});var Ee=ie.yylloc;re.push(Ee);var ye=ie.options&&ie.options.ranges;typeof de.yy.parseError=="function"?this.parseError=de.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var _e,Fe,se,I,ne,pe,ge,Be,Re,ve=function(){var Ie;return Ie=ie.lex()||1,typeof Ie!="number"&&(Ie=V.symbols_[Ie]||Ie),Ie},ke={};;){if(se=W[W.length-1],this.defaultActions[se]?I=this.defaultActions[se]:(_e!=null||(_e=ve()),I=Y[se]&&Y[se][_e]),I===void 0||!I.length||!I[0]){var T="";Re=[];for(pe in Y[se])this.terminals_[pe]&&pe>2&&Re.push("'"+this.terminals_[pe]+"'");T=ie.showPosition?"Parse error on line "+(ee+1)+`:
`+ie.showPosition()+`
Expecting `+Re.join(", ")+", got '"+(this.terminals_[_e]||_e)+"'":"Parse error on line "+(ee+1)+": Unexpected "+(_e==1?"end of input":"'"+(this.terminals_[_e]||_e)+"'"),this.parseError(T,{text:ie.match,token:this.terminals_[_e]||_e,line:ie.yylineno,loc:Ee,expected:Re})}if(I[0]instanceof Array&&I.length>1)throw new Error("Parse Error: multiple actions possible at state: "+se+", token: "+_e);switch(I[0]){case 1:W.push(_e),N.push(ie.yytext),re.push(ie.yylloc),W.push(I[1]),_e=null,Fe?(_e=Fe,Fe=null):(oe=ie.yyleng,O=ie.yytext,ee=ie.yylineno,Ee=ie.yylloc,H>0);break;case 2:if(ge=this.productions_[I[1]][1],ke.$=N[N.length-ge],ke._$={first_line:re[re.length-(ge||1)].first_line,last_line:re[re.length-1].last_line,first_column:re[re.length-(ge||1)].first_column,last_column:re[re.length-1].last_column},ye&&(ke._$.range=[re[re.length-(ge||1)].range[0],re[re.length-1].range[1]]),(ne=this.performAction.apply(ke,[O,oe,ee,de.yy,I[1],N,re].concat(J)))!==void 0)return ne;ge&&(W=W.slice(0,-1*ge*2),N=N.slice(0,-1*ge),re=re.slice(0,-1*ge)),W.push(this.productions_[I[1]][0]),N.push(ke.$),re.push(ke._$),Be=Y[W[W.length-2]][W[W.length-1]],W.push(Be);break;case 3:return!0}}return!0}},M=function(){return{EOF:1,parseError:function(D,V){if(!this.yy.parser)throw new Error(D);this.yy.parser.parseError(D,V)},setInput:function(D,V){return this.yy=V||this.yy||{},this._input=D,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var D=this._input[0];return this.yytext+=D,this.yyleng++,this.offset++,this.match+=D,this.matched+=D,D.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),D},unput:function(D){var V=D.length,W=D.split(/(?:\r\n?|\n)/g);this._input=D+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-V),this.offset-=V;var N=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),W.length-1&&(this.yylineno-=W.length-1);var re=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:W?(W.length===N.length?this.yylloc.first_column:0)+N[N.length-W.length].length-W[0].length:this.yylloc.first_column-V},this.options.ranges&&(this.yylloc.range=[re[0],re[0]+this.yyleng-V]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(D){this.unput(this.match.slice(D))},pastInput:function(){var D=this.matched.substr(0,this.matched.length-this.match.length);return(D.length>20?"...":"")+D.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var D=this.match;return D.length<20&&(D+=this._input.substr(0,20-D.length)),(D.substr(0,20)+(D.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var D=this.pastInput(),V=new Array(D.length+1).join("-");return D+this.upcomingInput()+`
`+V+"^"},test_match:function(D,V){var W,N,re;if(this.options.backtrack_lexer&&(re={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(re.yylloc.range=this.yylloc.range.slice(0))),N=D[0].match(/(?:\r\n?|\n).*/g),N&&(this.yylineno+=N.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:N?N[N.length-1].length-N[N.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+D[0].length},this.yytext+=D[0],this.match+=D[0],this.matches=D,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(D[0].length),this.matched+=D[0],W=this.performAction.call(this,this.yy,this,V,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),W)return W;if(this._backtrack){for(var Y in re)this[Y]=re[Y];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var D,V,W,N;this._more||(this.yytext="",this.match="");for(var re=this._currentRules(),Y=0;Y<re.length;Y++)if((W=this._input.match(this.rules[re[Y]]))&&(!V||W[0].length>V[0].length)){if(V=W,N=Y,this.options.backtrack_lexer){if((D=this.test_match(W,re[Y]))!==!1)return D;if(this._backtrack){V=!1;continue}return!1}if(!this.options.flex)break}return V?(D=this.test_match(V,re[N]))!==!1&&D:this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var D=this.next();return D||this.lex()},begin:function(D){this.conditionStack.push(D)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(D){return D=this.conditionStack.length-1-Math.abs(D||0),D>=0?this.conditionStack[D]:"INITIAL"},pushState:function(D){this.begin(D)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(D,V,W,N){switch(W){case 0:break;case 1:return this.begin("optarg"),26;case 2:return this.popState(),27;case 3:return 23;case 4:return 24;case 5:return 25;case 6:return 28;case 7:return 22;case 8:return 13;case 9:return 14;case 10:return 12;case 11:return 10;case 12:return 19;case 13:return 21;case 14:return 34;case 15:return 33;case 16:return 37;case 17:return 38;case 18:case 19:case 20:return 32;case 21:case 22:return 35;case 23:return 36;case 24:return 32;case 25:return 5}},rules:[/^(?:\s+)/,/^(?:(\\sqrt)\s*\[)/,/^(?:\])/,/^(?:(\\operatorname))/,/^(?:(\\mathrm))/,/^(?:(\\text))/,/^(?:(\\sqrt))/,/^(?:(\\frac))/,/^(?:'+\^)/,/^(?:'+)/,/^(?:\^)/,/^(?:[_])/,/^(?:(\\left))/,/^(?:(\\right))/,/^(?:(\\langle|\\rangle|\\vert|\\Vert))/,/^(?:\[|\]|\\\{|\\\}|\(|\)|\||\\\|)/,/^(?:\{)/,/^(?:\})/,/^(?:\\(infty))/,/^(?:\\(int))/,/^(?:!)/,/^(?:\\(alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|omicron|pi|rho|sigma|tau|xi|upsilon|phi|chi|psi|omega))/,/^(?:\\(Alpha|Beta|Gamma|Delta|Epsilon|Zeta|Eta|Theta|Iota|Kappa|Lambda|Mu|Nu|Omicron|Pi|Rho|Sigma|Tau|Xi|Upsilon|Phi|Chi|Psi|Omega))/,/^(?:\\[A-Za-z]+)/,/^(?:\\.|.)/,/^(?:$)/],conditions:{optarg:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0},INITIAL:{rules:[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25],inclusive:!0}}}}();return L.lexer=M,a.prototype=L,L.Parser=a,new a}();u.parser=t,u.Parser=t.Parser,u.parse=function(){return t.parse.apply(t,arguments)},u.main=function(a){a[1]||(console.log("Usage: "+a[0]+" FILE"),e.exit(1));var l=w(4).readFileSync(w(5).normalize(a[1]),"utf8");return u.parser.parse(l)},c!==void 0&&w.c[w.s]===c&&u.main(e.argv.slice(1))}).call(u,w(1),w(8)(B))},function(B,u,w){function e(q){return S.map(f.default(q),function(L){return x(b.default(L))})}function c(q){return/^[a-z]$/.test(q.value)?q.value.toUpperCase():/^[A-Z]$/.test(q.value)?","+q.value:/^[0-9.]$/.test(q.value)||/^[+\-()]$/.test(q.value)?q.value:j.hasOwnProperty(q.value)?j[q.value]:"[terminal: "+q.value+"]"}function t(q){return Q.hasOwnProperty(q.value)?Q[q.value]:q.value.slice(1).toUpperCase()+" "}function a(q){return G.hasOwnProperty(q.value)?G[q.value]:q.value.slice(1).toUpperCase()+" "}function l(q){return q.value==="\\space"}function h(q,L){return q.isStartOfLine&&/^-?$/.test(L)||/\s-?$/.test(L)||q.wasFraction}function o(q){return q.value==="\\sum"||q.value==="\\prod"}function s(q,L){if(L>=q.length)return!1;var M=q[L];if(M.type==="terminal"){if(/^[0-9]$/.test(M.value))return!0;if(M.value!=="."||L+1>=q.length)return!1;if(M=q[L+1],M.type==="terminal")return/^[0-9]$/.test(M.value)}return!1}function p(q,L){for(var M="",D=q.levelIndicator,V=0,W=!1,N=0;N<L.length;N++){s(L,N)&&(D===""&&/[A-Z]$/.test(M)?M+=r(D):h(q,M)&&(M+="#"));var re=L[N],Y=N<L.length-1?L[N+1]:null;switch(re.type!=="level"&&D!==q.levelIndicator&&(v(re)?D="":(q.wasModifiedExpression&&q.levelIndicator===""?q=y(q,{wasModifiedExpression:!1}):M+=r(q.levelIndicator),D=q.levelIndicator)),re.type){case"terminal":!q.wasModifiedExpression&&D!==""&&v(re)?M+=" "+r(D)+c(re).trim()+" ":M+=c(re),re.value==="."&&Y&&(Y.type==="terminal"&&/^[^_\d,]/.test(c(Y))||Y.type==="greek")&&(M+='"'),q=y(q,{wasFraction:!1,wasRomanCommand:!1});break;case"command":if(!l(re)){var O=o(re);O&&(M+='"'),!O&&D!==""&&v(re)?M+=" "+r(D)+t(re).trim()+" ":M+=t(re),q=y(q,{wasFraction:!1,wasModifiedExpression:O,wasRomanCommand:!0})}break;case"greek":M+=a(re),q=y(q,{wasFraction:!1});break;case"fraction":var ee=g(q,re);M+=ee.value,V=Math.max(V,ee.fractionLevel),q=y(q,{wasFraction:!0,wasRomanCommand:!1});break;case"radical":var oe=d(q,re);M+=oe.value,V=Math.max(V,oe.fractionLevel),q=y(q,{wasFraction:!1,wasRomanCommand:!1});break;case"level":!q.wasModifiedExpression&&q.wasRomanCommand?(W=/\s$/.test(M))&&(M=M.replace(/\s$/,"")):W=!1;var H=M.length>0&&/[A-Za-z]/.test(M[M.length-1])===!0,J=i(q,H,W,re);M+=J.value,D=J.levelIndicator,q=y(q,{wasFraction:!1,wasRomanCommand:!1});break;case"typeform":M+=p(q,re.value).value,re.name==="operator_name"&&(M+=" "),q=y(q,{wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1})}}return{fractionLevel:V,levelIndicator:D,value:M}}function g(q,L){q=y(q,{isStartOfLine:!1});for(var M=p(q,L.numerator),D=p(q,L.denominator),V=Math.max(M.fractionLevel,D.fractionLevel),W="",N=0;N<V;N++)W+=",";var re=W+"?"+M.value;return M.levelIndicator!==q.levelIndicator&&(re+=r(q.levelIndicator)),/\.$/.test(M.value)&&(re+='"'),re+=W+"/"+D.value,D.levelIndicator!==q.levelIndicator&&(re+=r(q.levelIndicator)),/\.$/.test(D.value)&&(re+='"'),re+=W+"#",{fractionLevel:V+1,value:re}}function d(q,L){for(var M=q.radicalLevel,D="",V="",W=0;W<M;W++)V+=".";if(L.index){D+=V+"<";var N=p(y(q,{isStartOfLine:!1}),L.index);D+=N.value,/\.$/.test(N.value)&&(D+='"'),N.levelIndicator!==q.levelIndicator&&(D+=r(q.levelIndicator)),D+=">"}else D+=V+">";var re=p(y(q,{isStartOfLine:!1,radicalLevel:M+1}),L.radicand);return D+=re.value,/\.$/.test(re.value)&&(D+='"'),re.levelIndicator!==q.levelIndicator&&(D+=r(q.levelIndicator)),D+=V+"]",{fractionLevel:re.fractionLevel,value:D}}function i(q,L,M,D){var V=q.levelIndicator,W="",N=n(D.superscript);if(W+=N,D.subscript){q.wasModifiedExpression&&(W+="%"),V=q.levelIndicator+";";var re=p(y(q,{isStartOfLine:!1,levelIndicator:V}),D.subscript);L&&/^[0-9]*(\.|\,)?[0-9]+$/.test(re.value)&&V.length<=1?V=q.levelIndicator:!q.wasModifiedExpression&&D.subscript[0]&&D.subscript[0].type!=="level"&&(W+=r(V)),W+=re.value,/\.$/.test(re.value)&&(W+='"')}if(D.superscript){q.wasModifiedExpression&&(W+="<"),V=q.levelIndicator+"^";var Y=p(y(q,{isStartOfLine:!1,levelIndicator:V}),D.superscript.slice(N.length));!q.wasModifiedExpression&&D.superscript[0]&&D.superscript[0].type!=="level"&&Y.value!==""&&(W+=r(V)),W+=Y.value,/\.$/.test(Y.value)&&(W+='"')}return q.wasModifiedExpression?W+="]":q.wasRomanCommand&&M&&(W+=" ",V=V.slice(0,V.length-1)),{levelIndicator:V,value:W}}function n(q){var L="";if(q)for(var M=0,D=q;M<D.length;M++){var V=D[M];if(V.type!=="command"||V.value!=="\\prime")break;L+="'"}return L}function r(q){return q||'"'}function m(){return{isStartOfLine:!0,levelIndicator:"",radicalLevel:0,wasFraction:!1,wasModifiedExpression:!1,wasRomanCommand:!1}}function y(q,L){return E(E({},q),L)}function v(q){return(q.type==="terminal"||q.type==="command")&&/^<|>|\=|\\leq?|\\geq?|\\neq?$/.test(q.value)}function x(q){return p(m(),q).value}var E=this&&this.__assign||function(){return E=Object.assign||function(q){for(var L,M=1,D=arguments.length;M<D;M++){L=arguments[M];for(var V in L)Object.prototype.hasOwnProperty.call(L,V)&&(q[V]=L[V])}return q},E.apply(this,arguments)};Object.defineProperty(u,"__esModule",{value:!0});var b=w(11),f=w(12),S=w(0);u.default=e;var j={"!":"&","*":"@#",",":", ","/":"_/",":":"_3","<":' "K ',"=":" .K ",">":" .1 ","?":"_8","[":"@(","\\ ":" ","\\%":"@0","\\&":"_&","\\,":" ","\\infty":",=","\\int":"!","\\{":".(","\\|":"\\\\","\\}":".)","]":"@)","|":"\\"},Q={"\\Vert":"\\\\","\\cdot":"*","\\div":"./","\\ge":" .1: ","\\geq":" .1: ","\\langle":"..(","\\ldots":" ''' ","\\le":' "K: ',"\\leq":' "K: ',"\\ne":" /.K ","\\neq":" /.K ","\\approx":" @:@: ","\\nparallel":" /$L ","\\parallel":" $L ","\\perp":" $P ","\\prime":"'","\\prod":".,P","\\rangle":"..)","\\sim":"@:","\\sum":".,S","\\times":"@*","\\vert":"\\"},G={"\\Alpha":".,A","\\Beta":".,B","\\Chi":".,&","\\Delta":".,D","\\Epsilon":".,E","\\Eta":".,:","\\Gamma":".,G","\\Iota":".,I","\\Kappa":".,K","\\Lambda":".,L","\\Mu":".,M","\\Nu":".,N","\\Omega":".,W","\\Omicron":".,O","\\Phi":".,F","\\Pi":".,P","\\Psi":".,Y","\\Rho":".,R","\\Sigma":".,S","\\Tau":".,T","\\Theta":".,?","\\Upsilon":".,U","\\Xi":".,X","\\Zeta":".,Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"}},function(B,u,w){function e(M){return Q.map(j.default(M),function(D){return E(S.default(D))})}function c(M,D,V){var W="",N=D.value,re=V&&V.type==="terminal"?V.value:"";return p(N,M)&&(W+=";"),/^[\D]/.test(N)&&(M=x(M,{wasNumber:!1})),/^[a-z]$/.test(N)?M.capsLock?(M=x(M,{capsLock:!1}),W+=",'"+N.toUpperCase()):W+=N.toUpperCase():/^[A-Z]$/.test(N)?M.capsLock?W+=N:/[A-Z]/.test(re)?(M=x(M,{capsLock:!0}),W+=",,"+N):W+=","+N:(M=x(M,{capsLock:!1}),/^[0-9.]$/.test(N)?W+=o(N):G.hasOwnProperty(N)?W+=G[N]:W+="[terminal: "+N+"]"),{value:W,ctx:M}}function t(M,D){var V;return V=q.hasOwnProperty(M.value)?q[M.value]:M.value.slice(1).toUpperCase()+" ",p(V,D)&&(V=";"+V),/^[\D]/.test(V)&&(D=x(D,{wasNumber:!1})),{value:V,ctx:D}}function a(M){return L.hasOwnProperty(M.value)?L[M.value]:M.value.slice(1).toUpperCase()+" "}function l(M){return M.value==="\\space"}function h(M,D){if(D<M.length){var V=M[D];if(V.type==="terminal"){if(/^\d$/.test(V.value))return!0;if(V.value!=="."||D+1>=M.length)return!1;if(V=M[D+1],V.type==="terminal")return/^\d$/.test(V.value)}}return!1}function o(M){for(var D="",V=64,W=0,N=M;W<N.length;W++){var re=N[W];D+=re===","?"1":re==="."?"4":re==="0"?"J":String.fromCharCode(V+Number(re))}return D}function s(M,D){for(var V,W,N="",re=!0,Y=0;Y<D.length;Y++){h(D,Y)?(M=x(M,{wasNumber:!0}),re&&(N+="#",re=!1)):re=!0;var O=D[Y];switch(O.type){case"terminal":V=c(M,O,Y<D.length-1?D[Y+1]:void 0),M=V.ctx,N+=V.value,N[N.length-1]===" "&&(re=!0);break;case"command":l(O)||(W=t(O,M),M=W.ctx,N+=W.value,N[N.length-1]===" "&&(re=!0));break;case"greek":N+=a(O),N[N.length-1]===" "&&(re=!0);break;case"fraction":var ee=g(M,O);N+=ee.value,M=ee.ctx,re=!1;break;case"radical":N+=i(M,O).value,re=!0;break;case"level":var oe=n(M,O);N+=oe.value,M=oe.ctx,re=!0;break;case"typeform":var H=s(M,O.value).value;N+=H,/(ARC)?(SIN|COS|TAN|CSC|SEC|COT)(H)?/.test(H)&&(N+=" ")}}return{ctx:M,value:N}}function p(M,D){return D.wasNumber&&/^[A-Ja-j]/.test(M)}function g(M,D){var V,W=s(M,D.numerator),N=s(M,D.denominator);return d(W.value)&&d(N.value)?(M=x(M,{wasNumber:!0}),V=W.value+"/"+N.value.slice(1)):(M=x(M,{wasNumber:!1}),V="("+W.value+"./"+N.value+")"),{ctx:M,value:V}}function d(M){return/^\#[A-J41]+$/.test(M)}function i(M,D){var V="%";return D.index&&(V+=s(M,f.group(f.level({"^":D.index}))).value),V+=s(M,D.radicand).value+"+",{ctx:M,value:V}}function n(M,D){var V="",W=m(D.superscript);V+=W;var N;if(D.subscript){var re=s(M,D.subscript);N=y(D.subscript,re.value,0)?"<"+r(re.value)+">":re.value,M=x(M,{wasNumber:re.ctx.wasNumber}),N!==""&&(V+="5"+N)}if(D.superscript){var Y=s(M,D.superscript.slice(W.length));N=y(D.superscript,Y.value,W.length)?"<"+r(Y.value)+">":Y.value,M=x(M,{wasNumber:Y.ctx.wasNumber}),W!==""&&N===""||(V+="9"+N)}return{ctx:M,value:V}}function r(M){return/^;/.test(M)?M.slice(1):M}function m(M){var D="";if(M)for(var V=0,W=M;V<W.length;V++){var N=W[V];if(N.type!=="command"||N.value!=="\\prime")break;D+="7"}return D}function y(M,D,V){var W=M[0],N=(D.match(/\</g)||[]).length,re=/^["|\.|_]?\</.test(D),Y=(D.match(/\>/g)||[]).length,O=/["|\.|_]?\>$/.test(D);return!d(D)&&M.length-V>1&&N===0&&Y===0||N>0&&Y>0&&(!re||!O)||N>1||Y>1||W&&W.type==="typeform"}function v(){return{capsLock:!1,wasNumber:!1}}function x(M,D){return b(b({},M),D)}function E(M){return s(v(),M).value}var b=this&&this.__assign||function(){return b=Object.assign||function(M){for(var D,V=1,W=arguments.length;V<W;V++){D=arguments[V];for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(M[N]=D[N])}return M},b.apply(this,arguments)};Object.defineProperty(u,"__esModule",{value:!0});var f=w(7),S=w(11),j=w(12),Q=w(0);u.default=e;var G={"!":"6","(":'"<',")":'">',"*":'"9',"+":'"6',",":"1","-":'"-',".":"4","/":"_/",":":"3","<":"@<","=":'"7',">":"@>","?":"8","[":".<","\\ ":" ","\\%":".0","\\&":"@&","\\,":" ","\\infty":"#=","\\int":"!","\\{":"_<","\\|":"_\\_\\","\\}":"_>","]":".>","|":"_\\"},q={"\\Vert":"_\\_\\","\\cdot":'"4',"\\div":'"/',"\\ge":"_@>","\\geq":"_@>","\\langle":"@<","\\ldots":"444","\\le":"_@<","\\leq":"_@<","\\ne":'"7@:',"\\neq":'"7@:',"\\approx":"^9","\\parallel":"#L","\\perp":"#-","\\prime":"7","\\prod":",.P","\\rangle":"@>","\\sim":"@9","\\sum":",.S","\\times":'"8',"\\vert":"_\\"},L={"\\Alpha":",.A","\\Beta":",.B","\\Chi":",.&","\\Delta":",.D","\\Epsilon":",.E","\\Eta":",.:","\\Gamma":",.G","\\Iota":",.I","\\Kappa":",.K","\\Lambda":",.L","\\Mu":",.M","\\Nu":",.N","\\Omega":",.W","\\Omicron":",.O","\\Phi":",.F","\\Pi":",.P","\\Psi":",.Y","\\Rho":",.R","\\Sigma":",.S","\\Tau":",.T","\\Theta":",.?","\\Upsilon":",.U","\\Xi":",.X","\\Zeta":",.Z","\\alpha":".A","\\beta":".B","\\chi":".&","\\delta":".D","\\epsilon":".E","\\eta":".:","\\gamma":".G","\\iota":".I","\\kappa":".K","\\lambda":".L","\\mu":".M","\\nu":".N","\\omega":".W","\\omicron":".O","\\phi":".F","\\pi":".P","\\psi":".Y","\\rho":".R","\\sigma":".S","\\tau":".T","\\theta":".?","\\upsilon":".U","\\xi":".X","\\zeta":".Z"}},function(B,u,w){function e(v,x){for(var E="",b=x,f="",S=!1,j="",Q="",G=c(v),q=0;q<v.length;q++){var L=v[q],M=q+1<v.length?v[q+1]:null;switch(L.type){case"terminal":var D=g.getAutoOperator(v.slice(q));D.value!==""?(E+=D.value,q+=D.terminalCount-1,S=S||D.modified):L.value===" "?(S?(f=j,E+=o(b,f),b=f):E+="\\ ",S=!1):(G[q]===n?E+="\\left":G[q]===r&&(E+="\\right"),E+=L.value);break;case"comparison":f="",E+=o(b,f),b=f,S=!1,E+=L.value;break;case"level_with_comparison":E+=o(b,L.level),b=L.level,S=!1,E+=L.value;break;case"command":var V=L.value.slice(1).trim();M&&M.type==="terminal"&&/[a-z]/.test(M.value)?(E+=V,S=!1):g.containsValue(V)?(E+="\\operatorname{"+V+"}",S=!0):(E+=L.value,S=!0),j=b;break;case"expression":E+=L.value;break;case"fraction":E+=h(L.numerator,L.denominator,b);break;case"modified_expression":E+=e(L.expression,b)+" ",L.under&&(E+="_{"+e(L.under,b)+"}"),L.over&&(E+="^{"+e(L.over,b)+"}");break;case"radical":E+="\\sqrt",L.index&&(E+="["+e(L.index,b)+"]"),E+="{"+e(L.value,b)+"}";break;case"simple_subscript":b===""?(E+=L.base.value+"_{"+L.subscript.value+"}",L.base.type==="command"&&(S=!0,j=b)):E+=L.base.value+L.subscript.value;break;case"level":E+=o(b,L.value,Q),b=L.value,L.value==="^"&&Q!==""&&(Q="");break;case"primes":M&&M.type==="level"&&M.value===";"?Q=L.value:b!==""?(E+=Array(L.value.length+1).join("\\prime "),Q=""):(E+=L.value,Q="")}}return E+=o(b,x)+Q,E.replace(/([^\\])( )$/,"$1")}function c(v){for(var x=[],E=[],b=0;b<v.length;b++){var f=v[b];if(t(f))x.push({direction:n,index:b}),E.push(m);else if(a(f)){for(;x.length&&x[x.length-1].direction===y;)x.pop();if(x.length){var S=x.pop();if(S){var j=S.index;E[j]=n,E.push(r)}}else E.push(m)}else if(l(f))if(x.length&&x[x.length-1].direction===y){var S=x.pop();if(S){var j=S.index;E[j]=n,E.push(r)}}else x.push({direction:y,index:b}),E.push(m);else E.push(m)}return E}function t(v){return v.type==="terminal"&&/^(\\langle |\[|\(|\\{)$/.test(v.value)}function a(v){return v.type==="terminal"&&/^(\\rangle |\]|\)|\\})$/.test(v.value)}function l(v){return v.type==="terminal"&&/^(\\\||\|)$/.test(v.value)}function h(v,x,E){return"\\frac{"+e(v,E)+"}{"+e(x,E)+"}"}function o(v,x,E){var b,f,S,j="",Q=Math.max(v.length,x.length);for(b=0;b<Q&&v[b]===x[b];b++);for(f=v.length-1;f>=b;f--)j+="}";for(S=b;S<x.length;S++)x[S]==="^"&&(E&&(j+=E),j+="^{"),x[S]===";"&&(j+="_{");return j}function s(v){return e(v,"")}function p(v,x){return x&&x.operatorNames?g.setOperatorNames(x.operatorNames):g.resetOperatorNames(),i.map(d.default(v,x),s)}Object.defineProperty(u,"__esModule",{value:!0});var g=w(2),d=w(18),i=w(0),n=1,r=-1,m=0,y=2;u.default=p},function(B,u,w){function e(v){return{type:"terminal",value:v}}function c(v){return{type:"command",value:"\\"+v.trim()+" "}}function t(v){var x=/[\^;]+/.exec(v),E=x?x.toString():"",b=v.slice(l.length);return{type:"level_with_comparison",level:E,value:m[b]}}function a(v){return{type:"comparison",value:m[v]}}function l(v){return{type:"level",value:v}}function h(){return l("")}function o(v){return{type:"primes",value:v}}function s(v,x){return{type:"fraction",numerator:v,denominator:x}}function p(v,x,E){return{type:"modified_expression",expression:v,under:x,over:E}}function g(v,x){return{type:"radical",value:v,index:x}}function d(v){return{type:"expression",value:v}}function i(v,x){return{type:"simple_subscript",base:v,subscript:x}}function n(v){if(y.hasOwnProperty(v))return y[v]+" ";throw new Error("Unknown Greek letter")}function r(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];return Array.prototype.concat.apply([],v)}Object.defineProperty(u,"__esModule",{value:!0}),u.terminal=e,u.command=c;var m={'"K':"<",'"K:':"\\leq ",$L:"\\parallel ",$P:"\\perp ",".1":">",".1:":"\\geq ",".K":"=","@:@:":"\\approx","/$L":"\\nparallel ","/.K":"\\neq ","=":"=","@:":"\\sim "};u.level_with_comparison=t,u.comparison=a,u.level=l,u.baseline=h,u.primes=o,u.fraction=s,u.modified_expression=p,u.radical=g,u.expression=d,u.simple_subscript=i;var y={".&":"\\chi",".,&":"\\Chi",".,:":"\\Eta",".,?":"\\Theta",".,A":"\\Alpha",".,B":"\\Beta",".,D":"\\Delta",".,E":"\\Epsilon",".,F":"\\Phi",".,G":"\\Gamma",".,I":"\\Iota",".,K":"\\Kappa",".,L":"\\Lambda",".,M":"\\Mu",".,N":"\\Nu",".,O":"\\Omicron",".,P":"\\prod",".,R":"\\Rho",".,S":"\\sum",".,T":"\\Tau",".,U":"\\Upsilon",".,W":"\\Omega",".,X":"\\Xi",".,Y":"\\Psi",".,Z":"\\Zeta",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};u.greek=n,u.group=r},function(B,u,w){function e(o,s){s||(s={});var p=a.parser,g=Object.create(p);g.yy=l,g.yy.warnOrError=function(i){g.parseError(i,{recoverable:!1})};var d=Object.create(p);d.yy=c({warnings:[]},l),d.yy.warnOrError=function(i){d.yy.warnings.push(i)},d.lexer=h.default,p=s.strict?g:d;try{return{isError:!1,value:p.parse(o),warnings:p.yy.warnings||[]}}catch(i){return{error:t.default(i),isError:!0}}}var c=this&&this.__assign||function(){return c=Object.assign||function(o){for(var s,p=1,g=arguments.length;p<g;p++){s=arguments[p];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])}return o},c.apply(this,arguments)};Object.defineProperty(u,"__esModule",{value:!0});var t=w(6),a=w(9),l=w(17),h=w(20);u.default=e},function(B,u,w){function e(o,s){s||(s={});var p=l.parser,g=Object.create(p);g.yy=h;var d=Object.create(p);d.yy=c({warnings:[]},h),d.lexer=a.default,p=s.strict?g:d;try{return{isError:!1,value:p.parse(o),warnings:p.yy.warnings||[]}}catch(i){return{error:t.default(i),isError:!0}}}var c=this&&this.__assign||function(){return c=Object.assign||function(o){for(var s,p=1,g=arguments.length;p<g;p++){s=arguments[p];for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])}return o},c.apply(this,arguments)};Object.defineProperty(u,"__esModule",{value:!0});var t=w(6),a=w(21),l=w(10),h=w(24);u.default=e},function(B,u,w){Object.defineProperty(u,"__esModule",{value:!0});var e=w(9),c=e.parser.lexer,t=Object.create(c);u.default=t;var a=e.parser.terminals_,l=e.parser.symbols_;t.setInput=function(h,o){this.delimiterStack=[],this.outputQueue=[],this.canAcceptPrimes=!1,c.setInput.call(this,h,o)},t.lex=function(){var h=-1;if(!this)return h;if(this.outputQueue.length)return this.outputQueue.shift();for(var o=c.lex.call(this);a[o]==="UNKNOWN"||!this.canAcceptPrimes&&a[o]==="PRIMES";)this.warn(),o=c.lex.call(this);this.canAcceptPrimes=!0;var s,p,g=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(a[o]){case"OPEN_FRAC":case"OPEN_MODEXP":this.delimiterStack.push(o),this.canAcceptPrimes=!1;break;case"RADICAL_INDEX":g===l.RADICAL_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(g)),this.delimiterStack.push(o),this.canAcceptPrimes=!1;break;case"OPEN_RADICAL":g===l.RADICAL_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(o),this.canAcceptPrimes=!1;break;case"SLASH":for(s=!1;this.delimiterStack.length;){if((p=this.delimiterStack.pop()||-1)===l.OPEN_FRAC){s=!0;break}this.pushCloseTokens(p)}s||this.pushOpenTokens(o),this.delimiterStack.push(o),this.canAcceptPrimes=!1;break;case"CLOSE_FRAC":for(s=!1;this.delimiterStack.length;){if((p=this.delimiterStack.pop()||-1)===l.SLASH){s=!0;break}if(p===l.OPEN_FRAC){this.addMissingToken(l.SLASH),s=!0;break}this.pushCloseTokens(p)}if(!s)return this.warn(),this.canAcceptPrimes=!1,this.lex();break;case"CLOSE_RADICAL":for(s=!1;this.delimiterStack.length;){if((p=this.delimiterStack.pop()||-1)===l.OPEN_RADICAL){s=!0;break}if(p===l.RADICAL_INDEX){s=!0,this.addMissingToken(l.OPEN_RADICAL);break}this.pushCloseTokens(p)}s||this.pushOpenTokens(o);break;case"CLOSE_MODEXP":for(s=!1;this.delimiterStack.length;){if((p=this.delimiterStack.pop()||-1)===l.OPEN_MODEXP){s=!0;break}this.pushCloseTokens(p)}s||this.pushOpenTokens(o);break;case"EOF":for(;this.delimiterStack.length;)p=this.delimiterStack.pop()||-1,this.pushCloseTokens(p)}return this.outputQueue.push(o),h=this.outputQueue.shift()||-1},t.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},t.addMissingToken=function(h){this.outputQueue.push(h),this.warn()},t.pushCloseTokens=function(h){switch(a[h]){case"OPEN_FRAC":this.addMissingToken(l.SLASH),this.addMissingToken(l.CLOSE_FRAC);break;case"SLASH":this.addMissingToken(l.CLOSE_FRAC);break;case"RADICAL_INDEX":this.addMissingToken(l.OPEN_RADICAL),this.addMissingToken(l.CLOSE_RADICAL);break;case"OPEN_RADICAL":this.addMissingToken(l.CLOSE_RADICAL);break;case"OPEN_MODEXP":this.addMissingToken(l.CLOSE_MODEXP)}},t.pushOpenTokens=function(h){switch(a[h]){case"SLASH":this.addMissingToken(l.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(l.OPEN_FRAC),this.addMissingToken(l.SLASH);break;case"CLOSE_RADICAL":this.addMissingToken(l.OPEN_RADICAL);break;case"CLOSE_MODEXP":this.addMissingToken(l.OPEN_MODEXP)}}},function(B,u,w){Object.defineProperty(u,"__esModule",{value:!0});var e=w(10),c=e.parser.lexer,t=Object.create(c);u.default=t;var a=e.parser.terminals_,l=e.parser.symbols_;t.setInput=function(h,o){this.delimiterStack=[],this.outputQueue=[],c.setInput.call(this,h,o)},t.lex=function(){if(this.outputQueue.length)return this.outputQueue.shift();for(var h=c.lex.call(this);a[h]==="UNKNOWN";)this.warn(),h=c.lex.call(this);var o,s,p=this.delimiterStack?this.delimiterStack[this.delimiterStack.length-1]:-1;switch(a[h]){case"OPEN_FRAC":case"OPEN_GROUP":this.delimiterStack.push(h);break;case"RADICAL_WITH_INDEX":p===l.RADICAL_WITH_INDEX&&(this.delimiterStack.pop(),this.pushCloseTokens(p)),this.delimiterStack.push(h);break;case"RADICAL":p===l.RADICAL_WITH_INDEX&&this.delimiterStack.pop(),this.delimiterStack.push(h);break;case"OVER":for(o=!1;this.delimiterStack.length;){if((s=this.delimiterStack.pop()||-1)===l.OPEN_FRAC){o=!0;break}this.pushCloseTokens(s)}o||this.pushOpenTokens(h),this.delimiterStack.push(h);break;case"CLOSE_FRAC":for(o=!1;this.delimiterStack.length;){if((s=this.delimiterStack.pop()||-1)===l.OVER){o=!0;break}if(s===l.OPEN_FRAC){this.outputQueue.push(l.OVER),o=!0;break}this.pushCloseTokens(s)}o||this.pushOpenTokens(h);break;case"CLOSE_GROUP":for(o=!1;this.delimiterStack.length;){if((s=this.delimiterStack.pop()||-1)===l.OPEN_GROUP){o=!0;break}this.pushCloseTokens(s)}o||this.pushOpenTokens(h);break;case"CLOSE_RADICAL":for(o=!1;this.delimiterStack.length;){if((s=this.delimiterStack.pop()||-1)===l.RADICAL||s===l.RADICAL_WITH_INDEX){o=!0;break}this.pushCloseTokens(s)}o||this.pushOpenTokens(h);break;case"EOF":for(;this.delimiterStack.length;)s=this.delimiterStack.pop()||-1,this.pushCloseTokens(s)}return this.outputQueue.push(h),this.outputQueue.shift()||-1},t.warn=function(){this.yylloc&&this.yy.warnings.push({location:this.yylloc})},t.addMissingToken=function(h){this.outputQueue.push(h),this.warn()},t.pushCloseTokens=function(h){switch(a[h]){case"OPEN_FRAC":this.addMissingToken(l.OVER),this.addMissingToken(l.CLOSE_FRAC);break;case"OVER":this.addMissingToken(l.CLOSE_FRAC);break;case"OPEN_GROUP":this.addMissingToken(l.CLOSE_GROUP);break;case"RADICAL_WITH_INDEX":case"RADICAL":this.addMissingToken(l.CLOSE_RADICAL)}},t.pushOpenTokens=function(h){switch(a[h]){case"OVER":this.addMissingToken(l.OPEN_FRAC);break;case"CLOSE_FRAC":this.addMissingToken(l.OPEN_FRAC),this.addMissingToken(l.OVER);break;case"CLOSE_GROUP":this.addMissingToken(l.OPEN_GROUP);break;case"CLOSE_RADICAL":this.addMissingToken(l.RADICAL)}}},function(B,u,w){function e(a){return a.isError}function c(a){return!a.isError}function t(a,l){return e(a)?a:{isError:!1,value:l(a.value)}}Object.defineProperty(u,"__esModule",{value:!0}),u.isErr=e,u.isOk=c,u.map=t},function(B,u,w){function e(x,E){for(var b="",f=!1,S="",j=c(x),Q=0;Q<x.length;Q++){var G=x[Q],q=Q+1<x.length?x[Q+1]:null;switch(G.type){case"terminal":var L=g.getAutoOperator(x.slice(Q));L.value!==""?(b+=L.value,Q+=L.terminalCount-1):G.value!==" "||f?(j[Q]===n?b+="\\left":j[Q]===r&&(b+="\\right"),b+=G.value):b+="\\ ",f=!1;break;case"command":var M=G.value.slice(1).trim();q&&q.type==="terminal"&&/[a-z]/.test(q.value)?(b+=M,f=!1):g.containsValue(M)?(b+="\\operatorname{"+M+"}",f=!0):(b+=G.value,f=!0);break;case"expression":b+=G.value;break;case"fraction":b+=h(G.numerator,G.denominator);break;case"radical":b+="\\sqrt",G.index&&(b+="["+e(G.index)+"]"),b+="{"+e(G.value)+"}";break;case"basic_level":b+=o(G.level,G.value,S),G.level==="9"&&(S="");break;case"bracketed_level":b+=s(G.level,G.lbrack,G.value,G.rbrack,S),G.level==="9"&&(S="");break;case"primes":!q||q.type!=="basic_level"&&q.type!=="bracketed_level"||q.level!=="5"?E&&E!==""?(b+=Array(G.value.length+1).join("\\prime "),S=""):(b+=G.value,S=""):S=G.value}}return b+=S,b.replace(/([^\\])( )$/,"$1")}function c(x){for(var E=[],b=[],f=0;f<x.length;f++){var S=x[f];if(t(S))E.push({direction:n,index:f}),b.push(m);else if(a(S)){for(;E.length&&E[E.length-1].direction===y;)E.pop();if(E.length){var j=E.pop();if(j){var Q=j.index;b[Q]=n,b.push(r)}}else b.push(m)}else if(l(S))if(E.length&&E[E.length-1].direction===y){var j=E.pop();if(j){var Q=j.index;b[Q]=n,b.push(r)}}else E.push({direction:y,index:f}),b.push(m);else b.push(m)}return b}function t(x){return x.type==="terminal"&&/^(\\langle |\[|\(|\\{)$/.test(x.value)}function a(x){return x.type==="terminal"&&/^(\\rangle |\]|\)|\\})$/.test(x.value)}function l(x){return x.type==="terminal"&&/^(\\\||\|)$/.test(x.value)}function h(x,E){return"\\frac{"+e(x)+"}{"+e(E)+"}"}function o(x,E,b){var f="",S="{"+e(E,x)+"}";return x==="9"?f+=b+"^"+S:x==="5"&&(f+="_"+S),f}function s(x,E,b,f,S){var j="",Q="{"+E+e(b,x)+f+"}";return x==="9"?j+=S+"^"+Q:x==="5"&&(j+="_"+Q),j}function p(x,E){return E&&E.operatorNames?g.setOperatorNames(E.operatorNames):g.resetOperatorNames(),i.map(d.default(x,E),function(b){return v(b,"")})}Object.defineProperty(u,"__esModule",{value:!0});var g=w(2),d=w(19),i=w(0),n=1,r=-1,m=0,y=2,v=e;u.default=p},function(B,u,w){function e(n){return{type:"terminal",value:n}}function c(n){return{type:"command",value:n}}function t(n,r){return{type:"basic_level",level:n,value:r}}function a(n,r,m,y){return{type:"bracketed_level",level:n,lbrack:r,value:m,rbrack:y}}function l(n){return{type:"primes",value:n.length>0?Array(n.length+1).join("'"):""}}function h(n,r){return{type:"fraction",numerator:n,denominator:r}}function o(n,r){return{type:"radical",value:n,index:r}}function s(n){return{type:"expression",value:n}}function p(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Array.prototype.concat.apply([],n)}function g(n){if(i.hasOwnProperty(n))return i[n]+" ";throw new Error("Unknown Greek letter")}function d(n){for(var r="",m=64,y=0,v=n;y<v.length;y++){var x=v[y];r+=x==="4"?".":x==="J"?"0":x.charCodeAt(0)-m}return r}Object.defineProperty(u,"__esModule",{value:!0}),u.terminal=e,u.command=c,u.basic_level=t,u.bracketed_level=a,u.primes=l,u.fraction=h,u.radical=o,u.expression=s,u.group=p;var i={",.&":"\\Chi",",.:":"\\Eta",",.?":"\\Theta",",.A":"\\Alpha",",.B":"\\Beta",",.D":"\\Delta",",.E":"\\Epsilon",",.F":"\\Phi",",.G":"\\Gamma",",.I":"\\Iota",",.K":"\\Kappa",",.L":"\\Lambda",",.M":"\\Mu",",.N":"\\Nu",",.O":"\\Omicron",",.P":"\\prod",",.R":"\\Rho",",.S":"\\sum",",.T":"\\Tau",",.U":"\\Upsilon",",.W":"\\Omega",",.X":"\\Xi",",.Y":"\\Psi",",.Z":"\\Zeta",".&":"\\chi",".:":"\\eta",".?":"\\theta",".A":"\\alpha",".B":"\\beta",".D":"\\delta",".E":"\\epsilon",".F":"\\phi",".G":"\\gamma",".I":"\\iota",".K":"\\kappa",".L":"\\lambda",".M":"\\mu",".N":"\\nu",".O":"\\omicron",".P":"\\pi",".R":"\\rho",".S":"\\sigma",".T":"\\tau",".U":"\\upsilon",".W":"\\omega",".X":"\\xi",".Y":"\\psi",".Z":"\\zeta"};u.greek=g,u.to_number=d},function(B,u,w){function e(i){return String.fromCharCode(d+i)}function c(i){return i.charCodeAt(0)-d}function t(i){return g[i]}function a(i){return g.indexOf(i)}function l(i){for(var n="",r=0,m=i;r<m.length;r++)n+=e(a(m[r]));return n}function h(i){for(var n="",r=0,m=i;r<m.length;r++)n+=t(c(m[r]));return n}function o(i){return h(i).replace(/[@-^]/g,function(n){return String.fromCharCode(n.charCodeAt(0)+32)})}function s(i){var n="";if(i)for(var r=0,m=i;r<m.length;r++){var y=m[r],v=y.charCodeAt(0);96<=v&&v<=127&&(v-=32,y=String.fromCharCode(v)),32<=v&&v<=95&&(y=l(y),v=y.charCodeAt(0)),10305<=v&&v<=10495&&(v=10240+(v-1024)%64,y=String.fromCharCode(v)),n+=10240<=v&&v<=10304?y:""}return n}function p(i){for(var n=0;n<i.length;n++){var r=i.charCodeAt(n);if(r<10240||r>10304)return!1}return!0}Object.defineProperty(u,"__esModule",{value:!0});var g=` A1B'K2L@CIF/MSP"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=`,d=10240;u.toBrailleAscii=h,u.toExpandedBrailleAscii=o,u.coerceToSixDotCells=s,u.isSixDotCells=p},function(B,u,w){w(3),B.exports=w(3)}])}),$("submodules/dcgview/src/attr-event-handler",[],function(){function B(u,w){if(w!=null){if(typeof u!="string")throw new Error("Must pass a string for an EventHandler name");if(typeof w!="function")throw new Error("Must pass a function for an EventHandler callback");return{bindings:{onMount:function(e){e[u.toLowerCase()]=function(c){c&&w.apply(this,arguments)}}}}}}return B}),$("submodules/dcgview/src/const",["require"],function(B){function u(e){var c=function(){return e};return c.isDCGViewConst=!0,c}function w(e){return!(typeof e!="function"||!e.isDCGViewConst)}return{isConst:w,makeConst:u}}),$("submodules/dcgview/src/attr",["require"],function(B){function u(w,e,c){c===void 0?w.removeAttribute(e):w.setAttribute(e,c+"")}return{update:u}}),$("submodules/dcgview/src/attr-generic",["require","./const","./attr"],function(B){function u(c,t){var a,l=t();return w.isConst(t)||(a={onUpdate:function(h){var o=t();o!==l&&(l=o,e.update(h,c,o))}}),{value:l,bindings:a}}var w=B("./const"),e=B("./attr");return u}),$("submodules/dcgview/src/is-event-handler",[],function(){function B(u){return u[0]==="o"&&u[1]==="n"&&u[2].toUpperCase()===u[2]}return B}),$("submodules/dcgview/src/custom-attributes",["require"],function(B){function u(t,a){c[t]=a}function w(t){return c.hasOwnProperty(t)}function e(t,a){return(0,c[t])(a)}var c={};return{isCustomAttribute:w,add:u,parse:e}}),$("submodules/dcgview/src/bindings",["require"],function(B){function u(e,c,t){var a=e._bindings[c];a?a.push(t):e._bindings[c]=[t]}function w(e,c){var t=e._bindings[c];if(t)for(var a=t.length,l=0;l<a;l++)t[l]()}return{add:u,invoke:w}}),$("submodules/dcgview/src/bind-attrs",["require","./attr-event-handler","./attr-generic","./is-event-handler","./custom-attributes","./bindings"],function(B){function u(s,p,g){var d=g.bindings;if(d)for(var i in d){var n=d[i];i in o&&(n=n.bind(null,p)),h.add(s,i,n)}}function w(s,p){if(typeof p!="function")throw new Error('The "'+s+'" attr must be a function. It is: '+JSON.stringify(p));return l.isCustomAttribute(s)?l.parse(s,p):a(s)?c(s,p):t(s,p)}function e(s,p,g){if(p)for(var d in p){var i=w(d,p[d]);if(i){var n=i.value;n!==void 0&&g.setAttribute(d,n),i.bindings&&u(s,g,i)}}}var c=B("./attr-event-handler"),t=B("./attr-generic"),a=B("./is-event-handler"),l=B("./custom-attributes"),h=B("./bindings"),o={onMount:!0,didMount:!0,willUnmount:!0,willUpdate:!0,onUpdate:!0,didUpdate:!0};return e}),$("submodules/dcgview/src/bind-text",["require","./bindings"],function(B){function u(){c=!0}function w(t,a,l){if(typeof l!="function")throw new Error("bindText expects a function");var h=l();h!=null||(h="");var o=document.createTextNode(h);if(c){var s=document.createElement("span");s.appendChild(o),a.appendChild(s)}else a.appendChild(o);e.add(t,"onUpdate",function(){var p=l();p!=null||(p=""),h!==p&&(o.nodeValue=p,h=p)})}var e=B("./bindings"),c=!1;return{bindText:w,enableSpanWrapping:u}}),$("submodules/dcgview/src/warnings",["require"],function(B){function u(t){c.push(t)}function w(t){var a=c;c=[];for(var l=0;l<a.length;l++){var h=a[l];h!==t&&c.push(h)}}function e(t){try{throw new Error(t)}catch(l){console.warn(l);for(var a=0;a<c.length;a++)c[a](l)}}var c=[];return{warn:e,addWarningHandler:u,removeWarningHandler:w}}),$("submodules/dcgview/src/dcg-element",["require","./bind-attrs","./bind-text","./const","./warnings"],function(B){function u(l,h){var o=document.createTextNode(h);l.appendChild(o)}function w(l,h,o){this.tagName=l,this.attrs=h,this.children=o}var e=B("./bind-attrs"),c=B("./bind-text").bindText,t=B("./const"),a=B("./warnings");return w.prototype._isDCGElement=!0,w.prototype.renderToDocFrag=function(l,h){if(this._domNode)throw new Error("Cannot remount a DCGElement");var o=this.children,s=document.createElement(this.tagName);this._domNode=s,e(h,this.attrs,s),l.appendChild(s);for(var p=o.length,g=0;g<p;g++){var d=o[g];d._isDCGElement?d.renderToDocFrag(s,h):t.isConst(d)?u(s,d()):typeof d=="function"?c(h,s,d):(a.warn("Text should be a const or a getter: "+JSON.stringify(d)),u(s,d))}},w}),$("submodules/dcgview/src/create-element",["require","./dcg-element"],function(B){function u(c,t){if(c!=null)if(Array.isArray(c))for(var a=0;a<c.length;a++)u(c[a],t);else t.push(c)}function w(c,t){for(var a=[],l=arguments.length-1,h=2;h<=l;h++)u(arguments[h],a);if(typeof c=="string")return new e(c,t,a);if(c&&c._isDCGViewClass)return new c(t,a);throw new Error("createElement expects a String or DCGViewClass")}var e=B("./dcg-element");return w}),$("submodules/dcgview/src/mounting",["require","./bindings"],function(B){function u(){for(var d=this._element;d._isDCGView;)d=d._element;return d._domNode}function w(d,i){if(i&&i._childViews.push(this),this.__generatedHTMLBefore)throw new Error("Cannot remount a DCGView");this.__generatedHTMLBefore=!0,this._element.renderToDocFrag(d,this)}function e(d,i,n){if(!d||!d._isDCGViewClass)throw new Error("Must pass a DCGView class to be mounted");if(!i||i.nodeType!==1)throw new Error("Must pass an HTMLElement for the node");if(i._mountedDCGView)throw new Error("This node is already mounted by a view");var r=new d(n),m=document.createDocumentFragment();return r.renderToDocFrag(m),i.innerHTML="",t(r),i._mountedDCGView=r,i.appendChild(m),a(r),l(r),r}function c(d){var i=d._mountedDCGView;if(!i)throw new Error("This node is not mounted by a DCGView");h(i),d.innerHTML="",delete d._mountedDCGView,o(i),s(i)}function t(d){d.willMount&&d.willMount(),g.invoke(d,"willMount"),d._childViews.forEach(t)}function a(d){d._isMounted=!0,d.onMount&&d.onMount(),g.invoke(d,"onMount"),d._childViews.forEach(a)}function l(d){d.didMount&&d.didMount(),g.invoke(d,"didMount"),d._childViews.forEach(l)}function h(d){d.willUnmount&&d.willUnmount(),g.invoke(d,"willUnmount"),d._childViews.forEach(h)}function o(d){d._isMounted=!1,d._childViews.forEach(o),g.invoke(d,"onUnmount"),d.onUnmount&&d.onUnmount()}function s(d){d._childViews.forEach(s),g.invoke(d,"didUnmount"),d.didUnmount&&d.didUnmount()}function p(d,i){var n=document.createDocumentFragment();return d.renderToDocFrag(n,i),n.firstChild}var g=B("./bindings");return{renderToDocFrag:w,findRootNode:u,createNodeForView:p,willMount:t,onMount:a,didMount:l,willUnmount:h,onUnmount:o,didUnmount:s,mountToNode:e,unmountFromNode:c}}),$("submodules/dcgview/src/update",["require","./bindings","./warnings"],function(B){function u(){if(!this._isMounted)return e.warn("Trying to update view that is not mounted. Ignoring update.");if(!this.shouldUpdate||this.shouldUpdate()){if(this.willUpdate&&this.willUpdate(),w.invoke(this,"willUpdate"),w.invoke(this,"onUpdate"),this.onUpdate&&this.onUpdate(),this.overrideChildUpdates)this.overrideChildUpdates();else for(var c=this._childViews,t=c.length,a=0;a<t;a++)c[a].update();w.invoke(this,"didUpdate"),this.didUpdate&&this.didUpdate()}}var w=B("./bindings"),e=B("./warnings");return{update:u}}),$("submodules/dcgview/src/spread",["require"],function(B){function u(w){var e=arguments.length;if(e<2)return w;for(var c=1;c<e;c++)for(var t=arguments[c],a=Object.keys(t),l=a.length,h=0;h<l;h++){var o=a[h];w[o]=t[o]}return w}return u}),$("submodules/dcgview/src/create-class",["require","./create-element","./mounting","./update","./const","./spread"],function(B){function u(l){if(!l)throw new Error("must pass a spec to DCGView.createClass");if(typeof l.template!="function")throw new Error("must pass a template function to DCGView.createClass");var h=function(s,p){this._setupProps(s,p),this.init&&this.init(),this._callTemplate()};h.prototype._setupProps=function(s,p){if(s){for(var g in s){var d=s[g];if(typeof d!="function"&&d!==void 0)throw new Error('The "'+g+'" prop must be a function. It is: '+JSON.stringify(d))}this.props=s}else this.props={};this.children=p,this._childViews=[],this._bindings={}},h.prototype._callTemplate=function(){if(this._element=this.template(),!this._element||!this._element._isDCGElement)throw new Error("template() must return a DCGElement")},h.prototype.bindFn=function(s){return s.bind(this)},h.prototype.findRootNode=e.findRootNode,h.prototype.renderToDocFrag=e.renderToDocFrag,h.prototype.const=t.makeConst,h.prototype.spread=a,h.prototype.createElement=w,h.prototype.update=c.update;for(var o in l)if(l.hasOwnProperty(o)){if(h.prototype.hasOwnProperty(o))throw new Error("Cannot override the "+o+"() method");h.prototype[o]=l[o]}return h._isDCGViewClass=!0,h.prototype._isDCGView=!0,h.prototype._isDCGElement=!0,h}var w=B("./create-element"),e=B("./mounting"),c=B("./update"),t=B("./const"),a=B("./spread");return u}),$("submodules/dcgview/src/attr-style",["require","./const","./attr"],function(B){function u(t){var a=t(),l=typeof a;if(l==="string")return a;if(!l||l!=="object")throw new Error("Unsupported type returned from style getter: "+l);var h="";for(var o in a){var s=a[o];a.hasOwnProperty(o)&&s!==null&&s!==void 0&&(h?h+=";"+o+":"+s:h=o+":"+s)}return h}function w(t){var a,l=u(t);return e.isConst(t)||(a={onUpdate:function(h){var o=u(t);l!==o&&(c.update(h,"style",o),l=o)}}),{value:l,bindings:a}}var e=B("./const"),c=B("./attr");return w}),$("submodules/dcgview/src/attr-class",["require","./const"],function(B){function u(l){var h=l(),o=typeof h;if(o==="string")return h;if(!o||o!=="object")throw new Error("Unsupported type returned from class getter: "+o);var s="";for(var p in h)if(h.hasOwnProperty(p)){var g=h[p];g&&(s?s+=" "+p:s=p)}return s}function w(l,h,o){for(var s=[],p=l.className.replace(t,"").split(a),g=h.replace(t,"").split(a),d={},i=g.length-1;i>=0;i--)d[g[i]]=!0;var n=p.length;for(i=0;i<n;i++){var r=p[i];d.hasOwnProperty(r)||s.push(r)}return o?s.length?o+" "+s.join(" "):o:s.join(" ")}function e(l){var h,o=u(l);return c.isConst(l)||(h={onUpdate:function(s){var p=u(l);o!==p&&(s.className===o?(s.className=p,o=p):(s.className=w(s,o,p),o=p))}}),{value:o,bindings:h}}var c=B("./const"),t=/^\s+|\s+$/g,a=/\s+/;return e}),$("submodules/dcgview/src/attr-lifecycle",["require","./const"],function(B){function u(e){return function(c){if(typeof c!="function")throw new Error("The "+e+" attribute expects a function for the value");if(w.isConst(c))throw new Error("The "+e+" attribute does not expect a const for the value");var t={bindings:{}};return t.bindings[e]=c,t}}var w=B("./const");return u}),$("submodules/dcgview/src/longest-subsequence",["require"],function(B){return function(u){var w,e,c=u.length,t=new Array(c),a=new Array(c+1),l=0;for(e=0;e<c;e++){if(u[a[l]]<u[e])w=l+1;else{for(var h=1,o=l-1;h<=o;){var s=Math.ceil((h+o)/2);u[a[s]]<u[e]?h=s+1:o=s-1}w=h}t[e]=a[w-1],a[w]=e,w>l&&(l=w)}var p=new Array(l),g=a[l];for(e=l-1;e>=0;e--)p[e]=u[g],g=t[g];return p}}),$("submodules/dcgview/src/compute-key-mutations",["require","./longest-subsequence"],function(B){function u(e,c){var t,a,l={},h=[],o=[];for(t=0;t<c.length;t++)a=c[t],l[a]=t;for(t=0;t<e.length;t++)a=e[t],l[a]===void 0&&h.push(a);var s=[];for(t=0;t<e.length;t++){a=e[t];var p=l[a];p!==void 0&&s.push(p)}var g=w(s),d={};for(t=0;t<g.length;t++)a=c[g[t]],d[a]=!0;for(t=c.length-1;t>=0;t--)a=c[t],d[a]||o.push({key:a,beforeKey:c[t+1]});return{removes:h,inserts:o}}var w=B("./longest-subsequence");return u}),$("submodules/dcgview/src/for",["require","./create-class","./compute-key-mutations","./const","./mounting"],function(B){var u=B("./create-class"),w=B("./compute-key-mutations"),e=B("./const"),c=B("./mounting"),t=u({template:function(){return this.children[0]}});return u({_isDCGFor:!0,getKeys:function(){this._keyToItem={};var a=this.props.each();if(!Array.isArray(a))throw new Error("<For each={}> must return an array");var l=this.props.key?a.map(this.props.key):a.slice(0);if(!this._chosenKeyType&&l.length&&(this._chosenKeyType=typeof l[0],this._chosenKeyType!=="string"&&this._chosenKeyType!=="number"))throw new Error("The key: "+JSON.stringify(l[0])+" is not a string or number");for(var h=0;h<l.length;h++){var o=l[h];if(typeof o!==this._chosenKeyType)throw new Error("Keys must be the same type. "+JSON.stringify(o)+" is not a "+this._chosenKeyType);if(o in this._keyToItem)throw new Error("The key: "+JSON.stringify(o)+" is not unique");this._keyToItem[o]=a[h]}return l},createViewForKey:function(a){var l=this._keyToItem[a],h=this._viewFunction.call(this,l,a),o=h;return o._isDCGView||(o=this.createElement(t,null,h)),this._keyToView[a]=o,o},template:function(){if(this._keyToView={},typeof this.props.each!="function")throw new Error("<For each={}> must be a function");if(this.children.length!==1)throw new Error("<For> expects a single child. You passed "+this.children.length);var a=this.children[0];if(!a||!a._isDCGElement)throw new Error("<For> expects the root node to be a DCGElement. You passed "+JSON.stringify(a));if(a._isDCGView)throw new Error("<For> expects the root node to not be a DCGView. Pass in something like <div> or <span>");if(a.children.length!==1)throw new Error("<For> expects a root node with a single child. You passed "+a.children.length);if(this._viewFunction=a.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<For> expects a function that constructs a DCGElement. You passed a DCGElement directly");if(typeof this._viewFunction!="function"){var l=JSON.stringify(this._viewFunction);throw new Error("<For> expects a function that constructs a DCGElement. You passed "+l)}if(e.isConst(this._viewFunction))throw new Error("<For> expects a function that constructs a DCGElement. You passed a constant");this._keys=this.getKeys();for(var h=[],o=0;o<this._keys.length;o++){var s=this._keys[o];h.push(this.createViewForKey(s))}return a.children=h,a},detachAllRemovedViews:function(){for(var a,l=this._childViews,h=0,o=l.length,s=0;s<o;s++)a=l[s],a._will_be_unmounted_?h++:l[s-h]=a;l.splice(o-h,h)},overrideChildUpdates:function(){var a=this._keys,l=this.getKeys();this._keys=l;var h,o,s,p,g,d,i=this.findRootNode(),n=w(a,l),r=[];for(h=n.removes.length-1;h>=0;h--)d=n.removes[h],r.push(this._keyToView[d]);for(r.forEach(c.willUnmount),h=0;h<n.removes.length;h++)d=n.removes[h],o=this._keyToView[d],delete this._keyToView[d],o._will_be_unmounted_=!0,i.removeChild(o.findRootNode());r.length>0&&this.detachAllRemovedViews(),r.forEach(c.onUnmount),r.forEach(c.didUnmount);var m=[];for(h=n.inserts.length-1;h>=0;h--)(d=n.inserts[h].key)in this._keyToView||(o=this.createViewForKey(d),m.push(o),c.createNodeForView(o,this));for(m.forEach(c.willMount),h=0;h<n.inserts.length;h++)g=n.inserts[h],s=this._keyToView[g.key].findRootNode(),p=g.beforeKey!==void 0?this._keyToView[g.beforeKey].findRootNode():null,i.insertBefore(s,p);m.forEach(c.onMount),m.forEach(c.didMount);var y=this._childViews,v=y.length-m.length;for(h=0;h<v;h++)y[h].update()}})}),$("submodules/dcgview/src/switch",["require","./create-class","./const","./mounting"],function(B){var u=B("./create-class"),w=B("./const"),e=B("./mounting"),c=u({template:function(){return this.children[0]}});return u({_isDCGSwitch:!0,updateKey:function(){this._key=this.props.key()},createView:function(){var t=this._viewFunction(this._key);return t!=null||(t=this.createElement("div",{style:this.const("display: none")})),this.createElement(c,null,t)},template:function(){if(this._key=void 0,typeof this.props.key!="function")throw new Error("<Switch key={}> must be a function");if(this.children.length!==1)throw new Error("<Switch> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a DCGElement directly");if(typeof this._viewFunction!="function"){var t=JSON.stringify(this._viewFunction);throw new Error("<Switch> expects a function that constructs a DCGElement. You passed "+t)}if(w.isConst(this._viewFunction))throw new Error("<Switch> expects a function that constructs a DCGElement. You passed a constant");return this.updateKey(),this.createView()},overrideChildUpdates:function(){var t=this._key;if(this.updateKey(),t===this._key)this._element.update();else{var a=this.findRootNode(),l=document.createTextNode("");a.parentNode.insertBefore(l,a),e.willUnmount(this._element),this._childViews=[],a.parentNode.removeChild(a),e.onUnmount(this._element),e.didUnmount(this._element),this._element=this.createView();var h=e.createNodeForView(this._element,this);e.willMount(this._element),l.parentNode.insertBefore(h,l),l.parentNode.removeChild(l),e.onMount(this._element),e.didMount(this._element)}}})}),$("submodules/dcgview/src/switch-union",["require","./create-class","./mounting","./create-element"],function(B){function u(h,o,s){return t(l,{getCase:function(){var p=o();return h?p&&p[h]:p},buildChildView:function(p){var g=s[p];if(g)return g(o)}})}function w(h,o){return typeof h=="string"?u.bind(this,h,o):u(void 0,h,o)}var e=B("./create-class"),c=B("./mounting"),t=B("./create-element"),a=e({template:function(){return this.children[0]}}),l=e({_isDCGSwitchUnion:!0,updateCase:function(){this._case=this.props.getCase()},createView:function(){var h=this.props.buildChildView(this._case);return h!=null||(h=this.createElement("div",{style:this.const("display: none")})),this.createElement(a,null,h)},template:function(){return this._case=void 0,this.updateCase(),this.createView()},overrideChildUpdates:function(){var h=this._case;if(this.updateCase(),h===this._case)this._element.update();else{var o=this.findRootNode(),s=document.createTextNode("");o.parentNode.insertBefore(s,o),c.willUnmount(this._element),this._childViews=[],o.parentNode.removeChild(o),c.onUnmount(this._element),c.didUnmount(this._element),this._element=this.createView();var p=c.createNodeForView(this._element,this);c.willMount(this._element),s.parentNode.insertBefore(p,s),s.parentNode.removeChild(s),c.onMount(this._element),c.didMount(this._element)}}});return w}),$("submodules/dcgview/src/if",["require","./create-class","./const","./switch"],function(B){var u=B("./create-class"),w=B("./const"),e=B("./switch");return u({_isDCGIf:!0,template:function(){if(typeof this.props.predicate!="function")throw new Error("<If predicate={}> must be a function");if(this.children.length!==1)throw new Error("<If> expects a single child. You passed "+this.children.length);if(this._viewFunction=this.children[0],this._viewFunction&&this._viewFunction._isDCGElement)throw new Error("<If> expects a function that constructs a DCGElement. You passed a DCGElement directly");if(typeof this._viewFunction!="function"){var c=JSON.stringify(this._viewFunction);throw new Error("<If> expects a function that constructs a DCGElement. You passed "+c)}if(w.isConst(this._viewFunction))throw new Error("<If> expects a function that constructs a DCGElement. You passed a constant");var t=(function(){return!!this.props.predicate()}).bind(this),a=(function(l){if(l)return this._viewFunction()}).bind(this);return this.createElement(e,{key:t},a)}})}),$("submodules/dcgview/src/if-defined",["require","./create-class","./mounting","./create-element"],function(B){function u(l,h){return c(a,{isDefined:function(){return l()!=null},buildChildView:function(){return h(l)}})}var w=B("./create-class"),e=B("./mounting"),c=B("./create-element"),t=w({template:function(){return this.children[0]}}),a=w({_isDCGIfDefined:!0,updateIsDefined:function(){this._isDefined=this.props.isDefined()},createView:function(){var l;return this._isDefined&&(l=this.props.buildChildView()),l!=null||(l=this.createElement("div",{style:this.const("display: none")})),this.createElement(t,null,l)},template:function(){return this._isDefined=void 0,this.updateIsDefined(),this.createView()},overrideChildUpdates:function(){var l=this._isDefined;if(this.updateIsDefined(),l===this._isDefined)this._element.update();else{var h=this.findRootNode(),o=document.createTextNode("");h.parentNode.insertBefore(o,h),e.willUnmount(this._element),this._childViews=[],h.parentNode.removeChild(h),e.onUnmount(this._element),e.didUnmount(this._element),this._element=this.createView();var s=e.createNodeForView(this._element,this);e.willMount(this._element),o.parentNode.insertBefore(s,o),o.parentNode.removeChild(o),e.onMount(this._element),e.didMount(this._element)}}});return u}),$("submodules/dcgview/src/if-else",["require","./switch-union"],function(B){function u(e,c){return w(function(){return e()?"true":"false"},c)}var w=B("./switch-union");return u}),$("submodules/dcgview/src/textarea",["require","./create-class","./spread"],function(B){var u=B("./create-class"),w=B("./spread");return u({computeValue:function(){var e=this.props.value();return e==null?"":e+""},template:function(){if(!this.props.value)throw new Error('<Textarea> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Textarea> expects an "onInput={}" prop');var e=w({},this.props,{onInput:(function(c){this.props.onInput(c.target.value),this._isMounted&&this.update()}).bind(this)});return this.props.disabled&&(e.disabled=(function(){return!!this.props.disabled()||void 0}).bind(this)),delete e.value,this.createElement("textarea",e,this.const(this.computeValue()))},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})}),$("submodules/dcgview/src/input",["require","./create-class","./spread"],function(B){var u=B("./create-class"),w=B("./spread");return u({computeValue:function(){var e=this.props.value();return e==null?"":e+""},template:function(){if(!this.props.value)throw new Error('<Input> expects a "value={}" prop');if(!this.props.onInput)throw new Error('<Input> expects an "onInput={}" prop');var e=w({},this.props,{value:this.const(this.computeValue()),onInput:(function(c){this.props.onInput(c.target.value),this._isMounted&&this.update()}).bind(this)});return this.props.disabled&&(e.disabled=(function(){return!!this.props.disabled()||void 0}).bind(this)),e.hasOwnProperty("tabindex")||(e.tabindex=(function(){return this.props.disabled&&this.props.disabled()?"-1":"0"}).bind(this)),this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeValue();this.rootDOM.value!==e&&(this.rootDOM.value=e)}})}),$("submodules/dcgview/src/checkbox",["require","./create-class","./spread"],function(B){var u=B("./create-class"),w=B("./spread");return u({computeChecked:function(){return!!this.props.checked()},template:function(){if(!this.props.checked)throw new Error('<Checkbox> expects a "checked={}" prop');if(!this.props.onChange)throw new Error('<Checkbox> expects an "onChange={}" prop');var e=w({},this.props,{type:this.const("checkbox"),checked:this.const(this.computeChecked()?"checked":void 0),onChange:(function(c){this.props.onChange(c.target.checked),this._isMounted&&this.update()}).bind(this)});return this.createElement("input",e)},didUpdate:function(){this.rootDOM||(this.rootDOM=this.findRootNode());var e=this.computeChecked();this.rootDOM.checked!==e&&(this.rootDOM.checked=e)}})}),$("submodules/dcgview/src/components",["require","./for","./switch","./switch-union","./if","./if-defined","./if-else","./textarea","./input","./checkbox"],function(B){return{For:B("./for"),Switch:B("./switch"),SwitchUnion:B("./switch-union"),If:B("./if"),IfDefined:B("./if-defined"),IfElse:B("./if-else"),Textarea:B("./textarea"),Input:B("./input"),Checkbox:B("./checkbox")}}),$("submodules/dcgview/src/class",["require","./create-class"],function(B){return B("./create-class")({template:function(){}})}),$("submodules/dcgview/src/dcg-view",["require","./create-element","./create-class","./mounting","./spread","./const","./custom-attributes","./attr-style","./attr-class","./attr-lifecycle","./components","./warnings","./bind-text","./class"],function(B){var u=B("./create-element"),w=B("./create-class"),e=B("./mounting"),c=B("./spread"),t=B("./const"),a=B("./custom-attributes"),l=B("./attr-style"),h=B("./attr-class"),o=B("./attr-lifecycle"),s=B("./components"),p=B("./warnings"),g=B("./bind-text").enableSpanWrapping,d=B("./class"),i={createElement:u,createClass:w,mountToNode:e.mountToNode,unmountFromNode:e.unmountFromNode,spread:c,const:t.makeConst,isConst:t.isConst,addCustomAttribute:a.add,Components:s,addWarningHandler:p.addWarningHandler,removeWarningHandler:p.removeWarningHandler,enableSpanWrapping:g,Class:d};return i.addCustomAttribute("style",l),i.addCustomAttribute("class",h),i.addCustomAttribute("willMount",o("willMount")),i.addCustomAttribute("onMount",o("onMount")),i.addCustomAttribute("didMount",o("didMount")),i.addCustomAttribute("willUnmount",o("willUnmount")),i.addCustomAttribute("onUnmount",o("onUnmount")),i.addCustomAttribute("didUnmount",o("didUnmount")),i.addCustomAttribute("willUpdate",o("willUpdate")),i.addCustomAttribute("onUpdate",o("onUpdate")),i.addCustomAttribute("didUpdate",o("didUpdate")),i}),$("submodules/dcgview/dcgview",["require","./src/dcg-view"],function(B){return B("./src/dcg-view")}),$("lib/urlparser",["require","exports"],function(B,u){function w(h,o){var s=new RegExp("[?|&]"+o+"=([^&;]+?)(&|#|;|$)"),p=s.exec(h);return p?decodeURIComponent(p[1].replace(/\+/g,"%20")):null}function e(h,o){return new RegExp("[?|&]"+o+"(=|&|;|$)").test(h)}function c(h,o,s){if(o!==encodeURIComponent(o))throw new Error("Programming error: parameter name should be URL-safe without encoding.");var p=encodeURIComponent(s);return h.length?/\?/.test(h)?h+"&"+o+"="+p:h+"?"+o+"="+p:"?"+o+"="+p}function t(h,o,s){var p=new RegExp("([?|&])"+o+"=([^&;]+?)(&|#|;|$)"),g=p.exec(h);if(!g)return h;var d=g[1],i=g[2],n=""+d+o+"="+i,r=encodeURIComponent(s),m=""+d+o+"="+r;return h.replace(n,m)}function a(h,o){var s=new RegExp("([?|&])"+o+"=([^&;]+?)(&|#|;|$)"),p=s.exec(h);if(!p)return h;var g=p[1],d=p[2],i=""+g+o+"="+d,n=h.replace(i,"");return n[0]==="&"?n.replace("&","?"):n}function l(h,o,s){return e(h,o)?t(h,o,s):c(h,o,s)}Object.defineProperty(u,"__esModule",{value:!0}),u.getParameter=w,u.hasParameter=e,u.pushParameter=c,u.replaceParameter=t,u.deleteParameter=a,u.setParameter=l}),$("lib/retain-lang",["require","exports","./parse-query-params","./urlparser"],function(B,u,w,e){function c(s){var p=h.exec(s);if(p){var g=p[1];return!o.test(g)}return!1}function t(s,p){var g="";if(p!==void 0)g=p;else{var d=w.getQueryParams();g=d.lang?""+d.lang:""}return s===""||g===""||a.test(s)||l.test(s)||c(s)?s:e.setParameter(s,"lang",g)}Object.defineProperty(u,"__esModule",{value:!0});var a=/lang=[A-Za-z]+/,l=/(cl|learn|support).desmos.com/,h=/^(?:https?:)?(?:\/\/)?([^\s\/\?]+)/i,o=/(^desmos\.com$)|(\.desmos.com$)/;u.domainNotDesmos=c,u.retainLang=t}),$("loadcss!dcgview-shim",function(){}),(function(){$("dcgview",["require","jquery","underscore","submodules/dcgview/dcgview","bugsnag","lib/retain-lang","loadcss!dcgview-shim"],function(B){var u,w,e,c,t,a;return u=B("jquery"),c=B("underscore"),e=B("submodules/dcgview/dcgview"),w=B("bugsnag"),t=B("lib/retain-lang").retainLang,B("loadcss!dcgview-shim"),e.addWarningHandler(function(l){return w.notify(l)}),a=[],e.onUrlChange=function(l){return a.push(l)},e.addCustomAttribute("href",function(l){var h,o;return h=t(l()),o={value:""+t(l()),bindings:{onMount:function(s){var p;if(!u(s).is("a")&&!u(s).is("use"))throw new Error("Cannot have an href on a non-link element.");return p=!1,u(s).on("dcg-tap",function(g){var d;if(!g.metaKey&&(p=!1,d=t(l()),c.any(a.map(function(i){return i(d,g)}))))return p=!0}),u(s).on("click",function(g){if(p)return p=!1,g.preventDefault()})}}},o.bindings.onUpdate=function(s){var p;if(p=t(l()),h!==p)return h=p,s.setAttribute("href",p)},o}),e.addCustomAttribute("onTap",function(l){return{value:"",bindings:{onMount:function(h){return u(h).on("dcg-tap",l)}}}}),e.addCustomAttribute("ignoreRealClick",function(l){return{bindings:{onMount:function(h){return u(h).on("click",function(o){if(l())return o.preventDefault()})}}}}),e.addCustomAttribute("onTapStart",function(l){return{bindings:{onMount:function(h){return u(h).on("dcg-tapstart",l)}}}}),e.addCustomAttribute("onTapMove",function(l){return{bindings:{onMount:function(h){return u(h).on("dcg-tapmove",l)}}}}),e.addCustomAttribute("onTapEnd",function(l){return{bindings:{onMount:function(h){return u(h).on("dcg-tapend",l)}}}}),e.addCustomAttribute("onLongHold",function(l){return{bindings:{onMount:function(h){return u(h).on("dcg-longhold",l)}}}}),e.addCustomAttribute("manageFocus",function(l){return l()===void 0?{}:{bindings:{onMount:function(h){return l().shouldBeFocused()&&h.focus(),h.onfocus=function(o){if(!l().shouldBeFocused())return l().onFocusedChanged(!0,o)},h.onblur=function(o){if(l().shouldBeFocused())return l().onFocusedChanged(!1,o)}},onUpdate:function(h){var o,s;return s=l().shouldBeFocused(),o=document.activeElement===h,s&&!o?h.focus():o&&!s?h.blur():void 0},willUnmount:function(h){return delete h.onfocus,delete h.onblur}}}}),e})}).call(this),$("expressions/braille-input",["require","exports","tslib","dcgview","jquery"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=e.Components.Input,a=function(l){function h(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(h,l),h.prototype.init=function(){this.ASCIICharacters=` A1B'K2L@CIF/MSP"E3H9O6R^DJG>NTQ,*5<-U8V.%[$+X!&;:4\\0Z7(_?W]#Y)=`,this.ASCIITable=[],this.HomeRowCharacters="FDSJKL",this.charCodes=[],this.sixKeyModel={keysDown:0,stickyKeysDown:0};var o;for(o=0;o<this.ASCIICharacters.length;o++)this.ASCIITable.push(this.ASCIICharacters.charCodeAt(o));for(o=0;o<this.HomeRowCharacters.length;o++)this.charCodes.push(this.HomeRowCharacters.charCodeAt(o))},h.prototype.template=function(){var o=this;return e.createElement(t,{class:this.const("dcg-braille-input dcg-do-blur"),tabindex:function(){return o.props.tabindex?o.props.tabindex():0},readonly:function(){return o.props.isStatic()?"true":void 0},autocomplete:this.const("off"),autocorrect:this.const("off"),autocapitalize:this.const("off"),spellcheck:this.const("false"),onKeydown:this.bindFn(this.onKeydown),onKeyup:this.bindFn(this.onKeyup),onInput:this.bindFn(this.props.onInput),value:function(){return o.props.value()},"aria-label":function(){return o.props.ariaLabel()||""},didMount:this.bindFn(this.didMount),didUnmount:this.bindFn(this.props.didUnmount),placeholder:function(){return o.props.placeholder?o.props.placeholder():""}})},h.prototype.didMount=function(o){var s=this;this.rootNode=o,c(this.rootNode).on("focus",function(p){s.props.shouldFocus()!==!0&&s.props.onFocusedChanged(!0,p.originalEvent)}).on("blur",function(p){s.props.shouldFocus()!==!1&&s.props.onFocusedChanged(!1,p.originalEvent)}),this.props.didMount(o),this.updateFocus()},h.prototype.didUpdate=function(){this.updateFocus()},h.prototype.updateFocus=function(){this.rootNode&&(this.props.shouldFocus()&&document.activeElement!==this.rootNode&&this.rootNode.focus(),this.props.shouldFocus()||document.activeElement!==this.rootNode||this.rootNode.blur())},h.prototype.onKeydown=function(o){var s=this.charCodes.indexOf(o.which);this.props.isStatic()||!this.isSixKeyInput()||o.altKey||o.ctrlKey||o.metaKey||o.shiftKey||s===-1?this.props.onKeydown&&this.props.onKeydown(o):(this.sixKeyModel=w.__assign(w.__assign({},this.sixKeyModel),{keysDown:this.addKey(this.sixKeyModel.keysDown,s),stickyKeysDown:this.addKey(this.sixKeyModel.stickyKeysDown,s)}),o.preventDefault())},h.prototype.onKeyup=function(o){var s=this.charCodes.indexOf(o.which),p=!1;return this.props.isStatic()||!this.isSixKeyInput()||o.altKey||o.ctrlKey||o.metaKey||o.shiftKey||s===-1?p=!0:(this.sixKeyModel=w.__assign(w.__assign({},this.sixKeyModel),{keysDown:this.removeKey(this.sixKeyModel.keysDown,s)}),this.sixKeyModel.keysDown===0&&(this.addCharacter(this.bitsToASCII(this.sixKeyModel.stickyKeysDown)),this.sixKeyModel=w.__assign(w.__assign({},this.sixKeyModel),{stickyKeysDown:0}))),p||o.preventDefault(),p},h.prototype.addKey=function(o,s){return o|1<<s},h.prototype.removeKey=function(o,s){return o&~(1<<s)},h.prototype.bitsToASCII=function(o){return String.fromCharCode(this.ASCIITable[o])},h.prototype.addCharacter=function(o){this.rootNode&&!this.props.isStatic()&&(this.rootNode.setRangeText(o,this.rootNode.selectionStart,this.rootNode.selectionEnd,"end"),this.props.onInput(this.rootNode.value))},h.prototype.isSixKeyInput=function(){return typeof this.props.sixKeyInput=="function"&&this.props.sixKeyInput()},h}(e.Class);u.default=a}),$("vendor/mathquill",["require","exports","toplevel/mathquill","mathquill"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0}),u.MQ=w.getInterface(1).config(e)}),$("loadcss!dcgview-helpers/static-mathquill-view",function(){}),$("dcgview-helpers/static-mathquill-view",["require","exports","tslib","dcgview","vendor/mathquill","jquery","lib/conditional_blur","loadcss!./static-mathquill-view"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.template=function(){var s=this;return this.children.length===1?this.children[0]:e.createElement("div",{didMount:function(p){return s.didMountMathquill(p)}})},o.prototype.didMount=function(){this.children.length===1&&this.didMountMathquill(this.findRootNode())},o.prototype.didMountMathquill=function(s){this.staticMath=c.MQ.StaticMath(s),t(s).off(".mathquill").addClass("dcg-static-mathquill-view").on("dcg-tapstart",function(){a.default()}),this.updateMathquill()},o.prototype.didUpdate=function(){this.updateMathquill()},o.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex()},o.prototype.updateMathquillLatex=function(){if(this.staticMath){var s=this.props.latex();this.lastLatex!==s&&(this.staticMath.latex(s),this.lastLatex=s,this.props.onReflow&&this.props.onReflow())}},o.prototype.updateMathquillAria=function(){if(this.staticMath&&this.props.getAriaLabel){var s=this.props.getAriaLabel();s!==this.staticMath.getAriaLabel()&&this.staticMath.setAriaLabel(s)}},o}(e.Class);u.default=l}),$("loadcss!lib/tooltip",function(){}),$("lib/tooltip",["require","exports","tslib","keys","dcgview","jquery","underscore","dcgview-helpers/static-mathquill-view","loadcss!./tooltip"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=c.Components.IfElse,o=function(p){function g(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(g,p),g.prototype.template=function(){var d=this;return c.createElement("div",{class:function(){var i;return i={},i[d.getCustomClassName()]=!0,i["dcg-tooltip-positioning-container"]=!0,i["dcg-latex-tooltip-positioning-container"]=d.props.renderAsLatex(),i["dcg-tooltip-gravity-ne-se"]=d.props.gravity()==="ne"||d.props.gravity()==="se",i["dcg-tooltip-gravity-nw-sw"]=d.props.gravity()==="nw"||d.props.gravity()==="sw",i["dcg-tooltip-gravity-n-s"]=d.props.gravity()==="n"||d.props.gravity()==="s",i["dcg-tooltip-gravity-e-w"]=d.props.gravity()==="e"||d.props.gravity()==="w",i},style:function(){return{top:d.props.hitAreaRect().top+(d.props.offset().top||0)+"px",left:d.props.hitAreaRect().left+(d.props.offset().left||0)+"px",width:d.props.hitAreaRect().width+"px",height:d.props.hitAreaRect().height+"px"}}},c.createElement("div",{class:c.const("dcg-tooltip-message-container"),style:this.bindFn(this.getMessageStyle)},h(function(){return d.props.renderAsLatex()},{true:function(){return c.createElement("div",{class:function(){return{"dcg-tooltip-message":!0,"dcg-latex":!0,"dcg-sticky-not-stuck":d.props.isStickyAndNotStuck(),"dcg-tooltip-overflow":d.messageOverflows()}},style:function(){return{"max-width":d.getMaxWidth()+"px"}},didMount:function(i){d.tooltipMessage=i}},c.createElement(l.default,{latex:function(){return d.props.tooltip()}}))},false:function(){return c.createElement("div",{class:c.const("dcg-tooltip-message"),style:function(){return{background:d.getBackgroundColor(),cursor:d.props.isStickyAndNotStuck()?"pointer":"default"}}},d.props.tooltip)}})),c.createElement("div",{class:c.const("dcg-tooltip-arrow"),style:function(){return d.props.renderAsLatex()?d.getArrowWithBorderStyle():d.getSolidArrowStyle()}}))},g.prototype.getCustomClassName=function(){return this.props.class?this.props.class():""},g.prototype.messageOverflows=function(){return this.tooltipMessage&&this.tooltipMessage.getBoundingClientRect().width>=this.getMaxWidth()},g.prototype.getArrowWithBorderStyle=function(){var d=this.props.gravity(),i=this.getBackgroundColor(),n=this.props.isStickyAndNotStuck()?".95":"1",r={width:"8px",height:"8px",border:"1px solid #bbb",background:i,opacity:n};switch(d){case"s":return w.__assign(w.__assign({},r),{top:"100%",left:"50%","margin-top":"1px","border-right":"0","border-bottom":"0"});case"sw":return w.__assign(w.__assign({},r),{top:"100%",right:"10px","margin-top":"1px","border-right":"0","border-bottom":"0"});case"se":return w.__assign(w.__assign({},r),{top:"100%",left:"10px","margin-top":"1px","border-right":"0","border-bottom":"0"});case"n":return w.__assign(w.__assign({},r),{bottom:"100%",left:"50%","margin-bottom":"1px","border-left":"0","border-top":"0"});case"nw":return w.__assign(w.__assign({},r),{bottom:"100%",right:"10px","margin-bottom":"1px","border-left":"0","border-top":"0"});case"ne":return w.__assign(w.__assign({},r),{bottom:"100%",left:"10px","margin-bottom":"1px","border-left":"0","border-top":"0"});case"e":return w.__assign(w.__assign({},r),{top:"50%",left:"100%","margin-left":"1px","border-right":"0","border-top":"0"});case"w":return w.__assign(w.__assign({},r),{top:"50%",right:"100%","margin-right":"1px","border-left":"0","border-bottom":"0"});default:return d}},g.prototype.getSolidArrowStyle=function(){var d=this.props.gravity(),i=this.getBackgroundColor(),n="transparent transparent "+i+" transparent",r=i+" transparent transparent transparent",m="transparent "+i+" transparent transparent",y="transparent transparent transparent "+i;switch(d){case"s":return{top:"100%",left:"50%",border:"5px solid transparent","border-color":n,"margin-top":"-5px","margin-left":"-5px"};case"sw":return{top:"100%",right:"10px",border:"5px solid transparent","border-color":n,"margin-top":"-5px","margin-left":"-5px"};case"se":return{top:"100%",left:"10px",border:"5px solid transparent","border-color":n,"margin-top":"-5px","margin-left":"-5px"};case"n":return{bottom:"100%",left:"50%",border:"5px solid transparent","border-color":r,"margin-bottom":"-5px","margin-left":"-5px"};case"nw":return{bottom:"100%",right:"10px",border:"5px solid transparent","border-color":r,"margin-bottom":"-5px","margin-left":"-5px"};case"ne":return{bottom:"100%",left:"10px",border:"5px solid transparent","border-color":r,"margin-bottom":"-5px","margin-left":"-5px"};case"e":return{top:"50%",left:"100%",border:"5px solid transparent","border-color":m,"margin-left":"-5px","margin-top":"-5px"};case"w":return{top:"50%",right:"100%",border:"5px solid transparent","border-color":y,"margin-right":"-5px","margin-top":"-5px"};default:return d}},g.prototype.getBackgroundColor=function(){return this.props.renderAsLatex()?"#fff":this.props.isStickyAndNotStuck()?"#666":"#000"},g.prototype.getMaxWidth=function(){var d=this.props.gravity(),i=this.props.hitAreaRect().left+(this.props.offset().left||0),n=i+this.props.hitAreaRect().width,r=.5*this.props.hitAreaRect().width+i,m=window.innerWidth-5;switch(d){case"se":case"ne":case"e":return m-i;case"sw":case"nw":case"w":return n-5;case"s":case"n":return 2*Math.min(m-r,r-5);default:return d}},g.prototype.getMessageStyle=function(){var d=this.props.hitAreaRect(),i=this.props.gravity();switch(i){case"s":return{top:"100%",transform:"translate(-50%, 0)",left:.5*d.width+"px","margin-top":"5px","text-align":"center"};case"sw":return{top:"100%",right:"0","margin-top":"5px","text-align":"right"};case"se":return{top:"100%","margin-top":"5px","text-align":"left"};case"n":return{bottom:"100%",transform:"translate(-50%, 0)",left:.5*d.width+"px","margin-bottom":"5px","text-align":"center"};case"nw":return{bottom:"100%",right:"0","margin-bottom":"5px","text-align":"right"};case"ne":return{bottom:"100%","margin-bottom":"5px","text-align":"left"};case"e":return{transform:"translate(0, -50%)",left:"100%",top:.5*d.height+"px","margin-left":"5px","text-align":"left"};case"w":return{transform:"translate(0, -50%)",right:"100%",top:.5*d.height+"px","margin-right":"5px","text-align":"right"};default:return i}},g}(c.Class),s=function(p){function g(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(g,p),g.prototype.init=function(){this.uuid=a.uniqueId(),this.isMounted=!0},g.prototype.template=function(){var d=this;return c.createElement("div",{class:c.const("dcg-tooltip-hit-area-container"),handleevent:c.const("true"),didMount:function(i){d.hitAreaNode=i,d.setupEventListeners(d.hitAreaNode)},onTap:function(){d.shouldHideOnTargetClick()?d.hideTooltip():d.shouldShowOnTargetClick()?d.showTooltip():d.shouldStickOnTargetClick()&&(d.isStuck?(d.clearTimeouts(),d.hideTooltip()):(d.showTooltip(),d.stickTooltip()))}},this.children)},g.prototype.didUpdate=function(){this.updateTooltip()},g.prototype.updateTooltip=function(){if(this.wrapperRef){if(!this.props.tooltip())return void this.hideTooltip();var d=this.hitAreaNode.getBoundingClientRect(),i=this.wrapperRef.elt.getBoundingClientRect(),n=this.wrapperRef,r=n.originalTop,m=n.originalLeft,y=d.top-i.top,v=d.left-i.left;Math.abs(y-r)>3||Math.abs(v-m)>3?this.hideTooltip():this.wrapperRef.view.update()}},g.prototype.handleShowEvent=function(d){if(!this.props.disabled||!this.props.disabled()){var i=this.props.delay?this.props.delay():500;this.clearTimeouts(),this.showTooltipTimeout=setTimeout(d,i)}},g.prototype.handleHideEvent=function(){this.clearTimeouts(),this.hideTooltipTimeout=setTimeout(this.bindFn(this.hideTooltip),150)},g.prototype.setupEventListeners=function(d){var i=this;t(d).on("tipsyshow",function(n){n.target===d&&i.handleShowEvent(function(){i.showTooltip()})}).on("tipsyhide",function(n){n.target!==d||i.isStuck||i.handleHideEvent()}),this.shouldShowOnTargetClick()&&this.setUpHideOnExternalMousedown()},g.prototype.willUnmount=function(){this.clearTimeouts(),this.isMounted=!1,this.hideTooltip()},g.prototype.setUpHideOnExternalMousedown=function(){var d=this;t(document).on("mousedown.dcg-tooltip-"+this.uuid+" touchstart.dcg-tooltip-"+this.uuid+" pointerdown.dcg-tooltip-"+this.uuid,function(i){d.wrapperRef&&(t(i.target).closest(d.hitAreaNode).length||t(i.target).closest(d.wrapperRef.elt).length||d.hideTooltip())})},g.prototype.stickTooltip=function(){this.isMounted&&this.wrapperRef&&(this.isStuck||(this.setUpHideOnExternalMousedown(),this.isStuck=!0,this.updateTooltip()))},g.prototype.clearTimeouts=function(){clearTimeout(this.showTooltipTimeout),clearTimeout(this.hideTooltipTimeout)},g.prototype.showTooltip=function(){var d=this;if(this.isMounted&&!this.wrapperRef&&this.props.tooltip()){var i=this.hitAreaNode.getBoundingClientRect(),n=document.createElement("div");n.className="dcg-tooltip-mount-pt",t(this.hitAreaNode).closest(".dcg-tap-container")[0].appendChild(n);var r=n.getBoundingClientRect(),m=i.left-r.left,y=i.top-r.top,v={tooltip:this.props.tooltip,class:this.props.class,isStickyAndNotStuck:function(){return d.shouldStickOnTargetClick()&&!d.isStuck},offset:function(){return d.props.offset?d.props.offset():{}},gravity:function(){return d.props.gravity?d.props.gravity():"s"},renderAsLatex:function(){return!!d.props.renderAsLatex&&d.props.renderAsLatex()},hitAreaRect:function(){return{top:y||0,left:m||0,width:i.width||0,height:i.height||0}}};this.setupEventListeners(n),t(n).on("dcg-tap",function(){d.shouldStickOnTargetClick()&&d.stickTooltip()});var x=c.mountToNode(o,n,v);t(document).on("keydown.dcg-tooltip-"+this.uuid,function(b){e.lookup(b)===e.ESCAPE&&d.hideTooltip()});var E=function(){return d.updateTooltip()};window.addEventListener("scroll",E,!0),this.wrapperRef={elt:n,view:x,originalLeft:m,originalTop:y,onScroll:E}}},g.prototype.hideTooltip=function(){this.clearTimeouts(),this.wrapperRef&&(this.isStuck=!1,t(document).off(".dcg-tooltip-"+this.uuid),window.removeEventListener("scroll",this.wrapperRef.onScroll,!0),c.unmountFromNode(this.wrapperRef.elt),this.wrapperRef.elt.parentNode&&this.wrapperRef.elt.parentNode.removeChild(this.wrapperRef.elt),this.wrapperRef=void 0)},g.prototype.shouldStickOnTargetClick=function(){return!!this.props.targetClickBehavior&&this.props.targetClickBehavior()==="stick"},g.prototype.shouldShowOnTargetClick=function(){return!!this.props.targetClickBehavior&&this.props.targetClickBehavior()==="show"},g.prototype.shouldHideOnTargetClick=function(){return!this.props.targetClickBehavior||this.props.targetClickBehavior()==="hide"},g}(c.Class);u.Tooltip=s}),$("lib/abraham-helpers",["require","exports","abraham"],function(B,u,w){function e(t,a){return a==="nemeth"?w.latexToNemeth(t):a==="ueb"?w.latexToUeb(t):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}function c(t,a){return a==="nemeth"?w.nemethToLatex(t):a==="ueb"?w.uebToLatex(t):{isError:!0,error:"Braille mode should be 'nemeth' or 'ueb'"}}Object.defineProperty(u,"__esModule",{value:!0}),u.latexToBraille=e,u.brailleToLatex=c}),$("loadcss!dcgview-helpers/mathquill-view",function(){}),$("dcgview-helpers/mathquill-view",["require","exports","tslib","keys","browser","dcgview","vendor/mathquill","jquery","./static-mathquill-view","loadcss!./mathquill-view"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=t.Components.If;u.EXPRESSION_SIZE_LIMIT=100;var s=function(p){function g(){var d=p!==null&&p.apply(this,arguments)||this;return d.lastLatexProp="",d.wasFocusedLastUpdate=!1,d}return w.__extends(g,p),g.prototype.template=function(){var d=this;return this.children.length===1?this.children[0]:t.createElement("div",{class:t.const("dcg-mq-container")},t.createElement(o,{predicate:function(){return d.getPlaceholder().trim().length>0}},function(){return t.createElement("span",{class:t.const("dcg-mq-placeholder")},t.createElement(h.default,{latex:function(){return d.getPlaceholder()}}))}),t.createElement("div",{class:function(){return{"dcg-math-field":!0,"dcg-no-fadeout":d.props.noFadeout&&d.props.noFadeout(),"dcg-invalid":d.props.hasError(),"dcg-focus":d.props.isFocused()}},didMount:function(i){return d.didMountMathquill(i)},"data-dcg-label":function(){return d.props.dataLabelAttributeValue?d.props.dataLabelAttributeValue():void 0}}))},g.prototype.didMount=function(){this.children.length===1&&this.didMountMathquill(this.findRootNode())},g.prototype.willUnmount=function(){this.$mathField.off(".view"),this.mathField=void 0},g.prototype.getPlaceholder=function(){return this.props.placeholder?this.props.isFocused()||this.props.latex()?"":this.props.placeholder():""},g.prototype.didMountMathquill=function(d){var i=this,n=w.__assign(w.__assign({},this.props.config()),{handlers:{reflow:function(r){i.props.onReflow&&i.mathField&&i.props.onReflow(r)}},onCut:function(){i.mathField&&i.props.onUserChangedLatex(i.mathField.latex())},onPaste:function(){i.mathField&&i.props.onUserChangedLatex(i.mathField.latex())},overrideTypedText:function(r){i.mathField&&i.viewCanAcceptText(r)&&(i.props.onUserTypedText?i.props.onUserTypedText(r):(i.mathField.typedText(r),i.props.onUserChangedLatex(i.mathField.latex())))},overrideKeystroke:function(r,m){if(r==="Backspace"&&m.preventDefault(),i.mathField){if(r==="Spacebar"&&i.props.disableSpace&&i.props.disableSpace())return m.preventDefault();if(m.originalEvent){var y=e.lookup(m.originalEvent);if(y==="Up"||y==="Down"||y==="Left"||y==="Right"||y==="Esc"){var v=[];m.ctrlKey&&v.push("Ctrl"),m.metaKey&&v.push("Meta"),m.altKey&&v.push("Alt"),m.shiftKey&&v.push("Shift"),v.length?(v.push(y),r=v.join("-")):r=y}}i.props.onUserPressedKey?i.props.onUserPressedKey(r,m):(i.mathField.keystroke(r,m),i.props.onUserChangedLatex(i.mathField.latex()))}}});this.props.needsSystemKeypad&&this.props.needsSystemKeypad()&&(n.substituteTextarea=function(){return l('<textarea autocorrect="off" autocapitalize="none" spellcheck="false" autocomplete="off">')[0]}),this.$mathField=l(d),this.mathField=a.MQ.MathField(d,n),d._mqMathFieldInstance=this.mathField,d._mqViewInstance=this,this.$mathField.on("focusin.view focusout.view",function(r){return i.onFocusEvent(r)}).on("paste.view",function(r){return i.onPasteEvent(r)}),(c.IS_IOS||c.IS_ANDROID)&&this.$mathField.on("keypress.view",function(r){return i.onKeypressEvent(r)}),this.hookupMQTapTouch(),this.updateMathquill()},g.prototype.didUpdate=function(){this.updateMathquill()},g.prototype.updateMathquill=function(){this.updateMathquillAria(),this.updateMathquillLatex(),this.updateMathquillFocused(),this.updateMathquillPostLabel()},g.prototype.onFocusEvent=function(d){var i=this.isFocused();i!==this.shouldBeFocused()&&this.props.onFocusedChanged(i,d)},g.prototype.onPasteEvent=function(d){var i="",n=window.clipboardData,r=d.originalEvent;n&&n.getData?i=n.getData("Text"):r&&r.clipboardData&&r.clipboardData.getData&&(i=r.clipboardData.getData("text/plain"));var m=this.viewCanAcceptText(i);return!m&&this.props.onExpressionSizeExceeded&&this.props.onExpressionSizeExceeded(),m},g.prototype.viewCanAcceptText=function(d){return g.canAcceptText(this.mathField,this.props.capExpressionSize(),d)},g.canAcceptText=function(d,i,n){return!!d&&(!i||d.latex().length+n.length<=u.EXPRESSION_SIZE_LIMIT)},g.prototype.onKeypressEvent=function(d){if(d.stopPropagation(),d.preventDefault(),this.mathField){var i=e.lookupChar(d.originalEvent);i&&this.viewCanAcceptText(i)&&(this.props.onUserTypedText?this.props.onUserTypedText(i):(this.mathField.typedText(i),this.props.onUserChangedLatex(this.mathField.latex())))}},g.prototype.hookupMQTapTouch=function(){var d=this;this.$mathField.on("dcg-tap.view",function(i){if(i.device==="touch"&&d.mathField){var n=i.originalEvent.changedTouches[0];d.mathField.clickAt(n.clientX,n.clientY,n.target),d.isFocused()||d.mathField.focus();var r=void 0;setTimeout(function(){r=Date.now()},0),d.mathField.ignoreNextMousedown(function(){return r===void 0||Date.now()-r<500})}})},g.prototype.updateMathquillAria=function(){if(this.mathField){var d=this.props.getAriaLabel();d!==this.mathField.getAriaLabel()&&this.mathField.setAriaLabel(d)}},g.prototype.updateMathquillPostLabel=function(){this.mathField&&this.mathField.setAriaPostLabel(this.props.getAriaPostLabel(),this.props.hasError()?5e3:1e3)},g.prototype.updateMathquillLatex=function(){var d=this.props.latex();this.mathField&&this.lastLatexProp!==d&&(this.props.capExpressionSize()&&d.length>u.EXPRESSION_SIZE_LIMIT||(this.lastLatexProp=d,this.mathField.latex()!==d&&this.mathField.latex(d)))},g.prototype.updateMathquillFocused=function(){if(this.mathField){var d=this.isFocused(),i=this.shouldBeFocused();i&&i!==this.wasFocusedLastUpdate&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.mathField.select(),this.wasFocusedLastUpdate=i,d!==i&&(i?this.mathField.focus():this.mathField.blur())}},g.prototype.isFocused=function(){return!(!document.activeElement||!l(document.activeElement).closest(this.$mathField).length)},g.prototype.shouldBeFocused=function(){return this.props.isFocused()},g.getFocusedMathquill=function(){if(document.activeElement){var d=l(document.activeElement).closest(".dcg-mq-editable-field")[0];return d?d._mqMathFieldInstance:void 0}},g.getMQViewInstance=function(d){var i=d.el();return i?i._mqViewInstance:void 0},g.applyArrowKeyAndReturnIfWasAtBounds=function(d,i,n){var r=l(d.el()),m=r.find(".dcg-mq-selection"),y=m.length===1&&m.parent().parent()[0]===r[0]&&m.parent().children().length===1;if((i==="Up"||i==="Down")&&y)return d.keystroke(i,n),!0;var v=r.find(".dcg-mq-cursor")[0];if(!v)return d.keystroke(i,n),!1;var x=v.previousSibling||v.parentElement;return d.keystroke(i,n),x===(v.previousSibling||v.parentElement)},g.simulateKeypress=function(d,i){var n=g.getMQViewInstance(d);n&&(n.props.onUserPressedKey?n.props.onUserPressedKey(i):(d.keystroke(i),n.props.onUserChangedLatex(d.latex())))},g.simulateUserChangedLatex=function(d){var i=g.getMQViewInstance(d);i&&i.mathField&&i.props.onUserChangedLatex(i.mathField.latex())},g.handleKeystrokeAndDecideIfSpecialEvent=function(d,i,n){return i==="Enter"||i==="Delete"&&d.latex()===""||i==="Backspace"&&d.latex()===""||(i==="Up"||i==="Down"||i==="Left"||i==="Right"?g.applyArrowKeyAndReturnIfWasAtBounds(d,i,n):(d.keystroke(i,n),!1))},g}(t.Class);u.default=s}),$("loadcss!Abraham",function(){}),$("loadcss!dcgview-helpers/mathquill-braille-wrapper",function(){}),$("dcgview-helpers/mathquill-braille-wrapper",["require","exports","tslib","jquery","abraham","dcgview","../expressions/braille-input","../lib/tooltip","../lib/abraham-helpers","dcgview-helpers/mathquill-view","loadcss!Abraham","loadcss!./mathquill-braille-wrapper"],function(B,u,w,e,c,t,a,l,h,o){function s(){if(document.activeElement&&e(document.activeElement).hasClass("dcg-braille-input"))return document.activeElement}function p(i){return!i||e(i).val()===""}Object.defineProperty(u,"__esModule",{value:!0});var g=t.Components.If,d=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(n,i),n.prototype.init=function(){this.controller=this.props.controller(),this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.currentBrailleMode=this.controller.getBrailleMode(),this.hasTranslationError=!1,this.currentLatex=this.props.latex()},n.prototype.isFocused=function(){return this.props.brailleShouldFocus()},n.prototype.isStatic=function(){return!!this.props.isStatic&&this.props.isStatic()},n.prototype.hasError=function(){return!!this.props.hasError&&this.props.hasError()},n.prototype.willUpdate=function(){if(!this.isFocused()||this.currentLatex!==this.props.latex()){var r=this.currentLatex!==this.props.latex();this.currentLatex=this.props.latex();var m=this.controller.getBrailleMode();(m!==this.currentBrailleMode&&m!=="none"||!this.hasTranslationError||r||this.isStatic())&&(this.currentBrailleValue=this.getBrailleFromLatex(this.props.latex()),this.hasTranslationError=!1),this.currentBrailleMode=m}},n.prototype.onBrailleInput=function(r){if(this.props.onBrailleInput){var m=this.getLatexFromBraille(r);if(this.hasTranslationError=m.isError,!m.isError&&this.controller.getCapExpressionSize()&&m.value.length>o.EXPRESSION_SIZE_LIMIT)return void(this.props.onExpressionSizeExceeded?this.props.onExpressionSizeExceeded():this.controller.dispatch({type:"expression-size-exceeded"}));this.currentBrailleValue=r,m.isError||(this.currentLatex=m.value,this.props.onBrailleInput(m.value))}},n.prototype.getBrailleFromLatex=function(r){var m=h.latexToBraille(r,this.controller.getBrailleMode());return m.isError?"":c.UnicodeBraille.toExpandedBrailleAscii(m.value)},n.prototype.getLatexFromBraille=function(r){return h.brailleToLatex(c.UnicodeBraille.coerceToSixDotCells(r),this.controller.getBrailleMode())},n.prototype.getBrailleLabel=function(r){return this.getBrailleFromLatex(r.replace(/\s/,"\\ "))},n.prototype.shouldShowBraille=function(){var r=this.controller.getBrailleMode();return r==="nemeth"||r==="ueb"},n.prototype.isOverflowingLeft=function(){return!!this.brailleInput&&this.brailleInput.scrollLeft>0},n.prototype.isOverflowingRight=function(){if(!this.brailleInput)return!1;var r=this.brailleInput.getBoundingClientRect().width;return this.brailleInput.scrollWidth>r+this.brailleInput.scrollLeft+2},n.prototype.didMountBrailleInput=function(r){this.brailleInput=r},n.prototype.didUnmountBrailleInput=function(){this.brailleInput=void 0},n.prototype.getTooltipGravity=function(){var r=this.props.tooltipOptions&&this.props.tooltipOptions();return r&&r.gravity?r.gravity:"se"},n.prototype.getTooltipDelay=function(){var r=this.props.tooltipOptions&&this.props.tooltipOptions();return r&&r.delay?r.delay:0},n.prototype.handleBrailleFocusChanged=function(r,m){this.props.onBrailleFocusedChanged&&this.props.onBrailleFocusedChanged(r,m),this.brailleInput&&(r&&this.props.selectOnFocus&&this.props.selectOnFocus()&&this.brailleInput.select(),this.isStatic()&&this.brailleInput.scrollTo(0,0))},n.prototype.getTooltipText=function(){var r=this.props.placeholder&&!this.isFocused()?this.props.placeholder():"";return this.props.latex()||r},n.prototype.template=function(){var r=this;return t.createElement("div",{class:t.const("dcg-mathquill-wrapper")},t.createElement(g,{predicate:function(){return r.shouldShowBraille()}},function(){return t.createElement("div",{class:function(){return{"dcg-mathquill-braille":!0,"dcg-focus":r.props.brailleShouldFocus&&r.props.brailleShouldFocus(),"dcg-invalid":r.hasError(),"dcg-mathquill-static-braille":r.isStatic(),"dcg-mathquill-braille-overflow-left":r.isOverflowingLeft(),"dcg-mathquill-braille-overflow-right":r.isOverflowingRight()}},"data-dcg-limit":function(){return r.props.dataDCGLimit?r.props.dataDCGLimit():void 0},"data-dcg-label":function(){return r.props.dataLabelAttributeValue?r.props.dataLabelAttributeValue():void 0}},t.createElement(l.Tooltip,{class:r.const("dcg-mathquill-braille-tooltip"),renderAsLatex:r.const(!0),tooltip:function(){return r.getTooltipText()},gravity:r.bindFn(r.getTooltipGravity),delay:r.bindFn(r.getTooltipDelay),targetClickBehavior:r.const("show")},t.createElement(a.default,{ariaLabel:function(){return r.props.ariaLabel?r.getBrailleLabel(r.props.ariaLabel()):""},didMount:r.bindFn(r.didMountBrailleInput),didUnmount:r.bindFn(r.didUnmountBrailleInput),onFocusedChanged:r.bindFn(r.handleBrailleFocusChanged),shouldFocus:r.props.brailleShouldFocus||r.const(!1),onKeydown:r.props.onBrailleKeydown,onInput:r.bindFn(r.onBrailleInput),sixKeyInput:function(){return r.controller.getSixKeyInput()},value:function(){return r.currentBrailleValue},placeholder:function(){return r.props.placeholder?r.getBrailleFromLatex(r.props.placeholder()):""},tabindex:function(){return r.props.tabindex?r.props.tabindex():0},isStatic:r.bindFn(r.isStatic)})))}),t.createElement("div",{class:t.const("dcg-typeset-math"),style:function(){return{display:r.shouldShowBraille()?"none":void 0}}},this.children))},n}(t.Class);u.default=d,u.getFocusedBrailleElement=s,u.brailleInputIsEmpty=p}),$("expressions/list_move_controller",["require","exports","core/lib/dragmode","core/lib/number-to-latex","core/lib/label","lib/rounding","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/list","graphing-calc/models/image","core/math/poi","core/math/functions"],function(B,u,w,e,c,t,a,l,h,o,s,p){function g(f,S,j){if(j.tableInfo){h.setSelected(S,void 0);var Q=f.getItemModel(j.tableInfo.tableId);if(!Q||Q.type!=="table")return;l.setIsDraggingOnGrapher(Q,!0)}else{var G=f.getItemModel(j.sketch.id);if(!G||G.type!=="expression"&&G.type!=="image"||(G.type!=="image"&&h.setSelected(S,void 0),!G.formula||!G.formula.move_strategy))return;for(var q=G.formula.move_strategy,L=0;L<q.length;L++)if(q[L].type==="updateCoordinate")G.type==="image"?o.setIsDraggingOnGrapher(G,!0):G.type==="expression"&&a.setIsDraggingOnGrapher(G,!0);else if(q[L].type==="updateSlider"||q[L].type==="updateSliderNonlinear"){var M=f.getItemModel(q[L].id);if(!M||M.type!=="expression")continue;var D;if((D=G.type==="expression"?G.reconciledDragMode:void 0)===w.DragMode.NONE||L===0&&D===w.DragMode.Y||L===1&&D===w.DragMode.X)continue;a.setSliderDragging(M,!0)}}}function d(f,S){if(S.tableInfo){var j=f.getItemModel(S.tableInfo.tableId);return!j||j.type!=="table"?void 0:void l.setIsDraggingOnGrapher(j,!1)}var Q=f.getItemModel(S.sketch.id);if(Q&&(Q.type==="expression"||Q.type==="image")&&Q.formula&&Q.formula.move_strategy){var G=Q.formula.move_strategy;if(G[0].type==="updateSliderNonlinear"){var q=f.getItemModel(G[0].id);if(!q||q.type!=="expression")return;a.setSliderDragging(q,!1)}for(var L=0;L<G.length;L++)if(Q.type==="image"?o.setIsDraggingOnGrapher(Q,!1):Q.type==="expression"&&a.setIsDraggingOnGrapher(Q,!1),G[L].type==="updateSlider"||G[L].type==="updateSliderNonlinear"){var q=f.getItemModel(G[L].id);if(!q||q.type!=="expression")continue;a.setSliderDragging(q,!1)}}}function i(f,S,j,Q){var G=S.tableInfo.tableId,q=S.tableInfo.rowIndex,L=S.tableInfo.columnId,M=S.tableInfo.dragX,D=S.tableInfo.dragY,V=f.getItemModel(G);if(V&&V.type==="table"){var W=l.getColumnModel(V,L);if(W){var N=Q.closestPointOnScreen(j),re=Q.pixelsToMath.mapRect(n(N,.5)),Y={x:e.default(t.shortestDecimalBetween(re.left,re.right)),y:e.default(t.shortestDecimalBetween(re.top,re.bottom))};if(M&&l.setCellLatex(V,{row:q+1,column:0},Y.x),D){var O=W.index;l.setCellLatex(V,{row:q+1,column:O},Y.y)}}}}function n(f,S){return{left:f.x-S,right:f.x+S,top:f.y+S,bottom:f.y-S}}function r(f,S,j){var Q;Q=f.assignment?c.identifierToLatex(f.assignment)+"=":"";var G=t.shortestDecimalBetween(S[0].min,S[0].max),q=t.shortestDecimalBetween(S[1].min,S[1].max),L=f.move_strategy[0].type==="updateCoordinate"&&m(0,j),M=f.move_strategy[1].type==="updateCoordinate"&&m(1,j);return Q+"\\left("+(L?e.default(G):f.move_strategy[0].inputString)+","+(M?e.default(q):f.move_strategy[1].inputString)+"\\right)"}function m(f,S){switch(S){case w.DragMode.X:return f===0;case w.DragMode.Y:return f===1;case w.DragMode.XY:return!0;default:return!1}}function y(f,S,j){if(j[0]===0&&j[1]===0)return{x:S.x,y:S.y,width:f.width,height:f.height};var Q=Math.cos(f.radianAngle),G=Math.sin(f.radianAngle),q=S.x-f.x,L=S.y-f.y;if(j[0]===0)return{x:f.x,y:f.y,width:f.width,height:2*j[1]*(Q*L+G*q)};if(j[1]===0)return{x:f.x,y:f.y,width:2*j[0]*(Q*q-G*L),height:f.height};var M=2*(f.width*j[0]*(Q*q-G*L)+f.height*j[1]*(G*q+Q*L))/(f.width*f.width+f.height*f.height);return{x:f.x,y:f.y,width:M*f.width,height:M*f.height}}function v(f,S,j){for(var Q=[{x:S.left,y:S.bottom},{x:S.left,y:S.top},{x:S.right,y:S.top},{x:S.right,y:S.bottom}],G=["x","y","width","height"],q={x:1/0,y:1/0,width:1/0,height:1/0},L={x:-1/0,y:-1/0,width:-1/0,height:-1/0},M=0,D=Q;M<D.length;M++)for(var V=D[M],W=y(f,V,j),N=0,re=G;N<re.length;N++){var Y=re[N];q[Y]=Math.min(q[Y],W[Y]),L[Y]=Math.max(L[Y],W[Y])}return{min:q,max:L}}function x(f,S,j,Q,G){var q=S.formula;if(!q||!q.move_strategy)return!1;var L=q.dimensions,M=j.scaleFactor,D=M[0]!==0&&M[1]!==0,V=G.closestPointOnScreen(Q),W=G.pixelsToMath.mapRect(n(V,D?.05:.5)),N=v(L,W,M),re=G.mathToPixels.mapRect({left:L.x-.5*L.width,right:L.x+.5*L.width,top:L.y-.5*L.height,bottom:L.y+.5*L.height}),Y=Math.abs(re.right-re.left),O=Math.abs(re.bottom-re.top),ee=G.mathToPixels.mapRect({left:N.min.x-.5*N.min.width,right:N.min.x+.5*N.min.width,top:N.min.y-.5*N.min.height,bottom:N.min.y+.5*N.min.height}),oe=Math.abs(ee.right-ee.left),H=Math.abs(ee.bottom-ee.top);if(oe<Y&&oe<1||H<O&&H<1)return!1;for(var J=["width","height","x","y"],ie=!1,de=0;de<J.length;de++){var fe=J[de],Ee=q.move_strategy[de];switch(Ee.type){case"updateCoordinate":var ye=t.shortestDecimalBetween(N.min[fe],N.max[fe]),_e=e.default(ye);switch(fe){case"width":case"height":o.setMQAttribute(S,fe,_e);break;case"x":if(q.move_strategy[3].type==="updateCoordinate"){var Fe=t.shortestDecimalBetween(N.min.y,N.max.y),se=e.default(Fe),I="\\left("+_e+","+se+"\\right)";o.setMQAttribute(S,"center",I)}else{var I="\\left("+_e+","+q.move_strategy[3].inputString+"\\right)";o.setMQAttribute(S,"center",I)}break;case"y":if(q.move_strategy[2].type!=="updateCoordinate"){var I="\\left("+q.move_strategy[2].inputString+","+_e+"\\right)";o.setMQAttribute(S,"center",I)}break;default:return fe}ie=!0;break;case"updateSlider":var ne=f.getItemModel(Ee.id);if(!ne||ne.type!=="expression")continue;var pe=Ee.coefficients[0],ge=Ee.coefficients[1],Be=ge*N.min[fe]+pe,Re=ge*N.max[fe]+pe,ve=t.shortestDecimalBetween(Be,Re),ke=ne.latex;a.adjustSliderByMovablePoint(ne,ve),ne.latex!==ke&&(ie=!0)}}return ie}function E(f,S,j,Q,G){var q=S.formula;if(!q||!q.move_strategy)return!1;var L=S.reconciledDragMode||w.DragMode.NONE,M=!1,D=Q.closestPointOnScreen(j),V=Q.pixelsToMath.mapRect(n(D,.5)),W=[{min:V.left,max:V.right},{min:V.top,max:V.bottom}];q.move_strategy[0].type!=="updateCoordinate"&&q.move_strategy[1].type!=="updateCoordinate"||(a.setLatex(S,r(q,W,L)),M=!0);for(var N,re,Y,O,ee,oe,H,J=0;J<2;J++)(function(){if(N=q.move_strategy[J],N.type!=="updateSlider"&&N.type!=="updateSliderNonlinear"||!m(J,L)||!(re=f.getItemModel(N.id))||re.type!=="expression")return"continue";if(Y=re.latex,O=G&&G[J])a.adjustSliderByKeyboard(re,O);else if(N.type==="updateSlider")ee=N.coefficients[0],oe=N.coefficients[1],H=t.shortestDecimalBetween(oe*W[J].min+ee,oe*W[J].max+ee),a.adjustSliderByMovablePoint(re,H);else if(N.type==="updateSliderNonlinear"){N.compiled.fn||p.rehydrateCompiledFunction(N.compiled);var ie=N.compiled.fn,de=function(I){var ne,pe=ie(I),ge=pe[0],Be=pe[1];return ne=Q.mathToPixels.mapPoint({x:ge,y:Be}),ge=ne.x,Be=ne.y,[ge,Be]},fe=N.initialValue,Ee=N.min,ye=N.max,_e=[D.x,D.y],Fe=s.findLocalClosestPointOnParametric(de,_e,fe,Ee,ye,1);if(Fe){var se=t.shortestDecimalBetween(Fe[0],Fe[1]);Ee!==void 0&&se<Ee&&(se=Ee),ye!==void 0&&se>ye&&(se=ye),a.adjustSliderByMovablePoint(re,se)}}re.latex!==Y&&(M=!0)})();return M}function b(f,S,j,Q,G){if(S.tableInfo)return i(f,S,j,Q),!0;var q=f.getItemModel(S.sketch.id);return!!q&&(q.type==="image"?x(f,q,S,j,Q):q.type==="expression"&&E(f,q,j,Q,G))}Object.defineProperty(u,"__esModule",{value:!0}),u.onStartMovingPoint=g,u.onStopMovingPoint=d,u.onMovePoint=b}),$("main/blank_state",["require","exports","core/graphing-calc/migrate-state"],function(B,u,w){Object.defineProperty(u,"__esModule",{value:!0}),u.BLANK_STATE={version:w.currentVersion,randomSeed:"",graph:{viewport:{xmin:-10,ymin:-13.25,xmax:10,ymax:13.25}},expressions:{list:[{id:"1",type:"expression"}]}},u.default=u.BLANK_STATE}),$("expressions/measure-expressions",["require","exports","jquery"],function(B,u,w){function e(m){for(var y=[],v=m.getAllItemModels(),x=0,E=v;x<E.length;x++){var b=E[x],f=m.getItemRootNodeById(b.id);f&&y.push(f)}return y}function c(m){for(var y=m.getAllItemModels(),v=y.length-1;v>=0;v--){var x=y[v];if(x.dcgView)return x.id}}function t(m,y){for(var v=e(m),x=0,E=v.length-1;x<=E;){var b=x+Math.floor((E-x)/2),f=v[b],S=f.getBoundingClientRect();if(S.top>y)E=b-1;else{if(!(S.bottom<y))return f;x=b+1}}}function a(m,y){for(var v,x=e(m),E=0,b=x.length-1;E<=b;){var f=E+Math.floor((b-E)/2),S=x[f];S.getBoundingClientRect().top>y?(b=f-1,v=S):E=f+1}return v}function l(m,y){var v=d(m);if(v){if(y){var x=m.getItemRootNodeById(y);if(x){var E=x.getBoundingClientRect();if(E.height>0&&E.top<=v.top&&E.bottom>=v.top)return y}}var b=t(m,v.top);return b?w(b).attr("expr-id"):o(m)}}function h(m,y){var v=d(m);if(v){var x=c(m);if(x){if(y){var E=m.getItemRootNodeById(y);if(E){var b=E.getBoundingClientRect();if(b.height>0&&b.top<=v.bottom&&b.bottom>=v.bottom||y===x&&b.bottom<=v.bottom)return y}}var f=t(m,v.bottom);return f&&w(f).attr("expr-id")||x}}}function o(m){var y=d(m);if(y){var v=a(m,y.top-2);if(v)return w(v).attr("expr-id")}}function s(m){return m.find$(".dcg-exppanel")[0]}function p(m){var y=s(m);if(y)return w(y)}function g(m){var y=m.find$(".dcg-exppanel-outer")[0];if(y)return y.getBoundingClientRect()}function d(m){var y=s(m);if(y)return y.getBoundingClientRect()}function i(m){var y=s(m);if(y){var v=y.getBoundingClientRect(),x=y.scrollTop;return v.top-x}}function n(m){var y=m.find$(".dcg-expressionlist");if(y.length===1)return y.height()}function r(m){var y=p(m);return y?y.find(".dcg-drag-container").height():0}Object.defineProperty(u,"__esModule",{value:!0}),u.getFirstVisibleItemId=l,u.getLastVisibleItemId=h,u.getFirstFullyVisibleItemId=o,u.getExppanelElt=s,u.getExppanelSelector=p,u.getOuterExppanelRect=g,u.getExppanelRect=d,u.getExppanelScrolledTop=i,u.getExpListHeight=n,u.getDragContainerHeight=r}),$("animation-frame-src",["require"],function(B){var u=0,w=function(e,c){var t=new Date().getTime(),a=Math.max(0,16-(t-u)),l=window.setTimeout(function(){e(t+a)},a);return u=t+a,l};return window.requestAnimationFrame&&window.cancelAnimationFrame?{requestAnimationFrame:window.requestAnimationFrame.bind(window),cancelAnimationFrame:window.cancelAnimationFrame.bind(window)}:{requestAnimationFrame:w,cancelAnimationFrame:window.clearTimeout.bind(window)}}),$("lib/animation-frame",["require","exports","animation-frame-src"],function(B,u,w){Object.defineProperty(u,"__esModule",{value:!0}),u.requestAnimationFrame=w.requestAnimationFrame,u.cancelAnimationFrame=w.cancelAnimationFrame}),$("jquery.handleevent",["require","jquery"],function(B){var u=B("jquery");u.Event.prototype.wasHandled=function(w){w=w||"_*_";var e=this.originalEvent,c=e&&e.handledBy;if(c&&c[w])return!0;if(w!=="_*_")return!1;var t=u(this.target).closest("[handleEvent]");return!(!t.length||t[0]===this.currentTarget)&&t.attr("handleEvent")!=="false"},u.Event.prototype.handle=function(w){w=w||"_*_";var e=this.originalEvent;if(e){var c=e.handledBy;c||(c=e.handledBy={}),c[w]=!0}}}),$("expressions/dragdrop_expressions",["require","exports","tslib","jquery","expressions/measure-expressions","lib/animation-frame","jquery.handleevent"],function(B,u,w,e,c,t){Object.defineProperty(u,"__esModule",{value:!0});var a=function(){function l(h){this.active=!1,this.controller=h;var o=c.getExppanelSelector(h);o&&(this.$exppanel=o)}return l.prototype.startDragging=function(h){this.active=!0,this.mouseY=h,this.setupEventListeners()},l.prototype.applyDrag=function(){var h=this.controller.getListModel(),o=h.dragState;if(o){this.scheduleUpdateScroll();var s=this.measureDOM(o);if(s){var p=s.floatingPreviewRect,g=this.controller.getItemModel(o.firstItemId);if(g){for(var d=g.index,i=0,n=s.visibleRects;i<n.length;i++){var r=n[i],m=r.id,y=r.rect;if(m!==g.id){var v=this.controller.getItemModel(m);if(!v)return;if(v.index<g.index){if(p.top<y.top+y.height/2){d=v.index;break}}else p.bottom>y.top+y.height/2&&(d=v.index,v.type==="folder"&&v.collapsed&&(d+=this.controller.getNumberOfItemsInFolder(v.id)))}}var x,E;d>g.index?(x=d,E=d+1):d<g.index?(x=d-1,E=d):(x=d-1,E=d+1);var b=this.controller.getItemModelByIndex(x),f=this.controller.getItemModelByIndex(E),S="",j="";b&&(S=b.type==="folder"?b.id:b.folderId),f&&(j=f.type==="folder"?f.id:f.folderId);var Q="";return S&&(j===S?g.type==="folder"?d=g.index:Q=S:g.type!=="folder"&&this.isPreviewTopContainedInFolder(s,S)&&(Q=S)),{dragState:w.__assign({},s.dragState),newIndex:d,folderId:Q}}}}},l.prototype.measureDOM=function(h){var o=c.getExppanelScrolledTop(this.controller),s=c.getExpListHeight(this.controller);if(o!==void 0&&s!==void 0){var p=c.getDragContainerHeight(this.controller),g=h.mouseY-h.grabOffset+2,d=g-o;d=Math.max(d,-p/2),d=Math.min(d,s-p);var i={top:g,bottom:g+p,height:p},n=this.controller.findFirstVisibleItem(),r=this.controller.findLastVisibleItem();if(n&&r){for(var m=[],y=n.index;y<=r.index;y++){var v=this.controller.getItemModelByIndex(y);if(v){var x=this.controller.getItemRootNodeById(v.id);if(x&&v.id!==h.firstItemId){var E=x.getBoundingClientRect();m.push({id:v.id,rect:E})}}}if(m.length!==0)return{dragState:w.__assign(w.__assign({},h),{itemTop:d}),floatingPreviewRect:i,visibleRects:m}}}},l.prototype.isPreviewTopContainedInFolder=function(h,o){for(var s=h.visibleRects,p=h.floatingPreviewRect,g=0,d=s;g<d.length;g++){var i=d[g],n=i.id,r=i.rect;if(r.top<=p.top&&r.bottom>=p.top){var m=this.controller.getItemModel(n);if(!m)return!1;if(m.type==="folder"&&m.id===o||m.type!=="folder"&&m.folderId===o)return!0}}return!1},l.prototype.scheduleUpdateScroll=function(){var h=this;this.updateScrollScheduled||(this.updateScrollScheduled=!0,t.requestAnimationFrame(function(){h.updateScroll(),h.updateScrollScheduled=!1}))},l.prototype.stop=function(){this.active=!1,this.tearDownEventListeners(),this.controller.dispatch({type:"stop-dragdrop"})},l.prototype.setupEventListeners=function(){var h=this;e(document).on("dcg-tapmove.dragdrop",function(o){h.mouseY=o.changedTouches[0].clientY,h.controller.dispatch({type:"update-dragdrop",mouseY:h.mouseY})}),e(document).on("dcg-tapend.dragdrop",function(o){h.stop(),o.handle("dragdrop")})},l.prototype.tearDownEventListeners=function(){e(document).off(".dragdrop")},l.prototype.updateScroll=function(){if(this.active){var h=this.$exppanel[0].getBoundingClientRect(),o=0;o=Math.min(o,this.mouseY-h.top),o=Math.max(o,this.mouseY-h.bottom+30),o=o*h.height/900,o&&this.$exppanel.scrollTop(this.$exppanel.scrollTop()+o)}},l}();u.default=a}),$("keypad/mq-commands",["require","exports"],function(B,u){function w(c,t){e[t](c)}Object.defineProperty(u,"__esModule",{value:!0});var e={loga:function(c){c.write("\\log_{}"),c.typedText("("),c.keystroke("Left"),c.keystroke("Down")},nthroot:function(c){c.write("\\sqrt[]{}"),c.keystroke("Left"),c.keystroke("Left")},ddx:function(c){c.write("\\frac{d}{dx}")},arcsin:function(c){c.write("sin^{-1}"),c.typedText("(")},arccos:function(c){c.write("cos^{-1}"),c.typedText("(")},arctan:function(c){c.write("tan^{-1}"),c.typedText("(")},arcsec:function(c){c.write("sec^{-1}"),c.typedText("(")},arccsc:function(c){c.write("csc^{-1}"),c.typedText("(")},arccot:function(c){c.write("cot^{-1}"),c.typedText("(")},"A^T":function(c){c.typedText("^T"),c.keystroke("Right")},"A^-1":function(c){c.typedText("^-1"),c.keystroke("Right")},"A^2":function(c){c.typedText("^2"),c.keystroke("Right")},"a^2":function(c){c.typedText("^2"),c.keystroke("Right")},"a^3":function(c){c.typedText("^3"),c.keystroke("Right")}};u.execute=w}),$("main/controller",["require","exports","main/propagate_selection","tslib","scroll_helpers","browser","core/lib/label","underscore","lib/i18n","flux","core/types/opacity","core/lib/dragmode","core/types/styles","lib/conditional_blur","core/lib/deepCopy","core/lib/number-to-latex","lib/state-stack","graphing/viewport","core/graphing-calc/migrate-state","core/math/expression-types","core/lib/color-helpers","graphing-calc/models/expression","core/graphing-calc/json/expression","graphing-calc/models/expression","graphing-calc/models/table","graphing-calc/models/image","graphing-calc/models/folder","graphing-calc/models/text","graphing-calc/models/list","graphing-calc/models/abstract-item","graphing-calc/models/focus","graphing-calc/actions/keyboard","main/expression-zoom-helpers","core/math/evaluate-single-expression","./layout-model","./settings-view-model","jquery","bugsnag","dcgview-helpers/mathquill-braille-wrapper","expressions/list_move_controller","./blank_state","dcgview-helpers/mathquill-view","expressions/measure-expressions","expressions/dragdrop_expressions","keypad/mq-commands","core/lib/random-seed"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r,m,y,v,x,E,b,f,S,j,Q,G,q,L,M,D,V,W,N,re,Y,O,ee,oe,H,J,ie,de,fe,Ee){function ye(se){return se&&e.__assign(e.__assign({},se),{wasCompleteSetState:void 0,layoutModel:void 0,settingsViewModel:void 0})}function _e(se,I){return l.isEqual(ye(se),ye(I))}Object.defineProperty(u,"__esModule",{value:!0});var Fe=function(){function se(I){var ne=this;this.__nextItemId=0,this.__pendingImageUploads={},this.__waitingForClickableObjectWorkerResponse=!1,this.nextSubscription=0,this.subscriptions={},this._queuedCallbacks=[],this._hasUnsavedChanges=!1,this.shouldScrollSelectedItemIntoViewAfterDispatch=!1,this.lastParsableObjects={},this.toastData={},this.t=function(pe,ge){var Be=ne.graphSettings.config.language;return h.t(pe,ge,Be)},this.raw=function(pe,ge){return h.raw(pe,ge)},this.unpack=function(pe){var ge=ne.graphSettings.config.language;return h.unpack(pe,ge)},this.dispatch=function(pe){if(pe.type==="blur-focus-location"&&ne.dispatcher.isDispatching())return void ne.runAfterDispatch(function(){ne.dispatch(pe)});if(pe.type==="set-focus-location"&&ne.dispatcher.isDispatching())return void ne.runAfterDispatch(function(){ne.dispatch(pe)});if(pe.type==="tick"&&ne.dispatcher.isDispatching())return void ne.runAfterDispatch(function(){ne.dispatch(pe)});pe.type==="tick"||(pe.type==="process-graph-data"?O.leaveBreadcrumb("dispatch::"+ne.bugsnagContext,{type:pe.type}):O.leaveBreadcrumb("dispatch::"+ne.bugsnagContext,pe)),ne.dispatcher.isDispatching()&&O.leaveBreadcrumb("dispatch-in-dispatch::"+ne.bugsnagContext,{type:pe.type}),ne.dispatcher.dispatch(pe),ne.onEventsEmitted&&ne.onEventsEmitted(ne.enqueuedEvents);for(var ge;ge=ne._queuedCallbacks.shift();)ge()},this._requiresTickNextFrame=!1,this.updateViews=function(){for(var pe in ne.subscriptions)ne.subscriptions[pe]()},this.bugsnagContext="",this.inPrintMode=!1,this.lastInfiniteScrollFirstDOM=void 0,this.lastInfiniteScrollLastDOM=void 0,this.hasDispatchSinceLastInfiniteScrollUpdate=!1,this.stateStack=new r.default,this.isCurrentlyDoingSetState=!1,this.graphSettings=I,this.listModel=q.init(this),this.layoutModel=N.defaultLayoutModel(this.graphSettings.config),this.layoutMeasurements={width:0,height:0},this.settingsViewModel=re.defaultSettingsViewModel(),this.imageRetryState={lastAttemptTime:0,attempts:0},this.setupDispatcher()}return se.prototype.hasUnsavedChanges=function(){return this._hasUnsavedChanges},se.prototype.hasVisibleAndUndoableToast=function(){return typeof this.toastData.undoCallback=="function"},se.prototype.getToastData=function(){return this.toastData},se.prototype.toastUndo=function(){typeof this.toastData.undoCallback=="function"&&(this.toastData.undoCallback(),this.dispatch({type:"toast/close"}))},se.prototype.runAfterDispatch=function(I){this.dispatcher.isDispatching()?this._queuedCallbacks.push(I):I()},se.prototype.enqueueEvent=function(I){this.enqueuedEvents[I]=!0},se.prototype.setRandomSeed=function(I){this.graphSettings.setProperty("randomSeed",I)},se.prototype.getRandomSeed=function(){return this.graphSettings.randomSeed},se.prototype.shouldDispatchTickNextFrame=function(){return!!this._requiresTickNextFrame},se.prototype.markTickRequiredNextFrame=function(){this._requiresTickNextFrame=!0},se.prototype.setupDispatcher=function(){var I=this;this.dispatcher=new o.Dispatcher,this.dispatcher.register(function(ne){var pe=I.getSelectedItem(),ge=I.getFocusLocation();I.shouldScrollSelectedItemIntoViewAfterDispatch=!1;var Be;I.enqueuedEvents={change:!1,graphReset:!1,clearUnsavedChanges:!1,openDrawer:!1,userMovedPoint:!1,userClickedObject:!1,userEditedLabel:!1},ne.type==="tick"&&(I._requiresTickNextFrame=!1),I.isCurrentlyDoingSetState=!1,I.handleDispatchedAction(ne),I.updateTheComputedWorld();var Re=I.getImageToRetry();(I.getPlayingSliders().length>0||I.hasAnyTableThatRequiresTicks()||I.isDragDropActive()||Re)&&I.markTickRequiredNextFrame(),Re&&I.retryLoadingFailedImage(Re),ne.type==="undo"||ne.type==="redo"||I.isDragDropActive()||I.commitUndoRedoSynchronously(ne.type),I.requestParseForAllItems(),ne.type==="clickable-item-clicked"&&(I.__waitingForClickableObjectWorkerResponse=!0,I.evaluator.notifyWhenSynced(function(){I.__waitingForClickableObjectWorkerResponse=!1})),I.isCurrentlyDoingSetState=!1,I.enqueuedEvents.change&&I.grapher&&I.grapher.markLabelsDirty(),I.enqueuedEvents.clearUnsavedChanges?I._hasUnsavedChanges=!1:I.enqueuedEvents.change&&(I._hasUnsavedChanges=!0);var ve=I.getSelectedItem();ve?pe&&pe.guid===ve.guid||(I.shouldScrollSelectedItemIntoViewAfterDispatch=!0):I.shouldScrollSelectedItemIntoViewAfterDispatch=!1;var ke=I.getFocusLocation();ke&&!l.isEqual(ke,ge)&&I.getFocusedItem()==ve&&(I.shouldScrollSelectedItemIntoViewAfterDispatch=!0),ge&&pe&&pe.type==="table"&&ge.type==="table"&&(!ke||ke.type!=="table"||ge.id!==ke.id)&&pe.isExpanded&&(S.setExpanded(pe,!1),ke||(Be=pe)),ke&&ve&&ve.type==="table"&&S.updateIsCollapsedByFocusLocation(ve),I.updateRenderShellsBeforePaint(),I.updateViews(),Be?I.scrollItemIntoView(Be):I.shouldScrollSelectedItemIntoViewAfterDispatch&&I.scrollSelectedItemIntoView(),I.updateDragDrop(),I.updateRenderShellsAfterDispatch()})},se.prototype.handleDispatchedAction=function(I){var ne=this;switch(I.type){case"api-method-called":break;case"undo":this.undo();break;case"redo":this.redo();break;case"clear-undoredo-history":this.clearUndoRedoHistory();break;case"on-special-key-pressed":I.key==="Enter"?D.onEnterPressed(this):I.key==="Up"?D.onUpPressed(this):I.key==="Down"?D.onDownPressed(this):I.key==="Backspace"?D.onBackspacePressed(this):I.key==="Delete"&&D.onDeletePressed(this);break;case"select-previous-expression":q.selectPrevItem(this.listModel);break;case"select-next-expression":q.selectNextItem(this.listModel);break;case"upward-delete-selected-expression":D.upwardDeleteSelectedExpression(this);break;case"downward-delete-selected-expression":D.downwardDeleteSelectedExpression(this);break;case"table-show-more-rows":var z=this.getItemModel(I.id);if(!z||z.type!=="table")return;var pe=S.getCollapsedRange(z);if(!pe)return;q.setSelected(this.listModel,z),S.setExpanded(z,!0),M.setFocusLocation(this,{type:"table",id:z.id,location:{row:pe.min,column:0}});break;case"navigate-table-by-key":D.navigateTableByKey(this,I.id,I.key);break;case"delete-item-and-animate-out":this._deleteItemAndAnimateOut(I.id,I.setFocusAfterDelete);break;case"finish-deleting-item-after-animation":this._finishDeletingItemAfterAnimation(I.id,I.setFocusAfterDelete);break;case"expression-zoom-fit":this._expressionZoomFit(I.id);break;case"set-expression-properties-from-api":this._setExpressionPropertiesFromAPI(I.id,I.properties);break;case"add-item-to-end-from-api":this._addItemToEndFromAPI(this.createItemModel(I.state));break;case"duplicate-expression":var ge=this.getItemModel(I.id);if(!ge||ge.type!=="expression")return;var Be=f.getState(ge,{stripDefaults:!1}),Re=this.createItemModel(e.__assign(e.__assign({},Be),{id:this.generateId()}));this._toplevelInsertItemAt(ge.index+1,Re,!1,ge.folderId);break;case"insert-item-at-index":var ve=this.createItemModel(I.state);this._toplevelInsertItemAt(I.index,ve,I.focus,I.folderId);break;case"new-expression-at-end":var ke=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});this.setEditListMode(!1),q.insertItemAtEnd(this.listModel,ke),M.moveFocusToItem(this,ke.id);break;case"new-expression":var T=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});this.setEditListMode(!1),this._toplevelNewItemAtSelection(T,{shouldFocus:!0}),this._closeAddExpression();break;case"new-text":var Ie=this.createItemModel({id:this.generateId(),type:"text"});this._toplevelNewItemAtSelection(Ie,{shouldFocus:!0}),this._closeAddExpression();break;case"new-folder":var Ke=this.createItemModel({type:"folder",id:this.generateId()});this._toplevelNewItemAtSelection(Ke,{shouldFocus:!0}),this._closeAddExpression();break;case"new-images":this._uploadImagesAndWaitForThemToLoad({files:I.files}),this._closeAddExpression();break;case"change-image":this._uploadImagesAndWaitForThemToLoad({files:I.files,id:I.id});break;case"new-table":var Ye=this._createTableItem();this._toplevelNewItemAtSelection(Ye,{shouldFocus:!0}),this._closeAddExpression();break;case"paste-table":this._pasteTable(I.data);break;case"insert-several-expressions":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this._insertSeveralExpressions(I.expressions);break;case"append-number-list":this._appendNumberList(I.latex);break;case"remove-item-by-id":q.removeItemById(this.listModel,I.id);break;case"replace-item-at-index":var bt=this.createItemModel(I.state);this._toplevelReplaceItemAt(I.index,bt,I.focus);break;case"create-sliders-for-item":this.createSlidersForItem(I.id,I.variables);break;case"start-dragdrop":var z=this.getItemModel(I.id);if(!z)return;var le=this.getItemRootNodeById(z.id);if(!le)return;var Te=le.getBoundingClientRect();q.setSelected(this.listModel,void 0);var Ce=I.grabY-Te.top,xe=!1,Qe=1;z.type==="folder"&&(Qe+=this.getNumberOfItemsInFolder(z.id),z.collapsed||(xe=!0,Q.setCollapsed(z,!0))),q.setDragState(this.listModel,{firstItemId:z.id,numberOfItems:Qe,expandFolder:xe,grabOffset:Ce,mouseY:I.mouseY,itemTop:0}),this.dragdrop_expressions.startDragging(I.mouseY);break;case"update-dragdrop":var je=this.listModel.dragState;if(!je)return;q.setDragState(this.listModel,e.__assign(e.__assign({},je),{mouseY:I.mouseY}));break;case"stop-dragdrop":var je=this.listModel.dragState;if(!je)return;var zt=this.getItemModel(je.firstItemId);if(!zt)return;q.setSelected(this.listModel,zt),zt.type==="folder"&&je.expandFolder&&Q.setCollapsed(zt,!1),q.setDragState(this.listModel,void 0);break;case"set-selected-id":var be=this.getItemModel(I.id);q.setSelected(this.listModel,be);break;case"set-selected-index":var Me=this.getItemModelByIndex(I.index);q.setSelected(this.listModel,Me);break;case"set-none-selected":q.setSelected(this.listModel,void 0);break;case"set-focus-location":(I.location?I.location.type:"")==="table"&&(this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{inEditListMode:!1})),M.setFocusLocation(this,I.location);break;case"move-focus-to-item":M.moveFocusToItem(this,I.id,I.where);break;case"blur-focus-location":this.isFocusLocationFocused(I.location)&&M.setFocusLocation(this,void 0);break;case"set-folder-collapsed":var z=this.getItemModel(I.id);if(!z||z.type!=="folder")return;Q.setCollapsed(z,I.isCollapsed);break;case"set-item-secret":var De=this.getItemModel(I.id);if(!De)return;L.setSecret(De,I.isSecret);break;case"set-tablecolumn-color":var z=this.getItemModel(I.tableId);if(!z||z.type!=="table")return;S.setColumnColor(z,I.columnId,I.color);break;case"set-show-cdf":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setShowCDF(z,I.showCDF);break;case"set-cdf-min":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setCDFMin(z,I.latex);break;case"set-cdf-max":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setCDFMax(z,I.latex);break;case"toggle-item-hidden":this._toggleItemHidden(I.id);break;case"toggle-tablecolumn-hidden":this._toggleTableColumnHidden(I.tableId,I.columnId);break;case"toggle-item-settings-menu":this.listModel.openItemMenu&&I.menu.model===this.listModel.openItemMenu.model?this.listModel.openItemMenu=void 0:(this.listModel.openItemMenu=I.menu,I.menu.focusFirstOption&&M.setFocusLocation(this,{type:"expression-menu",id:I.menu.model.id,location:"start"}));break;case"close-item-settings-menu":this.listModel.openItemMenu=void 0;break;case"toggle-fraction-evaluation":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;var Pe=f.shouldEvaluationDisplayAsFraction(z);f.setEvaluationAsFraction(z,!Pe);break;case"set-item-label":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setLabel(z,I.label),this.enqueueEvent("userEditedLabel");break;case"set-item-showlabel":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setShowLabel(z,I.showLabel),I.showLabel||(f.setInteractiveLabel(z,!1),f.setEditableLabelMode(z,b.EditableLabelMode.None));break;case"set-item-color":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setColor(z,I.color);break;case"set-item-fill":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setFill(z,I.fill),this._setItemHidden(z.id,f.areAllVisibilityPropsOff(z));break;case"set-image-opacity":var z=this.getItemModel(I.id);if(!z||z.type!=="image")return;j.setOpacity(z,I.opacity),this._setItemHidden(z.id,!1);break;case"set-image-in-foreground":var z=this.getItemModel(I.id);if(!z||z.type!=="image")return;j.setForeground(z,I.foreground);break;case"image-upload-error":this.__pendingImageUploads[I.token]&&(delete this.__pendingImageUploads[I.token],this._showToast({message:this.t("Image upload failed.")}));break;case"image-upload-success":if(this.__pendingImageUploads[I.token])if(delete this.__pendingImageUploads[I.token],I.id){var z=this.getItemModel(I.id);z&&z.type==="image"&&j.setImageURL(z,I.url)}else{var He=this.createItemModel({type:"image",id:this.generateId(),width:I.width,height:I.height,image_url:I.url,name:I.name});this._toplevelNewItemAtSelection(He,{shouldFocus:!1})}this.isUploadingImages()||(this.toastData={});break;case"image-load-success":var He=this.getItemModel(I.id);if(!He||He.type!=="image")return;j.setLoadStatus(He,"loaded"),this.imageRetryState={lastAttemptTime:0,attempts:0};break;case"image-load-error":var He=this.getItemModel(I.id);if(!He||He.type!=="image")return;j.setLoadStatus(He,"failed");break;case"image-retry-loading":var He=this.getItemModel(I.id);if(!He||He.type!=="image")return;j.retryLoading(He);break;case"set-item-dragmode":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setDragMode(z,I.dragMode),I.dragMode!==p.DragMode.NONE&&this._setItemHidden(I.id,!1);break;case"set-tablecolumn-dragmode":var z=this.getItemModel(I.tableId);if(!z||z.type!=="table")return;S.setColumnDragMode(z,I.columnId,I.dragMode),I.dragMode!==p.DragMode.NONE&&this._setTableColumnHidden(I.tableId,I.columnId,!1);break;case"set-tablecolumn-points":var z=this.getItemModel(I.tableId);if(!z||z.type!=="table")return;S.setColumnPoints(z,I.columnId,I.bool),this._setTableColumnHidden(I.tableId,I.columnId,S.shouldHideColumn(z,I.columnId));break;case"set-tablecolumn-lines":var z=this.getItemModel(I.tableId);if(!z||z.type!=="table")return;S.setColumnLines(z,I.columnId,I.bool),this._setTableColumnHidden(I.tableId,I.columnId,S.shouldHideColumn(z,I.columnId));break;case"set-tablecolumn-linestyle":var z=this.getItemModel(I.tableId);if(!z||z.type!=="table")return;S.setColumnLineStyle(z,I.columnId,I.lineStyle),this._setTableColumnHidden(I.tableId,I.columnId,!1);break;case"set-tablecolumn-pointstyle":var z=this.getItemModel(I.tableId);if(!z||z.type!=="table")return;S.setColumnPointStyle(z,I.columnId,I.pointStyle),this._setTableColumnHidden(I.tableId,I.columnId,!1);break;case"set-item-points":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setPoints(z,I.points),this._setItemHidden(I.id,f.areAllVisibilityPropsOff(z)),I.points||z.dragMode===p.DragMode.NONE||f.setDragMode(z,p.DragMode.NONE);break;case"set-item-pointstyle":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setPointStyle(z,I.pointStyle),this._setItemHidden(I.id,!1);break;case"set-item-lines":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setLines(z,I.lines),this._setItemHidden(I.id,f.areAllVisibilityPropsOff(z));break;case"set-item-linestyle":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setLineStyle(z,I.lineStyle),this._setItemHidden(I.id,!1);break;case"set-item-label-dropdown-open":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setLabelDropdownOpen(z,I.open);break;case"set-item-fillopacity":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setFillOpacity(z,I.fillOpacity),this._setItemHidden(I.id,!1);break;case"set-item-linewidth":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setLineWidth(z,I.lineWidth),this._setItemHidden(I.id,!1);break;case"set-item-labelSize":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setLabelSize(z,I.labelSize);break;case"set-item-label-orientation":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setLabelOrientation(z,I.labelOrientation);break;case"set-item-vertical-label":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setVerticalLabel(z,I.verticalLabel);break;case"set-suppress-text-outline":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setSuppressTextOutline(z,I.suppressTextOutline);break;case"set-item-interactive-label":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setInteractiveLabel(z,I.interactiveLabel),I.interactiveLabel&&f.setEditableLabelMode(z,b.EditableLabelMode.None);break;case"set-item-editable-label-mode":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;z.editableLabelMode!==b.EditableLabelMode.None&&I.editableLabelMode!==b.EditableLabelMode.None&&z.editableLabelMode!==I.editableLabelMode&&f.setLabel(z,""),f.setEditableLabelMode(z,I.editableLabelMode),I.editableLabelMode!==b.EditableLabelMode.None&&f.setInteractiveLabel(z,!1);break;case"plot-residuals":var Ze=this.getItemModel(I.id);if(!Ze||Ze.type!=="expression")return;var rt=Ze.formula.regression,Ct=rt.residualSuggestionId;if(!Ct)return;var nt=this.getItemModel(Ct);if(!nt)return;S.insertBlankColumn(nt,nt.columnModels.length-1,{id:this.generateId(),latex:a.identifierToLatex(rt.residualVariable),color:this.getNextColor()});break;case"toggle-logmode":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;var at=z.isLogModeRegression;f.setLogMode(z,!at);break;case"set-item-latex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var Mt=this.getItemModel(I.id);if(!Mt||Mt.type!=="expression")return;var ht=I.latex;if(ht==='"'&&this.areNotesEnabled()){var Qt=this.createItemModel({id:this.generateId(),type:"text"});this._toplevelReplaceItemAt(Mt.index,Qt,!0)}else if(ht==="")f.blankOutExpressionAfterClearingLatex(Mt);else if(ht==="folder"&&this.areFoldersEnabled()){var dt=this.createItemModel({id:this.generateId(),type:"folder"});this._toplevelReplaceItemAt(Mt.index,dt,!0)}else if(ht==="table"){var Pt=this._createTableItem();this._toplevelReplaceItemAt(Mt.index,Pt,!0)}else ht==="betchacant"?this.runAfterDispatch(function(){ne.triggerBetchacant&&ne.triggerBetchacant()}):f.setLatex(Mt,ht);break;case"set-visualization-prop":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setVizProp(z,I.prop,I.latex);break;case"set-clickableinfo-prop":var z=this.getItemModel(I.id);if(!z)return;z.type==="expression"?f.setClickableInfoProp(z,I.prop,I.value):z.type==="image"&&j.setClickableInfoProp(z,I.prop,I.value),I.value===!0&&(M.setFocusLocation(this,{type:"clickableinfo-prop",id:I.id,location:"assignment"}),this.listModel.openItemMenu=void 0);break;case"set-folder-title":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="folder")return;Q.setTitle(z,I.title);break;case"set-image-mq-attribute":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="image")return;j.setMQAttribute(z,I.attribute,I.latex);break;case"set-image-name":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="image")return;j.setName(z,I.name);break;case"set-graph-settings":for(var Dt in I)Dt!=="type"&&this.graphSettings.setProperty(Dt,I[Dt]);break;case"set-polar-domain-minlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setPolarDomainMin(z,I.latex);break;case"set-polar-domain-maxlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setPolarDomainMax(z,I.latex);break;case"set-parametric-domain-minlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setParametricDomainMin(z,I.latex);break;case"set-parametric-domain-maxlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setParametricDomainMax(z,I.latex);break;case"set-note-text":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="text")return;G.setText(z,I.text);break;case"set-edit-list-mode":var z=q.getSelected(this.listModel);if(this.setEditListMode(I.isEditListMode),I.focusExpressionList){if(z===void 0&&(z=this.getItemModelByIndex(0)),!z)return;M.moveFocusToItem(this,z.id,z.type==="table"&&I.isEditListMode?"container":"start")}else q.setSelected(this.listModel,void 0),M.setFocusLocation(this,void 0);break;case"set-projector-mode":this.getGraphSettings().config.setProperty("projectorMode",I.value);break;case"set-inverted-colors":this.getGraphSettings().config.setProperty("invertedColors",I.value);break;case"set-tablecell-latex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.tableId);if(!z||z.type!=="table")return;S.setCellLatex(z,I.cell,I.latex);break;case"set-state":this.externalSetState(I.state,I.opts);break;case"set-blank":this.externalSetState(this.getBlankState(),I.opts);break;case"clear-unsaved-changes":this.enqueueEvent("clearUnsavedChanges");break;case"reset-graph":var Wt=this.getState();this.externalSetState(this.graphSettings.defaultState,{}),this._showToast({message:this.t("Graph reset."),undoCallback:function(){return ne.dispatch({type:"set-state",state:Wt,opts:{}})}}),this.enqueueEvent("graphReset");break;case"clear-graph":if(this.triggerClearGraph)return void this.runAfterDispatch(function(){return ne.triggerClearGraph()});var nn=this.getState();this.externalSetState(this.getBlankState(),{});var zt=this.getItemModelByIndex(0);zt&&M.moveFocusToItem(this,zt.id,"end"),this._showToast({message:this.t("Graph cleared."),undoCallback:function(){return ne.dispatch({type:"set-state",state:nn,opts:{}})}}),this.enqueueEvent("graphReset");break;case"on-evaluator-changes":q.onEvaluatorFormulaUpdates(this.listModel,I.changes);break;case"process-graph-data":var Nt;for(Nt in I.graphData.addedGraphs){var U=I.graphData.addedGraphs[Nt];this.grapher&&this.grapher.updateSketch(Nt,U),q.onGraphComputed(this.listModel,Nt,U)}for(Nt in I.graphData.removedGraphs)this.grapher&&this.grapher.hide(Nt);for(Nt in I.graphData.intersections)this.grapher&&this.grapher.type==="2d"&&this.grapher.updateIntersections(Nt,I.graphData.intersections[Nt]);this.grapher&&this.grapher.poiController&&this.grapher.poiController.handleTraceUpdate();break;case"add-helper-expression":q.addHelperExpression(this.listModel,I.state);break;case"tick":this._tickSliders(I.time);break;case"adjust-slider-by-keyboard":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.adjustSliderByKeyboard(z,I.adjustment);break;case"adjust-slider-by-dragging-thumb":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.adjustSliderByDraggingThumb(z,I.target);break;case"set-slider-minlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setSliderMin(z,I.latex);break;case"set-slider-maxlatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setSliderMax(z,I.latex);break;case"set-slider-steplatex":this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setSliderStep(z,I.latex);break;case"set-slider-dragging":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setSliderDragging(z,I.dragging);break;case"play-slider-from-min":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;var Z=f.getSliderMin(z);if(isNaN(Z))return;var k=f.computeNewSliderLatex(z.latex,Z);f.setSliderIsPlaying(z,!1),f.setLatex(z,k),f.setSliderIsPlaying(z,!0);break;case"set-slider-isplaying":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setSliderIsPlaying(z,I.isPlaying);break;case"set-slider-loopmode":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setSliderLoopMode(z,I.loopMode);break;case"set-slider-animationperiod":var z=this.getItemModel(I.id);if(!z||z.type!=="expression")return;f.setSliderAnimationPeriod(z,I.animationPeriod);break;case"show-expressions-list":this._showExpressions();break;case"hide-expressions-list":this._hideExpressions();break;case"open-drawer":this.enqueueEvent("openDrawer");break;case"re-randomize":this.setRandomSeed(Ee.default());break;case"resize-exp-list":this._setExpListWidth(I.expListWidth);break;case"toast/show":this._showToast(I.toast);break;case"toast/close":var P=this.toastData.onHide;P&&this.runAfterDispatch(P),this.toastData={};break;case"toast/undo":var K=this.toastData.undoCallback;K&&this.runAfterDispatch(K),this.toastData={};break;case"toast/learn-more":var ue=this.toastData.undoCallback;ue&&this.runAfterDispatch(ue),this.toastData={};break;case"start-moving-point":oe.onStartMovingPoint(this,this.listModel,I.pointInfo);break;case"stop-moving-point":oe.onStopMovingPoint(this,I.pointInfo);break;case"on-move-point":oe.onMovePoint(this,I.pointInfo,I.screenPt,I.projection,I.keyboardDirection)&&this.enqueueEvent("userMovedPoint");break;case"commit-user-requested-viewport":this._commitUserRequestedViewport(I.viewport);break;case"set-viewport":this._setAxisLimitLatex("xmin",I.viewport.xmin+""),this._setAxisLimitLatex("xmax",I.viewport.xmax+""),this._setAxisLimitLatex("ymin",I.viewport.ymin+""),this._setAxisLimitLatex("ymax",I.viewport.ymax+"");break;case"set-axis-limit-latex":this._setAxisLimitLatex(I.limit,I.latex);break;case"toggle-graph-settings":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{graphSettingsOpen:!this.layoutModel.graphSettingsOpen}),I.focusOnOpen&&this.layoutModel.graphSettingsOpen&&M.setFocusLocation(this,{type:"settings",location:"projector-mode"});break;case"close-graph-settings":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{graphSettingsOpen:!1}),I.focusIconAfterClose&&M.setFocusLocation(this,{type:"settings",location:"icon"});break;case"toggle-add-expression":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{addExpressionOpen:!this.layoutModel.addExpressionOpen}),I.focusOnOpen&&this.layoutModel.addExpressionOpen&&M.setFocusLocation(this,{type:"add-expression-btn"});break;case"close-add-expression":this._closeAddExpression(),I.focusIconAfterClose&&M.setFocusLocation(this,{type:"add-item-btn"});break;case"ui/container-resized":this.layoutMeasurements={width:I.size.width,height:I.size.height},this.shouldScrollSelectedItemIntoViewAfterDispatch=!0;break;case"enter-printmode":this.inPrintMode=!0;break;case"exit-printmode":this.inPrintMode=!1;break;case"expression-size-exceeded":this._showToast({message:this.t("Expression size cannot exceed 100 characters.")});break;case"keypad/set-layout":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadLayout:I.layout,keypadFunctionsOpen:!1});break;case"keypad/set-functions-tab":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadFunctionsTab:I.tab});break;case"keypad/set-minimized":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadMinimized:I.minimized,keypadLayout:"mainNumbers"}),this.shouldScrollSelectedItemIntoViewAfterDispatch=!0,this.needsFakeKeypad()||M.addFocusForKeypad(this);break;case"keypad/type-text":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var $e=J.default.getFocusedMathquill();$e&&J.default.canAcceptText($e,ne.getCapExpressionSize(),I.text)&&($e.typedText(I.text),J.default.simulateUserChangedLatex($e))});break;case"keypad/press-key":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var $e=J.default.getFocusedMathquill();$e&&J.default.simulateKeypress($e,I.key)});break;case"keypad/custom-command":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadFunctionsOpen:!1}),this.runAfterDispatch(function(){var $e=J.default.getFocusedMathquill();$e&&(fe.execute($e,I.command),J.default.simulateUserChangedLatex($e))});break;case"keypad/shift":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadLayout:N.getShiftedLayoutForCurrentLayout(this.getKeypadLayout()),keypadFunctionsOpen:!1});break;case"keypad/123":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadLayout:"mainNumbers",keypadFunctionsOpen:!1});break;case"keypad/abc":this.isQwertyKeyboardEnabled()?this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadLayout:"letters",keypadFunctionsOpen:!1}):this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadLayout:"noQwertyLetters",keypadFunctionsOpen:!1});break;case"keypad/functions":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadFunctionsOpen:!this.isKeypadFunctionsPopoverOpen()});break;case"open-on-web":this._openOnWeb();break;case"file-is-dragged-over":this.listModel.openItemMenu=void 0,this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{isFileDraggedOver:!0});break;case"file-is-not-dragged-over":this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{isFileDraggedOver:!1});break;case"zoom":this.grapher&&this.grapher.viewportController.zoom(I.direction);break;case"set-hovered-image":var z=this.getItemModel(I.id);if(!z||z.type!=="image")return;j.setClickableInfoProp(z,"hoveredImage",I.url);break;case"set-depressed-image":var z=this.getItemModel(I.id);if(!z||z.type!=="image")return;j.setClickableInfoProp(z,"depressedImage",I.url);break;case"clickable-item-clicked":var z=this.getItemModel(I.id);if(!z)return;var me;if(z.type==="expression"?me=f.getClickableInfoUpdateLatex(z):z.type==="image"&&(me=j.getClickableInfoUpdateLatex(z)),!me)return;var we;if(z.type==="expression"?we=f.getClickableInfoUpdateIdentifier(z):z.type==="image"&&(we=j.getClickableInfoUpdateIdentifier(z)),we){var qe=q.getItemsByIdentifier(this.listModel,we);if(qe.length===1){var Ge=qe[0];Ge.slider.isPlaying?(f.setSliderIsPlaying(Ge,!1),f.setLatex(Ge,me),f.setSliderIsPlaying(Ge,!0)):f.setLatex(Ge,me)}this.enqueueEvent("userClickedObject")}break;case"update-ide-search-str":this.updateIDESearchStr(I.str);break;case"set-braille-mode":this.setBrailleMode(I.mode);break;case"set-six-key-input":this.setSixKeyInput(I.useSixKeyInput);break;default:return I}},se.prototype.updateIDESearchStr=function(I){this.ideSearchStr=I,q.filterItemsBySearch(this.listModel,I)},se.prototype.getIDESearchStr=function(){return this.ideSearchStr||""},se.prototype.areClickableObjectsTemporarilyDisabled=function(){return this.__waitingForClickableObjectWorkerResponse},se.prototype.getBrailleMode=function(){return this.graphSettings.config.brailleMode},se.prototype.setBrailleMode=function(I){this.graphSettings.config.brailleMode=I},se.prototype.getSixKeyInput=function(){return this.graphSettings.config.sixKeyInput},se.prototype.setSixKeyInput=function(I){this.graphSettings.config.sixKeyInput=I},se.prototype.setEditListMode=function(I){this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{inEditListMode:I})},se.prototype._createTableItem=function(){var I=q.findAvailableColumnSubscript(this.listModel),ne=S.makeTableState(I,[[""],[""]],this);return this.createItemModel(ne)},se.prototype._populateSettingsViewLimitLatex=function(){this.grapher&&(this.settingsViewModel=e.__assign(e.__assign({},this.settingsViewModel),{limitLatex:re.limitLatex(this.grapher.getCurrentViewport(),this.getGraphSettings().xAxisStep,this.getGraphSettings().yAxisStep)}))},se.prototype.getSettingsViewModel=function(){return this.settingsViewModel},se.prototype.getListModel=function(){return this.listModel},se.prototype.hasBackgroundColor=function(){return this.getBackgroundColor()!=="#ffffff"},se.prototype.getBackgroundColor=function(){return this.getGraphSettings().getBackgroundColor()},se.prototype.getTextColor=function(){return this.getGraphSettings().getTextColor()},se.prototype.getPillboxBackgroundColor=function(){return x.shadeColor(this.getBackgroundColor(),-.07)},se.prototype.subToChanges=function(I){var ne=this,pe=this.nextSubscription;return this.nextSubscription+=1,this.subscriptions[pe]=I,function(){delete ne.subscriptions[pe]}},se.prototype.updateTheComputedWorld=function(){var I=this;q.reindex(this.listModel),q.updateDrawOrder(this.listModel),this.grapher&&this.grapher.setSketchOrder(this.listModel.drawOrder);for(var ne=0,pe=this.getAllItemModels();ne<pe.length;ne++){var ge=pe[ne];switch(ge.type){case"expression":f.onControllerUpdate(ge);break;case"image":j.onControllerUpdate(ge);break;case"table":S.onControllerUpdate(ge);break;case"folder":Q.onControllerUpdate(ge);break;case"text":G.onControllerUpdate(ge);break;default:return ge}}this.isCurrentFocusLocationValid()||M.setFocusLocation(this,void 0),this.listModel.openItemMenu&&(document.body&&document.body.contains(this.listModel.openItemMenu.icon)||(this.listModel.openItemMenu=void 0));var Be=this.getSelectedItem();Be&&!this.getItemModel(Be.id)&&q.setSelected(this.listModel,void 0),this.layoutModel.graphSettingsOpen||this._populateSettingsViewLimitLatex(),this.propagateSelection(),this.isKeypadOpen()||(this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{keypadFunctionsOpen:!1})),this.runAfterDispatch(function(){I.grapher&&I.grapher.type==="2d"&&I.grapher.audioGraph.checkIfSelectedItemChanged(Be?Be.id:void 0),I.grapher&&I.grapher.type==="2d"&&I.focusLocation&&I.grapher.audioGraph.exitAudioTrace()})},se.prototype.propagateSelection=function(){this.grapher&&this.evaluator?this.__lastSelectedId=w.propagateSelection(this,this.grapher,this.evaluator,this.__lastSelectedId):this.__lastSelectedId=void 0},se.prototype.getIntersectId=function(){return this.__lastSelectedId},se.prototype.areParsableObjectsEqual=function(I,ne){return I===ne||l.isEqual(e.__assign(e.__assign({},I),{regressionParameters:void 0}),e.__assign(e.__assign({},ne),{regressionParameters:void 0}))},se.prototype.requestParseForAllItems=function(){this.isCurrentlyDoingSetState&&this.evaluator.clearStatementsAndStartCompleteState();for(var I={},ne=this.lastParsableObjects,pe=0,ge=this.getAllItemModels();pe<ge.length;pe++){var Be=ge[pe];switch(Be.type){case"expression":case"image":case"table":I[Be.id]=Be.cachedParsableState;break;case"folder":case"text":break;default:return Be}}for(var Re=0,ve=q.getAllHelperItemModels(this.listModel);Re<ve.length;Re++){var Be=ve[Re];I[Be.id]=Be.cachedParsableState}for(var ke in I){var T=I[ke],Ie=ne[ke];if(T.type==="image"&&(!Ie||T.type!==Ie.type||T.guid!==Ie.guid)&&this.grapher){var Be=this.getItemModel(ke);Be&&Be.type==="image"&&this.grapher.addGraphImage(Be)}this.areParsableObjectsEqual(T,Ie)||(this.grapher&&T.type==="statement"&&T.latex===""&&this.grapher.removeGraphSketch(T.id),this.evaluator.addStatement(T))}for(var ke in ne){var Ie=ne[ke],T=I[ke];if(Ie.type!=="image"||T&&T.type===Ie.type&&T.guid===Ie.guid||this.grapher&&this.grapher.removeGraphImage(ke),!T&&(this.evaluator.removeStatement(ke),Ie.type==="table"))for(var Ke=0,Ye=Ie.columns;Ke<Ye.length;Ke++){var bt=Ye[Ke];this.evaluator.removeStatement(bt.id)}}this.lastParsableObjects=I},se.prototype.getViewState=function(){if(this.grapher){var I=this.grapher.getProjection();return{viewport:I.viewport.toObject(),screen:I.screen}}},se.prototype.setEvaluator=function(I){this.evaluator=I},se.prototype.setGrapher=function(I){this.grapher=I},se.prototype.getGrapher=function(){return this.grapher},se.prototype.shouldExpressionZoomFit=function(I){return!!this.grapher&&(I.type==="expression"||I.type==="table")&&!!(I.type!=="expression"||!I.error&&I.shouldGraph&&I.formula.is_graphable)&&!(!I.boundingBoxes||!I.boundingBoxes.length)&&V.shouldExpressionZoomFit(I.boundingBoxes,this.grapher.viewportController.getProjection())},se.prototype.setBugsnagContext=function(I){this.bugsnagContext=I},se.prototype.getItemRootNodeById=function(I){var ne=this.getItemModel(I);return ne&&ne.dcgView?ne.dcgView.findRootNode():void 0},se.prototype.getItemSelectorById=function(I){var ne=this.getItemRootNodeById(I);return ne?Y(ne):void 0},se.prototype.generateId=function(){var I=this.__nextItemId;return this.__nextItemId+=1,I+""},se.prototype.getNextColor=function(){return q.getNextColor(this.listModel)},se.prototype.getNextDisplayIndex=function(){return this.listModel.nextDisplayIndex},se.prototype._clearPendingImageUploads=function(){this.__pendingImageUploads={}},se.prototype.isUploadingImages=function(){return Object.keys(this.__pendingImageUploads).length>0},se.prototype.getExpressionAnalysis=function(){return this.listModel.expressionAnalysis},se.prototype.createItemModel=function(I){return q.modelFromSpec(this.listModel,I)},se.prototype.getItemModel=function(I){return q.getItemById(this.listModel,I)},se.prototype.getItemModelByIndex=function(I){return q.getItemByIndex(this.listModel,I)},se.prototype.getItemCount=function(){return q.getItemCount(this.listModel)},se.prototype.getItemEditableLabelMode=function(I){var ne=this.getItemModel(I);if(ne&&ne.type==="expression")return f.getEditableLabelMode(ne)},se.prototype.isItemSecret=function(I){var ne=this.getItemModel(I);return!!ne&&q.isItemSecret(ne)},se.prototype.isItemSelected=function(I){var ne=this.getItemModel(I);return!!ne&&q.isItemSelected(ne)},se.prototype.isItemSelectable=function(I){var ne=this.getItemModel(I);return!!ne&&q.isItemSelectable(ne)},se.prototype.anyItemDependsOnRandomSeed=function(){return q.anyItemDependsOnRandomSeed(this.listModel)},se.prototype.getAllItemModels=function(){return q.getAllItemModels(this.listModel)},se.prototype.getAllModelsWithSliders=function(){return q.getAllModelsWithSliders(this.listModel)},se.prototype.getGraphSettings=function(){return this.graphSettings},se.prototype.getAudioGraph=function(){return this.grapher!==void 0&&this.grapher.type==="2d"?this.grapher.audioGraph:void 0},se.prototype.inAudioTraceMode=function(){var I=this.getAudioGraph();return!(!I||!I.audioTraceActive)},se.prototype.expressionsAreFullWidth=function(){return this.isNarrow()||this.graphSettings.config.graphpaper===!1},se.prototype.getExpListWidthString=function(){return this.expressionsAreFullWidth()?"100%":this.rootElt?this._getExpListWidth()+"px":"0"},se.prototype.getExpListWidth=function(){return this.rootElt?this._getExpListWidth():0},se.prototype.findFirstVisibleItem=function(){var I=ie.getFirstVisibleItemId(this,this._previousFirstVisibleId);return this._previousFirstVisibleId=I,I?this.getItemModel(I):void 0},se.prototype.findLastVisibleItem=function(){var I=ie.getLastVisibleItemId(this,this._previousLastVisibleId);return this._previousLastVisibleId=I,I?this.getItemModel(I):void 0},se.prototype.updateRenderShellsAfterDispatch=function(){if(this.rootElt&&this.isListVisible()){var I=this.findFirstVisibleItem(),ne=this.findLastVisibleItem(),pe=I&&this.getItemRootNodeById(I.id),ge=ne&&this.getItemRootNodeById(ne.id);if(pe!==this.lastInfiniteScrollFirstDOM||ge!==this.lastInfiniteScrollLastDOM||this.hasDispatchSinceLastInfiniteScrollUpdate){this.lastInfiniteScrollFirstDOM=pe,this.lastInfiniteScrollLastDOM=ge,this.hasDispatchSinceLastInfiniteScrollUpdate=!1;for(var Be=!1,Re=I?I.index:1/0,ve=ne?ne.index:1/0,ke=this.listModel.dragState&&this.listModel.dragState.firstItemId,T=0,Ie=this.getAllItemModels();T<Ie.length;T++){var Ke=Ie[T],Ye=!(Ke.index>=Re&&Ke.index<=ve&&!Ke.isHiddenFromUI);if(ke==Ke.id&&(Ye=!1),Ke.renderShell!==Ye&&(Ke.renderShell=Ye,Be=!0,Ye)){var bt=this.getItemRootNodeById(Ke.id);if(bt){var le=bt.getBoundingClientRect().height;le>0&&(Ke.cachedRenderHeight=le)}}}Be&&this.markTickRequiredNextFrame()}}},se.prototype.updateRenderShellsBeforePaint=function(){if(this.hasDispatchSinceLastInfiniteScrollUpdate=!0,this.inPrintMode)for(var I=0,ne=this.getAllItemModels();I<ne.length;I++){var pe=ne[I];pe.renderShell=!1}else{for(var ge=0,Be=this.getAllItemModels();ge<Be.length;ge++){var pe=Be[ge];pe.isHiddenFromUI&&(pe.renderShell=!0)}var Re=this.getSelectedItem();Re&&(Re.renderShell=!1)}},se.prototype.updateDragDrop=function(){var I=this.listModel.dragState;if(I){var ne=this.getItemModel(I.firstItemId);if(ne){var pe=this.dragdrop_expressions.applyDrag();pe&&(q.setDragState(this.listModel,pe.dragState),L.setFolderId(ne,pe.folderId),ne.index!==pe.newIndex&&q.moveItemsTo(this.listModel,ne.index,pe.newIndex,I.numberOfItems))}}},se.prototype._tickSliders=function(I){this.getPlayingSliders().forEach(function(ne){f.tickSliderStep(ne,I)})},se.prototype.getPlayingSliders=function(){for(var I=this.getAllItemModels(),ne=[],pe=0,ge=I;pe<ge.length;pe++){var Be=ge[pe];Be.type==="expression"&&Be.sliderExists&&Be.slider.isPlaying&&ne.push(Be)}return ne},se.prototype.hasAnyTableThatRequiresTicks=function(){for(var I=this.getAllItemModels(),ne=0,pe=I;ne<pe.length;ne++){var ge=pe[ne];if(!ge.renderShell&&ge.type==="table"&&ge.rowModels.length>=25)return!0}return!1},se.prototype.areAnyImagesLoading=function(){return q.areAnyImagesLoading(this.listModel)},se.prototype._commitUserRequestedViewport=function(I){this.grapher&&this.grapher.setUserRequestedViewport(I)},se.prototype._setAxisLimitLatex=function(I,ne){var pe,ge;this.settingsViewModel=e.__assign(e.__assign({},this.settingsViewModel),{limitLatex:e.__assign(e.__assign({},this.settingsViewModel.limitLatex),(pe={},pe[I]=ne,pe))});var Be=ne===""&&(I==="xstep"||I==="ystep"),Re=Be?0:W.default(ne,this.graphSettings.degreeMode);switch(I){case"xstep":if(Re<0||!isFinite(Re))return;this.graphSettings.setProperty("xAxisStep",Re);break;case"ystep":if(Re<0||!isFinite(Re))return;this.graphSettings.setProperty("yAxisStep",Re);break;case"xmin":case"xmax":case"ymin":case"ymax":if(!this.grapher)return;var ve=this.grapher.viewportController.getViewport(),ke="xmin";I==="xmin"&&(ke="xmax"),I==="ymax"&&(ke="ymin"),I==="ymin"&&(ke="ymax");var T=W.default(this.settingsViewModel.limitLatex[ke],this.graphSettings.degreeMode),Ie=m.Viewport.fromObject(e.__assign(e.__assign({},ve.toObject()),(ge={},ge[I]=Re,ge[ke]=T,ge)));if(!Ie.isValid())return;this.grapher.viewportController.setViewport(Ie);var Ke=I==="xmin"||I==="xmax"?"x":"y";this.graphSettings.setProperty("lastChangedAxis",Ke);var Ye=Ie.isSquare(this.grapher.getProjection().screen);this.graphSettings.setProperty("squareAxes",Ye)}if(this.grapher){var bt=this.grapher.viewportController.getViewport().toObject();this._commitUserRequestedViewport(bt)}},se.prototype.canUserAddExpressions=function(){return!!this.graphSettings.config.expressions},se.prototype.areNotesEnabled=function(){return!!this.graphSettings.config.notes},se.prototype.areSlidersEnabled=function(){return!!this.graphSettings.config.sliders},se.prototype.areLinksEnabled=function(){return!!this.graphSettings.config.links},se.prototype.areImagesEnabled=function(){var I=window.FileReader,ne=t.IS_IPAD&&t.IOS_VERSION&&t.IOS_VERSION[0]===8&&t.IOS_VERSION[1]===0&&t.IOS_VERSION[2]===0;return!(!this.graphSettings.config.images||!I||ne)},se.prototype.areFoldersEnabled=function(){return!!this.graphSettings.config.folders},se.prototype.isDecimalToFractionEnabled=function(){return!!this.graphSettings.config.decimalToFraction},se.prototype.isTraceEnabled=function(){return!!this.graphSettings.config.trace},se.prototype.areFunctionsRestricted=function(){return!!this.graphSettings.config.restrictedFunctions},se.prototype.isQwertyKeyboardEnabled=function(){return!!this.graphSettings.config.qwertyKeyboard},se.prototype.canEditOnWeb=function(){return!!this.graphSettings.config.editOnWeb},se.prototype.hasTransparentBackground=function(){return!!this.graphSettings.config.transparentBackground},se.prototype.shouldAudioTraceReverseExpressions=function(){return!!this.graphSettings.config.audioTraceReverseExpressions},se.prototype.hasDefaultState=function(){return!!this.graphSettings.defaultState},se.prototype.getDefaultStateViewport=function(){var I=this.graphSettings.defaultState;if(I&&I.graph)return I.graph.viewport},se.prototype.getColors=function(){return this.graphSettings.config.colors},se.prototype.getImageOpacities=function(){return["0.2","0.4","0.6","0.8","1"]},se.prototype.getUIDragModes=function(){return[p.DragMode.X,p.DragMode.Y,p.DragMode.XY]},se.prototype.getNumberOfItemsInFolder=function(I){return q.getNumberOfItemsInFolder(this.listModel,I)},se.prototype.getEnabledDragModesForItem=function(I){var ne=this.getItemModel(I);if(!ne||ne.type!=="expression")return[];var pe=ne.formula,ge=[];if(!pe.move_strategy)return ge;var Be=pe.move_strategy[0].type!=="none",Re=pe.move_strategy[1].type!=="none",ve=Be&&Re;return Be&&ge.push(p.DragMode.X),Re&&ge.push(p.DragMode.Y),ve&&ge.push(p.DragMode.XY),ge},se.prototype.shouldShowEvaluationForItem=function(I){var ne=this.getItemModel(I);return!!ne&&ne.type==="expression"&&f.shouldShowEvaluation(ne)},se.prototype.getEvaluationValueForItem=function(I){var ne=this.getItemModel(I);return ne?ne.type!=="expression"?NaN:f.getEvaluationValue(ne):NaN},se.prototype.canDisplayEvaluationForItemAsFraction=function(I){if(!this.isDecimalToFractionEnabled())return!1;var ne=this.getItemModel(I);if(!ne||ne.type!=="expression"||f.isGraphable(ne))return!1;var pe=this.getEvaluationValueForItem(I);return!Array.isArray(pe)&&a.canDisplayAsFraction(pe)},se.prototype.shouldEvaluationForItemDisplayAsFraction=function(I){if(!this.isDecimalToFractionEnabled())return!1;var ne=this.getItemModel(I);return!!ne&&ne.type==="expression"&&f.shouldEvaluationDisplayAsFraction(ne)},se.prototype.getEvaluationLabelOptionsForItem=function(I){return e.__assign(e.__assign({},E.EvaluationLabelOptions),{displayAsFraction:this.shouldEvaluationForItemDisplayAsFraction(I)})},se.prototype.getPointStyles=function(){return[g.PointStyle.POINT,g.PointStyle.OPEN,g.PointStyle.CROSS]},se.prototype.getLineStyles=function(){return[g.LineStyle.SOLID,g.LineStyle.DASHED,g.LineStyle.DOTTED]},se.prototype.getOpacities=function(){return[s.LOW,s.DEFAULT,s.HIGH]},se.prototype.isInEditListMode=function(){return this.layoutModel.inEditListMode},se.prototype.canAdministerSecretFolders=function(){return this.graphSettings.config.administerSecretFolders},se.prototype.getInvertedColors=function(){return!!this.graphSettings.config.invertedColors},se.prototype.canUseAdvancedStyling=function(){return this.graphSettings.config.advancedStyling||this.graphSettings.config.authorIDE},se.prototype.isAuthorIDE=function(){return this.graphSettings.config.authorIDE},se.prototype.canAuthorClickableObjects=function(){return this.graphSettings.config.clickableObjects},se.prototype.isDegreeMode=function(){return this.graphSettings.degreeMode},se.prototype.isGraphSettingsOpen=function(){return this.layoutModel.graphSettingsOpen},se.prototype.isAddExpressionOpen=function(){return this.layoutModel.addExpressionOpen},se.prototype.shouldRenderList=function(){if(this.layoutModel.expressionsVisible)return!0;var I=this.layoutModel.expressionsHiddenTime;return I!==void 0&&Date.now()-I<=500},se.prototype.isListVisible=function(){return this.layoutModel.expressionsVisible},se.prototype.isGrapherEnabled=function(){return this.graphSettings.config.graphpaper!==!1},se.prototype.isListEnabled=function(){return this.graphSettings.config.expressions!==!1},se.prototype.areDistributionsEnabled=function(){return this.graphSettings.config.distributions===!0},se.prototype.needsFakeKeypad=function(){var I=this.getFocusLocation();if(!I||this.getBrailleMode()!=="none"&&ee.getFocusedBrailleElement())return!1;switch(I.type){case"settings":return I.location!=="icon"&&I.location!=="degree-mode";case"distribution-param":case"cdf-limit":case"slider-limit":case"domain-limit":case"expression":case"visualization-prop":return!0;case"expression-menu":return I.location==="opacity"||I.location==="linewidth";case"clickableinfo-prop":return I.location!=="description";case"table":if(this.isInEditListMode())return!1;var ne=I.location;if(ne.row===0)return!0;var pe=this.getItemModel(I.id);if(!pe||pe.type!=="table")return!1;var ge=pe.columnModels[ne.column];return!!ge&&!ge.disabled;case"image":return I.location!=="name";case"readonly-expression":case"braille-output":case"table-container":case"text":case"folder":case"add-item-btn":case"add-expression-btn":case"add-table-btn":case"add-folder-btn":case"add-image-btn":case"change-image-btn":case"edit-list-toggle":return!1;case"expression-icon":case"image-icon":case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":return!1;case"editable-label":return this.getItemEditableLabelMode(I.id)===b.EditableLabelMode.Math;default:return I}},se.prototype.getBrandingMode=function(){return this.getEditLink()?"static-edit-link":this.getGraphSettings().config.editOnWeb?"edit-link":"powered-by"},se.prototype.getEditLink=function(){return window.iframeEmbedBrandingLink},se.prototype._expressionZoomFit=function(I){var ne=this.getItemModel(I);if(this.grapher&&ne&&(ne.type==="expression"||ne.type==="table")&&ne.boundingBoxes&&ne.boundingBoxes.length){var pe=V.getRecommendedViewportForExpression(ne.boundingBoxes,this.grapher.viewportController.getProjection());pe&&this.grapher.viewportController.zoomCustom(pe)}},se.prototype._deleteItemAndAnimateOut=function(I,ne){var pe=this,ge=this.getItemSelectorById(I);ge&&(ge.css({transition:"0.2s",opacity:"0",transform:"scale(.1, .1)"}),setTimeout(function(){pe.dispatch({type:"finish-deleting-item-after-animation",id:I,setFocusAfterDelete:ne})},200))},se.prototype._finishDeletingItemAfterAnimation=function(I,ne){var pe=this.getItemModel(I);if(pe){var ge=this.getItemSelectorById(I),Be=ge&&document.activeElement&&Y(document.activeElement).closest(ge).length>0,Re=q.findPrevSelectableItem(this.listModel,pe.index);if(this._removeExpressionSynchronously(pe),ne&&Be){if(!Re){var ve=q.getFirstSelectableItem(this.listModel);ve&&(Re=ve)}Re&&M.moveFocusToItem(this,Re.id,"end")}}},se.prototype._removeExpressionSynchronously=function(I){if(q.removeItemAtIndex(this.listModel,I.index),q.hasNoVisibleExpressions(this.listModel)){var ne=this.createItemModel({type:"expression",id:this.generateId(),color:this.getNextColor()});q.insertItemAtEnd(this.listModel,ne)}},se.prototype.setRootElt=function(I){this.rootElt=I,this.dragdrop_expressions=new de.default(this)},se.prototype._hideExpressions=function(){this.graphSettings.config.expressions&&(q.setSelected(this.listModel,void 0),this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{expressionsVisible:!1,expressionsHiddenTime:Date.now()}),d.default())},se.prototype._showExpressions=function(){this.graphSettings.config.expressions&&(this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{expressionsVisible:!0}),d.default())},se.prototype._showToast=function(I){var ne=this;if(this.toastData=I,this.toastData.hasOwnProperty("undoCallback")&&!t.IS_MOBILE){var pe=t.IS_APPLE?this.t("Press CMD+Z to undo."):this.t("Press CTRL+Z to undo.");this.toastData.message+=" "+pe}clearTimeout(this._hideToastTimeout);var ge=typeof I.hideAfter=="number"?I.hideAfter:6e3;ge>0&&(this._hideToastTimeout=setTimeout(function(){ne.dispatch({type:"toast/close",onHide:ne.toastData.onHide})},ge))},se.prototype._setExpressionPropertiesFromAPI=function(I,ne){var pe=this.getItemModel(I);if(pe)if(pe.type==="table"&&ne.columns){ne=i.default(ne);var ge=S.cloneTableAndExtendWithProperties(pe,ne),Be=q.modelFromSpec(this.listModel,ge);this._toplevelReplaceItemAt(pe.index,Be,!1)}else{var Re=this.getItemModel(I);if(!Re)return;for(var ve in ne)if(ne.hasOwnProperty(ve))switch(ve){case"slider":if(Re.type!=="expression")continue;var ke=ne[ve];ke.hasOwnProperty("min")&&f.setSliderMin(Re,ke.min),ke.hasOwnProperty("max")&&f.setSliderMax(Re,ke.max),ke.hasOwnProperty("step")&&f.setSliderStep(Re,ke.step);break;case"polarDomain":if(Re.type!=="expression")continue;f.setPolarDomainMin(Re,n.default(ne.polarDomain.min)),f.setPolarDomainMax(Re,n.default(ne.polarDomain.max));break;case"parametricDomain":if(Re.type!=="expression")continue;f.setParametricDomainMin(Re,n.default(ne.parametricDomain.min)),f.setParametricDomainMax(Re,n.default(ne.parametricDomain.max));break;case"hidden":this._setItemHidden(I,ne.hidden);break;case"secret":L.setSecret(Re,ne.secret);break;case"color":if(Re.type!=="expression")continue;f.setColor(Re,ne.color);break;case"dragMode":if(Re.type!=="expression")continue;f.setDragMode(Re,ne.dragMode);break;case"label":if(Re.type!=="expression")continue;f.setLabel(Re,ne.label);break;case"showLabel":if(Re.type!=="expression")continue;f.setShowLabel(Re,ne.showLabel);break;case"labelSize":if(Re.type!=="expression")continue;f.setLabelSize(Re,ne.labelSize);break;case"labelOrientation":if(Re.type!=="expression")continue;f.setLabelOrientation(Re,ne.labelOrientation);break;case"verticalLabel":if(Re.type!=="expression")continue;f.setVerticalLabel(Re,ne.verticalLabel);break;case"latex":if(Re.type!=="expression")continue;f.setLatex(Re,ne.latex);break;case"points":if(Re.type!=="expression")continue;f.setPoints(Re,!!ne.points);break;case"lines":if(Re.type!=="expression")continue;f.setLines(Re,!!ne.lines);break;case"pointStyle":if(Re.type!=="expression")continue;f.setPointStyle(Re,ne.pointStyle);break;case"lineStyle":if(Re.type!=="expression")continue;f.setLineStyle(Re,ne.lineStyle);break;case"fill":if(Re.type!=="expression")continue;f.setFill(Re,ne.fill);break;case"fillOpacity":if(Re.type!=="expression")continue;f.setFillOpacity(Re,ne.fillOpacity);break;case"id":case"type":case"domain":break;default:throw new Error("trying to call setProperty for: "+ve)}}},se.prototype._isParentFolderHidden=function(I){var ne=this.getItemModel(I);if(!ne)return!1;var pe=q.getParentFolderModel(ne);return!!pe&&pe.hidden},se.prototype._toggleItemHidden=function(I){if(this._isParentFolderHidden(I))this._setItemHidden(I,!1);else{var ne=this.getItemModel(I);if(!ne)return;switch(ne.type){case"expression":case"image":case"folder":this._setItemHidden(I,!ne.hidden);break;case"table":case"text":break;default:return ne}}},se.prototype._toggleTableColumnHidden=function(I,ne){if(this._isParentFolderHidden(I))this._setTableColumnHidden(I,ne,!1);else{var pe=this.getItemModel(I);if(!pe||pe.type!=="table")return;var ge=S.getColumnModel(pe,ne);if(!ge)return;this._setTableColumnHidden(I,ne,!ge.hidden)}},se.prototype._setTableColumnHidden=function(I,ne,pe){var ge=this.getItemModel(I);if(ge&&ge.type==="table"){var Be=S.shouldHideColumn(ge,ne);!pe&&this._isParentFolderHidden(I)&&this._setItemHidden(ge.folderId,!1),S.setColumnHidden(ge,ne,pe),!pe&&Be&&S.setColumnPoints(ge,ne,!0)}},se.prototype._setItemHidden=function(I,ne){var pe=this.getItemModel(I);if(pe)switch(!ne&&pe.type!=="folder"&&this._isParentFolderHidden(pe.id)&&this._setItemHidden(pe.folderId,!1),pe.type){case"expression":f.setHidden(pe,ne);break;case"folder":Q.setHidden(pe,ne);break;case"image":j.setHidden(pe,ne);break;case"table":case"text":break;default:return pe}},se.prototype._addItemToEndFromAPI=function(I){var ne=q.getLastSelectableItem(this.listModel);!I.secret&&ne&&ne.type==="expression"&&ne.latex===""&&q.removeItemAtIndex(this.listModel,ne.index),q.insertItemAtEnd(this.listModel,I)},se.prototype._toplevelInsertItemAt=function(I,ne,pe,ge){var Be=ne;q.insertItemAtIndex(this.listModel,Be,I),ge&&L.setFolderId(Be,ge),pe&&M.moveFocusToItem(this,Be.id)},se.prototype._toplevelNewItemAtSelection=function(I,ne){var pe=this.getSelectedItem();if(pe){var ge=pe.type==="expression"&&!pe.latex;if(ge&&!pe.folderId&&(I.type!=="expression"||I.latex))return this._toplevelReplaceItemAt(pe.index,I,ne.shouldFocus);if(ge&&pe.folderId&&I.type!=="expression"&&I.type!=="folder")return this._toplevelReplaceItemAt(pe.index,I,ne.shouldFocus);if(pe.type!=="folder"&&!pe.folderId)return this._toplevelInsertItemAt(pe.index+1,I,ne.shouldFocus,void 0);if(pe.type!=="folder"&&pe.folderId&&I.type!=="folder")return this._toplevelInsertItemAt(pe.index+1,I,ne.shouldFocus,pe.folderId);if(pe.type==="folder"&&!pe.collapsed&&I.type!=="folder")return this._toplevelInsertItemAt(pe.index+1,I,ne.shouldFocus,pe.id)}var Be=this.getFirstFullyVisibleItem();for(Be&&Be.type==="folder"&&(Be=this.getItemModelByIndex(Be.index+1));Be&&Be.type!=="folder"&&Be.folderId;)Be=this.getItemModelByIndex(Be.index+1);var Re=Be?Be.index:this.getItemCount();return this._toplevelInsertItemAt(Re,I,ne.shouldFocus,void 0)},se.prototype.getFirstFullyVisibleItem=function(){var I=ie.getFirstFullyVisibleItemId(this);if(I)return q.getItemById(this.listModel,I)},se.prototype.find$=function(I){return Y(this.rootElt).find(I)},se.prototype.getExppanelSelectorOrThrow=function(){var I=ie.getExppanelElt(this);if(I)return Y(I);throw new Error("expected to find $exppanel but could not")},se.prototype.scrollItemIntoView=function(I){if(this.rootElt&&this.isListVisible()){var ne=this.getItemSelectorById(I.id),pe=ie.getExppanelSelector(this);if(ne&&pe){if(I.type==="table"){var ge=ne.find(".dcg-row .dcg-selected");if(ge.length===1)return void c.scrollVisible(ge,pe,60)}c.scrollVisible(ne,pe,90)}}},se.prototype.scrollSelectedItemIntoView=function(){var I=this.getSelectedItem();I&&this.scrollItemIntoView(I)},se.prototype._pasteTable=function(I){var ne=this;if(this.grapher){var pe=q.findAvailableColumnSubscript(this.listModel),ge=S.makeTableState(pe,I,this),Be=this.createItemModel(ge);this._toplevelNewItemAtSelection(Be,{shouldFocus:!0}),this._closeAddExpression();var Re=this.grapher.viewportController.getViewport(),ve=l.map(I[0],function(Ye){return parseFloat(Ye)}),ke=l.map(I[1],function(Ye){return parseFloat(Ye)}),T={xmin:l.min(ve),xmax:l.max(ve),ymin:l.min(ke),ymax:l.max(ke),type:"table"};if(isFinite(T.xmin)&&isFinite(T.xmax)&&isFinite(T.ymin)&&isFinite(T.ymax)&&(T.xmax>Re.xmax||T.xmin<Re.xmin||T.ymax>Re.ymax||T.ymin<Re.ymin)){var Ie=V.getRecommendedViewportForExpression([T],Re);if(Ie){var Ke=new m.Viewport(Ie.xmin,Ie.xmax,Ie.ymin,Ie.ymax);this.grapher.viewportController.setViewport(Ke),this._showToast({message:this.t("We zoomed to fit your data."),undoCallback:function(){ne.dispatch({type:"undo"})}})}}}},se.prototype._insertSeveralExpressions=function(I){for(var ne=0;ne<I.length;ne++){var pe=void 0;pe=this.createItemModel(I[ne]),this._toplevelNewItemAtSelection(pe,{shouldFocus:!0})}},se.prototype._appendNumberList=function(I){var ne=this.getSelectedItem();if(ne&&ne.type==="expression"){var pe=ne.latex,ge=this.createItemModel({type:"expression",id:this.generateId(),latex:pe+I});return this._toplevelReplaceItemAt(ne.index,ge,!0)}},se.prototype._openOnWeb=function(){var I=this;this.runAfterDispatch(function(){if(I.grapher){var ne=JSON.stringify(I.getState()),pe=I.grapher.screenshot({width:100,height:100}),ge=I.getGraphSettings().config.crossOriginSaveTest,Be=ge?"/":"https://www.desmos.com/",Re=Be+"api/v1/calculator/cross_origin_save",ve=Y('<input type="text" name="calc_state" />').val(ne),ke=Y('<input type="text" name="thumb_data" />').val(pe),T=Y('<form target="_blank" method="POST" style="display:none;"></form>').attr("action",Re).append(Y('<input type="text" name="is_open_on_web" value="true" />')).append(Y('<input type="text" name="my_graphs" value="false" />')).append(Y('<input type="text" name="is_update" value="false" />')).append(ve).append(ke);Y(I.rootElt).append(T),T.submit().remove()}})},se.prototype.notifyBugsnagAboutMissingSelectedItem=function(I,ne){var pe=q.getSelected(this.listModel),ge="";try{ge=pe?JSON.stringify(pe.cachedUndoRedoState,null,2):"undefined"}catch{ge="[[could not stringify]]"}var Be="";try{if(pe){var Re={id:pe.id,index:pe.index,displayIndex:pe.index,secretIndex:pe.secretIndex,guid:pe.guid,renderShell:pe.renderShell,isHiddenFromUI:pe.isHiddenFromUI,hasDCGView:!!pe.dcgView,cachedRenderHeight:pe.cachedRenderHeight};Be=JSON.stringify(Re,null,2)}else Be="undefined"}catch{Be="[[could not stringify]]"}var ve="";try{ve=JSON.stringify(q.getUndoRedoState(this.listModel),null,2)}catch{ve="[[could not stringify]]"}O.notify("ReplaceItemAtError: no item at index",{metaData:{index:I,shouldFocus:ne,selectedModelJSON:Be,selectedItemJSON:ge,listStateJSON:ve}})},se.prototype._toplevelReplaceItemAt=function(I,ne,pe){var ge=ne,Be=this.getItemModelByIndex(I);Be||this.notifyBugsnagAboutMissingSelectedItem(I,pe);var Re=Be.type!=="folder"&&Be.folderId;q.removeItemAtIndex(this.listModel,I),q.insertItemAtIndex(this.listModel,ge,I),Re&&L.setFolderId(ge,Re),pe&&M.moveFocusToItem(this,ge.id)},se.prototype.createSlidersForItem=function(I,ne){var pe=this,ge=this.getItemModel(I);if(ge){for(var Be=ge.type!=="folder"&&ge.folderId,Re=ge.index+1,ve=ne.map(function(Ke){var Ye=Ke?a.identifierToLatex(Ke)+"=1":"";return{type:"expression",id:pe.generateId(),latex:Ye,color:pe.getNextColor(),hidden:!!Ye}}),ke=ve.length-1;ke>=0;ke--){var T=this.createItemModel(ve[ke]);q.insertItemAtIndex(this.listModel,T,Re),Be&&L.setFolderId(T,Be)}var Ie=ve[ve.length-1];Ie.latex===""?M.moveFocusToItem(this,Ie.id):M.setFocusLocation(this,void 0)}},se.prototype._uploadImagesAndWaitForThemToLoad=function(I){var ne=this,pe=I.files,ge=I.id;if(!pe||pe.length===0)return void this._showToast({message:this.t("You did not select a file")});if(ge&&pe.length>1)return void this._showToast({message:this.t("You can only choose one file as a replacement")});var Be=j.uploadImages({controller:this,files:pe,id:ge}),Re=Be.errors[0];Re&&this._showToast({message:Re});for(var ve=0,ke=Be.tokens;ve<ke.length;ve++){var T=ke[ve];this.__pendingImageUploads[T]=!0}this.isUploadingImages()&&this._showToast({message:this.t("Uploading images..."),onHide:function(){ne._clearPendingImageUploads()}})},se.prototype.getImageToRetry=function(){for(var I,ne=0,pe=this.getAllItemModels();ne<pe.length;ne++){var ge=pe[ne];ge.type==="image"&&ge.loadStatus==="failed"&&(!I||I.failures>ge.failures)&&(I=ge)}return I},se.prototype.retryLoadingFailedImage=function(I){var ne=Date.now(),pe=ne-this.imageRetryState.lastAttemptTime,ge=1e3*Math.pow(2,this.imageRetryState.attempts);this.imageRetryState.attempts>0&&pe<ge||(j.retryLoading(I),this.imageRetryState={lastAttemptTime:ne,attempts:this.imageRetryState.attempts+1})},se.prototype.getSelectedItem=function(){return q.getSelected(this.listModel)},se.prototype.getOpenItemMenu=function(){return this.listModel.openItemMenu},se.prototype.getFocusedItem=function(){return M.getFocusedItem(this)},se.prototype.getFocusLocation=function(){return this.focusLocation},se.prototype.isFocusLocationFocused=function(I){var ne=this.focusLocation,pe=I;return!(!ne||!pe)&&l.isEqual(ne,pe)},se.prototype.isCurrentFocusLocationValid=function(){var I=this.focusLocation;if(!I)return!0;if(I.type==="settings")return I.location==="icon"||this.isGraphSettingsOpen();if(I.type==="add-item-btn"||I.type==="edit-list-toggle")return!0;if(I.type==="add-expression-btn"||I.type==="add-table-btn")return this.layoutModel.addExpressionOpen;if(I.type==="add-folder-btn")return this.layoutModel.addExpressionOpen&&this.areFoldersEnabled();if(I.type==="add-image-btn")return this.layoutModel.addExpressionOpen&&this.areImagesEnabled();var ne=this.getItemModel(I.id);if(!ne)return!1;if(I.type==="change-image-btn")return ne.type==="image"&&!(!this.listModel||!this.listModel.openItemMenu)&&this.listModel.openItemMenu.model===ne;if(I.type==="expression-menu"){if(I.location==="start"||I.location==="end"||I.location==="anywhere")return!0;if(ne.type!=="expression")return!1;var pe=ne.points,ge=ne.lines,Be=ne.fill,Re=v.getReconciledExpressionProps(ne.formula.expression_type,{points:pe,lines:ge,fill:Be});return!(!Re.fill&&!Re.lines)}if(!this.isItemSelected(I.id)&&I.type!=="editable-label")return!1;switch(I.type){case"domain-limit":return ne.type==="expression"&&!!f.hasDomain(ne);case"expression-icon":return!0;case"image-icon":return ne.type==="image"&&ne.loadStatus!=="loading"&&ne.loadStatus!=="failed"&&!ne.error;case"slider-icon":case"slider-animation-properties-icon":case"slider-thumb":case"slider-limit":return ne.type==="expression"&&!!f.hasSlider(ne);case"visualization-prop":return ne.type==="expression"&&!!f.isVisualization(ne);case"clickableinfo-prop":return ne.type==="expression"?!!f.isClickableAllowed(ne)&&ne.clickableInfo.enabled:ne.type==="image"&&ne.clickableInfo.enabled;case"distribution-param":if(ne.type!=="expression")return!1;var ve=f.parseToplevelFunction(ne);return!!ve&&I.location in ve.values;case"cdf-limit":return ne.type==="expression"&&f.shouldShowCDFFooter(ne);case"image":return ne.type==="image";case"folder":return ne.type==="folder";case"text":return ne.type==="text";case"expression":return ne.type==="expression"&&!this.isInEditListMode();case"readonly-expression":return ne.type==="expression"&&this.isInEditListMode();case"braille-output":return ne.type==="expression"&&this.getBrailleMode()!=="none";case"table":return ne.type==="table"&&!!S.doesCellExist(ne,I.location);case"table-container":return ne.type==="table"&&this.isInEditListMode();case"editable-label":return ne.type==="expression"&&f.hasEditableLabel(ne);default:return I}},se.prototype.isDragDropActive=function(){return!!this.listModel.dragState},se.prototype.isItemBeingDragged=function(I){var ne=this.listModel.dragState;return!(!ne||ne.firstItemId!==I)},se.prototype.getDraggedItemId=function(){var I=this.listModel.dragState;return I&&I.firstItemId},se.prototype.getRawDragState=function(){return this.listModel.dragState},se.prototype.initStateStack=function(){this.stateStack=new r.default,this.stateStack.addState(this.getUndoRedoState())},se.prototype.getUndoRedoState=function(){return{randomSeed:this.getRandomSeed(),layoutModel:this.layoutModel,settingsViewModel:this.settingsViewModel,graph:this.grapher?this.grapher.getUndoRedoState():void 0,expressions:q.getUndoRedoState(this.listModel),wasCompleteSetState:this.isCurrentlyDoingSetState}},se.prototype.getState=function(I){var ne={stripDefaults:!0};I&&I.hasOwnProperty("stripDefaults")&&(ne.stripDefaults=!!I.stripDefaults);var pe={version:y.currentVersion,randomSeed:this.getRandomSeed(),graph:this.grapher?this.grapher.getState(ne):this.getBlankState().graph,expressions:q.getState(this.listModel,ne)};return I&&I.avoidBackMigration?i.default(pe):y.migrateToPersisted(i.default(pe))},se.prototype.getBlankState=function(){return this.graphSettings.config.clearIntoDegreeMode?e.__assign(e.__assign({},H.default),{graph:e.__assign(e.__assign({},H.default.graph),{degreeMode:!0})}):H.default},se.prototype.externalSetState=function(I,ne){this._clearPendingImageUploads(),ne||(ne={}),I||(I=this.getBlankState()),typeof I=="string"&&(I=JSON.parse(I)),I&&(I=y.migrateToLatest(I));var pe=this.layoutModel;this.setState(I,ne),this.layoutModel=e.__assign(e.__assign({},N.defaultLayoutModel(this.graphSettings.config)),{keypadMinimized:pe.keypadMinimized,keypadLayout:pe.keypadLayout,keypadFunctionsTab:pe.keypadFunctionsTab,keypadFunctionsOpen:pe.keypadFunctionsOpen,expressionsVisible:!!this.graphSettings.config.expressions&&(this.isListVisible()||!!ne.forceExpressionsOpen)}),this.settingsViewModel=re.defaultSettingsViewModel(),M.setFocusLocation(this,void 0),this.enqueueEvent("clearUnsavedChanges")},se.prototype.setState=function(I,ne){if(this.lastParsableObjects={},this.isCurrentlyDoingSetState=!0,"graph"in I&&this.grapher&&this.grapher.setGrapherState(I.graph),"expressions"in I){q.setSelected(this.listModel,void 0);var pe=q.getLargestIntegerId(I.expressions);pe>=this.__nextItemId&&(this.__nextItemId=pe+1),q.setListState(this.listModel,I.expressions,ne||{})}I.layoutModel&&(this.layoutModel=I.layoutModel),I.settingsViewModel&&(this.settingsViewModel=I.settingsViewModel),ne&&ne.allowUndo||this.clearUndoRedoHistory(),this.setRandomSeed(I.randomSeed||Ee.default())},se.prototype.updateToState=function(I){"graph"in I&&this.grapher&&this.grapher.setGrapherState(I.graph,{doNotClear:!0}),"expressions"in I&&q.restoreListState(this.listModel,I.expressions),I.layoutModel&&(this.layoutModel=I.layoutModel),I.settingsViewModel&&(this.settingsViewModel=I.settingsViewModel)},se.prototype.commitUndoRedoSynchronously=function(I){var ne=this.getUndoRedoState();_e(this.stateStack.getState(),ne)||(this.stateStack.addState(ne),this.enqueueEvent("change"))},se.prototype.undo=function(){if(this.canUndo()){this.stateStack.undo();var I=this.stateStack.getState();I.wasCompleteSetState?this.setState(I,{allowUndo:!0}):this.updateToState(I),this.enqueueEvent("change")}},se.prototype.redo=function(){if(this.canRedo()){this.stateStack.redo();var I=this.stateStack.getState();I.wasCompleteSetState?this.setState(I,{allowUndo:!0}):this.updateToState(I),this.enqueueEvent("change")}},se.prototype.clearUndoRedoHistory=function(){this.stateStack.clear()},se.prototype.canUndo=function(){return this.stateStack.canUndo()},se.prototype.canRedo=function(){return this.stateStack.canRedo()},se.prototype._closeAddExpression=function(){this.layoutModel=e.__assign(e.__assign({},this.layoutModel),{addExpressionOpen:!1})},se.prototype.doesDOMHaveSize=function(){return this.layoutMeasurements.width>0&&this.layoutMeasurements.height>0},se.prototype._getExpListWidth=function(){var I;if(this.userSpecifiedExpListWidth!==void 0)I=Math.max(280,Math.min(this.layoutMeasurements.width-200,this.userSpecifiedExpListWidth));else{if(!(I=this.layoutMeasurements.width))return 356;var ne=.2*I+160;I=Math.min(500,Math.max(280,ne))}var pe=this.layoutMeasurements.width-this.layoutMeasurements.height;return Math.abs(pe-I)<=10?pe:I},se.prototype._setExpListWidth=function(I){this.userSpecifiedExpListWidth!==I&&(this.userSpecifiedExpListWidth=I)},se.prototype.getKeypadHeight=function(){return this.computeMajorLayout().keypad.height},se.prototype.isKeypadEnabled=function(){return!!this.graphSettings.config.keypad},se.prototype.isKeypadOpen=function(){var I=this.layoutModel.keypadMinimized&&!this.isNarrow();return this.needsFakeKeypad()&&!I},se.prototype.isKeypadFunctionsPopoverOpen=function(){return!!this.layoutModel.keypadFunctionsOpen},se.prototype.getKeypadLayout=function(){return this.layoutModel.keypadLayout},se.prototype.isLetterKeypadOpen=function(){var I=this.getKeypadLayout();return this.isKeypadOpen()&&(I==="letters"||I==="noQwertyLetters"||I==="capitalLetters"||I==="noQwertyCapitalLetters")},se.prototype.getKeypadFunctionsTab=function(){return this.layoutModel.keypadFunctionsTab},se.prototype.isFileDraggedOver=function(){return this.layoutModel.isFileDraggedOver},se.prototype.computeMajorLayout=function(){var I=this.layoutMeasurements.width,ne=this.layoutMeasurements.height,pe=this.isNarrow(),ge=this.isListVisible(),Be=this.isKeypadOpen(),Re=!this.isGrapherEnabled(),ve=!this.isListEnabled(),ke=!!this.getGraphSettings().config.projectorMode,T={left:0,top:0,width:0,height:0},Ie={left:0,top:0,width:0,height:0},Ke={left:0,top:ne,width:I,height:ke?pe?185:193:169};return ve?(Ie.width=I,Ie.height=ne):Re?(T.width=I,T.height=ne):ge?pe?(T.width=I,T.height=Math.round(.58*ne),T.top=ne-T.height,Ie.width=I,Ie.height=ne-T.height):(T.width=this.getExpListWidth(),T.height=ne,Ie.left=T.width,Ie.width=I-Ie.left,Ie.height=ne):ge||(pe?(T.width=I,T.height=Math.round(.58*ne),T.top=ne,Ie.width=I,Ie.height=ne):(T.width=this.getExpListWidth(),T.height=ne,T.left=-T.width,Ie.width=I,Ie.height=ne)),Be&&(Ke.top-=Ke.height,ve||(T.height-=Ke.height)),{list:T,grapher:Ie,keypad:Ke}},se.prototype.isNarrow=function(){return this.layoutMeasurements.width<450},se.prototype.getCapExpressionSize=function(){return!!this.getGraphSettings().config.capExpressionSize},se}();u.default=Fe}),$("lib/aria",["require","exports","browser","jquery"],function(B,u,w,e){function c(o){l.push(o)}function t(o){if(o!==void 0&&c(o),a!==void 0&&l.length>0){var s=l.join(" ").replace(/ +(?= )/g,"");a.attr("aria-relevant",h===s&&w.IS_APPLE?"all":"additions text"),a.empty().text(s),h=s}l.length=0}Object.defineProperty(u,"__esModule",{value:!0});var a,l=[],h="";u.queue=c,u.alert=t,e(document).ready(function(){var o=".dcg-aria-alert";e(o).length===0&&e("body").append("<p aria-live='assertive' aria-atomic='true' class='dcg-aria-alert'></p>"),a=e(o)})}),$("main/instancehotkeys",["require","exports","keys","lib/aria","jquery","graphing-calc/models/expression","browser","touchtracking"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(){function o(s){this.controller=s}return o.prototype.handleKeydown=function(s){var p=this;if(w.isUndo(s))s.stopPropagation(),s.preventDefault(),this.controller.hasVisibleAndUndoableToast()?this.controller.toastUndo():this.controller.dispatch({type:"undo"});else if(w.isRedo(s))s.stopPropagation(),s.preventDefault(),this.controller.dispatch({type:"redo"});else if(s.ctrlKey&&(s.altKey||s.metaKey)&&!s.shiftKey){if(w.lookupChar(s)==="E"){s.preventDefault(),s.stopPropagation(),this.controller.getSelectedItem()||this.controller.dispatch({type:"set-selected-index",index:0});var g=this.controller.getSelectedItem();g?(e.alert(this.controller.t("Expression list")),this.controller.dispatch({type:"move-focus-to-item",id:g.id})):e.alert(this.controller.t("Unable to focus expression list"))}else if(w.lookupChar(s)==="X")s.preventDefault(),s.stopPropagation(),this.controller.canUserAddExpressions()?(e.alert(this.controller.t("Add expression")),this.controller.dispatch({type:"new-expression"})):e.alert(this.controller.t("Unable to add expression"));else if(w.lookupChar(s)==="O")s.preventDefault(),s.stopPropagation(),this.controller.canUserAddExpressions()&&this.controller.areNotesEnabled()?(e.alert(this.controller.t("Add note")),this.controller.dispatch({type:"new-text"})):e.alert(this.controller.t("Unable to add note"));else if(w.lookupChar(s)==="F"&&this.controller.canUserAddExpressions()&&this.controller.areFoldersEnabled())s.preventDefault(),s.stopPropagation(),e.alert(this.controller.t("Add folder")),this.controller.dispatch({type:"new-folder"});else if(w.lookupChar(s)==="I"&&this.controller.canUserAddExpressions()&&this.controller.areImagesEnabled())s.preventDefault(),s.stopPropagation(),this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:!1}),this.controller.runAfterDispatch(function(){p.controller.find$(".dcg-add-expression-container input[type=file]").click(),e.alert(p.controller.t("Add image"))});else if(w.lookupChar(s)==="T")s.preventDefault(),s.stopPropagation(),this.controller.canUserAddExpressions()?(e.alert(this.controller.t("Add table")),this.controller.dispatch({type:"new-table"})):e.alert(this.controller.t("Unable to add table"));else if(w.lookupChar(s)==="G")s.preventDefault(),s.stopPropagation(),this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:!0});else if(w.lookupChar(s)==="P"){s.preventDefault(),s.stopPropagation();var d=this.controller.find$(".dcg-tabbable-point").filter("[tabindex=0]");d.length===0&&(d=this.controller.find$(".dcg-editable-label-border").find('input, textarea, [role="textbox"]')),this.focusElement(d.first(),this.controller.t("No interactive points on screen"))}else if(w.lookupChar(s)==="Z"){var i=this.controller.getSelectedItem();i&&i.id&&this.controller.dispatch({type:"expression-zoom-fit",id:i.id})}else if(w.lookupChar(s)==="D"&&this.controller.canUserAddExpressions()){s.preventDefault(),s.stopPropagation();var n=!this.controller.isInEditListMode();this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:n,focusExpressionList:!0})}}else if((s.altKey||s.metaKey)&&!s.ctrlKey&&s.shiftKey&&w.lookupChar(s)==="F"&&this.controller.isDecimalToFractionEnabled()){var r=this.controller.getSelectedItem();r&&r.type==="expression"&&(s.preventDefault(),s.stopPropagation(),this.controller.dispatch({type:"toggle-fraction-evaluation",id:r.id}),this.controller.runAfterDispatch(function(){t.shouldEvaluationDisplayAsFraction(r)?e.alert(p.controller.t("Show as Fraction")):e.alert(p.controller.t("Show as Decimal"))}))}else if(s.altKey||s.ctrlKey||s.metaKey||s.shiftKey){if(!s.metaKey&&!s.shiftKey&&s.ctrlKey===a.IS_APPLE&&s.altKey===!a.IS_APPLE){var m=w.lookupChar(s);if(m==="N")s.preventDefault(),s.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"nemeth"}),e.alert(this.controller.t("Braille mode Nemeth"));else if(m==="U")s.preventDefault(),s.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"ueb"}),e.alert(this.controller.t("Braille mode UEB"));else if(m==="Q"||m==="X")s.preventDefault(),s.stopPropagation(),this.controller.dispatch({type:"set-braille-mode",mode:"none"}),e.alert(this.controller.t("Braille mode off"));else if(m==="6"){s.preventDefault(),s.stopPropagation();var y=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",useSixKeyInput:y}),e.alert(y?this.controller.t("Six Key Braille Input on"):this.controller.t("Six Key Braille Input off"))}}}else w.lookup(s)===w.BACKSPACE?document.activeElement&&l.elIsFocusable(c(document.activeElement))||s.preventDefault():w.lookup(s)===w.ESCAPE&&this.controller.isInEditListMode()&&this.controller.find$(".dcg-options-menu").length===0&&(s.preventDefault(),s.stopPropagation(),this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0}))},o.prototype.focusElement=function(s,p){s.length?s.focus():p&&e.alert(p)},o}();u.default=h}),$("lib/defocus-mobile",["require","exports","jquery","touchtracking"],function(B,u,w,e){function c(){if(document.activeElement){var t=w(document.activeElement);e.elIsFocusable(t)&&w("<input />").prependTo("body").focus().attr({readonly:"readonly",disabled:"true"}).blur().remove()}}Object.defineProperty(u,"__esModule",{value:!0}),u.default=c}),$("ipad.scrollfix",["require","jquery"],function(B){var u=B("jquery"),w=!1,e=function(){c(document),w=!0},c=function(t){w||u(t).bind("touchstart",function(a){var l=u(a.target),h=0,o=null;if(!l.closest("[disablescroll]").length)for(;h===0&&l.length&&l[0].tagName!==void 0;){var s=l.css("overflow"),p=l.css("overflow-y");if(s!=="hidden"&&s!=="visible"&&p!=="hidden"&&p!=="hidden"){var g=l.scrollTop();g!==0&&(h=2),l.scrollTop(g+1),l.scrollTop()!==g&&(h|=1,l.scrollTop(g))}l=l.parent()}if(h!==0){o=[];for(var d=a.originalEvent.touches,i=0;i<d.length;i++){var n={};for(var r in d[i])d[i].hasOwnProperty(r)&&(n[r]=d[i][r]);o.push(n)}}u(document).on("touchmove.scrollfix",function(m){if(o){var y=o[0],v=m.originalEvent.touches[0],x=v.screenY-y.screenY;(x>0&&!(2&h)||x<0&&!(1&h))&&(h=0),x&&(o=null)}h===0&&m.preventDefault()}),u(document).on("touchend.scrollfix",function(){u(document).off(".scrollfix")})})};return{limitScrollOnElement:c,limitScrollOnDocument:e}}),$("expressions/abstract-item-view",["require","exports","tslib","dcgview","jquery.handleevent"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,this._isFirstRender=!0,this._isDragCopy=this.props.isDragCopy()},a.prototype.onItemViewMounted=function(){this._isDragCopy||(this.model.dcgView=this),this._isFirstRender=!1},a.prototype.onItemViewUnmounted=function(){this._isDragCopy||(this.model.dcgView=void 0)},a.prototype.isFirstRender=function(){return this._isFirstRender},a.prototype.onMouseSelect=function(l){if(this.controller.isInEditListMode())return void this.exitEditListMode();l.type==="dcg-tap"&&l.device==="mouse"||l.type==="dcg-tapstart"&&l.device==="touch"||l.wasHandled()||(l.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id}))},a.prototype.onDelete=function(){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.id,setFocusAfterDelete:!this.controller.isInEditListMode()})},a.prototype.onDragPending=function(l){this.props.onDragPending(l)},a.prototype.exitEditListMode=function(){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!0})},a}(e.Class);u.default=c}),$("loadcss!dcgview-helpers/tooltipped-error",function(){}),$("dcgview-helpers/tooltipped-error",["require","exports","tslib","dcgview","lib/tooltip","loadcss!./tooltipped-error"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return w.__extends(l,a),l.prototype.template=function(){var h=this;return e.createElement(c.Tooltip,{tooltip:this.props.error,targetClickBehavior:this.const("stick"),gravity:this.props.gravity},e.createElement("div",{class:function(){return{"dcg-tooltipped-error":!0,"dcg-white":h.props.isWhite&&h.props.isWhite(),"dcg-small":h.props.size&&h.props.size()==="small"}}},e.createElement("i",{class:e.const("dcg-icon-error")})))},l}(e.Class);u.TooltippedError=t}),$("loadcss!expressions/circular-icon-view",function(){}),$("expressions/circular-icon-view",["require","exports","tslib","dcgview","loadcss!./circular-icon-view"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=e.Components.If,t=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return w.__extends(l,a),l.prototype.template=function(){var h=this;return e.createElement("span",{class:function(){var o;return o={"dcg-do-not-blur":!0,"dcg-circular-icon":!0,"dcg-thick-outline":h.isThickOutline(),"dcg-white-icon":!!h.props.whiteIcon&&h.props.whiteIcon(),"dcg-hidden":h.isHidden(),"dcg-semi-transparent":h.props.semiTransparent&&h.props.semiTransparent(),"dcg-colored-icon":!h.isThickOutline()&&!h.isHidden()&&!h.hasBackgroundImage()&&h.props.iconType()!=="loading","dcg-has-background-image":h.hasBackgroundImage()},o[h.iconModifier()]=h.iconModifier().length>0,o},style:function(){return{background:h.getBackgroundColor()}}},e.createElement(c,{predicate:this.bindFn(this.hasBackgroundImage)},function(){return e.createElement("span",{class:e.const("dcg-background-image"),style:function(){return{"background-image":h.props.backgroundImage&&h.props.backgroundImage(),opacity:h.props.backgroundOpacity&&h.props.backgroundOpacity()}}})}),e.createElement(c,{predicate:function(){return!!h.backgroundIcon()}},function(){return e.createElement("i",{class:function(){var o;return o={},o[h.backgroundIcon()]=!0,o["dcg-layered-icon"]=!0,o},style:function(){return{opacity:h.backgroundOpacity()}}})}),e.createElement(c,{predicate:function(){return!!h.primaryIcon()}},function(){return e.createElement("i",{class:function(){var o;return o={},o[h.primaryIcon()]=!0,o["dcg-layered-icon"]=!0,o},style:function(){return{color:h.props.foregroundColor&&h.props.foregroundColor()}}})}),e.createElement(c,{predicate:function(){return h.props.iconType()==="loading"}},function(){return e.createElement("span",{class:e.const("dcg-spinner")})}))},l.prototype.iconModifier=function(){if(!this.props.iconModifier)return"";switch(this.props.iconModifier()){case"medium":return"dcg-modifier-size-medium";case"large":return"dcg-modifier-size-large";case"small":return"dcg-modifier-size-small";case"rotated":return"dcg-modifier-rotated";case"none":return""}},l.prototype.getBackgroundColor=function(){if(!this.isHidden()&&this.props.backgroundColor)return this.props.backgroundColor()},l.prototype.isHidden=function(){return this.props.iconType()==="hidden"},l.prototype.isThickOutline=function(){var h=this.props.iconType();return h==="folder"||h==="pause"||h==="play"||h==="fraction"},l.prototype.hasBackgroundImage=function(){return!!this.props.backgroundImage&&!this.isHidden()&&!!this.props.backgroundImage()},l.prototype.primaryIcon=function(){var h=this.props.iconType();switch(h){case"folder":return"dcg-icon-folder";case"pause":return"dcg-icon-pause";case"play":return"dcg-icon-play";case"polygon-dashed":case"polygon-dashed-filled":return"dcg-icon-polygon-dashed";case"polygon-dotted":case"polygon-dotted-filled":return"dcg-icon-polygon-dotted";case"polygon-default":case"polygon-default-filled":return"dcg-icon-polygon-solid";case"graph-dashed":case"parametric-dashed-filled":return"dcg-icon-parametric-dashed";case"graph-dotted":case"parametric-dotted-filled":return"dcg-icon-parametric-dotted";case"graph-default":case"parametric-default-filled":return"dcg-icon-parametric-solid";case"movable-vertical":return"dcg-icon-move-vertical";case"movable-both":return"dcg-icon-move";case"movable-horizontal":return"dcg-icon-move-horizontal";case"point-open":return"dcg-icon-open";case"point-cross":return"dcg-icon-cross";case"point-default":return"dcg-icon-point";case"table-points":case"table-points-and-lines":return"dcg-icon-points";case"table-lines":return"dcg-icon-lines-solid";case"shaded-inequality":case"inequality":return"dcg-icon-shaded-inequality-dash";case"check":return"dcg-icon-check";case"none":case"background":case"hidden":case"polygon-none-filled":case"parametric-none-filled":case"loading":return"";case"fraction":return"dcg-icon-fraction";case"boxplot":return"dcg-icon-boxplot";case"dotplot-cross":return"dcg-icon-dotplot-cross";case"dotplot-default":return"dcg-icon-dotplot-default";case"dotplot-open":return"dcg-icon-dotplot-open";case"histogram":return"dcg-icon-histogram";case"unfilled-distribution":case"filled-distribution":return"dcg-icon-distribution";default:return h}},l.prototype.backgroundOpacity=function(){var h=this.backgroundIcon();return h==="dcg-icon-polygon-filled"||h==="dcg-icon-parametric-filled"||h==="dcg-icon-shaded-inequality-shade2"||h==="dcg-icon-distribution-fill"||h==="dcg-icon-histogram-fill"?.5:1},l.prototype.backgroundIcon=function(){var h=this.props.iconType();return h==="filled-distribution"?"dcg-icon-distribution-fill":h==="histogram"?"dcg-icon-histogram-fill":h==="polygon-dashed-filled"||h==="polygon-dotted-filled"||h==="polygon-default-filled"||h==="polygon-none-filled"?"dcg-icon-polygon-filled":h==="parametric-dashed-filled"||h==="parametric-dotted-filled"||h==="parametric-default-filled"||h==="parametric-none-filled"?"dcg-icon-parametric-filled":h==="table-points-and-lines"?"dcg-icon-lines-solid":h==="shaded-inequality"?"dcg-icon-shaded-inequality-shade2":""},l}(e.Class);u.CircularIconView=t}),$("main/manage-focus-helper",["require","exports","underscore"],function(B,u,w){function e(a){return{shouldBeFocused:function(){return c(a)},onFocusedChanged:function(l){t(a,l)}}}function c(a){var l=a.controller.getFocusLocation();return l&&w.isEqual(l,a.location)}function t(a,l){l?a.controller.dispatch({type:"set-focus-location",location:a.location}):a.controller.dispatch({type:"blur-focus-location",location:a.location})}Object.defineProperty(u,"__esModule",{value:!0}),u.manageFocusHelper=e,u.defaultShouldBeFocused=c,u.defaultOnFocusChanged=t}),$("loadcss!expressions/play-pause-icon-view",function(){}),$("expressions/play-pause-icon-view",["require","exports","tslib","dcgview","lib/aria","./circular-icon-view","main/manage-focus-helper","graphing-calc/models/expression","core/types/slider-loop-modes","../lib/tooltip","jquery.handleevent","loadcss!./play-pause-icon-view"],function(B,u,w,e,c,t,a,l,h,o){Object.defineProperty(u,"__esModule",{value:!0});var s=function(p){function g(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(g,p),g.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},g.prototype.template=function(){var d=this;return e.createElement("div",{class:e.const("dcg-play-pause-icon-view")},e.createElement("div",{class:e.const("dcg-circular-icon-container"),"aria-label":this.bindFn(this.getAriaLabel),role:e.const("button"),tabindex:e.const("0"),onTap:function(i){i.wasHandled("dragdrop")||d.toggleSliderIsPlaying()},manageFocus:this.const(a.manageFocusHelper({controller:this.controller,location:{type:"slider-icon",id:this.model.id}}))},e.createElement(t.CircularIconView,{iconType:function(){return d.getIconType()},whiteIcon:function(){return!d.controller.isInEditListMode()&&d.controller.isItemSelected(d.model.id)||d.controller.isItemBeingDragged(d.model.id)}})),e.createElement("div",{class:e.const("dcg-slider-menu-container"),didMount:function(i){return d.rootElt=i}},e.createElement(o.Tooltip,{tooltip:function(){return d.controller.t("Animation Properties")},gravity:this.const("e"),offset:this.const({left:5})},e.createElement("div",{class:function(){return{"dcg-slider-menu-opener":!0,"dcg-menu-open":d.myOptionsOpen()}},tabindex:e.const(0),role:e.const("button"),"aria-label":function(){return d.myOptionsOpen()?d.controller.t("Hide Animation Properties"):d.controller.t("Show Animation Properties")},onTap:function(i){i.wasHandled("dragdrop")||i.wasLongheld()||d.toggleOptions(i)},manageFocus:this.const(a.manageFocusHelper({controller:this.controller,location:{type:"slider-animation-properties-icon",id:this.model.id}}))},e.createElement("i",{class:this.bindFn(this.getIcon)})))))},g.prototype.getIcon=function(){return h.getSliderIcon(this.model.slider.loopMode)},g.prototype.getIconType=function(){return this.model.slider.isPlaying?l.isSliderAtEndOfPlayOnce(this.model)?"play":"pause":"play"},g.prototype.myOptionsOpen=function(){var d=this.controller.getOpenItemMenu();return!!d&&d.model===this.model},g.prototype.toggleOptions=function(d){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"slider",model:this.model,icon:this.rootElt,focusFirstOption:d.device==="keyboard"}})},g.prototype.getAriaLabel=function(){if(!this.model.sliderExists)return"";var d=this.model.dependent;return d?this.model.slider.isPlaying?this.controller.t("Pause __variable__ Animation",{variable:d}):this.controller.t("Play __variable__ Animation",{variable:d}):""},g.prototype.toggleSliderIsPlaying=function(){if(this.model.sliderExists){var d="",i=this.model.dependent;l.isSliderAtEndOfPlayOnce(this.model)?(d=this.controller.t("__variable__ restarted",{variable:i}),this.controller.dispatch({type:"play-slider-from-min",id:this.model.id})):this.model.slider.isPlaying?(d=this.controller.t("__variable__ playing",{variable:i}),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!1})):(d=this.controller.t("__variable__ paused",{variable:i}),this.controller.dispatch({type:"set-slider-isplaying",id:this.model.id,isPlaying:!0})),c.alert(d)}},g}(e.Class);u.PlayPauseIconView=s}),$("expressions/expression-icon-view",["require","exports","tslib","dcgview","core/lib/dragmode","core/types/styles","core/math/comparators","core/math/expression-types","graphing-calc/models/expression","../dcgview-helpers/tooltipped-error","./play-pause-icon-view","./circular-icon-view","main/manage-focus-helper","jquery.handleevent"],function(B,u,w,e,c,t,a,l,h,o,s,p,g){Object.defineProperty(u,"__esModule",{value:!0});var d=e.Components.SwitchUnion,i=function(n){function r(){return n!==null&&n.apply(this,arguments)||this}return w.__extends(r,n),r.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},r.prototype.template=function(){var m=this;return e.createElement("div",{class:e.const("dcg-expression-icon-container")},d(this.bindFn(this.getIconMode),{error:function(){return e.createElement(o.TooltippedError,{error:function(){return m.controller.unpack(m.model.error)},isWhite:function(){return m.controller.isItemSelected(m.model.id)||m.controller.isItemBeingDragged(m.model.id)},gravity:m.const("se")})},none:function(){return e.createElement("span",null)},slider:function(){return e.createElement(s.PlayPauseIconView,{controller:m.props.controller,model:m.props.model})},icon:function(){return e.createElement("div",{class:e.const("dcg-circular-icon-container"),role:e.const("button"),tabindex:e.const("0"),"aria-label":m.bindFn(m.getIconAriaLabel),onTap:function(y){if(!y.wasHandled("dragdrop")&&!y.wasLongheld())return m.myOptionsOpen()||m.controller.isInEditListMode()&&!m.isFraction()?m.toggleOptions(y):m.isFraction()?m.onToggleFractionDisplay():void m.toggleGraphShown()},didMount:function(y){return m.rootElt=y},onLongHold:function(y){y.handle("dcg-longhold"),y.handle("dcg-tap"),m.isFraction()||m.toggleOptions(y)},manageFocus:m.const(g.manageFocusHelper({controller:m.controller,location:{type:"expression-icon",id:m.model.id}}))},e.createElement(p.CircularIconView,{iconType:m.bindFn(m.getIconType),backgroundColor:m.bindFn(m.getBackgroundColor),whiteIcon:m.bindFn(m.isSelected),foregroundColor:m.bindFn(m.getForegroundColor),iconModifier:m.bindFn(m.getIconModifier)}))}}))},r.prototype.myOptionsOpen=function(){var m=this.controller.getOpenItemMenu();return!!m&&m.model===this.model},r.prototype.toggleOptions=function(m){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"expression",model:this.model,icon:this.rootElt,focusFirstOption:m.device==="keyboard"}})},r.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},r.prototype.isFraction=function(){return this.controller.canDisplayEvaluationForItemAsFraction(this.model.id)},r.prototype.getIconMode=function(){return this.hasError()?"error":this.controller.getGraphSettings().config.graphpaper?this.model.isGraphable&&!this.model.loading?"icon":this.hasSlider()?"slider":this.isFraction()?"icon":"none":"none"},r.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id})},r.prototype.hasError=function(){return!!this.model.error&&!h.isEmpty(this.model)&&this.controller.getBrailleMode()==="none"},r.prototype.hasSlider=function(){return!!this.model.sliderExists},r.prototype.getDisplayProps=function(){var m=this.model,y=m.points,v=m.lines,x=m.fill;return l.getReconciledExpressionProps(this.model.formula.expression_type,{points:y,lines:v,fill:x})},r.prototype.getBackgroundColor=function(){if(!this.isFraction())return this.model.color;var m=this.isSelected();return this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?m?"#fff":"#000":""},r.prototype.getForegroundColor=function(){if(!this.isFraction())return"";var m=this.isSelected();return m!==this.controller.shouldEvaluationForItemDisplayAsFraction(this.model.id)?"#fff":m?"#6399cb":"#000"},r.prototype.onToggleFractionDisplay=function(){this.controller.dispatch({type:"toggle-fraction-evaluation",id:this.model.id})},r.prototype.getIconModifier=function(){return h.isBoxPlot(this.model)&&h.getVizPropLatex(this.model,"alignedAxis")==="y"?"rotated":"none"},r.prototype.getIconType=function(){if(this.isFraction())return"fraction";if(!this.model.shouldGraph)return"hidden";if(this.controller.isInEditListMode())return"none";var m=this.model.pointStyle,y=this.model.lineStyle,v=this.getDisplayProps(),x=this.model.formula;if(h.isBoxPlot(this.model))return"boxplot";if(h.isDotPlot(this.model)){if(this.model.pointStyle==="POINT")return"dotplot-default";if(this.model.pointStyle==="CROSS")return"dotplot-cross";if(this.model.pointStyle==="OPEN")return"dotplot-open"}if(h.isHistogram(this.model))return"histogram";if(h.isToplevelDistribution(this.model))return h.shouldShowCDFFooter(this.model)?"filled-distribution":"unfilled-distribution";if(this.model.reconciledDragMode===c.DragMode.X)return"movable-horizontal";if(this.model.reconciledDragMode===c.DragMode.Y)return"movable-vertical";if(this.model.reconciledDragMode===c.DragMode.XY)return"movable-both";if(h.isPointOrPointList(this.model))return h.isSinglePoint(this.model)?m===t.PointStyle.OPEN?"point-open":m===t.PointStyle.CROSS?"point-cross":"point-default":v.lines&&v.points?"table-points-and-lines":v.lines?"table-lines":"table-points";var E=this.getDisplayProps().fill;if(h.isPolygon(this.model))return E?v.lines?y===t.LineStyle.DASHED?"polygon-dashed-filled":y===t.LineStyle.DOTTED?"polygon-dotted-filled":"polygon-default-filled":"polygon-none-filled":v.lines?y===t.LineStyle.DASHED?"polygon-dashed":y===t.LineStyle.DOTTED?"polygon-dotted":"polygon-default":"none";if(h.isParametric(this.model))return E?v.lines?y===t.LineStyle.DASHED?"parametric-dashed-filled":y===t.LineStyle.DOTTED?"parametric-dotted-filled":"parametric-default-filled":"parametric-none-filled":v.lines?y===t.LineStyle.DASHED?"graph-dashed":y===t.LineStyle.DOTTED?"graph-dotted":"graph-default":"none";var b=x.operator,f=a.table[b].direction!==0,S=a.table[b].inclusive===!1;return x.is_shade_between||!S&&f?"shaded-inequality":S&&!f?"inequality":S&&f?"shaded-inequality":y===t.LineStyle.DASHED?"graph-dashed":y===t.LineStyle.DOTTED?"graph-dotted":"graph-default"},r.prototype.getIconAriaLabel=function(){return this.isFraction()?h.shouldEvaluationDisplayAsFraction(this.model)?this.controller.t("Displaying as fraction. Press Enter to display as Decimal"):this.controller.t("Displaying as decimal. Press Enter to display as Fraction"):this.controller.isInEditListMode()?this.myOptionsOpen()?this.controller.t("Hide Options"):this.controller.t("Show Options"):this.model.hidden?this.controller.t("Show Expression"):this.controller.t("Hide Expression")},r}(e.Class);u.default=i}),$("loadcss!expressions/evaluation-view",function(){}),$("expressions/evaluation-view",["require","exports","tslib","dcgview","core/lib/label","../dcgview-helpers/mathquill-braille-wrapper","dcgview-helpers/static-mathquill-view","loadcss!./evaluation-view"],function(B,u,w,e,c,t,a){function l(g,d){return c.numericLabel(g,d)}Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components,o=h.If,s=h.SwitchUnion,p=function(g){function d(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(d,g),d.prototype.init=function(){this.controller=this.props.controller()},d.prototype.template=function(){var i=this;return e.createElement("div",{class:e.const("dcg-evaluation-container")},e.createElement("div",{class:function(){return{"dcg-evaluation":!0,"dcg-do-blur":!0,"dcg-hidden":i.props.controller().isInEditListMode()}},handleEvent:e.const("true"),tabindex:function(){return i.props.focusable()&&i.controller.getBrailleMode()==="none"?"0":"-1"}},e.createElement(t.default,{latex:this.bindFn(this.getBrailleEvaluation),tooltipOptions:function(){return{gravity:"sw"}},ariaLabel:this.const(""),brailleShouldFocus:function(){var n=i.controller.getFocusLocation();return!!n&&n.type==="braille-output"&&n.id===i.props.id()},onBrailleInput:function(){},controller:this.props.controller,isStatic:this.const(!0),onBrailleFocusedChanged:function(n){n?i.controller.dispatch({type:"set-focus-location",location:{type:"braille-output",id:i.props.id()}}):i.controller.dispatch({type:"blur-focus-location",location:{type:"braille-output",id:i.props.id()}})}},e.createElement("div",{class:e.const("dcg-evaluation-label-container"),onTap:this.bindFn(this.onSelectEvaluation)},e.createElement(o,{predicate:function(){return!!i.props.dependent()}},function(){return e.createElement(a.default,{latex:function(){return c.identifierToLatex(i.props.dependent())}},e.createElement("span",null))}),e.createElement("span",{class:e.const("dcg-equals")},e.createElement(a.default,{latex:this.const("=")}))),e.createElement("span",{class:e.const("dcg-text-selectable dcg-evaluation-html"),didMount:this.bindFn(this.didMountEvaluation)},s(function(){return i.getEvaluationType()},{list:function(){return e.createElement("span",null,function(){return i.controller.t("__count__ element list",{count:i.props.val().length})})},fraction:function(){return e.createElement(a.default,{latex:function(){return c.truncatedLatexLabel(i.props.val(),i.getLabelOptions())}})},undefined:function(){return e.createElement("span",null,e.const("undefined"))},scientific:function(){return e.createElement(a.default,{latex:function(){return i.getNumberLabel().mantissa+"\\times10^{"+i.getNumberLabel().exponent+"}"}})},decimal:function(){return e.createElement(a.default,{latex:function(){return i.getNumberLabel().value}})}})))),e.createElement("div",{class:e.const("dcg-clear")}))},d.prototype.getNumberLabel=function(){return l(this.props.val(),this.getLabelOptions())},d.prototype.getEvaluationType=function(){var i=this.props.val();return Array.isArray(i)?"list":this.getNumberLabel().type},d.prototype.getLabelOptions=function(){return this.props.controller().getEvaluationLabelOptionsForItem(this.props.id())},d.prototype.didMountEvaluation=function(i){this.evaluationNode=i},d.prototype.onSelectEvaluation=function(){var i=document.createRange();i.selectNodeContents(this.evaluationNode);var n=window.getSelection();n&&(n.removeAllRanges(),(n=window.getSelection())&&n.addRange(i))},d.prototype.getBrailleEvaluation=function(){var i="";this.props.dependent()&&(i=c.identifierToLatex(this.props.dependent())),i+="=";var n=this.getEvaluationType();switch(n){case"list":i+=this.controller.t("__count__ element list",{count:this.props.val().length});break;case"fraction":i+=c.truncatedLatexLabel(this.props.val(),this.getLabelOptions());break;case"undefined":i="undefined";break;case"scientific":i+=this.getNumberLabel().mantissa+"\\times10^{"+this.getNumberLabel().exponent+"}";break;case"decimal":i+=this.getNumberLabel().value;break;default:return n}return i},d}(e.Class);u.default=p}),$("expressions/unresolved_view",["require","exports","tslib","dcgview"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.template=function(){var l=this;return this.controller=this.props.controller(),e.createElement("div",{class:e.const("dcg-unresolved")},e.createElement("i",{class:e.const("dcg-icon-error")}),e.const(""),function(){return l.controller.t("This equation contains fine detail that has not been fully resolved.")},e.createElement("a",{href:e.const("http://support.desmos.com/entries/29577773-Unresolved-Detail-In-Plotted-Functions"),target:e.const("_blank")},function(){return l.controller.t("Learn more.")}))},a}(e.Class);u.default=c}),$("loadcss!domain",function(){}),$("expressions/domain_view",["require","exports","tslib","dcgview","jquery","keys","dcgview-helpers/mathquill-braille-wrapper","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","graphing-calc/models/expression","core/lib/label","bugsnag","loadcss!domain"],function(B,u,w,e,c,t,a,l,h,o,s,p){Object.defineProperty(u,"__esModule",{value:!0});var g=function(d){function i(){return d!==null&&d.apply(this,arguments)||this}return w.__extends(i,d),i.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},i.prototype.template=function(){var n=this;return e.createElement("div",{class:e.const("dcg-domain dcg-do-blur"),handleEvent:e.const("true")},e.createElement("div",{class:e.const("dcg-display-domain dcg-do-blur"),handleEvent:e.const("true")},e.createElement("div",{class:e.const("dcg-editable-mathquill-container")},e.createElement(a.default,{latex:function(){return n.getMinLatex()},ariaLabel:function(){return n.controller.raw("dmin")},placeholder:function(){return s.value(o.getDomainMin(n.model)).string},brailleShouldFocus:function(){return n.getFocusedInput()==="min"},selectOnFocus:this.const(!0),onBrailleInput:function(r){return n.dispatchMinLatexIfChanged(r)},controller:this.props.controller,hasError:function(){return!o.isDomainMinValid(n.model)},onBrailleFocusedChanged:function(r){return n.handleFocusedChanged("min",r)},onBrailleKeydown:function(r){return n.handleBrailleKeydown("min",r)},dataLabelAttributeValue:this.const("domain-min")},e.createElement(h.default,{latex:function(){return n.getMinLatex()},placeholder:function(){return s.value(o.getDomainMin(n.model)).string},isFocused:function(){return n.getFocusedInput()==="min"},capExpressionSize:function(){return n.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return n.controller.t("domain Minimum: ")},getAriaPostLabel:this.const(""),hasError:function(){return!o.isDomainMinValid(n.model)},onUserPressedKey:function(r,m){n.handlePressedKey("min",r,m)},onUserChangedLatex:function(r){return n.dispatchMinLatexIfChanged(r)},onExpressionSizeExceeded:function(){return n.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(r){return n.handleFocusedChanged("min",r)},dataLabelAttributeValue:this.const("domain-min"),needsSystemKeypad:function(){return!n.controller.isKeypadEnabled()}})),e.createElement("span",{class:e.const("dcg-interval-interior")},e.createElement(l.default,{latex:function(){return n.getDomainVariableLatex()}},e.createElement("span",null))),e.createElement(a.default,{latex:function(){return n.getMaxLatex()},ariaLabel:function(){return n.controller.raw("dmax")},placeholder:function(){return s.value(o.getDomainMax(n.model)).string},brailleShouldFocus:function(){return n.getFocusedInput()==="max"},selectOnFocus:this.const(!0),onBrailleInput:function(r){return n.dispatchMaxLatexIfChanged(r)},controller:this.props.controller,hasError:function(){return!o.isDomainMaxValid(n.model)},onBrailleFocusedChanged:function(r){return n.handleFocusedChanged("max",r)},onBrailleKeydown:function(r){return n.handleBrailleKeydown("max",r)},dataLabelAttributeValue:this.const("domain-max")},e.createElement(h.default,{latex:function(){return n.getMaxLatex()},placeholder:function(){return s.value(o.getDomainMax(n.model)).string},isFocused:function(){return n.getFocusedInput()==="max"},capExpressionSize:function(){return n.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return n.controller.t("domain Maximum: ")},getAriaPostLabel:this.const(""),hasError:function(){return!o.isDomainMaxValid(n.model)},onUserPressedKey:function(r,m){n.handlePressedKey("max",r,m)},onUserChangedLatex:function(r){return n.dispatchMaxLatexIfChanged(r)},onExpressionSizeExceeded:function(){return n.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(r){return n.handleFocusedChanged("max",r)},dataLabelAttributeValue:this.const("domain-max"),needsSystemKeypad:function(){return!n.controller.isKeypadEnabled()}})))))},i.prototype.handleBrailleKeydown=function(n,r){var m=t.lookup(r);m&&this.handlePressedKey(n,m,c.Event(r))},i.prototype.handlePressedKey=function(n,r,m){if(!this.controller.isInEditListMode()){if(r==="Esc")return void this.controller.dispatch({type:"set-focus-location",location:void 0});if(r==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})}var y=h.default.getFocusedMathquill(),v=a.getFocusedBrailleElement();if(r==="Left"||r==="Right"||r==="Down"||r==="Up")return void((y?h.default.applyArrowKeyAndReturnIfWasAtBounds(y,r,m):!(!v||!(v.selectionStart===0&&r==="Left"||v.selectionStart===c(v).val().length&&r==="Right"||r==="Up"||r==="Down")))&&(m&&m.preventDefault(),r==="Left"?n==="max"&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"min"}}):r==="Right"?n==="min"&&this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.model.id,location:"max"}}):r==="Down"?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):r==="Up"&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}})));y&&(y.keystroke(r,m),n==="min"?this.dispatchMinLatexIfChanged(y.latex()):n==="max"&&this.dispatchMaxLatexIfChanged(y.latex()))},i.prototype.handleFocusedChanged=function(n,r){r?this.controller.dispatch({type:"set-focus-location",location:{type:"domain-limit",id:this.id,location:n}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"domain-limit",id:this.id,location:n}})},i.prototype.dispatchMinLatexIfChanged=function(n){if(this.getMinLatex()!==n){var r=this.getDomainType();if(r==="unknown")return void p.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:o.getState(this.model,{stripDefaults:!0})}});this.controller.dispatch(r==="polar"?{type:"set-polar-domain-minlatex",id:this.id,latex:n}:{type:"set-parametric-domain-minlatex",id:this.id,latex:n})}},i.prototype.dispatchMaxLatexIfChanged=function(n){if(this.getMaxLatex()!==n){var r=this.getDomainType();if(r==="unknown")return void p.notify("DomainView is in use for a non-parametric, non-polar expression",{severity:"error",metaData:{expression:o.getState(this.model,{stripDefaults:!0})}});this.controller.dispatch(r==="polar"?{type:"set-polar-domain-maxlatex",id:this.id,latex:n}:{type:"set-parametric-domain-maxlatex",id:this.id,latex:n})}},i.prototype.getFocusedInput=function(){var n=this.controller.getFocusLocation();if(n&&n.type==="domain-limit"&&n.id===this.id)return n.location},i.prototype.getMinLatex=function(){switch(this.getDomainType()){case"parametric":return o.getParametricDomainMin(this.model);case"polar":return o.getPolarDomainMin(this.model);default:return""}},i.prototype.getMaxLatex=function(){switch(this.getDomainType()){case"parametric":return o.getParametricDomainMax(this.model);case"polar":return o.getPolarDomainMax(this.model);default:return""}},i.prototype.getDomainVariableLatex=function(){switch(this.getDomainType()){case"parametric":return"\\le t \\le";case"polar":return"\\le \\theta \\le";default:return""}},i.prototype.getDomainType=function(){return o.isPolar(this.model)?"polar":o.isParametric(this.model)?"parametric":"unknown"},i}(e.Class);u.default=g}),$("loadcss!regression",function(){}),$("expressions/regression_view",["require","exports","tslib","dcgview","core/lib/label","dcgview-helpers/static-mathquill-view","loadcss!regression"],function(B,u,w,e,c,t){function a(g,d){return c.truncatedLatexLabel(g.parameters[d],{zeroCutoff:1e-15,digits:6,smallCutoff:1e-6,bigCutoff:1e9})}function l(g,d){return c.truncatedLatexLabel(g.statistics[d],{zeroCutoff:1e-15,digits:4,smallCutoff:1e-6,bigCutoff:1e9})}Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components,o=h.If,s=h.For,p=function(g){function d(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(d,g),d.prototype.template=function(){var i=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,e.createElement(o,{predicate:this.bindFn(this.getRegression)},function(){return e.createElement("div",{class:e.const("dcg-regression-container")},e.createElement("div",{class:e.const("dcg-handle-event"),handleEvent:e.const("true")},e.createElement(o,{predicate:i.bindFn(i.getShouldSuggestLogMode)},function(){return e.createElement("div",{class:e.const("dcg-log-mode-toggle")},e.createElement("div",{class:function(){return{"dcg-action-log-mode-toggle":!0,"dcg-toggled-on":i.getIsLogModeRegression()}},onTap:i.bindFn(i.onTapLogMode)},e.createElement("span",{class:e.const("dcg-log-mode-checkbox"),role:e.const("checkbox"),"aria-checked":function(){return i.getIsLogModeRegression()},tabindex:e.const("0"),"aria-label":function(){return i.controller.t("Log Mode")}},e.createElement("i",{class:e.const("dcg-icon-check")})),function(){return i.controller.t("Log Mode")}),e.createElement("a",{"aria-label":function(){return i.controller.t("Log Mode Help")},class:e.const("dcg-log-mode-toggle-help"),target:e.const("_blank"),href:e.const("http://support.desmos.com/hc/en-us/articles/204349605")},e.createElement("i",{class:e.const("dcg-icon-question-sign")})))}),e.createElement("div",{class:e.const("dcg-statistics"),role:e.const("group"),"aria-label":function(){return i.controller.t("Statistics")}},e.createElement("div",{class:e.const("dcg-expression-footer-title")},function(){return i.controller.t("Statistics")},e.createElement(o,{predicate:function(){return i.getRegression().statistics.hasOwnProperty("RMSE")}},function(){return e.createElement("a",{class:e.const("dcg-expression-footer-title-help"),target:e.const("_blank"),href:e.const("http://support.desmos.com/entries/60176149-What-is-RMSE-"),"aria-label":function(){return i.controller.t("What is RMSE?")}},e.createElement("i",{class:e.const("dcg-icon-question-sign")}))}),e.createElement(o,{predicate:function(){return i.getRegression().statistics.Rsquared<0}},function(){return e.createElement("a",{"aria-label":function(){return i.controller.t("Why am I seeing a negative R Squared value?")},class:e.const("dcg-expression-footer-title-help"),target:e.const("_blank"),href:e.const("http://support.desmos.com/entries/60460125-Why-am-I-seeing-a-negative-R-2-value-")},e.createElement("i",{class:e.const("dcg-icon-question-sign")}))})),e.createElement("div",{class:e.const("dcg-statistics-values")},e.createElement(o,{predicate:function(){return i.getRegression().statistics.hasOwnProperty("Rsquared")}},function(){return e.createElement("div",null,e.createElement(t.default,{latex:function(){return"R^2="+l(i.getRegression(),"Rsquared")}},e.createElement("span",{tabindex:e.const("0")})))}),e.createElement(o,{predicate:function(){return i.getRegression().statistics.hasOwnProperty("rsquared")}},function(){return e.createElement("div",null,e.createElement(t.default,{latex:function(){return"r^2="+l(i.getRegression(),"rsquared")}},e.createElement("span",{tabindex:e.const("0")})))}),e.createElement(o,{predicate:function(){return i.getRegression().statistics.hasOwnProperty("r")}},function(){return e.createElement("div",null,e.createElement(t.default,{latex:function(){return"r="+l(i.getRegression(),"r")}},e.createElement("span",{class:e.const("dcg-r-value"),tabindex:e.const("0")})))}),e.createElement(o,{predicate:function(){return i.getRegression().statistics.hasOwnProperty("RMSE")}},function(){return e.createElement("div",null,e.createElement(t.default,{latex:function(){return"\\operatorname{RMSE}="+l(i.getRegression(),"RMSE")}},e.createElement("span",{tabindex:e.const("0")})))}))),e.createElement("div",{role:e.const("group"),"aria-label":function(){return i.controller.t("Residuals")},class:e.const("dcg-residuals")},e.createElement("div",{class:e.const("dcg-expression-footer-title")},function(){return i.controller.t("Residuals")}),e.createElement(t.default,{latex:i.bindFn(i.getResidualVariable)},e.createElement("span",{class:e.const("dcg-residuals-variable"),tabindex:e.const("0")})),e.createElement("div",{class:function(){return{"dcg-residual-suggestion":!0,"dcg-action-plot-residual":!0,"dcg-btn":!0,"dcg-btn-light-gray":!0,"dcg-visible":i.getResidualSuggestionVisible()}},"aria-hidden":function(){return!i.getResidualSuggestionVisible()},role:e.const("button"),tabindex:function(){return i.getResidualSuggestionVisible()?"0":void 0},onTap:i.bindFn(i.onTapResidualsSuggestion)},function(){return i.controller.t("plot")})),e.createElement(o,{predicate:function(){return Object.keys(i.getRegression().parameters).length>0}},function(){return e.createElement("div",{class:e.const("dcg-parameters-container")},e.createElement("div",{class:e.const("dcg-expression-footer-title")},function(){return i.controller.t("Parameters")}),e.createElement(s,{each:function(){return Object.keys(i.getRegression().parameters)}},e.createElement("div",{role:e.const("group"),"aria-label":function(){return i.controller.t("Parameters")},class:e.const("dcg-parameters")},function(n){return e.createElement(t.default,{latex:function(){return n+"="+a(i.getRegression(),n)}},e.createElement("span",{class:e.const("dcg-parameter"),tabindex:e.const("0")}))})))}),e.createElement("div",{class:e.const("dcg-clear")})))})},d.prototype.onTapResidualsSuggestion=function(){this.controller.dispatch({type:"plot-residuals",id:this.id})},d.prototype.onTapLogMode=function(){this.controller.dispatch({type:"toggle-logmode",id:this.id})},d.prototype.getRegression=function(){return this.model.formula.regression},d.prototype.getResidualVariable=function(){return this.getRegression().residualVariable||""},d.prototype.getResidualSuggestionVisible=function(){return this.getRegression().residualSuggestionId!==void 0},d.prototype.getShouldSuggestLogMode=function(){return!!this.getRegression().shouldSuggestLogMode},d.prototype.getIsLogModeRegression=function(){return!!this.model.isLogModeRegression},d}(e.Class);u.default=p,u.getRoundedParam=a,u.getRoundedStat=l}),(function(){$("dcgview-helpers/dragdrop",["require","underscore","underscore_model","jquery","pjs","lib/animation-frame"],function(B){var u,w,e,c;return B("underscore"),c=B("underscore_model").UnderscoreModel,u=B("jquery"),e=B("pjs"),w=B("lib/animation-frame"),e(c,function(t,a){return{init:function(l){return this.options=l??{},a.init.call(this),this.dragging=!1},_evt2pt:function(l){return{x:l.changedTouches[0].pageX-this._offsetPt.x,y:l.changedTouches[0].pageY-this._offsetPt.y}},_dispatch:function(l,h){var o;if(!this._destroyed)return o=this._evt2pt(h),this.triggerEvent(l,{x:o.x,y:o.y,dx:o.x-this._startPt.x,dy:o.y-this._startPt.y,evt:h})},destroy:function(){return u(document).off("."+this.guid),this._destroyed=!0},startDrag:function(l,h){if(h==null&&(h={}),!this.dragging)return u(document).on("dcg-tapmove."+this.guid,function(o){return function(s){if(s.originalEvent.preventDefault(),!o.options.doNotThrottle)return w.cancelAnimationFrame(o.frameThrottle),o.frameThrottle=w.requestAnimationFrame(function(){return o.doDrag(s)});o.doDrag(s)}}(this)),u(document).on("dcg-tapend."+this.guid+" dcg-tapcancel."+this.guid,function(o){return function(s){return o.endDrag(s)}}(this)),this._offsetPt={x:0,y:0},h.origin!=null&&(this._offsetPt={x:this._evt2pt(l).x-h.origin.x,y:this._evt2pt(l).y-h.origin.y}),this._startPt=this._evt2pt(l),this.setProperty("dragging",!0),this._dispatch("onGrab",l)},doDrag:function(l){if(this.dragging)return this._dispatch("onDrag",l)},endDrag:function(l){if(this.dragging)return u(document).off("."+this.guid),this.doDrag(l),this.setProperty("dragging",!1),this._dispatch("onDrop",l)}}})})}).call(this),$("loadcss!dcgview-helpers/slider",function(){}),$("dcgview-helpers/slider",["require","exports","./dragdrop","lib/rounding","tslib","keys","dcgview","jquery","lib/conditional_blur","loadcss!./slider"],function(B,u,w,e,c,t,a,l,h){function o(g,d,i){return Math.min(Math.max(g,d),i)}Object.defineProperty(u,"__esModule",{value:!0});var s=a.Components.If,p=function(g){function d(){return g!==null&&g.apply(this,arguments)||this}return c.__extends(d,g),d.prototype.template=function(){var i=this;return a.createElement("div",{class:function(){return{"dcg-slider-interior":!0,"dcg-disable-slider":i.shouldDisableSlider()}},didMount:this.bindFn(this.didMountRoot),onTapStart:this.bindFn(this.onStartDrag),style:a.const({"touch-action":"none"})},a.createElement("div",{class:a.const("dcg-track")},a.createElement("div",{class:a.const("dcg-ticks"),onMount:this.bindFn(this.didMountTickMarks)}),a.createElement("div",{class:a.const("dcg-graphic")})),a.createElement(s,{predicate:this.bindFn(this.shouldShowZeroMarker)},function(){return a.createElement("div",{class:a.const("dcg-zeroMarker"),style:function(){return{left:i.getZeroMarkerPercent()+"%"}}})}),a.createElement("div",{class:function(){return{"dcg-thumb":!0,"dcg-down":i.isDragging}},role:a.const("slider"),tabindex:a.const("0"),disablescroll:a.const("true"),style:function(){return{left:i.getThumbPercent()+"%"}},onKeyDown:this.bindFn(this.onKeyDown),"aria-label":this.props.ariaLabel,"aria-valuemin":this.props.min,"aria-valuemax":this.props.max,"aria-valuenow":this.props.value,manageFocus:this.buildFocusManager()},a.createElement("div",{class:a.const("dcg-graphic")}),a.createElement("div",{class:a.const("dcg-center")})))},d.prototype.willUnmount=function(){this.dragDrop.destroy()},d.prototype.didMountRoot=function(i){var n=this;this.rootNode=i,this.dragDrop=w(),this.isMounted=!0,this.dragDrop.observeEvent("onDrop",function(){n.isDragging=!1,n.update(),n.props.onDrop&&n.props.onDrop()}),this.dragDrop.observeEvent("onGrab",function(){n.isDragging=!0,n.update(),n.props.onGrab&&n.props.onGrab()}),this.dragDrop.observeEvent("onDrag",function(r,m){n.props.onDragUpdate(n.valueFromPixels(m.x))})},d.prototype.didMountTickMarks=function(i){this.tickMarksNode=i,this.renderTickMarks()},d.prototype.didUpdate=function(){this.renderTickMarks()},d.prototype.shouldDisableSlider=function(){return this.props.min()===this.props.max()},d.prototype.renderTickMarks=function(){if(this.tickMarksNode){var i,n=this.props.step(),r=this.props.min(),m=this.props.max();if(i=n===void 0?0:100*n/(m-r),i<3&&(i=0),i>100&&(i=0),isNaN(i)&&(i=0),this.lastTickMarksPercent!==i){this.lastTickMarksPercent=i;var y="";if(i>0&&i<100)for(var v=i;v<100;v+=i)y+='<div class="dcg-tick" style="left:'+v+'%"></div>';this.tickMarksNode.innerHTML=y}}},d.prototype.shouldShowZeroMarker=function(){return this.props.min()<=0&&this.props.max()>=0},d.prototype.getZeroMarkerPercent=function(){var i=this.props.min();return 100*(0-i)/(this.props.max()-i)},d.prototype.getThumbPercent=function(){return 100*this.percentFromValue(this.props.value())},d.prototype.valueFromPixels=function(i){if(!this.isMounted)return 0;var n=this.props.min(),r=this.props.max(),m=this.rootNode.getBoundingClientRect().width,y=o(i/m,0,1),v=n+(r-n)*y,x=(r-n)/m;return e.shortestDecimalBetween(v-x,v+x)},d.prototype.percentFromValue=function(i){var n=this.props.min();return o((i-n)/(this.props.max()-n),0,1)},d.prototype.pixelsFromValue=function(i){if(!this.isMounted)return 0;var n=this.percentFromValue(i);return this.rootNode.getBoundingClientRect().width*n},d.prototype.onKeyDown=function(i){switch(t.lookup(i)){case t.UP:this.props.onUpPress&&(this.props.onUpPress(),i.preventDefault());break;case t.DOWN:this.props.onDownPress&&(this.props.onDownPress(),i.preventDefault());break;case t.ENTER:this.props.onEnterPress&&(this.props.onEnterPress(),i.preventDefault());break;case t.ESCAPE:document.activeElement&&l(document.activeElement).blur();break;case t.LEFT:this.props.onKeyboardUpdate("down"),i.preventDefault();break;case t.RIGHT:this.props.onKeyboardUpdate("up"),i.preventDefault();break;case t.PAGEDOWN:this.props.onKeyboardUpdate("bigdown"),i.preventDefault();break;case t.PAGEUP:this.props.onKeyboardUpdate("bigup"),i.preventDefault();break;case t.HOME:this.props.onKeyboardUpdate("min"),i.preventDefault();break;case t.END:this.props.onKeyboardUpdate("max"),i.preventDefault()}},d.prototype.onStartDrag=function(i){if(i.device!=="keyboard"&&i.target){i.preventDefault(),h.default();var n={x:0,y:0};l(i.target).closest(".dcg-thumb").length===1?n.x=this.pixelsFromValue(this.props.value()):n.x=i.changedTouches[0].clientX-this.rootNode.getBoundingClientRect().left,this.dragDrop.startDrag(i,{origin:n})}},d.prototype.buildFocusManager=function(){return this.props.onFocusedChanged&&this.props.isFocused?this.const({shouldBeFocused:this.props.isFocused,onFocusedChanged:this.props.onFocusedChanged}):this.const(void 0)},d}(a.Class);u.default=p}),$("expressions/slider_limits_view",["require","exports","tslib","jquery","dcgview","dcgview-helpers/mathquill-braille-wrapper","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","keys","graphing-calc/models/expression","core/lib/label","core/types/slider-loop-modes"],function(B,u,w,e,c,t,a,l,h,o,s,p){Object.defineProperty(u,"__esModule",{value:!0});var g=c.Components.If,d=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(n,i),n.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},n.prototype.template=function(){var r=this;return c.createElement("div",{class:c.const("dcg-slider_menu dcg-do-blur"),handleEvent:c.const("true"),didMount:function(m){return r.node=m}},c.createElement("div",{class:c.const("dcg-editable-mathquill-container")},c.createElement(g,{predicate:function(){return!r.shouldOnlyShowStep()}},function(){return c.createElement("span",null,c.createElement(t.default,{latex:function(){return r.model.slider.hardMin?r.model.slider.min:""},ariaLabel:function(){return r.controller.raw("sldrmin")},brailleShouldFocus:function(){return r.getFocusedInput()==="min"},onBrailleInput:function(m){return r.handleLatexChanged("min",m)},controller:r.props.controller,hasError:function(){return!o.isSliderMinValid(r.model)},onBrailleFocusedChanged:function(m,y){return r.handleFocusedChanged("min",m,y)},onBrailleKeydown:function(m){return r.handleBrailleKeydown("min",m)},selectOnFocus:r.const(!0),dataDCGLimit:r.const("slidermin")},c.createElement(l.default,{latex:function(){return r.model.slider.hardMin?r.model.slider.min:""},isFocused:function(){return r.getFocusedInput()==="min"},capExpressionSize:function(){return r.controller.getCapExpressionSize()},selectOnFocus:r.const(!0),config:r.const({}),getAriaLabel:function(){return r.controller.t("Slider Minimum: ")},getAriaPostLabel:r.const(""),hasError:r.const(!1),onUserPressedKey:function(m,y){return r.handlePressedKey("min",m,y)},onUserChangedLatex:function(m){return r.handleLatexChanged("min",m)},onExpressionSizeExceeded:function(){return r.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(m,y){return r.handleFocusedChanged("min",m,y)},needsSystemKeypad:function(){return!r.controller.isKeypadEnabled()}},c.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":r.getFocusedInput()==="min","dcg-invalid":!o.isSliderMinValid(r.model)}},"data-dcg-limit":c.const("slidermin")}))),c.createElement("span",{class:c.const("dcg-interval-interior")},c.createElement(a.default,{latex:r.bindFn(r.getDependentLatex)},c.createElement("span",null))),c.createElement(t.default,{latex:function(){return r.model.slider.hardMax?r.model.slider.max:""},ariaLabel:function(){return r.controller.raw("sldrmax")},brailleShouldFocus:function(){return r.getFocusedInput()==="max"},onBrailleInput:function(m){return r.handleLatexChanged("max",m)},controller:r.props.controller,hasError:function(){return!o.isSliderMaxValid(r.model)},onBrailleFocusedChanged:function(m,y){return r.handleFocusedChanged("max",m,y)},onBrailleKeydown:function(m){return r.handleBrailleKeydown("max",m)},selectOnFocus:r.const(!0),dataDCGLimit:r.const("slidermax")},c.createElement(l.default,{latex:function(){return r.model.slider.hardMax?r.model.slider.max:""},isFocused:function(){return r.getFocusedInput()==="max"},capExpressionSize:function(){return r.controller.getCapExpressionSize()},selectOnFocus:r.const(!0),config:r.const({}),getAriaLabel:function(){return r.controller.t("Slider Maximum: ")},getAriaPostLabel:r.const(""),hasError:r.const(!1),onUserPressedKey:function(m,y){return r.handlePressedKey("max",m,y)},onUserChangedLatex:function(m){return r.handleLatexChanged("max",m)},onExpressionSizeExceeded:function(){return r.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(m,y){return r.handleFocusedChanged("max",m,y)},needsSystemKeypad:function(){return!r.controller.isKeypadEnabled()}},c.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":r.getFocusedInput()==="max","dcg-invalid":!o.isSliderMaxValid(r.model)}},"data-dcg-limit":c.const("slidermax")}))))}),c.createElement("span",{class:function(){return{"dcg-slider-step-container":!r.shouldOnlyShowStep()}}},c.createElement("span",{class:c.const("dcg-slider-step-label"),"aria-hidden":c.const("true")},function(){return r.controller.t("Step:")}),c.createElement(t.default,{latex:function(){return r.model.slider.step},ariaLabel:function(){return r.controller.raw("sldrstp")},brailleShouldFocus:function(){return r.getFocusedInput()==="step"},onBrailleInput:function(m){return r.handleLatexChanged("step",m)},controller:this.props.controller,hasError:function(){return!o.isSliderStepValid(r.model)},onBrailleFocusedChanged:function(m,y){return r.handleFocusedChanged("step",m,y)},onBrailleKeydown:function(m){return r.handleBrailleKeydown("step",m)},selectOnFocus:this.const(!0),dataDCGLimit:this.const("sliderstep")},c.createElement(l.default,{latex:function(){return r.model.slider.step},isFocused:function(){return r.getFocusedInput()==="step"},capExpressionSize:function(){return r.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return r.controller.t("Slider Step Size: ")},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(m,y){return r.handlePressedKey("step",m,y)},onUserChangedLatex:function(m){return r.handleLatexChanged("step",m)},onExpressionSizeExceeded:function(){return r.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(m,y){return r.handleFocusedChanged("step",m,y)},needsSystemKeypad:function(){return!r.controller.isKeypadEnabled()}},c.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-focus":r.getFocusedInput()==="step","dcg-invalid":!o.isSliderStepValid(r.model)}},"data-dcg-limit":c.const("sliderstep")}))))))},n.prototype.handleBrailleKeydown=function(r,m){var y=h.lookup(m);y&&this.handlePressedKey(r,y,e.Event(m))},n.prototype.handlePressedKey=function(r,m,y){if(!(this.controller.isInEditListMode()||this.shouldOnlyShowStep()||m!=="Esc"&&m!=="Enter"))return void this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.id}});var v=l.default.getFocusedMathquill(),x=t.getFocusedBrailleElement();if(m==="Left"||m==="Right"||m==="Down"||m==="Up")return void((v?l.default.applyArrowKeyAndReturnIfWasAtBounds(v,m,y):!(!x||!(x.selectionStart===0&&m==="Left"||x.selectionStart===e(x).val().length&&m==="Right"||m==="Up"||m==="Down")))&&(y&&y.preventDefault(),m!=="Left"||this.shouldOnlyShowStep()?m!=="Right"||this.shouldOnlyShowStep()?m==="Down"?this.controller.dispatch({type:"on-special-key-pressed",key:"Down"}):m==="Up"&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.model.id}}):r==="min"?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}}):r==="max"&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"step"}}):r==="max"?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"min"}}):r==="step"&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.model.id,location:"max"}})));v&&(v.keystroke(m,y),this.handleLatexChanged(r,v.latex()))},n.prototype.shouldOnlyShowStep=function(){return this.model.slider.loopMode===p.SliderLoopMode.PLAY_INDEFINITELY},n.prototype.handleLatexChanged=function(r,m){r==="min"?this.dispatchMinLatexIfChanged(m):r==="max"?this.dispatchMaxLatexIfChanged(m):r==="step"&&this.dispatchStepLatexIfChanged(m)},n.prototype.handleFocusedChanged=function(r,m,y){m&&this.getFocusedInput()!==r?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:r}}):this.getFocusedInput()!==r||this.controller.getBrailleMode()!=="none"||y.relatedTarget&&this.node.contains(y.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"slider-limit",id:this.id,location:r}})},n.prototype.dispatchMinLatexIfChanged=function(r){this.model.slider.min!==r&&this.controller.dispatch({type:"set-slider-minlatex",id:this.id,latex:r})},n.prototype.dispatchMaxLatexIfChanged=function(r){this.model.slider.max!==r&&this.controller.dispatch({type:"set-slider-maxlatex",id:this.id,latex:r})},n.prototype.dispatchStepLatexIfChanged=function(r){this.model.slider.step!==r&&this.controller.dispatch({type:"set-slider-steplatex",id:this.id,latex:r})},n.prototype.getDependentLatex=function(){var r=this.model.dependent||"";return" \\le "+s.identifierToLatex(r)+" \\le "},n.prototype.getFocusedInput=function(){var r=this.controller.getFocusLocation();if(r&&r.type==="slider-limit"&&r.id===this.id)return r.location},n}(c.Class);u.default=d}),$("loadcss!expressions/slider-view",function(){}),$("expressions/slider_view",["require","exports","tslib","jquery","keys","dcgview","dcgview-helpers/slider","./slider_limits_view","dcgview-helpers/static-mathquill-view","graphing-calc/models/expression","core/types/slider-loop-modes","loadcss!./slider-view"],function(B,u,w,e,c,t,a,l,h,o,s){Object.defineProperty(u,"__esModule",{value:!0});var p=t.Components.If,g=function(d){function i(){return d!==null&&d.apply(this,arguments)||this}return w.__extends(i,d),i.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},i.prototype.template=function(){var n=this;return t.createElement("span",{class:t.const("dcg-slider-container"),tapboundary:t.const("true"),onKeydown:function(r){c.lookup(r)!=="Tab"||r.altKey||r.metaKey||r.ctrlKey||(r.shiftKey?n.isSliderMinFocused()&&n.controller.isInEditListMode()?(r.target!==null&&e(r.target).closest(".dcg-expressionitem").find('[tabindex="0"]:visible:first').focus(),r.preventDefault(),r.stopPropagation()):n.isSliderThumbFocused()&&(n.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:n.id,location:"step"}}),r.preventDefault(),r.stopPropagation()):!r.shiftKey&&n.isSliderStepFocused()&&(n.controller.isInEditListMode()?n.controller.dispatch({type:"set-focus-location",location:{type:"slider-icon",id:n.id}}):n.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:n.id}}),r.preventDefault(),r.stopPropagation()))}},t.createElement(p,{predicate:function(){return n.shouldShowSlider()}},function(){return t.createElement("div",{class:t.const("dcg-do-blur dcg-slider"),handleEvent:t.const("true")},t.createElement("div",{class:t.const("dcg-minLabel dcg-template-minlabelhtml"),role:t.const("button"),tabindex:t.const("0"),"aria-label":function(){return n.controller.t("Edit __variable__ Limits",{variable:n.controller.getBrailleMode()==="none"?'"'+n.model.dependent+'"':""+n.model.dependent})},onTap:function(){return n.onEditLimit("min")}},t.createElement(h.default,{latex:function(){return o.getDisplaySliderMin(n.model)}})),t.createElement(a.default,{min:function(){return o.getSliderMin(n.model)},max:function(){return o.getSliderMax(n.model)},step:function(){return o.getSliderStep(n.model)},value:function(){return o.getSliderValue(n.model)},ariaLabel:function(){return n.controller.getBrailleMode()==="none"?'"'+n.model.dependent+'"':""+n.model.dependent},onGrab:n.bindFn(n.onGrab),onDrop:n.bindFn(n.onDrop),onDragUpdate:n.bindFn(n.onDragUpdate),onKeyboardUpdate:n.bindFn(n.onKeyboardUpdate),onUpPress:function(){return n.controller.dispatch({type:"on-special-key-pressed",key:"Up"})},onDownPress:function(){return n.controller.dispatch({type:"on-special-key-pressed",key:"Down"})},onEnterPress:function(){return n.controller.dispatch({type:"on-special-key-pressed",key:"Enter"})},isFocused:n.bindFn(n.isSliderThumbFocused),onFocusedChanged:function(r){r?n.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:n.id}}):n.controller.dispatch({type:"blur-focus-location",location:{type:"slider-thumb",id:n.id}})}}),t.createElement("div",{class:t.const("dcg-maxLabel dcg-template-maxlabelhtml"),onTap:function(){return n.onEditLimit("max")}},t.createElement(h.default,{latex:function(){return o.getDisplaySliderMax(n.model)}})))}),t.createElement(p,{predicate:function(){return n.shouldShowLimitInputs()}},function(){return t.createElement(l.default,{model:n.props.model,controller:n.props.controller})}))},i.prototype.onGrab=function(){this.dispatchIsDraggingIfChanged(!0)},i.prototype.onDrop=function(){this.controller.dispatch({type:"set-none-selected"}),this.dispatchIsPlayingIfChanged(!1),this.dispatchIsDraggingIfChanged(!1)},i.prototype.onKeyboardUpdate=function(n){this.controller.dispatch({type:"adjust-slider-by-keyboard",id:this.id,adjustment:n})},i.prototype.onDragUpdate=function(n){this.controller.dispatch({type:"adjust-slider-by-dragging-thumb",id:this.model.id,target:n})},i.prototype.onEditLimit=function(n){this.controller.dispatch({type:"set-focus-location",location:{type:"slider-limit",id:this.id,location:n}})},i.prototype.dispatchIsPlayingIfChanged=function(n){this.model.slider.isPlaying!==n&&this.controller.dispatch({type:"set-slider-isplaying",id:this.id,isPlaying:n})},i.prototype.dispatchIsDraggingIfChanged=function(n){this.model.sliderDragging!==n&&this.controller.dispatch({type:"set-slider-dragging",id:this.id,dragging:n})},i.prototype.shouldShowLimitInputs=function(){if(this.controller.isInEditListMode()||!o.isSliderMinValid(this.model)||!o.isSliderMaxValid(this.model)||!o.isSliderStepValid(this.model)||this.model.slider.loopMode===s.SliderLoopMode.PLAY_INDEFINITELY)return!0;var n=this.controller.getFocusLocation();return!(!n||n.type!=="slider-limit"&&n.type!=="expression"||n.id!==this.id)},i.prototype.shouldShowSlider=function(){return!this.shouldShowLimitInputs()},i.prototype.isSliderThumbFocused=function(){var n=this.controller.getFocusLocation();return!(!n||n.type!=="slider-thumb"||n.id!==this.id)},i.prototype.isSliderMinFocused=function(){var n=this.controller.getFocusLocation();return!(!n||n.type!=="slider-limit"||n.id!==this.id||n.location!=="min")},i.prototype.isSliderStepFocused=function(){var n=this.controller.getFocusLocation();return!(!n||n.type!=="slider-limit"||n.id!==this.id||n.location!=="step")},i}(t.Class);u.default=g}),$("loadcss!prompt-sliders",function(){}),$("expressions/promptslider_view",["require","exports","tslib","core/lib/label","jquery","lib/aria","dcgview","loadcss!prompt-sliders"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=a.Components,h=l.For,o=l.If,s=function(p){function g(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(g,p),g.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},g.prototype.template=function(){var d=this;return a.createElement("div",{class:a.const("dcg-create-sliders dcg-action-createslider"),handleEvent:a.const("true"),onTap:this.bindFn(this.onCreateSlider)},a.createElement("span",{class:a.const("dcg-msg")},function(){return d.controller.t("add slider:")}),a.createElement("span",{class:a.const("btns")},a.createElement(h,{each:function(){return d.model.missingVariables.slice(0,4)}},a.createElement("span",null,function(i){return a.createElement("div",{class:a.const("dcg-slider-btn-container"),var_name:d.const(i)},a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),class:function(){return{"dcg-btn-slider":!0,"dcg-btn-blue":d.model.missingVariables.length===1,"dcg-btn-light-gray":d.model.missingVariables.length!==1}},didMount:function(n){n.innerHTML=e.identifierToHTML(i)}}))})),a.createElement(o,{predicate:function(){return d.model.missingVariables.length>1}},function(){return a.createElement("div",{class:a.const("dcg-slider-btn-container dcg-all")},a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),class:a.const("dcg-btn-slider dcg-btn-blue")},function(){return d.controller.t("all")}))})))},g.prototype.onCreateSlider=function(d){if(this.controller.dispatch({type:"set-none-selected"}),d.target){var i=c(d.target).closest(".dcg-slider-btn-container");if(i.length){var n=!1;if(i.hasClass("dcg-all"))this.controller.dispatch({type:"create-sliders-for-item",id:this.model.id,variables:this.model.missingVariables}),n=!0;else{var r=[i.attr("var_name")];this.controller.dispatch({type:"create-sliders-for-item",id:this.model.id,variables:r}),n=this.model.missingVariables.length==1}if(d.device==="keyboard"){var m=this.model.id,y=this.props.controller().getItemSelectorById(m);if(!y)return;n?this.controller.dispatch({type:"move-focus-to-item",id:m}):y.find(".dcg-btn-blue").focus()}}}},g.prototype.didMount=function(){var d=this;this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout),this.promptAlertTimeout=setTimeout(function(){for(var i=[],n=d.model.missingVariables,r=0;r<n.length;r++)i.push('"'+n[r]+'"');t.alert(d.controller.t("Add slider for __vars__",{vars:i.join(",")})),d.promptAlertTimeout=0},2e3)},g.prototype.didUnmount=function(){this.promptAlertTimeout&&clearTimeout(this.promptAlertTimeout)},g}(a.Class);u.default=s}),$("loadcss!dcgview-helpers/checkbox",function(){}),$("dcgview-helpers/checkbox",["require","exports","tslib","dcgview","jquery","loadcss!./checkbox"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return w.__extends(l,a),l.prototype.template=function(){var h=this;return e.createElement("div",{class:function(){return{"dcg-component-checkbox":!0,"dcg-checked":h.props.checked(),"dcg-disabled":h.props.disabled&&h.props.disabled(),"dcg-small":h.props.small&&h.props.small(),"dcg-green":h.props.green&&h.props.green()}},onTap:this.bindFn(this.onChange)},e.createElement("span",{tabindex:e.const(0),class:e.const("dcg-checkbox"),role:e.const("checkbox"),"aria-label":this.props.ariaLabel,"aria-disabled":function(){return h.props.disabled&&h.props.disabled()},"aria-checked":this.props.checked},e.createElement("i",{class:e.const("dcg-icon-check"),"aria-hidden":e.const("true")})),e.createElement("span",{class:e.const("dcg-checkbox-children")},this.children))},l.prototype.onChange=function(h){h.target&&c(h.target).attr("href")||this.props.disabled&&this.props.disabled()||this.props.onChange(!this.props.checked())},l}(e.Class);u.Checkbox=t}),$("loadcss!expressions/label-dropdown-view",function(){}),$("expressions/label-dropdown-view",["require","exports","tslib","dcgview","graphing-calc/models/expression","core/graphing-calc/json/expression","core/types/label-sizes","core/lib/dragmode","core/types/label-orientations","dcgview-helpers/checkbox","core/math/interpolatedlabel","loadcss!./label-dropdown-view"],function(B,u,w,e,c,t,a,l,h,o,s){Object.defineProperty(u,"__esModule",{value:!0});var p=e.Components,g=p.For,d=p.IfElse,i=p.If,n=function(r){function m(){return r!==null&&r.apply(this,arguments)||this}return w.__extends(m,r),m.prototype.template=function(){var y=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,e.createElement("div",{class:e.const("dcg-label-dropdown-view dcg-popover dcg-left")},e.createElement("div",{class:e.const("dcg-arrow")}),e.createElement("div",{class:e.const("dcg-label-group-container")},e.createElement("div",{class:e.const("dcg-label-group")},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-label-group-title")},function(){return y.controller.t("Label Position")}),e.createElement(g,{each:this.bindFn(this.getLabelOrientations)},e.createElement("div",{role:e.const("group"),"aria-label":function(){return y.controller.t("Label Position")},class:e.const("dcg-label-options")},function(v){return e.createElement("a",{role:e.const("button"),tabindex:e.const(0),class:function(){return{"dcg-menu-option":!0,"dcg-label-position":!0,"dcg-menu-option-selected":y.isorientationSelected(v)}},"aria-pressed":function(){return y.isorientationSelected(v)},onTap:function(){return y.setorientation(v)},"aria-label":function(){return y.getOrientationText(v)}},e.createElement("span",{class:e.const("dcg-menu-option-icon")},e.createElement("i",{class:e.const("dcg-icon-position-arrows")}),e.createElement("span",{class:function(){var x;return x={"dcg-position-direction-icon":!0},x[y.getPositionIconClass(v)]=!0,x}},d(function(){return v==="default"},{true:function(){return e.createElement("div",{class:e.const("dcg-default-position")})},false:function(){return e.createElement("i",{class:e.const("dcg-icon-position-arrows-single")})}}))),e.createElement("span",{class:e.const("dcg-menu-option-label")},function(){return y.getOrientationText(v)}))}))),e.createElement("div",{class:e.const("dcg-label-group")},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-label-group-title")},function(){return y.controller.t("Font Size")}),e.createElement(g,{each:this.bindFn(this.getLabelSizes)},e.createElement("div",{role:e.const("group"),"aria-label":function(){return y.controller.t("Font Size")},class:e.const("dcg-label-options")},function(v){return e.createElement("a",{role:e.const("button"),tabindex:e.const(0),class:function(){var x;return x={"dcg-menu-option":!0,"dcg-menu-option-selected":y.isSizeSelected(v),"dcg-label-size":!0},x[y.getSizeClass(v)]=!0,x},"aria-pressed":function(){return y.isSizeSelected(v)},onTap:function(){return y.setLabelSize(v)},"aria-label":function(){return y.getSizeText(v)}},e.createElement("span",{class:e.const("dcg-menu-option-icon")},e.const("A")),e.createElement("span",{class:e.const("dcg-menu-option-label")},function(){return y.getSizeText(v)}))})),e.createElement("div",{class:e.const("dcg-label-group dcg-additional-group-in-column")},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-label-group-title")},function(){return y.controller.t("Orientation")}),e.createElement("div",{role:e.const("group"),"aria-label":function(){return y.controller.t("Orientation")}},e.createElement(o.Checkbox,{checked:this.bindFn(this.getVerticalLabel),onChange:this.bindFn(this.setVerticalLabel),ariaLabel:this.const(this.controller.t("Vertical"))},function(){return y.controller.t("Vertical")}))),e.createElement(i,{predicate:function(){return y.controller.canUseAdvancedStyling()}},function(){return e.createElement("div",{class:e.const("dcg-label-group dcg-additional-group-in-column")},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-label-group-title")},function(){return y.controller.t("Advanced")}),e.createElement(o.Checkbox,{checked:y.bindFn(y.getWhiteTextOutline),onChange:y.bindFn(y.setWhiteTextOutline),ariaLabel:y.const("Text outline"),disabled:function(){return y.getEditable()}},e.const("Text outline")),e.createElement("div",{role:e.const("group"),"aria-label":function(){return y.controller.t("Advanced")}},e.createElement(i,{predicate:function(){return y.shouldShowInteractiveLabelCheckbox()}},function(){return e.createElement(o.Checkbox,{checked:y.bindFn(y.getInteractiveLabel),onChange:y.bindFn(y.setInteractiveLabel),ariaLabel:y.const("Interactive Label")},e.const("Show on hover"))}),e.createElement(i,{predicate:y.bindFn(y.shouldShowEditableLabelToggle)},function(){return e.createElement(o.Checkbox,{checked:y.bindFn(y.getEditable),onChange:y.bindFn(y.setEditable),ariaLabel:y.const("Editable")},e.const("Editable"))})))}))))},m.prototype.getLabelOrientations=function(){return[h.LabelOrientation.DEFAULT,h.LabelOrientation.LEFT,h.LabelOrientation.RIGHT,h.LabelOrientation.ABOVE,h.LabelOrientation.BELOW]},m.prototype.getOrientationText=function(y){switch(y){case h.LabelOrientation.DEFAULT:return this.controller.t("Default");case h.LabelOrientation.LEFT:return this.controller.t("Left");case h.LabelOrientation.RIGHT:return this.controller.t("Right");case h.LabelOrientation.ABOVE:return this.controller.t("Above");case h.LabelOrientation.BELOW:return this.controller.t("Below");default:var v=y;throw new Error("Unexpected label orientation: "+v)}},m.prototype.getLabelSizes=function(){return[a.LabelSize.SMALL,a.LabelSize.MEDIUM,a.LabelSize.LARGE]},m.prototype.getSizeText=function(y){switch(y){case a.LabelSize.SMALL:return this.controller.t("Small");case a.LabelSize.LARGE:return this.controller.t("Large");case a.LabelSize.MEDIUM:return this.controller.t("Medium");default:var v=y;throw new Error("Unexpected label size: "+v)}},m.prototype.getSizeClass=function(y){switch(y){case a.LabelSize.SMALL:return"dcg-small-label";case a.LabelSize.LARGE:return"dcg-large-label";case a.LabelSize.MEDIUM:return"dcg-medium-label";default:var v=y;throw new Error("Unexpected label size: "+v)}},m.prototype.isSizeSelected=function(y){return this.model.labelSize===y},m.prototype.isorientationSelected=function(y){return this.model.labelOrientation===y},m.prototype.getPositionIconClass=function(y){switch(y){case h.LabelOrientation.ABOVE:return"dcg-position-icon-above";case h.LabelOrientation.BELOW:return"dcg-position-icon-below";case h.LabelOrientation.LEFT:return"dcg-position-icon-left";case h.LabelOrientation.RIGHT:return"dcg-position-icon-right";case h.LabelOrientation.DEFAULT:return"dcg-position-icon-default";default:var v=y;throw new Error("Unexpected label orientation: "+v)}},m.prototype.setorientation=function(y){this.controller.dispatch({type:"set-item-label-orientation",id:this.id,labelOrientation:y})},m.prototype.setVerticalLabel=function(y){this.controller.dispatch({type:"set-item-vertical-label",id:this.id,verticalLabel:y})},m.prototype.getWhiteTextOutline=function(){return!this.getEditable()&&!this.model.suppressTextOutline},m.prototype.setWhiteTextOutline=function(y){this.controller.dispatch({type:"set-suppress-text-outline",id:this.id,suppressTextOutline:!y})},m.prototype.getVerticalLabel=function(){return!!this.model.verticalLabel},m.prototype.setInteractiveLabel=function(y){this.controller.dispatch({type:"set-item-interactive-label",id:this.id,interactiveLabel:y})},m.prototype.getInteractiveLabel=function(){return!!this.model.interactiveLabel},m.prototype.setEditable=function(y){if(y){var v=s.isMathLabel(this.model.label)?t.EditableLabelMode.Math:t.EditableLabelMode.Text;this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:v})}else this.controller.dispatch({type:"set-item-editable-label-mode",id:this.id,editableLabelMode:t.EditableLabelMode.None})},m.prototype.getEditable=function(){return this.model.editableLabelMode!==t.EditableLabelMode.None},m.prototype.getEditableLabelMode=function(){return this.model.editableLabelMode},m.prototype.shouldShowEditableLabelToggle=function(){return c.isSinglePoint(this.model)},m.prototype.setLabelSize=function(y){this.controller.dispatch({type:"set-item-labelSize",id:this.id,labelSize:y})},m.prototype.getLabelSize=function(){return this.model.labelSize},m.prototype.shouldShowInteractiveLabelCheckbox=function(){return this.model.reconciledDragMode===l.DragMode.NONE},m}(e.Class);u.LabelDropdownView=n}),$("loadcss!expressions/label_view",function(){}),$("loadcss!toggle",function(){}),$("expressions/label_view",["require","exports","tslib","keys","dcgview","graphing-calc/models/expression","./label-dropdown-view","jquery","core/graphing-calc/json/expression","loadcss!./label_view","loadcss!toggle"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=c.Components,s=o.Input,p=o.If,g=o.IfElse,d=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(n,i),n.prototype.template=function(){var r=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,c.createElement("div",{class:function(){return{"dcg-label-visible":r.getShowLabel(),"dcg-label-container":!0,"dcg-do-blur":!0}},tapboundary:c.const("true"),handleEvent:c.const("true")},c.createElement("span",{role:c.const("checkbox"),"aria-checked":this.bindFn(this.getShowLabel),tabindex:c.const("0"),class:function(){return{"dcg-checkbox":!0,"dcg-checkbox-label-colon":r.getShowLabel()&&!r.hasEditableLabel()}},"aria-label":function(){return r.controller.t("Label")},onTap:this.bindFn(this.onCheckboxInput)},c.createElement("span",{class:function(){return{"dcg-checkbox-box":!0,"dcg-checked":r.getShowLabel()}}},c.createElement("i",{class:c.const("dcg-icon-check")})),c.const(""),c.createElement("span",{class:c.const("dcg-checkbox-label"),"aria-hidden":c.const("true")},function(){return r.controller.t("Label")})),g(this.bindFn(this.hasEditableLabel),{true:function(){return c.createElement("div",{class:c.const("dcg-editable-mode-toggle")},c.createElement("div",{class:c.const("dcg-option-toggle-view")},c.createElement("div",{class:c.const("dcg-toggle-container")},c.createElement("div",{class:c.const("dcg-toggle")},c.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":r.model.editableLabelMode===h.EditableLabelMode.Math}},role:c.const("button"),tabindex:c.const(0),"aria-pressed":function(){return r.model.editableLabelMode===h.EditableLabelMode.Math},"aria-label":function(){return r.controller.t("Editable label mode: Editable Math")},didMount:function(m){r.lastToggleOption!==void 0&&r.lastToggleOption==="math"&&(r.lastToggleOption=void 0,m.focus())},onTap:function(){r.lastToggleOption="Editable Math",r.controller.dispatch({type:"set-item-editable-label-mode",id:r.id,editableLabelMode:h.EditableLabelMode.Math})}},function(){return r.controller.t("Editable Math")}),c.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":r.model.editableLabelMode===h.EditableLabelMode.Text}},role:c.const("button"),tabindex:c.const(0),"aria-pressed":function(){return r.model.editableLabelMode===h.EditableLabelMode.Text},"aria-label":function(){return r.controller.t("Editable label mode: Editable Text")},didMount:function(m){r.lastToggleOption!==void 0&&r.lastToggleOption==="text"&&(r.lastToggleOption=void 0,m.focus())},onTap:function(){r.lastToggleOption="Editable Text",r.controller.dispatch({type:"set-item-editable-label-mode",id:r.id,editableLabelMode:h.EditableLabelMode.Text})}},function(){return r.controller.t("Editable Text")})))))},false:function(){return c.createElement(s,{class:function(){return{"dcg-label-input":!0,"dcg-disabled-input":r.getIsDisabled(),"dcg-disabled-editable-input":r.hasEditableLabel()}},"aria-label":function(){return r.controller.t("Label Text")},"aria-disabled":function(){return r.getIsDisabled()||r.hasEditableLabel()},value:r.bindFn(r.getLabel),onInput:r.bindFn(r.onLabelInput)})}}),c.createElement("span",{class:function(){return{"dcg-dropdown-container":!0,"dcg-no-label":!r.getShowLabel()}},didMount:function(m){return r.$dropdownContainer=l(m)}},c.createElement("span",{class:c.const("dcg-dropdown-wrench-container"),role:c.const("button"),tabindex:c.const(0),"aria-label":function(){return r.controller.t("Label Settings")},onTap:this.bindFn(this.toggleDropdown),selected:this.bindFn(this.showLabelDropdown),"aria-expanded":this.bindFn(this.showLabelDropdown)},c.createElement("i",{class:c.const("dcg-icon-wrench")})),c.createElement(p,{predicate:this.bindFn(this.showLabelDropdown)},function(){return c.createElement(a.LabelDropdownView,{controller:r.props.controller,model:r.props.model})})))},n.prototype.showLabelDropdown=function(){return this.model.labelDropdownOpen},n.prototype.showDropdown=function(r){var m=this,y=l(r.target);l(document).on("mousedown.dcg-"+this.id+" touchstart.dcg-"+this.id+" pointerdown.dcg-"+this.id,function(v){m.showLabelDropdown()&&(l(v.target).closest(m.$dropdownContainer).length>0||m.hideDropdown())}),l(document).on("keydown.dcg-"+this.id,function(v){e.lookup(v)===e.ESCAPE&&(m.hideDropdown(),y.focus())}),this.controller.dispatch({type:"set-item-label-dropdown-open",id:this.id,open:!0})},n.prototype.hideDropdown=function(){l(document).off(".dcg-"+this.id),this.controller.dispatch({type:"set-item-label-dropdown-open",id:this.id,open:!1})},n.prototype.toggleDropdown=function(r){this.showLabelDropdown()?this.hideDropdown():this.showDropdown(r)},n.prototype.getLabel=function(){return this.model.label||""},n.prototype.hasEditableLabel=function(){return t.hasEditableLabel(this.model)},n.prototype.getShowLabel=function(){return!!this.model.showLabel},n.prototype.getIsDisabled=function(){return this.getLabel().length===0&&!this.getShowLabel()},n.prototype.onLabelInput=function(r){var m=r;this.controller.dispatch({type:"set-item-label",id:this.id,label:m}),this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!!m})},n.prototype.onCheckboxInput=function(){this.controller.dispatch({type:"set-item-showlabel",id:this.id,showLabel:!this.getShowLabel()})},n}(c.Class);u.default=d}),$("loadcss!expressions/cdf-footer-view",function(){}),$("expressions/cdf-footer-view",["require","exports","tslib","dcgview","jquery","keys","graphing-calc/models/expression","dcgview-helpers/mathquill-view","dcgview-helpers/mathquill-braille-wrapper","./evaluation-view","dcgview-helpers/checkbox","loadcss!./cdf-footer-view"],function(B,u,w,e,c,t,a,l,h,o,s){Object.defineProperty(u,"__esModule",{value:!0});var p=e.Components.If,g=function(d){function i(){var n=d!==null&&d.apply(this,arguments)||this;return n.focusedValues={},n}return w.__extends(i,d),i.prototype.template=function(){var n=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,e.createElement("div",{class:e.const("dcg-cdf-footer-container dcg-do-blur"),tapboundary:e.const("true"),handleEvent:e.const("true")},e.createElement(s.Checkbox,{checked:function(){return a.shouldShowCDFFooter(n.model)},disabled:function(){return a.isListValuedDistribution(n.model)},onChange:function(r){n.controller.dispatch({type:"set-show-cdf",id:n.model.id,showCDF:r})},ariaLabel:function(){return n.controller.t("Find Cumulative Probability (CDF)")}},function(){return n.controller.t("Find Cumulative Probability (CDF)")}),e.createElement(p,{predicate:function(){return a.shouldShowCDFFooter(n.model)}},function(){return e.createElement("div",null,e.createElement("span",{class:e.const("dcg-cdf-limit-name")},function(){return n.controller.t("Min:")}),e.createElement(h.default,{latex:function(){return a.getCDFMin(n.model)},hasError:function(){return!a.isCDFMinValid(n.model)},brailleShouldFocus:function(){return n.isInputFocused("min")},onBrailleFocusedChanged:function(r){return n.handleFocusedChanged("min",r)},ariaLabel:function(){return n.controller.t("Min")},placeholder:function(){return a.getCDFMinPlaceholder(n.model)},onBrailleInput:n.bindFn(n.updateCDFMin),controller:n.props.controller,onBrailleKeydown:function(r){return n.handleBraillePressedKey(r,"min")}},e.createElement(l.default,{latex:function(){return a.getCDFMin(n.model)},hasError:function(){return!a.isCDFMinValid(n.model)},isFocused:function(){return n.isInputFocused("min")},onFocusedChanged:function(r){return n.handleFocusedChanged("min",r)},config:n.const({}),getAriaLabel:function(){return n.controller.t("Min")},getAriaPostLabel:function(){return""},placeholder:function(){return a.getCDFMinPlaceholder(n.model)},onUserPressedKey:function(r,m){return n.handlePressedKey(r,m,"min")},onUserChangedLatex:n.bindFn(n.updateCDFMin),onExpressionSizeExceeded:function(){return n.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return n.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!n.controller.isKeypadEnabled()}})),e.createElement("span",{class:e.const("dcg-cdf-limit-name")},function(){return n.controller.t("Max:")}),e.createElement(h.default,{latex:function(){return a.getCDFMax(n.model)},hasError:function(){return!a.isCDFMaxValid(n.model)},brailleShouldFocus:function(){return n.isInputFocused("max")},onBrailleFocusedChanged:function(r){return n.handleFocusedChanged("max",r)},ariaLabel:function(){return n.controller.t("Max")},placeholder:function(){return a.getCDFMaxPlaceholder(n.model)},onBrailleInput:n.bindFn(n.updateCDFMax),controller:n.props.controller,onBrailleKeydown:function(r){return n.handleBraillePressedKey(r,"max")}},e.createElement(l.default,{latex:function(){return a.getCDFMax(n.model)},hasError:function(){return!a.isCDFMaxValid(n.model)},isFocused:function(){return n.isInputFocused("max")},onFocusedChanged:function(r){return n.handleFocusedChanged("max",r)},config:n.const({}),getAriaLabel:function(){return n.controller.t("Max")},getAriaPostLabel:function(){return""},placeholder:function(){return a.getCDFMaxPlaceholder(n.model)},onUserPressedKey:function(r,m){return n.handlePressedKey(r,m,"max")},onUserChangedLatex:n.bindFn(n.updateCDFMax),onExpressionSizeExceeded:function(){return n.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return n.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!n.controller.isKeypadEnabled()}})),e.createElement(p,{predicate:n.bindFn(n.showEvaluation)},function(){return e.createElement("div",{class:e.const("dcg-cdf-evaluation-container")},e.createElement(o.default,{val:function(){return a.getCDFEvaluation(n.model)},controller:n.props.controller,dependent:n.const(""),id:function(){return n.model.id},focusable:n.const(!0)}))}))}))},i.prototype.handleBraillePressedKey=function(n,r){var m=t.lookup(n);m&&this.handlePressedKey(m,c.Event(n),r)},i.prototype.handlePressedKey=function(n,r,m){if(n==="Esc")return void this.controller.dispatch({type:"set-focus-location",location:void 0});if(n==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var y=l.default.getFocusedMathquill();y&&(y.keystroke(n,r),m==="min"&&a.getCDFMin(this.model)!==y.latex()&&this.updateCDFMin(y.latex()),m==="max"&&a.getCDFMax(this.model)!==y.latex()&&this.updateCDFMax(y.latex()))},i.prototype.updateCDFMax=function(n){this.controller.dispatch({type:"set-cdf-max",id:this.model.id,latex:n})},i.prototype.updateCDFMin=function(n){this.controller.dispatch({type:"set-cdf-min",id:this.model.id,latex:n})},i.prototype.showEvaluation=function(){return!!a.isCDFMaxValid(this.model)&&!!a.isCDFMinValid(this.model)},i.prototype.isInputFocused=function(n){var r=this.controller.getFocusLocation();return!(!r||r.type!=="cdf-limit"||r.id!==this.id)&&r.location===n},i.prototype.handleFocusedChanged=function(n,r){r?this.controller.dispatch({type:"set-focus-location",location:{type:"cdf-limit",id:this.id,location:n}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"cdf-limit",id:this.id,location:n}})},i}(e.Class);u.default=g}),$("loadcss!expressions/parameter_suggestions_view",function(){}),$("expressions/parameters_suggestions_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","loadcss!./parameter_suggestions_view"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=e.Components,a=t.If,l=t.For,h=t.SwitchUnion,o=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(p,s),p.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},p.prototype.template=function(){var g=this;return h(this.bindFn(this.getSuggestionType),{list:function(){return e.createElement(l,{each:g.bindFn(g.getListOfParameters)},e.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":g.controller.getBrailleMode()!=="none"}}},function(d){return e.createElement("span",{class:e.const("dcg-parameter-name")},function(){return g.getParamName(d)})}))},listWithDefault:function(){return e.createElement(l,{each:g.bindFn(g.getListOfParameters)},e.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":g.controller.getBrailleMode()!=="none"}},onTap:g.bindFn(g.fillInDefaults)},function(d){return e.createElement("span",{class:e.const("dcg-parameter-name")},function(){return g.getParamName(d)},e.createElement(a,{predicate:function(){return g.shouldShowDefaultValue(d)}},function(){return e.createElement("span",{class:e.const("dcg-default-marker")},e.const("= "),function(){return g.getDefaultValue(d)})}))}))},individual:function(){return e.createElement("div",{class:function(){return{"dcg-parameter-suggestion-container":!0,"dcg-parameter-suggestion-braille":g.controller.getBrailleMode()!=="none"}}},g.bindFn(g.getMissingRequiredParamText))},none:function(){}})},p.prototype.getExtractedAndDefaultArgString=function(g){var d=g.params,i=g.values,n=g.defaults;return d.map(function(r,m){var y=i[r],v=n[m];return y||v||""}).join(",")},p.prototype.fillInDefaults=function(){var g=c.parseToplevelFunction(this.model);if(g){var d=g.symbol,i=g.span,n=i.input,r=i.start,m=i.end,y=this.getExtractedAndDefaultArgString(g),v="\\operatorname{"+d+"}\\left("+y+"\\right)",x=""+n.slice(0,r)+v+n.slice(m);this.controller.dispatch({type:"set-item-latex",id:this.id,latex:x}),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}),this.controller.dispatch({type:"keypad/press-key",key:"Left"})}},p.prototype.isMissingDefault=function(){if(!c.isPrimaryLatexValid(this.model))return!1;var g=c.parseToplevelFunction(this.model);if(!g)return!1;for(var d=0;d<g.params.length;d++)if(this.shouldShowDefaultValue(g.params[d]))return!0;return!1},p.prototype.getSuggestionType=function(){return this.getListOfParameters().length>1?this.isMissingDefault()?"listWithDefault":"list":this.missingRequiredParam()?"individual":"none"},p.prototype.missingRequiredParam=function(){var g=c.parseToplevelFunction(this.model);if(g&&g.params.length===1){var d=g.params[0];if(!this.getDefaultValue(d)&&!this.getParameterExtractedValue(d))return d}},p.prototype.getMissingRequiredParamText=function(){var g=this.missingRequiredParam();return g?this.controller.t("Enter the __param__.",{param:this.getParamName(g)}):""},p.prototype.getDefaultValue=function(g){var d=c.parseToplevelFunction(this.model);if(!d||!d.params)return"";for(var i=0;i<d.params.length;i++)if(d.params[i]===g)return d.defaults[i]||"";return""},p.prototype.getParameterExtractedValue=function(g){var d=c.parseToplevelFunction(this.model);return d&&d.values[g]||""},p.prototype.shouldShowDefaultValue=function(g){return!this.getParameterExtractedValue(g)&&!!this.getDefaultValue(g)},p.prototype.getListOfParameters=function(){var g=c.parseToplevelFunction(this.model);return g?g.params:[]},p.prototype.getParamName=function(g){switch(g){case"mean":return this.controller.t("Mean");case"stdev":return this.controller.t("Standard Deviation");case"dof":return this.controller.t("Degrees of Freedom");case"probsuccess":return this.controller.t("Success Probability");case"trials":return this.controller.t("Trials");case"data":return this.controller.t("Data Set");case"binwidth":return this.controller.t("Bin Width");case"min":return this.controller.t("Minimum");case"max":return this.controller.t("Maximum");case"height":case"offset":case"data":return g;default:return g}},p}(e.Class);u.ParametersSuggestionsView=o}),$("loadcss!expressions/distribution_parameters_view",function(){}),$("expressions/distribution_parameters_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","expressions/cdf-footer-view","./parameters_suggestions_view","loadcss!./distribution_parameters_view"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=e.Components.If,h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){var p=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,e.createElement("div",{class:e.const("dcg-distribution-parameters-container dcg-do-blur"),tapboundary:e.const("true"),handleEvent:e.const("true")},e.createElement(a.ParametersSuggestionsView,{model:this.props.model,controller:this.props.controller}),e.createElement(l,{predicate:function(){return c.shouldShowCDFCheckbox(p.model)}},function(){return e.createElement(t.default,{model:p.props.model,controller:p.props.controller})}))},s}(e.Class);u.default=h}),$("loadcss!expressions/visualization_parameters_view",function(){}),$("expressions/visualization_parameters_view",["require","exports","tslib","dcgview","jquery","keys","graphing-calc/models/expression","dcgview-helpers/mathquill-view","dcgview-helpers/mathquill-braille-wrapper","./parameters_suggestions_view","loadcss!./visualization_parameters_view","loadcss!toggle"],function(B,u,w,e,c,t,a,l,h,o){Object.defineProperty(u,"__esModule",{value:!0});var s=e.Components.For,p=e.Components,g=p.SwitchUnion,d=p.If,i=function(r){function m(){return r!==null&&r.apply(this,arguments)||this}return w.__extends(m,r),m.prototype.template=function(){var y=this;return e.createElement("div",{class:e.const("dcg-toggle-container")},e.createElement("div",{class:e.const("dcg-expression-footer-title")},this.props.title,e.createElement(d,{predicate:function(){return!!y.props.helpLink}},function(){return e.createElement("a",{"aria-label":function(){return y.props.controller().t("Help")},class:e.const("dcg-expression-footer-title-help"),target:e.const("_blank"),href:y.props.helpLink},e.createElement("i",{class:e.const("dcg-icon-question-sign")}))})),e.createElement(s,{each:this.props.options,key:function(v){return v.name}},e.createElement("div",{class:e.const("dcg-toggle")},function(v){return e.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":y.isSelected(v.name)}},role:e.const("button"),tabindex:e.const(0),"aria-label":function(){return y.props.title()+": "+v.displayName},"aria-pressed":function(){return y.isSelected(v.name)},onTap:function(){return y.props.controller().dispatch({type:"set-visualization-prop",id:y.props.model().id,prop:y.props.vizProp(),latex:v.name})}},function(){return v.displayName})})))},m.prototype.isSelected=function(y){return a.getVizPropLatex(this.props.model(),this.props.vizProp())===y},m}(e.Class),n=function(r){function m(){return r!==null&&r.apply(this,arguments)||this}return w.__extends(m,r),m.prototype.template=function(){var y=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,e.createElement("div",{class:e.const("dcg-visualization-parameters-container dcg-do-blur"),tapboundary:e.const("true"),handleEvent:e.const("true")},e.createElement(o.ParametersSuggestionsView,w.__assign({},this.props)),e.createElement("div",{class:e.const("dcg-smaller-font")},g(function(){return y.getVisualizationType()},{boxplot:function(){return e.createElement("div",null,e.createElement("div",{class:e.const("dcg-expression-footer-title")},function(){return y.controller.t("Display Properties")}),y.makeMQInput({prop:"axisOffset",siblingProps:["breadth"],default:"1",name:function(){return y.controller.t("Offset")}}),y.makeMQInput({prop:"breadth",siblingProps:["axisOffset"],default:"1",name:function(){return a.getVizPropLatex(y.model,"alignedAxis")==="y"?y.controller.t("Width"):y.controller.t("Height")}}))},dotplot:function(){return e.createElement(d,{predicate:function(){return a.needsDotplotXMode(y.model)}},function(){return e.createElement("div",{class:e.const("dcg-toggles-container")},e.createElement(i,w.__assign({},y.props,{vizProp:function(){return"dotplotXMode"},options:function(){return[{name:"exact",displayName:y.controller.t("Exact")},{name:"bin",displayName:y.controller.t("Binned")}]},title:function(){return y.controller.t("X Values")}})),e.createElement(i,w.__assign({},y.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:y.controller.t("Center")},{name:"left",displayName:y.controller.t("Left")}]},title:function(){return y.controller.t("Bin Alignment")}})))})},histogram:function(){return e.createElement("div",{class:e.const("dcg-toggles-container")},e.createElement(i,w.__assign({},y.props,{vizProp:function(){return"histogramMode"},options:function(){return[{name:"",displayName:y.controller.t("Count")},{name:"relative",displayName:y.controller.t("Relative")},{name:"density",displayName:y.controller.t("Density")}]},title:function(){return y.controller.t("Bar Heights")},helpLink:y.const("https://support.desmos.com/hc/en-us/articles/360022405991")})),e.createElement(i,w.__assign({},y.props,{vizProp:function(){return"binAlignment"},options:function(){return[{name:"center",displayName:y.controller.t("Center")},{name:"left",displayName:y.controller.t("Left")}]},title:function(){return y.controller.t("Bin Alignment")}})))},none:function(){return e.createElement("span",null)}})))},m.prototype.makeMQInput=function(y){var v=this;return e.createElement("span",null,e.createElement("span",{class:e.const("dcg-parameter-name")},y.name,e.const(":")),e.createElement(h.default,{latex:function(){return a.getVizPropLatex(v.model,y.prop)},ariaLabel:y.name,placeholder:function(){return y.default},brailleShouldFocus:function(){return v.isInputFocused(y.prop)},onBrailleInput:function(x){return v.handleLatexChanged(y.prop,x)},controller:this.props.controller,hasError:function(){return!a.isVizPropValid(v.model,y.prop)},onBrailleFocusedChanged:function(x){return v.handleFocusedChanged(y.prop,x)},onBrailleKeydown:function(x){return v.handleBraillePressedKey(x,y.prop)}},e.createElement(l.default,{latex:function(){return a.getVizPropLatex(v.model,y.prop)},hasError:function(){return!a.isVizPropValid(v.model,y.prop)},isFocused:function(){return v.isInputFocused(y.prop)},onFocusedChanged:function(x){return v.handleFocusedChanged(y.prop,x)},placeholder:function(){return y.default},config:this.const({}),getAriaLabel:y.name,onUserPressedKey:function(x,E){return v.handlePressedKey(x,E,y.prop)},getAriaPostLabel:function(){return""},onUserChangedLatex:function(x){return v.handleLatexChanged(y.prop,x)},onExpressionSizeExceeded:function(){return v.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return v.model.controller.getCapExpressionSize()},needsSystemKeypad:function(){return!v.controller.isKeypadEnabled()}})))},m.prototype.handleBraillePressedKey=function(y,v){var x=t.lookup(y);x&&this.handlePressedKey(x,c.Event(y),v)},m.prototype.handlePressedKey=function(y,v,x){if(y==="Esc")return void this.controller.dispatch({type:"set-focus-location",location:void 0});if(y==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var E=l.default.getFocusedMathquill();E&&(E.keystroke(y,v),this.handleLatexChanged(x,E.latex()))},m.prototype.isInputFocused=function(y){var v=this.controller.getFocusLocation();return!(!v||v.type!=="visualization-prop"||v.id!==this.id)&&v.location===y},m.prototype.handleFocusedChanged=function(y,v){v?this.controller.dispatch({type:"set-focus-location",location:{type:"visualization-prop",id:this.id,location:y}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"visualization-prop",id:this.id,location:y}})},m.prototype.handleLatexChanged=function(y,v){a.getVizPropLatex(this.model,y)!==v&&this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:y,latex:v})},m.prototype.getVisualizationType=function(){return a.isPrimaryLatexValid(this.model)?a.isBoxPlot(this.model)?"boxplot":a.isDotPlot(this.model)?"dotplot":a.isHistogram(this.model)?"histogram":"none":"none"},m}(e.Class);u.default=n}),$("loadcss!expressions/ttest_footer_view",function(){}),$("expressions/ttest_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","core/lib/number-to-latex","dcgview-helpers/static-mathquill-view","loadcss!./ttest_footer_view"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},o.prototype.template=function(){var s=this;return e.createElement("div",{class:e.const("dcg-ttest-footer-container dcg-do-blur"),handleEvent:e.const("true")},e.createElement("table",null,e.createElement("tr",null,e.createElement("td",null,e.createElement("div",{class:e.const("dcg-value"),role:e.const("textbox"),"aria-readonly":e.const("true"),tabindex:e.const("0"),"aria-label":function(){return"Less than: "+s.getLessThan()}},e.createElement("span",{class:e.const("dcg-operator")},e.createElement(a.default,{latex:this.const("<")})),e.createElement("span",{class:e.const("dcg-evaluation")},e.createElement(a.default,{latex:function(){return s.getLessThan()}}))))),e.createElement("tr",null,e.createElement("td",null,e.createElement("div",{class:e.const("dcg-value"),role:e.const("textbox"),"aria-readonly":e.const("true"),tabindex:e.const("0"),"aria-label":function(){return"Greater than: "+s.getGreaterThan()}},e.createElement("span",{class:e.const("dcg-operator")},e.createElement(a.default,{latex:this.const(">")})),e.createElement("span",{class:e.const("dcg-evaluation")},e.createElement(a.default,{latex:function(){return s.getGreaterThan()}}))))),e.createElement("tr",null,e.createElement("td",null,e.createElement("div",{class:e.const("dcg-value"),role:e.const("textbox"),"aria-readonly":e.const("true"),tabindex:e.const("0"),"aria-label":function(){return"Not equal: "+s.getNotEqual()}},e.createElement("span",{class:e.const("dcg-operator")},e.createElement(a.default,{latex:this.const("")})),e.createElement("span",{class:e.const("dcg-evaluation")},e.createElement(a.default,{latex:function(){return s.getNotEqual()}})))))))},o.prototype.getLessThan=function(){var s=c.getTTestResults(this.model);return s?t.numberToStatsConfidenceLatex(s.lessThan,5):""},o.prototype.getGreaterThan=function(){var s=c.getTTestResults(this.model);return s?t.numberToStatsConfidenceLatex(s.greaterThan,5):""},o.prototype.getNotEqual=function(){var s=c.getTTestResults(this.model);return s?t.numberToStatsConfidenceLatex(s.notEqual,5):""},o}(e.Class);u.default=l}),$("loadcss!expressions/stats_footer_view",function(){}),$("expressions/stats_footer_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","dcgview-helpers/static-mathquill-view","core/lib/number-to-latex","loadcss!./stats_footer_view"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.template=function(){var s=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,e.createElement("div",{class:e.const("dcg-stats-footer-container dcg-do-blur"),handleEvent:e.const("true")},e.createElement("table",null,e.createElement("tr",null,e.createElement("td",null,e.createElement("div",{class:e.const("dcg-value"),role:e.const("textbox"),"aria-readonly":e.const("true"),tabindex:e.const("0"),"aria-label":function(){return"Min: "+s.getMin()}},e.createElement("span",{class:e.const("dcg-row-header")},e.const("Min")),e.createElement("span",{class:e.const("dcg-evaluation")},e.createElement(t.default,{latex:this.bindFn(this.getMin)}))))),e.createElement("tr",null,e.createElement("td",null,e.createElement("div",{class:e.const("dcg-value"),role:e.const("textbox"),"aria-readonly":e.const("true"),tabindex:e.const("0"),"aria-label":function(){return"Q1: "+s.getQ1()}},e.createElement("span",{class:e.const("dcg-row-header")},e.const("Q1")),e.createElement("span",{class:e.const("dcg-evaluation")},e.createElement(t.default,{latex:this.bindFn(this.getQ1)}))))),e.createElement("tr",null,e.createElement("td",null,e.createElement("div",{class:e.const("dcg-value"),role:e.const("textbox"),"aria-readonly":e.const("true"),tabindex:e.const("0"),"aria-label":function(){return"Median: "+s.getMedian()}},e.createElement("span",{class:e.const("dcg-row-header")},e.const("Median")),e.createElement("span",{class:e.const("dcg-evaluation")},e.createElement(t.default,{latex:this.bindFn(this.getMedian)}))))),e.createElement("tr",null,e.createElement("td",null,e.createElement("div",{class:e.const("dcg-value"),role:e.const("textbox"),"aria-readonly":e.const("true"),tabindex:e.const("0"),"aria-label":function(){return"Q3: "+s.getQ3()}},e.createElement("span",{class:e.const("dcg-row-header")},e.const("Q3")),e.createElement("span",{class:e.const("dcg-evaluation")},e.createElement(t.default,{latex:this.bindFn(this.getQ3)}))))),e.createElement("tr",null,e.createElement("td",null,e.createElement("div",{class:e.const("dcg-value"),role:e.const("textbox"),"aria-readonly":e.const("true"),tabindex:e.const("0"),"aria-label":function(){return"Max: "+s.getMax()}},e.createElement("span",{class:e.const("dcg-row-header")},e.const("Max")),e.createElement("span",{class:e.const("dcg-evaluation")},e.createElement(t.default,{latex:this.bindFn(this.getMax)})))))))},o.prototype.getMin=function(){var s=c.getStatsResults(this.model);return s?a.numberToDecimalString(s.min):""},o.prototype.getQ1=function(){var s=c.getStatsResults(this.model);return s?a.numberToDecimalString(s.q1):""},o.prototype.getMedian=function(){var s=c.getStatsResults(this.model);return s?a.numberToDecimalString(s.median):""},o.prototype.getQ3=function(){var s=c.getStatsResults(this.model);return s?a.numberToDecimalString(s.q3):""},o.prototype.getMax=function(){var s=c.getStatsResults(this.model);return s?a.numberToDecimalString(s.max):""},o}(e.Class);u.default=l}),$("loadcss!expressions/expression-edit-actions",function(){}),$("expressions/expression-edit-actions",["require","exports","tslib","dcgview","lib/tooltip","core/lib/dragmode","core/types/styles","graphing-calc/models/expression","lib/aria","loadcss!./expression-edit-actions"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=e.Components.If,s=function(p){function g(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(g,p),g.prototype.init=function(){this.controller=this.props.controller()},g.prototype.template=function(){var d=this;return e.createElement(o,{predicate:function(){return d.controller.isInEditListMode()}},function(){return e.createElement("span",{class:function(){return{"dcg-expression-edit-actions":!0,"dcg-limited-height":d.limitedHeight()}},style:function(){return{background:d.controller.getBackgroundColor()}},didMount:function(){d.controller.isInEditListMode()&&h.alert(d.controller.t("Edit list mode on."))},didUnmount:function(){d.controller.isInEditListMode()||h.alert(d.controller.t("Edit list mode off."))}},e.createElement(o,{predicate:function(){return!d.controller.hasBackgroundColor()}},function(){return e.createElement("span",{class:e.const("dcg-graphic"),handleEvent:e.const("true ")})}),e.createElement(o,{predicate:d.bindFn(d.canConvertToTable)},function(){return e.createElement(c.Tooltip,{tooltip:function(){return d.controller.t("Convert to Table")},gravity:d.const("s")},e.createElement("span",{class:e.const("dcg-action-createtable dcg-exp-action-button"),handleEvent:e.const("true"),role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return d.controller.t("Convert to Table")},onTap:d.bindFn(d.onCreateTable)},e.createElement("i",{class:e.const("dcg-icon-table")})))}),e.createElement(o,{predicate:d.bindFn(d.canDuplicate)},function(){return e.createElement(c.Tooltip,{tooltip:function(){return d.controller.t("Duplicate")},gravity:d.const("s")},e.createElement("span",{class:e.const("dcg-duplicate-btn dcg-exp-action-button"),handleEvent:e.const("true"),role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return d.controller.t("Duplicate")},onTap:d.bindFn(d.onDuplicateWithoutFocus)},e.createElement("i",{class:e.const("dcg-icon-duplicate")})))}),e.createElement(c.Tooltip,{tooltip:function(){return d.controller.t("Delete")},gravity:d.const("sw")},e.createElement("span",{class:e.const("dcg-delete-btn dcg-exp-action-button"),handleEvent:e.const("true"),role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return d.controller.t("Delete")},onTap:d.bindFn(d.onDelete)},e.createElement("i",{class:e.const("dcg-icon-remove")}))))})},g.prototype.model=function(){return this.controller.getItemModel(this.props.id())},g.prototype.canConvertToTable=function(){var d=this.model();return!(!d||d.type!=="expression"||!d.isTableable)},g.prototype.canDuplicate=function(){var d=this.model();return!(!d||d.type!=="expression"||this.isSlider())},g.prototype.limitedHeight=function(){var d=this.model();return d&&(d.type==="image"||this.isSlider())},g.prototype.isSlider=function(){var d=this.model();return d&&d.type==="expression"&&d.sliderExists},g.prototype.onCreateTable=function(){var d=this.model();if(d&&d.type==="expression"){var i=d.formula;if(d.isTableable){var n,r=i.table_info,m=d.index,y=[],v=[];if(r.values)for(n=0;n<r.values.length;n++){var x=r.values[n][0];y.push(isNaN(x)?"":x+"");var E=r.values[n][1];v.push(isNaN(E)?"":E+"")}else for(n=-2;n<=2;n++)y.push(n+""),v.push("");var b={id:this.controller.generateId(),type:"table",columns:[{id:this.controller.generateId(),latex:r.independent_variable,color:this.controller.getNextColor(),hidden:!1,values:y,points:!0,lines:!1,dragMode:t.DragMode.NONE,pointStyle:a.PointStyle.POINT,lineStyle:a.LineStyle.SOLID},{id:this.controller.generateId(),latex:r.dependent_column,color:d.color,hidden:!1,values:v,points:!0,lines:!(l.isPointOrPointList(d)||d.hidden),dragMode:t.DragMode.NONE,pointStyle:a.PointStyle.POINT,lineStyle:a.LineStyle.SOLID}]},f=this.controller;this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1}),r.by_reference?this.controller.dispatch({type:"insert-item-at-index",index:m+1,state:b,folderId:d.folderId,focus:!0}):this.controller.dispatch({type:"replace-item-at-index",index:m,state:b,focus:!0});var S=function(){f.dispatch({type:"undo"}),f.dispatch({type:"set-edit-list-mode",isEditListMode:!0,focusExpressionList:!1})};this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Table created."),undoCallback:S}})}}},g.prototype.onDelete=function(d){this.controller.dispatch({type:"delete-item-and-animate-out",id:this.props.id(),setFocusAfterDelete:d.device==="keyboard"})},g.prototype.onDuplicateWithoutFocus=function(){this.controller.dispatch({type:"duplicate-expression",id:this.props.id()})},g}(e.Class);u.ExpressionEditActions=s}),$("loadcss!expressions/suggested-zoom-view",function(){}),$("expressions/suggested-zoom-view",["require","exports","tslib","dcgview","lib/tooltip","loadcss!./suggested-zoom-view"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=e.Components.If,a=function(l){function h(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(h,l),h.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},h.prototype.template=function(){var o=this;return e.createElement(t,{predicate:function(){return o.controller.shouldExpressionZoomFit(o.model)}},function(){return e.createElement("div",{class:e.const("dcg-suggested-zoom-view dcg-do-blur"),handleEvent:e.const(!0)},e.createElement(c.Tooltip,{tooltip:o.bindFn(o.getZoomText),gravity:function(){return"e"}},e.createElement("i",{onTap:o.bindFn(o.onZoom),role:e.const("button"),"aria-label":o.bindFn(o.getZoomText),class:e.const("dcg-icon-zoom-fit")})))})},h.prototype.getZoomText=function(){return this.controller.t("Zoom Fit")},h.prototype.onZoom=function(){this.controller.dispatch({type:"expression-zoom-fit",id:this.model.id})},h}(e.Class);u.SuggestedZoomView=a}),$("loadcss!expressions/clickable_info_view",function(){}),$("expressions/clickable_info_view",["require","exports","tslib","dcgview","graphing-calc/models/expression","graphing-calc/models/image","dcgview-helpers/mathquill-view","loadcss!./clickable_info_view"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=e.Components.Input,h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},s.prototype.template=function(){var p=this;return e.createElement("div",{class:e.const("dcg-clickable-info-container dcg-do-blur"),tapboundary:e.const("true"),handleEvent:e.const("true")},e.createElement("div",{class:e.const("dcg-smaller-font")},e.createElement("div",{role:e.const("group"),"aria-label":function(){return p.controller.t("Clickable Properties")}},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-expression-footer-title")},function(){return p.controller.t("Clickable Properties")}),this.const(this.controller.t("set")),this.makeMQInput({prop:"assignment",name:function(){return p.controller.t("Assignment")}}),this.const(this.controller.t("to")),this.makeMQInput({prop:"expression",name:function(){return p.controller.t("Expression")}})),e.createElement(l,{"aria-label":function(){return p.controller.t("Screen reader label")},placeholder:function(){return p.controller.t("Add screen reader label")},value:function(){return p.model.clickableInfo.description},onInput:function(g){return p.controller.dispatch({type:"set-clickableinfo-prop",id:p.model.id,prop:"description",value:g})}})))},s.prototype.makeMQInput=function(p){var g=this;return e.createElement(a.default,{latex:function(){return g.getClickableInfoPropLatex(p.prop)},hasError:function(){return g.isClickableInfoPropInvalid(p.prop)},isFocused:function(){return g.isInputFocused(p.prop)},onFocusedChanged:function(d){return g.handleFocusedChanged(p.prop,d)},config:this.const({}),getAriaLabel:p.name,onUserPressedKey:function(d,i){return g.handlePressedKey(d,i,p.prop)},getAriaPostLabel:function(){return""},onUserChangedLatex:function(d){return g.handleLatexChanged(p.prop,d)},onExpressionSizeExceeded:function(){return g.controller.dispatch({type:"expression-size-exceeded"})},capExpressionSize:function(){return!!g.model.controller.getGraphSettings().config.capExpressionSize},needsSystemKeypad:function(){return!g.controller.isKeypadEnabled()}})},s.prototype.handlePressedKey=function(p,g,d){if(p==="Esc")return void this.controller.dispatch({type:"set-focus-location",location:void 0});if(p==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});var i=a.default.getFocusedMathquill();i&&(i.keystroke(p,g),this.handleLatexChanged(d,i.latex()))},s.prototype.isInputFocused=function(p){var g=this.controller.getFocusLocation();return!(!g||g.type!=="clickableinfo-prop"||g.id!==this.id)&&g.location===p},s.prototype.handleFocusedChanged=function(p,g){g?this.controller.dispatch({type:"set-focus-location",location:{type:"clickableinfo-prop",id:this.id,location:p}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"clickableinfo-prop",id:this.id,location:p}})},s.prototype.getClickableInfoPropLatex=function(p){return this.model.type==="image"?t.getClickableInfoPropLatex(this.model,p):c.getClickableInfoPropLatex(this.model,p)},s.prototype.isClickableInfoPropInvalid=function(p){return this.model.type==="image"?!t.isClickableInfoPropValid(this.model,p):!c.isClickableInfoPropValid(this.model,p)},s.prototype.handleLatexChanged=function(p,g){if(this.getClickableInfoPropLatex(p)!==g)if(p==="assignment")this.controller.dispatch({type:"set-clickableinfo-prop",id:this.id,prop:p,value:g});else{if(p!=="expression"){var d=p;return d}this.controller.dispatch({type:"set-clickableinfo-prop",id:this.id,prop:p,value:g})}},s}(e.Class);u.ClickableInfoView=h}),$("loadcss!expressions/expression-footer",function(){}),$("expressions/expression_view",["require","exports","config","tslib","browser","keys","jquery","./abstract-item-view","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","lib/conditional_blur","./expression-icon-view","./evaluation-view","expressions/unresolved_view","expressions/domain_view","expressions/regression_view","expressions/slider_view","expressions/promptslider_view","expressions/label_view","expressions/distribution_parameters_view","expressions/visualization_parameters_view","expressions/ttest_footer_view","expressions/stats_footer_view","graphing-calc/models/expression","core/lib/label","./expression-edit-actions","./suggested-zoom-view","dcgview","./clickable_info_view","main/manage-focus-helper","dcgview-helpers/mathquill-braille-wrapper","jquery.handleevent","loadcss!./expression-footer"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r,m,y,v,x,E,b,f,S,j,Q,G,q,L,M){Object.defineProperty(u,"__esModule",{value:!0});var D=G.Components,V=D.If,W=D.SwitchUnion,N=function(re){function Y(){return re!==null&&re.apply(this,arguments)||this}return e.__extends(Y,re),Y.prototype.didMount=function(){this.onItemViewMounted()},Y.prototype.didMountRootNode=function(O){this.rootNode=O},Y.prototype.willUnmount=function(){this.onItemViewUnmounted()},Y.prototype.template=function(){var O=this;return G.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-mathitem":!0,"dcg-inFolder":!!O.model.folderId,"dcg-selected":O.controller.isItemSelected(O.id)&&!O.controller.isInEditListMode(),"dcg-dragging":!!O.controller.isItemBeingDragged(O.id),"dcg-hasSlider":O.hasSlider(),"dcg-hasEvaluation":O.controller.shouldShowEvaluationForItem(O.id),"dcg-hasRegression":O.hasRegression(),"dcg-hasDomain":O.hasDomain(),"dcg-author-ide":O.controller.isAuthorIDE()}},"expr-id":function(){return O.model.id},didMount:this.bindFn(this.didMountRootNode)},G.createElement("div",{class:G.const("dcg-fade-container"),onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},G.createElement("div",{class:G.const("dcg-main")},G.createElement(V,{predicate:function(){return!O.controller.isInEditListMode()}},function(){return G.createElement(M.default,{latex:function(){return f.getDisplayLatex(O.model)},ariaLabel:function(){return O.getAriaLabel("braille")},brailleShouldFocus:function(){return O.isFocused()},onBrailleInput:function(ee){return O.handleLatexChanged(ee)},controller:O.props.controller,onBrailleFocusedChanged:function(ee,oe){return O.handleMQFocusedChanged(ee,oe)},onBrailleKeydown:O.bindFn(O.handleBraillePressedKey)},G.createElement(h.default,{latex:function(){return f.getDisplayLatex(O.model)},getAriaLabel:function(){return O.getAriaLabel("speech")},getAriaPostLabel:O.bindFn(O.getFormulaAria),isFocused:function(){return O.isFocused()},capExpressionSize:function(){return O.controller.getCapExpressionSize()},config:O.const({}),hasError:O.const(!1),onUserPressedKey:function(ee,oe){return O.handlePressedKey(ee,oe)},onUserChangedLatex:function(ee){return O.handleLatexChanged(ee)},onExpressionSizeExceeded:function(){return O.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(ee,oe){return O.handleMQFocusedChanged(ee,oe)},needsSystemKeypad:function(){return!O.controller.isKeypadEnabled()}},G.createElement("div",{class:G.const("dcg-expression-mathquill")})))}),G.createElement(V,{predicate:function(){return O.controller.isInEditListMode()}},function(){return G.createElement("div",{class:G.const("dcg-edit-list-mathquill"),tabindex:function(){return O.controller.getBrailleMode()==="none"?"0":"-1"},onTap:O.bindFn(O.exitEditListMode),manageFocus:O.const({shouldBeFocused:function(){return O.controller.getBrailleMode()==="none"&&L.defaultShouldBeFocused({controller:O.controller,location:{type:"readonly-expression",id:O.model.id}})},onFocusedChanged:function(ee){O.controller.getBrailleMode()==="none"&&(ee?O.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:O.model.id}}):O.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:O.model.id}}))}})},G.createElement(M.default,{latex:function(){return f.getDisplayLatex(O.model)},ariaLabel:function(){return O.getAriaLabel("braille")},controller:O.props.controller,isStatic:O.const(!0),brailleShouldFocus:function(){var ee=O.controller.getFocusLocation();return!!ee&&ee.type==="readonly-expression"&&ee.id===O.id},onBrailleFocusedChanged:function(ee){ee?O.controller.dispatch({type:"set-focus-location",location:{type:"readonly-expression",id:O.model.id}}):O.controller.dispatch({type:"blur-focus-location",location:{type:"readonly-expression",id:O.model.id}})}},G.createElement(o.default,{latex:function(){return f.getDisplayLatex(O.model)},getAriaLabel:function(){return O.getAriaLabel("speech")}})))})),G.createElement("i",{class:G.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:G.const("true"),onTap:this.bindFn(this.onDelete)}),G.createElement(V,{predicate:this.bindFn(this.shouldShowFooter)},function(){return G.createElement("div",{class:O.getFooterClass()},W(function(){return O.getFooterType()},{none:function(){},regression:function(){return G.createElement(n.default,{model:O.props.model,controller:O.props.controller})},label:function(){return G.createElement(y.default,{model:O.props.model,controller:O.props.controller})},slider:function(){return G.createElement(r.default,{model:O.props.model,controller:O.props.controller})},domain:function(){return G.createElement(i.default,{model:O.props.model,controller:O.props.controller})},evaluation:function(){return G.createElement(g.default,{id:function(){return O.props.model().id},dependent:function(){return O.model.dependent||""},val:function(){return O.controller.getEvaluationValueForItem(O.id)},controller:O.props.controller,focusable:O.const(!1)})},distribution:function(){return G.createElement(v.default,{model:O.props.model,controller:O.props.controller})},visualization:function(){return G.createElement(x.default,{model:O.props.model,controller:O.props.controller})},ttest:function(){return G.createElement(E.default,{model:O.props.model,controller:O.props.controller})},stats:function(){return G.createElement(b.default,{model:O.props.model,controller:O.props.controller})},unresolved:function(){return G.createElement(d.default,{controller:O.props.controller})}}),G.createElement(V,{predicate:O.bindFn(O.shouldShowClickableProperties)},function(){return G.createElement(q.ClickableInfoView,{controller:function(){return O.props.controller()},model:function(){return O.model}})}),G.createElement(V,{predicate:O.bindFn(O.shouldShowBrailleError)},function(){return G.createElement("div",{tabindex:G.const(0),class:G.const("dcg-expression-braille-error"),"aria-roledescription":G.const("error"),"aria-label":function(){return O.controller.unpack(O.model.error)}},G.createElement("i",{class:G.const("dcg-icon-error")}),function(){return O.controller.unpack(O.model.error)})}),G.createElement(V,{predicate:O.bindFn(O.shouldShowSliderPrompt)},function(){return G.createElement(m.default,{model:O.props.model,controller:O.props.controller})}))})),G.createElement("span",{class:G.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:G.const("true"),tapboundary:G.const("true"),disablescroll:G.const("true"),style:G.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},G.createElement("span",{class:G.const("dcg-num")},function(){return O.model.displayIndex}),G.createElement("div",{class:G.const("dcg-tab-interior dcg-action-icon-mouse")},G.createElement(p.default,{model:this.props.model,controller:this.props.controller})),G.createElement(Q.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),G.createElement(j.ExpressionEditActions,{controller:this.props.controller,id:function(){return O.model.id}}))},Y.prototype.shouldShowFooter=function(){return!!this.shouldShowBrailleError()||!!this.shouldShowSliderPrompt()||!!this.shouldShowClickableProperties()||this.getFooterType()!=="none"},Y.prototype.shouldShowClickableProperties=function(){return!!this.controller.canAuthorClickableObjects()&&!!f.isClickableAllowed(this.model)&&this.model.clickableInfo.enabled},Y.prototype.getFooterType=function(){return this.hasRegression()?"regression":this.shouldShowLabelView()?"label":this.hasSlider()?"slider":this.hasDomain()?"domain":this.isTTest()?"ttest":this.isStats()?"stats":this.controller.shouldShowEvaluationForItem(this.id)?"evaluation":this.isToplevelDistribution()?"distribution":this.isVisualization()?"visualization":this.model.unresolved?"unresolved":"none"},Y.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-indent-in-folder dcg-fadein-bottom")},Y.prototype.onCreateSliders=function(O){this.controller.dispatch({type:"create-sliders-for-item",id:this.id,variables:O})},Y.prototype.shouldShowLabelView=function(){return w.get("labels")&&f.isPointOrPointList(this.model)},Y.prototype.shouldShowSliderPrompt=function(){return!!this.controller.areSlidersEnabled()&&this.model.missingVariables.length>0},Y.prototype.shouldShowBrailleError=function(){return this.controller.getBrailleMode()!=="none"&&this.hasError()},Y.prototype.hasRegression=function(){return!(!this.model.formula||!this.model.formula.is_regression)},Y.prototype.hasDomain=function(){return f.hasDomain(this.model)},Y.prototype.isToplevelDistribution=function(){return f.isToplevelDistribution(this.model)},Y.prototype.isVisualization=function(){return f.isVisualization(this.model)},Y.prototype.isTTest=function(){return f.isTTest(this.model)},Y.prototype.isStats=function(){return f.isStats(this.model)},Y.prototype.hasSlider=function(){return!!this.model.sliderExists},Y.prototype.getLabelOptions=function(){return this.controller.getEvaluationLabelOptionsForItem(this.model.id)},Y.prototype.getAriaLabel=function(O){if(this.shouldShowLabelView()){var ee;return ee=this.model.label&&this.model.label!==""?this.model.label:O==="speech"?this.controller.t("Label"):this.controller.raw("lbl"),this.model.showLabel?ee:O==="speech"?this.controller.t("Hidden __label__",{label:ee}):this.controller.raw("h __label__",{label:ee})}return O==="speech"?this.controller.t("Expression __index__",{index:this.model.displayIndex}):this.controller.raw("eq__index__",{index:this.model.displayIndex})},Y.prototype.getFormulaAria=function(){var O=this.model.formula,ee="";if(!O||f.isEmpty(this.model))return ee;if(this.controller.shouldShowEvaluationForItem(this.id)){ee="equals ";var oe=O.zero_values&&O.zero_values.length?O.zero_values[0].val:O.constant_value;Array.isArray(oe)?ee+=oe.length+" element list.":ee+=S.truncatedAriaLabel(oe,this.getLabelOptions())}else O.error&&!this.shouldShowSliderPrompt()?ee=this.controller.unpack(O.error):f.isToplevelDistribution(this.model)?ee=this.controller.t("is distribution. "):this.isTTest()&&(ee=this.controller.t("is T test. To access statistics, press Tab."));if(this.model.shouldGraph&&(O.is_graphable||O.is_regression)){O.is_graphable&&O.is_regression?ee+=this.controller.t("Has graph and regression. To access statistics, press Tab."):O.is_regression?ee+=this.controller.t("Has regression. To access statistics, press Tab."):ee+=this.controller.t("Has graph.");var H=this.controller.getAudioGraph();H&&H.agNavigator.canTrace(this.model)&&(c.IS_APPLE?ee+=this.controller.t(" To audio trace, press OPTION+T."):ee+=this.controller.t(" To audio trace, press ALT+T."))}return ee},Y.prototype.handleBraillePressedKey=function(O){var ee=t.lookup(O);if(ee){if(ee==="Esc")s.default(),this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}});else if(ee==="Up"||ee==="Down"||ee==="Enter")this.controller.dispatch({type:"on-special-key-pressed",key:ee});else if(ee==="Del"||ee==="Backspace"){var oe=M.getFocusedBrailleElement();f.isEmpty(this.model)&&M.brailleInputIsEmpty(oe)&&(this.controller.dispatch({type:"on-special-key-pressed",key:ee==="Del"?"Delete":ee}),O.preventDefault(),O.stopPropagation())}}},Y.prototype.handlePressedKey=function(O,ee){var oe=h.default.getFocusedMathquill();if(oe){if(O==="Esc")return s.default(),void(this.hasSlider()&&this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:this.model.id}}));if(O==="Up"||O==="Down")return h.default.applyArrowKeyAndReturnIfWasAtBounds(oe,O,ee)?this.controller.dispatch({type:"on-special-key-pressed",key:O}):void 0;if(O==="Delete"||O==="Backspace"){if(f.isEmpty(this.model))return this.controller.dispatch({type:"on-special-key-pressed",key:O})}else if(O==="Enter")return ee&&(ee.preventDefault(),ee.stopPropagation()),this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});oe.keystroke(O,ee),this.handleLatexChanged(oe.latex())}},Y.prototype.handleLatexChanged=function(O){O!==this.model.latex&&this.controller.dispatch({type:"set-item-latex",id:this.id,latex:O})},Y.prototype.doesNodeBelongToSliderLimit=function(O){return!!O&&!!this.rootNode.contains(O)&&!!a(O).closest("[data-dcg-limit]").length},Y.prototype.handleMQFocusedChanged=function(O,ee){O?this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}}):this.doesNodeBelongToSliderLimit(ee.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"expression",id:this.id}})},Y.prototype.onMouseSelect=function(O){O.device!=="keyboard"&&(O.type==="dcg-tap"&&O.device==="mouse"||O.type==="dcg-tapstart"&&O.device==="touch"||O.wasHandled()||(O.handle(),this.controller.dispatch({type:"set-focus-location",location:{type:"expression",id:this.id}})))},Y.prototype.isFocused=function(){var O=this.controller.getFocusLocation();return!!O&&O.type==="expression"&&O.id===this.id},Y.prototype.isSliderThumbFocused=function(){var O=this.controller.getFocusLocation();return!!O&&O.type==="slider-thumb"&&O.id===this.id},Y.prototype.hasError=function(){return!!this.model.error&&!f.isEmpty(this.model)},Y}(l.default);u.default=N}),$("loadcss!expressions/smart_textarea",function(){}),$("expressions/smart_textarea",["require","exports","tslib","keys","browser","dcgview","jquery","lib/conditional_blur","jquery.handleevent","loadcss!./smart_textarea"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=t.Components.Textarea,o=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(p,s),p.prototype.template=function(){var g=this;return t.createElement("div",{class:t.const("dcg-smart-textarea-container")},t.createElement("div",{class:t.const("dcg-displayTextarea dcg-fixed-width-element"),didMount:this.bindFn(this.didMountDisplay)}),t.createElement(h,{class:function(){return{"dcg-do-blur":!0,"dcg-fixed-width-element":!0,"dcg-smart-textarea":!0,"dcg-empty":!g.props.text()}},"aria-label":function(){return g.props.ariaLabel?g.props.ariaLabel():void 0},placeholder:this.props.placeholder,readonly:function(){return!!g.props.readonly()||void 0},value:this.props.text,onInput:this.props.onInput,didMount:this.bindFn(this.didMountTextarea),onKeydown:this.bindFn(this.onKeydownEvent)}))},p.prototype.getDisplayTextHTML=function(){var g=this.props.text()||"";if(g=g.replace(/</g,"&lt;").replace(/>/g,"&gt;"),!this.props.showLinks())return g;var d=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi;return g=g.replace(d,"<a href='$1' target ='_blank'>$1</a>")},p.prototype.willUnmount=function(){this.textareaNode=void 0},p.prototype.didMountDisplay=function(g){this.displayNode=g,a(g).on("touchend",function(d){d.preventDefault()}),a(g).on("dcg-tap dcg-tapstart","a",function(d){d.handle()}),this.renderDisplayText()},p.prototype.didMountTextarea=function(g){var d=this;this.textareaNode=g,a(g).on("dcg-tapstart",function(i){i.handle()}),a(g).on("focusin focusout",function(){return d.onFocusEvent()}),this.updateFocused()},p.prototype.didUpdate=function(){this.updateFocused(),this.renderDisplayText()},p.prototype.onFocusEvent=function(){if(this.textareaNode){var g=document.activeElement===this.textareaNode;this.shouldBeFocused()!==g&&this.props.onFocusChange(g)}},p.prototype.renderDisplayText=function(){if(this.displayNode){var g=this.getDisplayTextHTML();this.lastDisplayTextHTML!==g&&(this.lastDisplayTextHTML=g,this.displayNode.innerHTML=g)}},p.prototype.isFocused=function(){return document.activeElement===this.textareaNode},p.prototype.shouldBeFocused=function(){return this.props.shouldFocus()},p.prototype.updateFocused=function(){if(this.textareaNode){var g=this.isFocused(),d=this.shouldBeFocused();if(g!==d)if(d){if(c.IS_IPAD&&c.IS_IN_IFRAME)return;this.textareaNode.focus(),this.textareaNode.selectionStart=this.textareaNode.selectionEnd=this.textareaNode.value.length}else this.textareaNode.blur()}},p.prototype.onKeydownEvent=function(g){var d=this.textareaNode;if(d){var i=e.lookup(g);if(this.props.readonly()&&this.props.readonlyAction!==void 0)return void(g.altKey||g.ctrlKey||g.metaKey||g.shiftKey||i!==e.ENTER&&i!==e.SPACEBAR||(g.preventDefault(),this.props.readonlyAction()));i!==e.ENTER||g.metaKey?i===e.ESCAPE?l.default():i===e.UP?d.selectionStart===0&&d.selectionEnd===0&&(g.preventDefault(),this.props.onSpecialKey("Up")):i===e.DOWN?d.selectionStart===d.value.length&&d.selectionEnd===d.value.length&&(g.preventDefault(),this.props.onSpecialKey("Down")):i===e.BACKSPACE?d.value.length===0&&(g.preventDefault(),this.props.onSpecialKey("Backspace")):i===e.DELETE&&d.value.length===0&&(g.preventDefault(),this.props.onSpecialKey("Delete")):(g.preventDefault(),this.props.onSpecialKey("Enter")),this.props.onKeydown&&this.props.onKeydown(g)}},p}(t.Class);u.default=o}),$("expressions/text_view",["require","exports","tslib","./abstract-item-view","./smart_textarea","dcgview","./expression-edit-actions","jquery.handleevent"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.didMount=function(){this.onItemViewMounted()},o.prototype.willUnmount=function(){this.onItemViewUnmounted()},o.prototype.template=function(){var s=this;return t.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressiontext":!0,"dcg-inFolder":!!s.model.folderId,"dcg-selected":!!s.controller.isItemSelected(s.id),"dcg-dragging":!!s.controller.isItemBeingDragged(s.id),"dcg-author-ide":s.controller.isAuthorIDE()}},"expr-id":function(){return s.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},t.createElement("div",{class:t.const("dcg-fade-container")},t.createElement("div",{class:t.const("dcg-main")},t.createElement(c.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return s.model.text},placeholder:function(){return s.controller.t("Enter a note...")},showLinks:function(){return s.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),readonly:function(){return s.controller.isInEditListMode()},readonlyAction:this.bindFn(this.exitEditListMode)})),t.createElement("i",{class:t.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:t.const("true"),onTap:this.bindFn(this.onDelete)})),t.createElement("span",{class:t.const("dcg-tab dcg-action-drag"),handleevent:t.const("true"),tapboundary:t.const("true"),disablescroll:t.const("true"),style:t.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},t.createElement("span",{class:t.const("dcg-num")},function(){return s.model.displayIndex}),t.createElement("div",{class:t.const("dcg-tab-interior")}),t.createElement("i",{class:t.const("dcg-icon-text")})),t.createElement(a.ExpressionEditActions,{controller:this.props.controller,id:function(){return s.model.id}}))},o.prototype.onInput=function(s){this.controller.dispatch({type:"set-note-text",id:this.id,text:s})},o.prototype.onFocusChange=function(s){s?this.controller.dispatch({type:"set-focus-location",location:{type:"text",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"text",id:this.id}})},o.prototype.onSpecialKey=function(s){return this.controller.dispatch({type:"on-special-key-pressed",key:s})},o.prototype.isFocused=function(){var s=this.controller.getFocusLocation();return!(!s||s.type!=="text"||s.id!==this.id)},o}(e.default);u.default=l}),$("expressions/tables/table_icon_view",["require","exports","tslib","dcgview","dcgview-helpers/tooltipped-error","../circular-icon-view","jquery.handleevent"],function(B,u,w,e,c,t){Object.defineProperty(u,"__esModule",{value:!0});var a=e.Components.SwitchUnion,l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},o.prototype.template=function(){var s=this;return e.createElement("div",{class:e.const("dcg-table-icon-container")},a(this.bindFn(this.typeOfIcon),{error:function(){return e.createElement(c.TooltippedError,{error:function(){return s.controller.unpack(s.model.error)},gravity:s.const("se")})},none:function(){return e.createElement("span",null)},icon:function(){return e.createElement("div",{class:e.const("dcg-circular-icon-container"),role:e.const("button"),handleevent:e.const("true"),onTap:function(p){if(!p.wasHandled("dragdrop")&&!p.wasLongheld())return s.myOptionsOpen()||s.controller.isInEditListMode()?s.toggleOptions():void s.toggleGraphShown()},didMount:function(p){return s.rootElt=p},onLongHold:function(p){p.handle("dcg-longhold"),p.handle("dcg-tap"),s.toggleOptions()}},e.createElement(t.CircularIconView,{iconType:s.bindFn(s.getIcon),backgroundColor:function(){return s.model.color}}))}}))},o.prototype.myOptionsOpen=function(){var s=this.controller.getOpenItemMenu();return!!s&&s.model===this.model},o.prototype.toggleOptions=function(){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"table-column",model:this.model,icon:this.rootElt,focusFirstOption:!1}})},o.prototype.didMountRoot=function(s){this.rootElt=s},o.prototype.toggleGraphShown=function(){this.controller.dispatch({type:"toggle-tablecolumn-hidden",tableId:this.model.table.id,columnId:this.model.id})},o.prototype.hasError=function(){return!!this.model.error},o.prototype.getIcon=function(){return this.model.shouldGraph?this.controller.isInEditListMode()?"none":this.model.points&&this.model.lines?"table-points-and-lines":this.model.points&&!this.model.lines?"table-points":!this.model.points&&this.model.lines?"table-lines":"none":"hidden"},o.prototype.typeOfIcon=function(){return this.model.latex===""?"none":this.controller.getGraphSettings().config.graphpaper?this.model.error?"error":this.model.index===0?"none":"icon":"none"},o}(e.Class);u.default=l}),$("expressions/tables/header-view",["require","exports","tslib","keys","jquery","browser","dcgview","./table_icon_view","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","underscore","graphing-calc/models/table","core/lib/dragmode","dcgview-helpers/mathquill-braille-wrapper"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d){Object.defineProperty(u,"__esModule",{value:!0});var i=a.Components.If,n=function(r){function m(){return r!==null&&r.apply(this,arguments)||this}return w.__extends(m,r),m.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.table},m.prototype.isRightSide=function(){return this.lookupCellPosition().column>=this.table.columnModels.length-1},m.prototype.template=function(){var y=this;return a.createElement("div",{role:a.const("columnheader"),class:function(){return{"dcg-cell":!0,"dcg-table-header":!0,"dcg-do-not-blur":!0,"dcg-left":y.model.index===0,"dcg-right":y.isRightSide(),"dcg-selected":y.shouldFocus(),"dcg-error":!!y.model.error}},index:function(){return y.model.index},onTapStart:this.bindFn(this.focusThisCell)},a.createElement("div",{class:a.const("dcg-inner-border")}),a.createElement(i,{predicate:function(){return!y.isRightSide()}},function(){return a.createElement(l.default,{model:y.props.model,controller:y.props.controller})}),a.createElement(i,{predicate:function(){return!y.controller.isInEditListMode()}},function(){return a.createElement(d.default,{latex:function(){return y.model.latex||""},tooltipOptions:function(){return{gravity:"s"}},brailleShouldFocus:y.bindFn(y.shouldFocus),ariaLabel:function(){return y.getAriaLabel("braille")},onBrailleInput:function(v){return y.handleLatexChanged(v)},controller:y.props.controller,onBrailleFocusedChanged:y.bindFn(y.handleMQFocusedChanged),selectOnFocus:y.const(!0),onBrailleKeydown:y.bindFn(y.handleKeydownOnBrailleInput)},a.createElement(h.default,{latex:function(){return y.model.latex||""},isFocused:y.bindFn(y.shouldFocus),capExpressionSize:function(){return y.controller.getCapExpressionSize()},config:y.const({}),getAriaLabel:function(){return y.getAriaLabel("speech")},getAriaPostLabel:y.bindFn(y.getAriaPostLabel),hasError:y.const(!1),onUserPressedKey:function(v,x){return y.handlePressedKey(v,x)},onUserChangedLatex:function(v){return y.handleLatexChanged(v)},onExpressionSizeExceeded:function(){return y.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:y.bindFn(y.handleMQFocusedChanged),selectOnFocus:y.const(!0),needsSystemKeypad:function(){return!y.controller.isKeypadEnabled()}},a.createElement("span",{class:a.const("dcg-math-field dcg-cell-math-content")})))}),a.createElement(i,{predicate:function(){return y.controller.isInEditListMode()}},function(){return a.createElement(d.default,{latex:function(){return y.model.latex||""},tooltipOptions:function(){return{gravity:"s"}},ariaLabel:function(){return y.getAriaLabel("braille")},onBrailleInput:function(v){return y.handleLatexChanged(v)},controller:y.props.controller,tabindex:y.const(-1),isStatic:y.const(!0),brailleShouldFocus:y.bindFn(y.shouldFocusNonEditCell),onBrailleFocusedChanged:y.bindFn(y.handleMQFocusedChanged)},a.createElement(o.default,{latex:function(){return y.model.latex||""},getAriaLabel:function(){return y.getAriaLabel("speech")}},a.createElement("span",{class:a.const("dcg-math-field dcg-cell-math-content"),role:a.const("textbox"),"aria-roledescription":a.const("cell"),"aria-readonly":a.const("true"),tabindex:a.const("-1")})))}),a.createElement(i,{predicate:function(){return y.model.dragMode!==g.DragMode.NONE&&!y.model.error}},function(){return a.createElement("span",{class:a.const("dcg-drag-icon"),"dcg-drag-mode":function(){return y.model.dragMode},style:function(){return{color:y.model.color}}},a.createElement("i",{class:function(){return{"dcg-icon-move":y.model.dragMode===g.DragMode.XY,"dcg-icon-move-horizontal":y.model.dragMode===g.DragMode.X,"dcg-icon-move-vertical":y.model.dragMode===g.DragMode.Y}}}))}),a.createElement("div",{class:a.const("dcg-empty-line")}),a.createElement(i,{predicate:function(){return y.isRightSide()}},function(){return a.createElement("span",{class:a.const("dcg-fade-right")})}))},m.prototype.focusThisCell=function(y){y.wasHandled()||(y.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},m.prototype.lookupCellPosition=function(){return{row:0,column:this.model.index}},m.prototype.getAriaLabel=function(y){var v=this.lookupCellPosition();return y==="speech"?this.controller.t("Column header __column__",{column:v.column+1}):this.controller.raw("h__column__",{column:v.column+1})},m.prototype.getAriaPostLabel=function(){var y="",v=this.model;return v.shouldGraph&&(v.points||v.lines)&&!p.isColumnEmpty(v)&&(y=this.controller.t("Has graph."),t.IS_APPLE?y+=" "+this.controller.t("To audio trace, press OPTION+T."):y+=" "+this.controller.t(" To audio trace, press ALT+T.")),y},m.prototype.handlePressedKey=function(y,v){var x=h.default.getFocusedMathquill();x&&(h.default.handleKeystrokeAndDecideIfSpecialEvent(x,y,v)?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:y}):this.handleLatexChanged(x.latex()))},m.prototype.handleKeydownOnBrailleInput=function(y){var v=e.lookup(y);if(v){var x=v==="Enter"||v==="Up"||v==="Down",E=d.getFocusedBrailleElement(),b=E&&v==="Left"&&E.selectionStart===0||v==="Right"&&E.selectionStart===c(E).val().length,f=this.model.latex.length===0&&d.brailleInputIsEmpty(E),S=v==="Del"||v==="Backspace";(x||b||S&&f)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:v==="Del"?"Delete":v}),y.preventDefault())}},m.prototype.handleLatexChanged=function(y){this.model.latex!==y&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:y})},m.prototype.shouldFocus=function(){return!this.controller.isInEditListMode()&&s.isEqual(this.lookupCellPosition(),p.getSelectedCell(this.table))},m.prototype.shouldFocusNonEditCell=function(){return s.isEqual(this.lookupCellPosition(),p.getSelectedCell(this.table))},m.prototype.isNodeWithinTableCell=function(y){if(!y||c(y).closest(".dcg-cell").length===0)return!1;var v=this.controller.getItemRootNodeById(this.table.id);return!!v&&c.contains(v,y)},m.prototype.handleMQFocusedChanged=function(y,v){y?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(v.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},m}(a.Class);u.default=n}),$("expressions/tables/cell-view",["require","exports","tslib","keys","dcgview","jquery","dcgview-helpers/mathquill-view","dcgview-helpers/static-mathquill-view","underscore","graphing-calc/models/table","../../dcgview-helpers/tooltipped-error","lib/conditional_blur","dcgview-helpers/mathquill-braille-wrapper"],function(B,u,w,e,c,t,a,l,h,o,s,p,g){Object.defineProperty(u,"__esModule",{value:!0});var d=c.Components.If,i=function(n){function r(){return n!==null&&n.apply(this,arguments)||this}return w.__extends(r,n),r.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller(),this.table=this.model.column.table},r.prototype.template=function(){var m=this;return c.createElement("div",{role:c.const("gridcell"),class:function(){return{"dcg-cell":!0,"dcg-do-not-blur":!0,"dcg-empty":m.isEmpty(),"dcg-non-editable":!!m.model.column.disabled,"dcg-error":!!m.hasError(),"dcg-selected":m.shouldFocus()}},onTapStart:this.bindFn(this.focusThisCell)},c.createElement("div",{class:c.const("dcg-inner-border")}),c.createElement(d,{predicate:this.bindFn(this.hasError)},function(){return c.createElement("span",{class:c.const("dcg-table-icon-error-container")},c.createElement(s.TooltippedError,{error:m.bindFn(m.getErrorMessage),gravity:m.const("se"),size:m.const("small")}))}),c.createElement(d,{predicate:function(){return!!m.model.column.disabled||m.controller.isInEditListMode()}},function(){return c.createElement(g.default,{latex:function(){return m.getValue()},tooltipOptions:function(){return{gravity:"s"}},brailleShouldFocus:m.bindFn(m.shouldFocusReadonlyCell),ariaLabel:function(){return m.getAriaLabel("braille")},controller:m.props.controller,tabindex:function(){return m.controller.isInEditListMode()?-1:0},isStatic:m.const(!0),onBrailleFocusedChanged:m.bindFn(m.handleFocusedChanged),onBrailleKeydown:function(y){return m.handleKeydownOnReadonlyCell(y),!0}},c.createElement(l.default,{getAriaLabel:function(){return m.getAriaLabel("speech")},latex:function(){return m.getValue()}},c.createElement("span",{class:c.const("dcg-math-field dcg-cell-math-content dcg-mathquill-input-span"),role:c.const("textbox"),"aria-roledescription":c.const("computed cell"),"aria-readonly":c.const("true"),tabindex:function(){return m.controller.isInEditListMode()||m.isEmpty()?-1:0},onKeyDown:m.bindFn(m.handleKeydownOnReadonlyCell),manageFocus:m.const({shouldBeFocused:m.bindFn(m.shouldFocusReadonlyCell),onFocusedChanged:m.bindFn(m.handleFocusedChanged)})})))}),c.createElement(d,{predicate:function(){return!m.model.column.disabled&&!m.controller.isInEditListMode()}},function(){return c.createElement(g.default,{latex:function(){return m.getValue()},tooltipOptions:function(){return{gravity:"s"}},brailleShouldFocus:m.bindFn(m.shouldFocusEditableCell),ariaLabel:function(){return m.getAriaLabel("braille")},onBrailleInput:function(y){return m.handleLatexChanged(y)},controller:m.props.controller,onBrailleFocusedChanged:m.bindFn(m.handleFocusedChanged),onBrailleKeydown:m.bindFn(m.handleKeydownOnBrailleInput),selectOnFocus:m.const(!0)},c.createElement(a.default,{latex:function(){return m.getValue()},isFocused:m.bindFn(m.shouldFocusEditableCell),capExpressionSize:function(){return m.controller.getCapExpressionSize()},config:m.const({}),getAriaLabel:function(){return m.getAriaLabel("speech")},getAriaPostLabel:m.bindFn(m.getErrorMessage),hasError:m.const(!1),onUserPressedKey:function(y,v){return m.handlePressedKey(y,v)},onUserChangedLatex:function(y){return m.handleLatexChanged(y)},onExpressionSizeExceeded:function(){return m.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:m.bindFn(m.handleFocusedChanged),selectOnFocus:m.const(!0),needsSystemKeypad:function(){return!m.controller.isKeypadEnabled()}},c.createElement("span",{class:c.const("dcg-math-field dcg-cell-math-content")})))}),c.createElement("div",{class:c.const("dcg-empty-line")}))},r.prototype.focusThisCell=function(m){m.wasHandled()||(m.handle(),this.shouldFocus()||this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}))},r.prototype.handlePressedKey=function(m,y){var v=a.default.getFocusedMathquill();if(v){var x=a.default.handleKeystrokeAndDecideIfSpecialEvent(v,m,y);m===e.ESCAPE&&p.default(),x?this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:m}):this.handleLatexChanged(v.latex())}},r.prototype.handleKeydownOnBrailleInput=function(m){var y=e.lookup(m);if(y){y===e.ESCAPE&&p.default();var v=y==="Enter"||y==="Up"||y==="Down",x=g.getFocusedBrailleElement(),E=x&&y==="Left"&&x.selectionStart===0||y==="Right"&&x.selectionStart===t(x).val().length,b=y==="Del"||y==="Backspace";(v||E||b&&this.getValue().length===0)&&(this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:y==="Del"?"Delete":y}),m.preventDefault())}},r.prototype.handleKeydownOnReadonlyCell=function(m){var y=e.lookup(m);y!=="Tab"&&(m.preventDefault(),y==="Esc"&&p.default(),y&&this.controller.dispatch({type:"navigate-table-by-key",id:this.table.id,key:y}))},r.prototype.handleLatexChanged=function(m){this.getValue()!==m&&this.controller.dispatch({type:"set-tablecell-latex",tableId:this.table.id,cell:this.lookupCellPosition(),latex:m})},r.prototype.shouldFocus=function(){return h.isEqual(this.lookupCellPosition(),o.getSelectedCell(this.table))},r.prototype.shouldFocusReadonlyCell=function(){return!this.controller.isInEditListMode()&&!!this.model.column.disabled&&this.shouldFocus()},r.prototype.shouldFocusEditableCell=function(){return!this.model.column.disabled&&this.shouldFocus()},r.prototype.isNodeWithinTableCell=function(m){if(!m||t(m).closest(".dcg-cell").length===0)return!1;var y=this.controller.getItemRootNodeById(this.table.id);return!!y&&t.contains(y,m)},r.prototype.handleFocusedChanged=function(m,y){m?this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}}):this.isNodeWithinTableCell(y.relatedTarget)||this.controller.dispatch({type:"blur-focus-location",location:{type:"table",id:this.table.id,location:this.lookupCellPosition()}})},r.prototype.lookupCellPosition=function(){return{row:this.model.row.index,column:this.model.column.index}},r.prototype.getPackedError=function(){return this.model.column.packedErrors[this.model.row.index-1]},r.prototype.hasError=function(){return!!this.getPackedError()},r.prototype.getErrorMessage=function(){var m=this.getPackedError();return m?this.controller.unpack(m):""},r.prototype.getValue=function(){var m=this.model.column.index,y=this.model.row.index-1;return this.model.column.disabled?this.model.column.computedValues[y]||"":this.table.columns[m].values[y]||""},r.prototype.isEmpty=function(){var m=g.getFocusedBrailleElement();return this.getValue()===""&&g.brailleInputIsEmpty(m)},r.prototype.getAriaLabel=function(m){var y=this.lookupCellPosition(),v=y.row,x=y.column+1;return m==="speech"?this.controller.t("Row __row__ Col __column__",{row:v.toString(),column:x.toString()}):this.controller.raw("r__row__c__column__",{row:v.toString(),column:x.toString()})},r}(c.Class);u.default=i}),$("loadcss!expressions/table-view",function(){}),$("expressions/table-view",["require","exports","tslib","keys","lib/aria","./abstract-item-view","dcgview","./tables/header-view","./tables/cell-view","graphing-calc/models/table","vendor/mathquill","jquery","./expression-edit-actions","expressions/measure-expressions","./suggested-zoom-view","main/manage-focus-helper","loadcss!./table-view","jquery.handleevent"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n){Object.defineProperty(u,"__esModule",{value:!0});var r=a.Components.For,m=function(y){function v(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(v,y),v.prototype.didMount=function(){this.onItemViewMounted()},v.prototype.willUnmount=function(){this.onItemViewUnmounted()},v.prototype.template=function(){var x=this;return a.createElement("div",{class:function(){return{"dcg-expressionitem":!0,"dcg-expressiontable":!0,"dcg-inFolder":!!x.model.folderId,"dcg-selected":!!x.controller.isItemSelected(x.id),"dcg-dragging":!!x.controller.isItemBeingDragged(x.id),"dcg-no-faded-h":x.isRightFocused(),"dcg-no-faded-v":x.isBottomFocused(),"dcg-author-ide":x.controller.isAuthorIDE()}},"expr-id":function(){return x.model.id},didMount:this.bindFn(this.didMountContainer),onKeydown:this.bindFn(this.onKeydown)},a.createElement("div",{class:a.const("dcg-fade-container dcg-disable-horizontal-scroll-to-cursor")},a.createElement("div",{class:a.const("dcg-main")},a.createElement("div",{class:a.const("dcg-table-container"),tabindex:function(){return x.controller.isInEditListMode()?0:-1},"aria-label":function(){return x.controller.getBrailleMode()==="none"?x.controller.t("Expression __index__ table",{index:x.model.displayIndex}):x.controller.t("eq__index__ table",{index:x.model.displayIndex})},didMount:this.bindFn(this.didMountContainer),manageFocus:this.const(n.manageFocusHelper({controller:this.controller,location:{type:"table-container",id:this.model.id}}))},a.createElement("div",{class:a.const("dcg-table-sliding-container"),style:function(){return{transform:"translateX("+x.computeScrolledX()+"px)"}}},a.createElement(r,{each:function(){return x.getVisibleRowModels()},key:function(E){return E.type==="blank-row"?"blank-row-"+E.guid+"-"+E.rows+"-"+x.getCols():E.guid}},a.createElement("div",{role:a.const("grid"),class:function(){return{"dcg-tabledata":!0,"dcg-focus-in-bottom-row":x.isBottomFocused(),"dcg-focus-in-right-column":x.isRightFocused()}}},function(E){return E.type==="show-more"?a.createElement("tr",{role:a.const("row"),class:a.const("dcg-show-more-row")},a.createElement("td",{colspan:x.bindFn(x.getCols)},x.bindFn(x.missingRowMessage),a.createElement("div",{tabindex:a.const(0),role:a.const("button"),class:a.const("dcg-show-more"),onTap:function(){return x.controller.dispatch({type:"table-show-more-rows",id:x.id})}},function(){return x.controller.t("Show all")}))):E.type==="blank-row"?a.createElement("tr",{role:a.const("row"),class:a.const("dcg-blank-row")},a.createElement("td",{colspan:x.bindFn(x.getCols),style:function(){return{height:E.rows*x.getRowHeight()+"px"}}})):a.createElement(r,{each:function(){return E.cells},key:function(b){return b.guid}},a.createElement("tr",{role:a.const("row"),"aria-rowindex":function(){return E.index},class:function(){return{"dcg-row":E,"dcg-braille-row":x.controller.getBrailleMode()!=="none"}}},function(b){return b.type==="header"?a.createElement(l.default,{controller:x.props.controller,model:x.const(b)}):a.createElement(h.default,{controller:x.props.controller,model:x.const(b)})}))}))))),a.createElement("i",{class:a.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:a.const("true"),onTap:this.bindFn(this.onDelete)})),a.createElement("span",{class:a.const("dcg-tab dcg-action-drag"),handleevent:a.const("true"),tapboundary:a.const("true"),disablescroll:a.const("true"),style:a.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},a.createElement("span",{class:a.const("dcg-num")},function(){return x.model.displayIndex}),a.createElement("div",{class:a.const("dcg-tab-interior")}),a.createElement(i.SuggestedZoomView,{model:this.props.model,controller:this.props.controller})),a.createElement(g.ExpressionEditActions,{controller:this.props.controller,id:function(){return x.model.id}}))},v.prototype.getCols=function(){return this.model.rowModels[0].cells.length-1},v.prototype.getRowHeight=function(){return this.controller.getGraphSettings().config.projectorMode?38:33},v.prototype.getVisibleRowModels=function(){var x=this.model.rowModels;if(x.length<=25)return x;var E=o.getCollapsedRange(this.model);if(E!==void 0){var b=x.slice(0,E.min);return b=b.concat({type:"show-more",guid:"show-more"}),b.concat(x.slice(E.max))}var f=d.getExppanelRect(this.controller),S=f?f.height:0,j=p(this.node).offset(),Q=(j?j.top:0)-(f?f.top:0),G=p(this.node).find(".dcg-row:eq(0)").height(),q=this.getRowHeight();if(S/q>x.length)return x;for(var L=[],M=(-Q-G)/q,D=(S-Q)/q,V=0;V<x.length;V++){var W=o.getSelectedCell(this.model);if(V===0||V===x.length-2||W&&W.row===V)L.push(x[V]);else if(V>D||V<M){var N=L[L.length-1];N&&N.type==="blank-row"?N.rows++:L.push({type:"blank-row",guid:x[V].guid,rows:1})}else L.push(x[V])}return L},v.prototype.missingRowMessage=function(){var x=o.getCollapsedRange(this.model);return x===void 0?"":this.controller.t("__rowCount__ more rows",{rowCount:x.max-x.min})},v.prototype.didMountContainer=function(x){this.node=x,p(x).on("scroll",function(){return x.scrollLeft=0})},v.prototype.getSelectedCell=function(){return o.getSelectedCell(this.model)},v.prototype.computeScrolledX=function(){if(!this.getSelectedCell()||!this.node)return 0;var x=this.node.children[0],E=this.node.querySelector(".dcg-selected");if(x===null||E===null)return 0;var b=this.node.getBoundingClientRect(),f=E.getBoundingClientRect(),S=f.left-x.getBoundingClientRect().left,j=b.width-S-f.width-80,Q=Math.min(0,b.width-x.scrollWidth-30);return j=Math.max(j,Q),Math.min(0,j)},v.prototype.isBottomFocused=function(){var x=this.getSelectedCell();return!!x&&x.row===this.model.columnModels[0].cells.length},v.prototype.isRightFocused=function(){var x=this.getSelectedCell();return!!x&&x.column===this.model.columnModels.length-1},v.prototype.isFocused=function(){return!!this.getSelectedCell()},v.prototype.onKeydown=function(x){this.controller.isInEditListMode()||!x.ctrlKey||x.shiftKey||x.altKey||x.metaKey||(e.lookup(x)==="Up"?(x.preventDefault(),x.stopPropagation(),this.moveToFirstCellInColumn()):e.lookup(x)==="Down"?(x.preventDefault(),x.stopPropagation(),this.moveToLastCellInColumn()):e.lookup(x)==="Left"?(x.preventDefault(),x.stopPropagation(),this.moveToFirstCellInRow()):e.lookup(x)==="Right"?(x.preventDefault(),x.stopPropagation(),this.moveToLastCellInRow()):e.lookupChar(x)==="H"&&(x.preventDefault(),x.stopPropagation(),this.speakColumnHeader()))},v.prototype.moveToFirstCellInColumn=function(){var x=this.getSelectedCell();x&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:0,column:x.column}}})},v.prototype.moveToLastCellInColumn=function(){var x=this.getSelectedCell();x&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:this.model.rowModels.length-1,column:x.column}}})},v.prototype.moveToFirstCellInRow=function(){var x=this.getSelectedCell();x&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:x.row,column:0}}})},v.prototype.moveToLastCellInRow=function(){var x=this.getSelectedCell();x&&this.controller.dispatch({type:"set-focus-location",location:{type:"table",id:this.id,location:{row:x.row,column:this.model.columnModels[0].cells.length-1}}})},v.prototype.speakColumnHeader=function(){var x=this.controller.t("No column header"),E=this.getSelectedCell();if(E){var b=this.model.rowModels[0].cells[E.column];b&&b.type==="header"&&b.latex&&b.latex!==""&&(x=s.MQ.StaticMath(p("<span>"+b.latex+"</span>")[0]).mathspeak())}c.alert(x)},v}(t.default);u.default=m}),$("loadcss!expressions/folder-view",function(){}),$("expressions/folder-view",["require","exports","tslib","browser","keys","lib/aria","./expression-edit-actions","./abstract-item-view","./smart_textarea","dcgview","./circular-icon-view","jquery.handleevent","loadcss!./folder-view"],function(B,u,w,e,c,t,a,l,h,o,s){Object.defineProperty(u,"__esModule",{value:!0});var p=function(g){function d(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(d,g),d.prototype.didMount=function(){this.onItemViewMounted()},d.prototype.willUnmount=function(){this.onItemViewUnmounted()},d.prototype.template=function(){var i=this;return o.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionfolder":!0,"dcg-inFolder":!1,"dcg-selected":i.controller.isItemSelected(i.id),"dcg-dragging":!!i.controller.isItemBeingDragged(i.id),"dcg-collapsed":!!i.model.collapsed,"dcg-hidden":!!i.model.hidden,"dcg-author-ide":i.controller.isAuthorIDE(),"dcg-has-items":i.controller.getNumberOfItemsInFolder(i.id)>0,"dcg-secretFolder":i.model.secret&&!i.controller.canAdministerSecretFolders()}},"expr-id":function(){return i.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},o.createElement("div",{class:o.const("dcg-fade-container")},o.createElement("div",{class:o.const("dcg-main")},o.createElement("div",{role:o.const("button"),tabindex:o.const("0"),"aria-pressed":function(){return i.model.collapsed},"aria-label":function(){return i.controller.t("Collapse Folder")},class:o.const("dcg-caret-container dcg-action-toggle-folder-collapsed dcg-do-not-blur"),handleEvent:o.const("true"),onTap:this.bindFn(this.toggleCollapsed)},o.createElement("i",{class:o.const("dcg-icon-caret-down")})),o.createElement(h.default,{shouldFocus:this.bindFn(this.isFocused),text:function(){return i.model.title},placeholder:function(){return i.controller.t("Enter a note...")},showLinks:function(){return i.controller.areLinksEnabled()},onInput:this.bindFn(this.onInput),onFocusChange:this.bindFn(this.onFocusChange),onSpecialKey:this.bindFn(this.onSpecialKey),ariaLabel:this.bindFn(this.getAriaLabel),readonly:function(){return i.controller.isInEditListMode()},readonlyAction:this.bindFn(this.exitEditListMode)}),o.createElement("div",{role:o.const("checkbox"),"aria-checked":function(){return i.model.secret},"aria-label":function(){return i.controller.t("Hide this folder from students")},class:function(){return{"dcg-action-toggle-secret-folder":!0,"dcg-do-not-blur":!0,"dcg-checked":i.model.secret}},style:function(){return{display:i.controller.canAdministerSecretFolders()?void 0:"none"}},handleEvent:o.const("true"),onTap:this.bindFn(this.toggleSecret)},o.createElement("span",{class:o.const("dcg-checkbox-box")},o.createElement("i",{class:o.const("dcg-icon-check")})),o.createElement("span",{class:o.const("dcg-checkbox-label")},function(){return i.controller.t("Hide this folder from students.")}))),o.createElement("i",{class:o.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:o.const("true"),onTap:this.bindFn(this.onDelete)})),o.createElement("span",{class:o.const("dcg-tab dcg-action-drag"),handleevent:o.const("true"),tapboundary:o.const("true"),disablescroll:o.const("true"),style:o.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},o.createElement("span",{class:o.const("dcg-num")},function(){return i.model.displayIndex}),o.createElement("div",{class:o.const("dcg-tab-interior")},o.createElement("span",{role:o.const("button"),tabindex:o.const("0"),"aria-pressed":function(){return!!i.model.hidden},"aria-label":function(){return i.controller.t("Hide Folder")},class:o.const("dcg-circular-icon-container dcg-expression-icon-container"),onTap:this.bindFn(this.toggleHidden)},o.createElement(s.CircularIconView,{iconType:function(){return i.model.hidden?"hidden":"folder"},whiteIcon:function(){return i.controller.isItemSelected(i.model.id)||i.controller.isItemBeingDragged(i.model.id)}})))),o.createElement(a.ExpressionEditActions,{controller:this.props.controller,id:function(){return i.model.id}}))},d.prototype.toggleHidden=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.id})},d.prototype.toggleSecret=function(){this.controller.dispatch({type:"set-item-secret",id:this.id,isSecret:!this.model.secret})},d.prototype.toggleCollapsed=function(){this.controller.dispatch({type:"set-folder-collapsed",id:this.id,isCollapsed:!this.model.collapsed})},d.prototype.onInput=function(i){this.controller.dispatch({type:"set-folder-title",id:this.id,title:i})},d.prototype.onFocusChange=function(i){i?this.controller.dispatch({type:"set-focus-location",location:{type:"folder",id:this.id}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"folder",id:this.id}})},d.prototype.onSpecialKey=function(i){return this.controller.dispatch({type:"on-special-key-pressed",key:i})},d.prototype.onKeydown=function(i){var n=i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey,r=i.metaKey&&!i.altKey&&!i.shiftKey&&!i.ctrlKey;(e.IS_APPLE?r:n)&&c.lookup(i)===c.UP&&(i.preventDefault(),i.stopPropagation(),this.controller.dispatch({type:"set-folder-collapsed",id:this.id,isCollapsed:!this.model.collapsed}),this.model.collapsed?t.alert(this.controller.t("folder collapsed")):t.alert(this.controller.t("folder expanded")))},d.prototype.isFocused=function(){var i=this.controller.getFocusLocation();return!(!i||i.type!=="folder"||i.id!==this.id)},d.prototype.getAriaLabel=function(){var i="";this.model.hidden||this.model.collapsed||this.model.secret?!this.model.hidden||this.model.collapsed||this.model.secret?this.model.hidden||!this.model.collapsed||this.model.secret?this.model.hidden||this.model.collapsed||!this.model.secret?this.model.hidden&&this.model.collapsed&&!this.model.secret?i=this.controller.t("Hidden Collapsed Folder"):this.model.hidden&&!this.model.collapsed&&this.model.secret?i=this.controller.t("Hidden Secret Folder"):!this.model.hidden&&this.model.collapsed&&this.model.secret?i=this.controller.t("Collapsed Secret Folder"):this.model.hidden&&this.model.collapsed&&this.model.secret&&(i=this.controller.t("Hidden Collapsed Secret Folder")):i=this.controller.t("Secret Folder"):i=this.controller.t("Collapsed Folder"):i=this.controller.t("Hidden Folder"):i=this.controller.t("Folder");var n=this.controller.getNumberOfItemsInFolder(this.id);return n>0?this.controller.t("__folder__ has __count__ items",{folder:i,count:n}):i},d}(l.default);u.default=p}),$("lib/coerce-url",["require","exports"],function(B,u){function w(e){var c=document.createElement("a");return c.href=e,c.href}Object.defineProperty(u,"__esModule",{value:!0}),u.coerceURL=w}),$("loadcss!expressions/image-icon-view",function(){}),$("expressions/image-icon-view",["require","exports","tslib","lib/coerce-url","dcgview","main/manage-focus-helper","../dcgview-helpers/tooltipped-error","./circular-icon-view","jquery.handleevent","loadcss!./image-icon-view"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=c.Components.SwitchUnion,o=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(p,s),p.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},p.prototype.template=function(){var g=this;return c.createElement("div",{class:c.const("dcg-expression-icon-container dcg-image-icon-container")},h(this.bindFn(this.typeOfIcon),{error:function(){return c.createElement(a.TooltippedError,{error:function(){return g.controller.unpack(g.model.error)},isWhite:g.bindFn(g.isSelected),gravity:g.const("se")})},failed:function(){return c.createElement("span",null)},loading:function(){return c.createElement(l.CircularIconView,{iconType:g.const("loading")})},hidden:function(){return g.buildIconView()},image:function(){return g.buildIconView()}}))},p.prototype.buildIconView=function(){var g=this;return c.createElement("div",{class:c.const("dcg-circular-icon-container"),role:c.const("button"),tabindex:c.const("0"),"aria-label":this.bindFn(this.getIconAriaLabel),onTap:function(d){if(!d.wasHandled("dragdrop")&&!d.wasLongheld())return g.myOptionsOpen()||g.controller.isInEditListMode()?g.toggleOptions(d):void g.toggleImageShown()},didMount:function(d){return g.rootElt=d},onLongHold:function(d){d.handle("dcg-longhold"),d.handle("dcg-tap"),g.toggleOptions(d)},manageFocus:this.const(t.manageFocusHelper({controller:this.controller,location:{type:"image-icon",id:this.model.id}}))},c.createElement(l.CircularIconView,{iconType:function(){return g.typeOfIcon()==="hidden"?"hidden":"background"},backgroundImage:this.bindFn(this.getBackgroundImage),backgroundOpacity:this.const(1),whiteIcon:this.bindFn(this.isSelected)}))},p.prototype.isSelected=function(){return this.controller.isItemSelected(this.model.id)||this.controller.isItemBeingDragged(this.model.id)},p.prototype.typeOfIcon=function(){return this.model.loadStatus==="loading"?"loading":this.model.loadStatus==="failed"?"failed":this.hasError()?"error":this.model.shouldGraph?"image":"hidden"},p.prototype.myOptionsOpen=function(){var g=this.controller.getOpenItemMenu();return!!g&&g.model===this.model},p.prototype.toggleOptions=function(g){this.controller.dispatch({type:"toggle-item-settings-menu",menu:{type:"image",model:this.model,icon:this.rootElt,focusFirstOption:g.device==="keyboard"}})},p.prototype.hasError=function(){return!!this.model.error&&this.controller.getBrailleMode()==="none"},p.prototype.getBackgroundImage=function(){return this.model.image_url===this.lastURL?this.lastEncodedURL:(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+e.coerceURL(this.model.image_url)+'")',this.lastEncodedURL)},p.prototype.toggleImageShown=function(){this.controller.dispatch({type:"toggle-item-hidden",id:this.model.id}),this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:this.model.id}})},p.prototype.getIconAriaLabel=function(){return this.controller.isInEditListMode()?this.myOptionsOpen()?this.controller.t("Hide Options"):this.controller.t("Show Options"):this.model.hidden?this.controller.t("Show Image"):this.controller.t("Hide Image")},p}(c.Class);u.default=o}),$("expressions/image-upload-view",["require","exports","tslib","dcgview","jquery","main/manage-focus-helper"],function(B,u,w,e,c,t){Object.defineProperty(u,"__esModule",{value:!0});var a=function(l){function h(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(h,l),h.prototype.init=function(){this.controller=this.props.controller()},h.prototype.template=function(){return e.createElement("div",{class:e.const("dcg-do-not-blur"),onTap:this.bindFn(this.newImage),handleEvent:e.const("true"),role:e.const("button"),tabindex:e.const(0),"aria-label":this.props.ariaLabel,manageFocus:this.const(this.props.location?t.manageFocusHelper({controller:this.controller,location:this.props.location()}):void 0)},this.children,e.createElement("input",{type:e.const("file"),accept:e.const("image/*"),style:e.const("display: none"),didMount:this.bindFn(this.didMountFileInput)}))},h.prototype.didMountFileInput=function(o){var s=this;this.fileInputNode=o,c(o).on("change",function(){s.props.onFileChange(o.files),c(o).val("")})},h.prototype.newImage=function(){this.fileInputNode.click()},h}(e.Class);u.ImageUploadView=a}),$("loadcss!expressions/clickable_image_info_view",function(){}),$("expressions/clickable_image_info_view",["require","exports","tslib","dcgview","./circular-icon-view","../lib/tooltip","./image-upload-view","./clickable_info_view","loadcss!./clickable_image_info_view"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components.Switch,o=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(p,s),p.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},p.prototype.template=function(){var g=this;return e.createElement("div",{class:e.const("dcg-do-blur dcg-indent-in-folder"),tapboundary:e.const("true"),handleEvent:e.const("true")},e.createElement(l.ClickableInfoView,{controller:function(){return g.props.controller()},model:function(){return g.model}}),e.createElement("div",{class:e.const("dcg-clickable-image-info-view"),role:e.const("group"),"aria-label":function(){return g.controller.t("Clickable Image Options")}},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-clickable-image-label")},e.const("Hovered:")),e.createElement(t.Tooltip,{tooltip:function(){return g.tooltip("hovered")},gravity:this.const("s")},e.createElement(a.ImageUploadView,{controller:function(){return g.controller},ariaLabel:function(){return g.tooltip("hovered")},onFileChange:function(d){return g.updateImage("hovered",d)}},e.createElement(h,{key:this.bindFn(this.hoveredStatus)},function(){return e.createElement(c.CircularIconView,{iconType:g.bindFn(g.hoveredStatus),backgroundImage:g.const(g.hoveredStatus()==="background"?"url("+g.model.clickableInfo.hoveredImage+")":"")})}))),e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-clickable-image-label")},e.const("Depressed:")),e.createElement(t.Tooltip,{tooltip:function(){return g.tooltip("depressed")},gravity:this.const("s")},e.createElement(a.ImageUploadView,{controller:function(){return g.controller},ariaLabel:function(){return g.tooltip("depressed")},onFileChange:function(d){return g.updateImage("depressed",d)}},e.createElement(h,{key:this.bindFn(this.depressedStatus)},function(){return e.createElement(c.CircularIconView,{iconType:function(){return g.depressedStatus()},backgroundImage:g.const(g.depressedStatus()==="background"?"url("+g.model.clickableInfo.depressedImage+")":"")})})))))},p.prototype.hoveredStatus=function(){return this.hoveredUploading?"loading":this.model.clickableInfo.hoveredImage?"background":"hidden"},p.prototype.depressedStatus=function(){return this.depressedUploading?"loading":this.model.clickableInfo.depressedImage?"background":"hidden"},p.prototype.tooltip=function(g){return(g==="hovered"?this.model.clickableInfo.hoveredImage:this.model.clickableInfo.depressedImage)?g==="depressed"?this.controller.t("Change Depressed Image"):this.controller.t("Change Hovered Image"):g==="depressed"?this.controller.t("Add Depressed Image"):this.controller.t("Add Hovered Image")},p.prototype.updateImage=function(g,d){var i=this;if(d&&d[0]){var n=d[0];g==="hovered"&&(this.hoveredUploading=!0),g==="depressed"&&(this.depressedUploading=!0),this.controller.getGraphSettings().config.imageUploadCallback(n,function(r,m){g==="hovered"&&(i.hoveredUploading=!1),g==="depressed"&&(i.depressedUploading=!1),!r&&m&&(g==="hovered"?i.controller.dispatch({type:"set-hovered-image",id:i.model.id,url:m}):i.controller.dispatch({type:"set-depressed-image",id:i.model.id,url:m}))})}},p}(e.Class);u.ClickableImageInfoView=o}),$("loadcss!expressions/image-view",function(){}),$("expressions/image-view",["require","exports","tslib","keys","jquery","underscore","./abstract-item-view","./smart_textarea","dcgview","dcgview-helpers/mathquill-view","lib/conditional_blur","expressions/promptslider_view","./image-icon-view","./clickable_image_info_view","graphing-calc/models/image","./expression-edit-actions","../dcgview-helpers/mathquill-braille-wrapper","jquery.handleevent","loadcss!./image-view"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r){Object.defineProperty(u,"__esModule",{value:!0});var m=h.Components,y=m.If,v=m.SwitchUnion,x=function(b){function f(){return b!==null&&b.apply(this,arguments)||this}return w.__extends(f,b),f.prototype.init=function(){this.model=this.props.model(),this.controller=this.props.controller()},f.prototype.template=function(){var S=this;return h.createElement("div",{class:h.const("dcg-image-input-mathquill")},h.createElement(r.default,{latex:function(){return S.model[S.props.name()]},controller:this.props.controller,brailleShouldFocus:function(){return S.props.focusedInput()===S.props.name()},selectOnFocus:this.const(!0),onBrailleInput:this.bindFn(this.handleLatexChanged),onBrailleFocusedChanged:this.bindFn(this.handleMQFocusedChanged),onBrailleKeydown:this.bindFn(this.handleBrailleKeydown),hasError:function(){return i.hasInputError(S.model,S.props.name())},ariaLabel:function(){return S.controller.t(S.props.name())}},h.createElement(o.default,{latex:function(){return S.model[S.props.name()]},isFocused:function(){return S.props.focusedInput()===S.props.name()},capExpressionSize:function(){return S.controller.getCapExpressionSize()},selectOnFocus:this.const(!0),config:this.const({}),getAriaLabel:function(){return S.controller.t(S.props.name())},getAriaPostLabel:this.const(""),hasError:this.const(!1),onUserPressedKey:function(j,Q){return S.handlePressedKey(j,Q)},onUserChangedLatex:this.bindFn(this.handleLatexChanged),onExpressionSizeExceeded:function(){return S.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:this.bindFn(this.handleMQFocusedChanged),needsSystemKeypad:function(){return!S.controller.isKeypadEnabled()}},h.createElement("span",{class:function(){return{"dcg-focus":S.props.focusedInput()===S.props.name(),"dcg-invalid":i.hasInputError(S.model,S.props.name())}}}))))},f.prototype.getInputs=function(){return this.controller.canUseAdvancedStyling()?["center","angle","opacity","width","height"]:["center","angle","width","height"]},f.prototype.handlePressedKey=function(S,j){var Q=this.props.name(),G=o.default.getFocusedMathquill(),q=this.getInputs(),L=q.indexOf(Q);if(!this.controller.isInEditListMode()){if(S==="Enter")return this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"});if(S==="Esc")return void s.default()}var M=-1;S==="Up"&&(M=L-1),S==="Down"&&(M=L+1),S==="Left"&&(M=L-2),S==="Right"&&(M=L+2);var D=S;if(M>=0&&M<q.length){var V=!1;if(G)V=o.default.applyArrowKeyAndReturnIfWasAtBounds(G,D,j);else if(S==="Up"||S==="Down")V=!0;else{var W=r.getFocusedBrailleElement();V=W&&(S==="Left"&&W.selectionStart===0||S==="Right"&&W.selectionStart===c(W).val().length)}return void(V&&(this.focusInput(q[M]),j&&j.preventDefault()))}G&&(G.keystroke(S,j),this.handleLatexChanged(G.latex()))},f.prototype.handleBrailleKeydown=function(S){var j=e.lookup(S);j&&this.handlePressedKey(j,c.Event(S))},f.prototype.focusInput=function(S){this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:S}})},f.prototype.anyInputHasError=function(){var S=this;return t.any(this.getInputs(),function(j){return i.hasInputError(S.model,j)})},f.prototype.handleLatexChanged=function(S){var j=this.props.name();this.model.draggingOnGraphpaper||i.getMQAttribute(this.model,j)!==S&&this.controller.dispatch({type:"set-image-mq-attribute",id:this.model.id,attribute:j,latex:S})},f.prototype.handleMQFocusedChanged=function(S){var j=this.props.name();S?this.props.focusedInput()!==j&&this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.model.id,location:j}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.model.id,location:j}})},f}(h.Class),E=function(b){function f(){return b!==null&&b.apply(this,arguments)||this}return w.__extends(f,b),f.prototype.didMount=function(){this.onItemViewMounted()},f.prototype.willUnmount=function(){this.onItemViewUnmounted()},f.prototype.template=function(){var S=this;return h.createElement("div",{class:function(){return{"dcg-do-not-blur":!0,"dcg-expressionitem":!0,"dcg-expressionimage":!0,"dcg-inFolder":!!S.model.folderId,"dcg-selected":S.controller.isItemSelected(S.id),"dcg-dragging":!!S.controller.isItemBeingDragged(S.id),"dcg-input-focused":S.getFocusedInput()&&S.getFocusedInput()!=="name"}},"expr-id":function(){return S.model.id},onTapStart:this.bindFn(this.onMouseSelect),onTap:this.bindFn(this.onMouseSelect)},h.createElement("div",{class:h.const("dcg-fade-container")},h.createElement("div",{class:h.const("dcg-main")},v(function(){return S.model.loadStatus},{failed:function(){return h.createElement("div",null,h.createElement("div",{class:h.const("dcg-image-failed")},function(){return S.controller.t("Failed to load image.")}),h.createElement("div",{role:h.const("button"),tabindex:h.const(0),class:h.const("dcg-retry-loading-image"),onTap:S.bindFn(S.onRetryLoad)},function(){return S.controller.t("Retry.")}))},loading:function(){return h.createElement("div",null,h.createElement("div",{class:h.const("dcg-image-loading")},function(){return S.controller.t("Loading image...")}),h.createElement("div",{role:h.const("button"),tabindex:h.const(0),class:h.const("dcg-retry-loading-image"),onTap:S.bindFn(S.onRetryLoad)},function(){return S.controller.t("Retry.")}))},loaded:function(){return h.createElement("div",{class:h.const("dcg-image-loaded")},h.createElement(l.default,{shouldFocus:function(){return S.getFocusedInput()==="name"},text:function(){return S.model.name},placeholder:function(){return S.controller.t("Enter a note...")},showLinks:function(){return S.controller.areLinksEnabled()},onInput:S.bindFn(S.onNameInput),onFocusChange:S.bindFn(S.onNameFocusChange),onSpecialKey:S.bindFn(S.onNameSpecialKey),readonly:S.const(!1)}),h.createElement("div",{class:function(){return{"dcg-do-blur":!0,"dcg-image-input-grid":!0}},handleEvent:h.const("true")},h.createElement("div",{class:h.const("dcg-image-input-name")},function(){return S.controller.t("Center:")}),h.createElement(x,{name:S.const("center"),controller:function(){return S.controller},model:function(){return S.model},focusedInput:S.bindFn(S.getFocusedInput)}),h.createElement("div",{class:h.const("dcg-image-input-name")},function(){return S.controller.t("Width:")}),h.createElement(x,{name:S.const("width"),controller:function(){return S.controller},model:function(){return S.model},focusedInput:S.bindFn(S.getFocusedInput)}),h.createElement("div",{class:h.const("dcg-image-input-name")},function(){return S.controller.t("Angle:")}),h.createElement(x,{name:S.const("angle"),controller:function(){return S.controller},model:function(){return S.model},focusedInput:S.bindFn(S.getFocusedInput)}),h.createElement("div",{class:h.const("dcg-image-input-name")},function(){return S.controller.t("Height:")}),h.createElement(x,{name:S.const("height"),controller:function(){return S.controller},model:function(){return S.model},focusedInput:S.bindFn(S.getFocusedInput)}),h.createElement(y,{predicate:function(){return S.controller.canUseAdvancedStyling()}},function(){return h.createElement("div",{class:h.const("dcg-image-input-name")},function(){return S.controller.t("Opacity:")})}),h.createElement(y,{predicate:function(){return S.controller.canUseAdvancedStyling()}},function(){return h.createElement(x,{name:S.const("opacity"),controller:function(){return S.controller},model:function(){return S.model},focusedInput:S.bindFn(S.getFocusedInput)})})))}})),h.createElement("span",{class:h.const("dcg-fadeout")}),h.createElement("i",{class:h.const("dcg-icon-remove dcg-top-level-delete"),handleEvent:h.const("true"),onTap:this.bindFn(this.onDelete)}),h.createElement(y,{predicate:function(){return S.shouldShowClickableProperties()}},function(){return h.createElement(d.ClickableImageInfoView,{controller:function(){return S.props.controller()},model:function(){return S.model}})}),h.createElement(y,{predicate:this.bindFn(this.shouldShowBrailleError)},function(){return h.createElement("div",{class:S.getFooterClass()},h.createElement("div",{tabindex:h.const(0),class:h.const("dcg-expression-braille-error"),"aria-roledescription":h.const("error"),"aria-label":function(){return S.controller.unpack(S.model.error)}},h.createElement("i",{class:h.const("dcg-icon-error")}),function(){return S.controller.unpack(S.model.error)}))}),h.createElement(y,{predicate:function(){return S.model.missingVariables.length>0&&S.controller.areSlidersEnabled()}},function(){return h.createElement("div",{class:S.getFooterClass()},h.createElement(p.default,{model:S.props.model,controller:S.props.controller}))})),h.createElement("span",{class:h.const("dcg-tab dcg-action-drag dcg-action-icon-touch"),handleevent:h.const("true"),tapboundary:h.const("true"),disablescroll:h.const("true"),style:h.const("touch-action:none"),onTapStart:this.bindFn(this.onDragPending)},h.createElement("span",{class:h.const("dcg-num")},function(){return S.model.displayIndex}),h.createElement("div",{class:h.const("dcg-tab-interior dcg-action-icon-mouse")},h.createElement(g.default,{model:this.props.model,controller:this.props.controller}))),h.createElement(n.ExpressionEditActions,{controller:this.props.controller,id:function(){return S.model.id}}))},f.prototype.getFooterClass=function(){return this.isFirstRender()?this.const("dcg-expression-bottom dcg-indent-in-folder"):this.const("dcg-expression-bottom dcg-fadein-bottom dcg-indent-in-folder")},f.prototype.onNameInput=function(S){this.controller.dispatch({type:"set-image-name",id:this.id,name:S})},f.prototype.onNameFocusChange=function(S){S?this.controller.dispatch({type:"set-focus-location",location:{type:"image",id:this.id,location:"name"}}):this.getFocusedInput()==="name"&&this.controller.dispatch({type:"blur-focus-location",location:{type:"image",id:this.id,location:"name"}})},f.prototype.onNameSpecialKey=function(S){return this.controller.dispatch({type:"on-special-key-pressed",key:S})},f.prototype.getFocusedInput=function(){var S=this.controller.getFocusLocation();if(S&&S.type==="image"&&S.id===this.model.id)return S.location},f.prototype.onRetryLoad=function(){this.controller.dispatch({type:"image-retry-loading",id:this.id})},f.prototype.shouldShowClickableProperties=function(){return!!this.controller.canAuthorClickableObjects()&&this.model.clickableInfo.enabled},f.prototype.shouldShowBrailleError=function(){return this.controller.getBrailleMode()!=="none"&&!!this.model.error},f.prototype.onMouseSelect=function(S){S.type==="dcg-tap"&&S.device==="mouse"||S.type==="dcg-tapstart"&&S.device==="touch"||S.wasHandled()||(S.handle(),this.controller.dispatch({type:"set-selected-id",id:this.id}))},f}(a.default);u.default=E}),$("expressions/shell_view",["require","exports","tslib","dcgview","./abstract-item-view"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return w.__extends(l,a),l.prototype.didMount=function(){this.onItemViewMounted()},l.prototype.willUnmount=function(){this.onItemViewUnmounted()},l.prototype.template=function(){var h="";return this.model.cachedRenderHeight&&(h="height:"+this.model.cachedRenderHeight+"px"),e.createElement("div",{class:e.const("dcg-do-not-blur dcg-expressionitem dcg-shell"),"expr-id":this.const(this.model.id),onTap:this.bindFn(this.onMouseSelect),style:e.const(h)})},l}(c.default);u.default=t}),$("expressions/drag_container_view",["require","exports","tslib","dcgview"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.init=function(){this.controller=this.props.controller()},a.prototype.template=function(){var l=this;return e.createElement("div",{class:e.const("dcg-drag-container"),style:function(){return{top:l.getTopPx()}}},this.children)},a.prototype.getTopPx=function(){var l=this.controller.getRawDragState();if(l)return l.itemTop+"px"},a}(e.Class);u.default=c}),$("vendor/papaparse",["require","jquery"],function(B){function u(d,i){var n=l(i);if(typeof d=="string"){if(!n.download)return new t(n).parse(d);var r=new e(n);r.stream(d)}else if(d instanceof File)if(n.step||n.chunk){var r=new c(n);r.stream(d)}else new t(n),reader=new FileReader,reader.onload=function(m){var y=new t(n);y.parse(m.target.result)},reader.onerror=function(){o(n.error)&&n.error(reader.error,d)},reader.readAsText(d,n.encoding)}function w(d,i){function n(b){if(typeof b!="object")return[];var f=[];for(var S in b)f.push(S);return f}function r(b,f){var S="";typeof b=="string"&&(b=JSON.parse(b)),typeof f=="string"&&(f=JSON.parse(f));var j=b instanceof Array&&b.length>0,Q=!(f[0]instanceof Array);if(j){for(var G=0;G<b.length;G++)G>0&&(S+=x),S+=m(b[G],G);f.length>0&&(S+=E)}for(var q=0;q<f.length;q++){for(var L=j?b.length:f[q].length,M=0;M<L;M++){M>0&&(S+=x);var D=j&&Q?b[M]:M;S+=m(f[q][D],M)}q<f.length-1&&(S+=E)}return S}function m(b,f){return b==null?"":(b=b.toString().replace(/"/g,'""'),typeof v=="boolean"&&v||v instanceof Array&&v[f]||y(b,g.BAD_DELIMITERS)||b.indexOf(x)>-1||b.charAt(0)==" "||b.charAt(b.length-1)==" "?'"'+b+'"':b)}function y(b,f){for(var S=0;S<f.length;S++)if(b.indexOf(f[S])>-1)return!0;return!1}var v=!1,x=",",E=`\r
`;if(function(){typeof i=="object"&&(typeof i.delimiter=="string"&&i.delimiter.length==1&&g.BAD_DELIMITERS.indexOf(i.delimiter)==-1&&(x=i.delimiter),(typeof i.quotes=="boolean"||i.quotes instanceof Array)&&(v=i.quotes),typeof i.newline=="string"&&(E=i.newline))}(),typeof d=="string"&&(d=JSON.parse(d)),d instanceof Array){if(!d.length||d[0]instanceof Array)return r(null,d);if(typeof d[0]=="object")return r(n(d[0]),d)}else if(typeof d=="object")return typeof d.data=="string"&&(d.data=JSON.parse(d.data)),d.data instanceof Array&&(d.fields||(d.fields=d.data[0]instanceof Array?d.fields:n(d.data[0])),d.data[0]instanceof Array||typeof d.data[0]=="object"||(d.data=[d.data])),r(d.fields||[],d.data||[]);throw"exception: Unable to serialize unrecognized input"}function e(d){d=d||{},d.chunkSize||(d.chunkSize=g.RemoteChunkSize);var i,n,r=0,m="",y="",v=new t(h(d));this.stream=function(x){function E(){if(i=new XMLHttpRequest,i.onload=b,i.onerror=f,i.open("GET",x,!0),d.step){var j=r+d.chunkSize-1;i.setRequestHeader("Range","bytes="+r+"-"+j)}i.send(),r+=d.chunkSize}function b(){if(i.readyState==4){if(i.status<200||i.status>=400)return void f();m+=y+i.responseText,y="";var j=!d.step||r>S(i);if(!j){var Q=m.lastIndexOf(`
`);if(Q<0&&(Q=m.lastIndexOf("\r")),!(Q>-1))return void n();y=m.substring(Q+1),m=m.substring(0,Q)}var G=v.parse(m);m="",o(d.chunk)&&(d.chunk(G),G=void 0),j||G.meta.paused||n()}}function f(){o(d.error)&&d.error(i.statusText)}function S(j){var Q=j.getResponseHeader("Content-Range");return parseInt(Q.substr(Q.lastIndexOf("/")+1))}(n=function(){E()})()}}function c(d){d=d||{},d.chunkSize||(d.chunkSize=g.LocalChunkSize);var i,n=0,r="",m="",y=new t(h(d)),v=typeof FileReader=="function";this.stream=function(x){function E(){n<x.size&&b()}function b(){var Q=Math.min(n+d.chunkSize,x.size),G=i.readAsText(j.call(x,n,Q),d.encoding);v||f({target:{result:G}})}function f(Q){n+=d.chunkSize,r+=m+Q.target.result,m="";var G=n>=x.size;if(!G){var q=r.lastIndexOf(`
`);if(q<0&&(q=r.lastIndexOf("\r")),!(q>-1))return void E();m=r.substring(q+1),r=r.substring(0,q)}var L=y.parse(r);r="",o(d.chunk)&&(d.chunk(L,x),L=void 0),G||L.meta.paused||E()}function S(){o(d.error)&&d.error(i.error,x)}var j=x.slice||x.webkitSlice||x.mozSlice;v?(i=new FileReader,i.onload=f,i.onerror=S):i=new FileReaderSync,E()}}function t(d){function i(){return q&&f&&(x("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+g.DefaultDelimiter+"'"),f=!1),n()&&r(),m()}function n(){return d.header&&G.length==0}function r(){if(q){for(var L=0;n()&&L<q.data.length;L++)for(var M=0;M<q.data[L].length;M++)G.push(q.data[L][M]);q.data.splice(0,1)}}function m(){if(!q||!d.header&&!d.dynamicTyping)return q;for(var L=0;L<q.data.length;L++){for(var M={},D=0;D<q.data[L].length;D++){if(d.dynamicTyping){var V=q.data[L][D];q.data[L][D]=V=="true"||V!="false"&&v(V)}d.header&&(D>=G.length?(M.__parsed_extra||(M.__parsed_extra=[]),M.__parsed_extra.push(q.data[L][D])):M[G[D]]=q.data[L][D])}d.header&&(q.data[L]=M,D>G.length?x("FieldMismatch","TooManyFields","Too many fields: expected "+G.length+" fields but parsed "+D,L):D<G.length&&x("FieldMismatch","TooFewFields","Too few fields: expected "+G.length+" fields but parsed "+D,L))}return d.header&&q.meta&&(q.meta.fields=G),q}function y(L){for(var M,D,V,W=[",","	","|",";",g.RECORD_SEP,g.UNIT_SEP],N=0;N<W.length;N++){var re=W[N],Y=0,O=0;V=void 0;for(var ee=new a({delimiter:re,preview:10}).parse(L),oe=0;oe<ee.data.length;oe++){var H=ee.data[oe].length;O+=H,V!==void 0?H>1&&(Y+=Math.abs(H-V),V=H):V=H}O/=ee.data.length,(D===void 0||Y<D)&&O>1.99&&(D=Y,M=re)}return d.delimiter=M,{successful:!!M,bestDelimiter:M}}function v(L){return S.test(L)?parseFloat(L):L}function x(L,M,D,V){q.errors.push({type:L,code:M,message:D,row:V})}var E,b,f,S=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,j=this,Q=!1,G=[],q={data:[],errors:[],meta:{}};d=h(d),this.parse=function(L){if(f=!1,!d.delimiter){var M=y(L);M.successful?d.delimiter=M.bestDelimiter:(f=!0,d.delimiter=g.DefaultDelimiter),q.meta.delimiter=d.delimiter}if(o(d.step)){var D=d.step;d.step=function(V){q=V,n()?i():D(i(),j)}}return d.preview&&d.header&&d.preview++,E=L,b=new a(d),q=b.parse(E),i(),o(d.complete)&&!Q&&d.complete(q),Q?{meta:{paused:!0}}:q},this.pause=function(){Q=!0,b.abort(),E=E.substr(b.getCharIndex())},this.resume=function(){Q=!1,b=new a(d),b.parse(E),o(d.complete)&&!Q&&d.complete(q)},this.abort=function(){b.abort(),o(d.complete)&&d.complete(q),E=""}}function a(d){function i(){for(;ie<Y.length&&!ne&&!(H>0&&se>=H);)J=='"'?m():de?y():v(),n();return r()}function n(){ie++,J=Y[ie]}function r(){if(ne&&V("Abort","ParseAbort","Parsing was aborted by the user's step function"),de&&V("Quotes","MissingQuotes","Unescaped or mismatched quotes"),j(),!o(oe))return re()}function m(){M()&&!L()?de=!de:(b(),de&&L()?ie++:V("Quotes","UnexpectedQuotes","Unexpected quotes"))}function y(){(G(ie)||q(ie))&&fe++,b()}function v(){J==O?f():G(ie)?(S(),n()):q(ie)?S():x()?E():b()}function x(){return!!ee&&(ie==0||q(ie-1)||G(ie-2))&&Y[ie]===ee}function E(){for(;!G(ie)&&!q(ie)&&ie<Y.length;)n()}function b(){Ee[_e][Fe]+=J}function f(){Ee[_e].push(""),Fe=Ee[_e].length-1}function S(){j(),fe++,se++,Ee.push([]),_e=Ee.length-1,f()}function j(){Q(),o(oe)&&(Ee[_e]&&oe(re()),N())}function Q(){Ee[_e].length==1&&I.test(Ee[_e][0])&&(d.keepEmptyRows?Ee[_e].splice(0,1):Ee.splice(_e,1),_e=Ee.length-1)}function G(pe){return pe<Y.length-1&&(Y[pe]=="\r"&&Y[pe+1]==`
`||Y[pe]==`
`&&Y[pe+1]=="\r")}function q(pe){return Y[pe]=="\r"||Y[pe]==`
`}function L(){return!M()&&ie<Y.length-1&&Y[ie+1]=='"'}function M(){return!de&&D(ie-1)||D(ie+1)}function D(pe){typeof pe!="number"&&(pe=ie);var ge=Y[pe];return pe<=-1||pe>=Y.length||ge==O||ge=="\r"||ge==`
`}function V(pe,ge,Be){ye.push({type:pe,code:ge,message:Be,line:fe,row:_e,index:ie})}function W(pe){Y=pe,de=!1,ie=0,se=0,fe=1,N(),Ee=[[""]],J=Y[ie]}function N(){Ee=[],ye=[],_e=0,Fe=0}function re(){return{data:Ee,errors:ye,meta:{lines:fe,delimiter:O,aborted:ne,truncated:H>0&&ie<Y.length}}}var Y,O,ee,oe,H,J,ie,de,fe,Ee,ye,_e,Fe,se,I=/^\s*$/,ne=!1;d=d||{},O=d.delimiter,ee=d.comments,oe=d.step,H=d.preview,(typeof O!="string"||O.length!=1||g.BAD_DELIMITERS.indexOf(O)>-1)&&(O=","),ee===!0?ee="#":(typeof ee!="string"||ee.length!=1||g.BAD_DELIMITERS.indexOf(ee)>-1||ee==O)&&(ee=!1),this.parse=function(pe){if(typeof pe!="string")throw"Input must be a string";return W(pe),i()},this.abort=function(){ne=!0},this.getCharIndex=function(){return ie}}function l(d){typeof d!="object"&&(d={});var i=h(d);return(typeof i.delimiter!="string"||i.delimiter.length!=1||g.BAD_DELIMITERS.indexOf(i.delimiter)>-1)&&(i.delimiter=p.delimiter),typeof i.header!="boolean"&&(i.header=p.header),typeof i.dynamicTyping!="boolean"&&(i.dynamicTyping=p.dynamicTyping),typeof i.preview!="number"&&(i.preview=p.preview),typeof i.step!="function"&&(i.step=p.step),typeof i.complete!="function"&&(i.complete=p.complete),typeof i.error!="function"&&(i.error=p.error),typeof i.encoding!="string"&&(i.encoding=p.encoding),typeof i.download!="boolean"&&(i.download=p.download),typeof i.keepEmptyRows!="boolean"&&(i.keepEmptyRows=p.keepEmptyRows),i}function h(d){if(typeof d!="object")return d;var i=d instanceof Array?[]:{};for(var n in d)i[n]=h(d[n]);return i}function o(d){return typeof d=="function"}var s=B("jquery"),p={delimiter:"",header:!1,dynamicTyping:!1,preview:0,step:void 0,encoding:"",complete:void 0,error:void 0,download:!1,keepEmptyRows:!1},g={};return g.parse=u,g.unparse=w,g.RECORD_SEP="",g.UNIT_SEP="",g.BYTE_ORDER_MARK="\uFEFF",g.BAD_DELIMITERS=["\r",`
`,'"',g.BYTE_ORDER_MARK],g.LocalChunkSize=10485760,g.RemoteChunkSize=5242880,g.DefaultDelimiter=",",g.Parser=a,g.ParserHandle=t,g.NetworkStreamer=e,g.FileStreamer=c,s.fn.parse=function(d){function i(){if(y.length!=0){var v=y[0];if(o(d.before)){var x=d.before(v.file,v.inputElem);if(typeof x=="object"){if(x.action=="abort")return void n("AbortError",v.file,v.inputElem,x.reason);if(x.action=="skip")return void r();typeof x.config=="object"&&(v.instanceConfig=s.extend(v.instanceConfig,x.config))}else if(x=="skip")return void r()}var E=v.instanceConfig.complete;v.instanceConfig.complete=function(b){o(E)&&E(b,v.file,v.inputElem),r()},g.parse(v.file,v.instanceConfig)}}function n(v,x,E,b){o(d.error)&&d.error({name:v},x,E,b)}function r(){y.splice(0,1),i()}var m=d.config||{},y=[];return this.each(function(v){if(s(this).prop("tagName").toUpperCase()!="INPUT"||s(this).attr("type").toLowerCase()!="file"||!window.FileReader||!this.files||this.files.length==0)return!0;for(var x=0;x<this.files.length;x++)y.push({file:this.files[x],inputElem:this,instanceConfig:s.extend({},m)})}),i(),this},g}),$("geometry/math/isNumber",["require","exports"],function(B,u){function w(e){var c;if(typeof e=="number")c=e+"";else{if(typeof e!="string")return!1;c=e}return c.trim().match(/^-?[0-9]*\.?[0-9]*$/)}Object.defineProperty(u,"__esModule",{value:!0}),u.isNumber=w}),$("main/data_helpers",["require","exports","vendor/papaparse","underscore","bugsnag","geometry/math/isNumber"],function(B,u,w,e,c,t){function a(h){var o=h.split(/\r?\n/),s=[],p=!1;if(!(o.length<2)){for(var g=0;g<o.length;g++){var d=o[g];if(d.trim()){g>0&&!t.isNumber(d.replace(/,(\d{3})/g,"$1"))&&(p=!0);var i={content:d};s.push(i)}}if(!p){var n=e.pluck(s,"content").map(function(r){return r.replace(/,(\d{3})/g,"$1")});return t.isNumber(n[0])||(n=n.slice(1)),[{content:"\\left["+n.join(",")+"\\right]",numberList:!0}]}return s}}function l(h){if(!/^\s*$/.test(h)){var o=w.parse(h,{preview:1e3}),s=[];if(o.errors.length&&!o.data.length)return void c.notify("PapaParse.parse returned errors.",{metaData:{input:h,output:o.errors}});if(o.data.length&&!(o.data.length<2)){for(var p=o.data[0].length,g=0;g<p;g++)s.push([]);for(var d=0;d<o.data.length;d++)if(d!==0||!isNaN(parseFloat(o.data[d][0]))){if(o.data[d].length<2)return;if(o.data[d][0]||o.data[d][1])for(var g=0;g<p;g++){var i=(o.data[d][g]||"").replace(/,(\d{3})/g,"$1");if(i&&isNaN(parseFloat(i)))return;s[g].push(i)}}if(!(s[0].length<2))return s}}}Object.defineProperty(u,"__esModule",{value:!0}),u.getExpressions=a,u.parse=l}),$("loadcss!new_expression",function(){}),$("expressions/new_expression_view",["require","exports","tslib","dcgview","loadcss!new_expression"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.template=function(){return this.controller=this.props.controller(),e.createElement("div",{class:e.const("dcg-expressionitem dcg-new-expression dcg-opened")},e.createElement("div",{class:e.const("dcg-new-math-div dcg-do-not-blur dcg-action-newmath"),onTap:this.bindFn(this.newMath)},e.createElement("div",{class:e.const("dcg-new-expression-fade")})),e.createElement("span",{class:e.const("dcg-tab")},e.createElement("span",{class:e.const("dcg-num dcg-variable-index")},this.bindFn(this.getIndex)),e.createElement("div",{class:e.const("dcg-tab-interior")})))},a.prototype.getIndex=function(){return this.controller.getNextDisplayIndex()},a.prototype.newMath=function(){this.controller.dispatch({type:"new-expression-at-end"})},a}(e.Class);u.default=c}),$("loadcss!add_expression",function(){}),$("expressions/add_expression_view",["require","exports","tslib","keys","browser","lib/tooltip","dcgview","jquery","./image-upload-view","main/manage-focus-helper","loadcss!add_expression"],function(B,u,w,e,c,t,a,l,h,o){Object.defineProperty(u,"__esModule",{value:!0});var s=a.Components.If,p=function(g){function d(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(d,g),d.prototype.init=function(){this.controller=this.props.controller()},d.prototype.template=function(){var i=this;return a.createElement("div",{class:a.const("dcg-add-expression-container")},a.createElement(t.Tooltip,{tooltip:function(){return i.controller.t("Add Item")},gravity:function(){return i.controller.isNarrow()?"ne":"se"}},a.createElement("span",{class:function(){return{"dcg-icon-btn":!0,"dcg-add-expression-btn":!0,"dcg-action-add-expression":!0,"dcg-do-blur":!0,"dcg-active":i.controller.isAddExpressionOpen()}},handleEvent:a.const("true"),role:a.const("button"),tabindex:a.const("0"),"aria-haspopup":a.const("true"),"aria-expanded":function(){return i.controller.isAddExpressionOpen()},"aria-label":function(){return i.controller.t("Add Item")},didMount:function(n){i.toggleButtonNode=n},onTap:this.bindFn(this.toggleAddExpression),manageFocus:this.const(o.manageFocusHelper({controller:this.controller,location:{type:"add-item-btn"}}))},a.createElement("i",{class:a.const("dcg-icon-plus")}))),a.createElement(s,{predicate:function(){return i.controller.isAddExpressionOpen()}},function(){return a.createElement("div",{class:function(){return{"dcg-add-expression-dropdown":!0,"dcg-popover":!0,"dcg-bottom":!i.controller.isNarrow(),"dcg-right":i.controller.isNarrow()}},role:a.const("complementary"),"aria-label":a.const("Add Item Menu"),didMount:i.bindFn(i.didMountPopover),didUnmount:i.bindFn(i.didUnmountPopover)},a.createElement("div",{class:a.const("dcg-popover-interior")},a.createElement("div",{class:a.const("dcg-new-item dcg-do-not-blur dcg-action-newexpression"),role:a.const("button"),tabindex:a.const(0),"aria-label":function(){return i.controller.t("Add Expression")},onTap:i.bindFn(i.newExpression),handleEvent:a.const("true"),manageFocus:i.const(o.manageFocusHelper({controller:i.controller,location:{type:"add-expression-btn"}}))},a.createElement("i",{class:a.const("dcg-icon-new-expression dcg-expression-icon")}),function(){return i.controller.t("expression")}),a.createElement(s,{predicate:function(){return i.controller.areNotesEnabled()}},function(){return a.createElement("div",{class:a.const("dcg-new-item dcg-do-not-blur dcg-action-newtext"),role:a.const("button"),tabindex:a.const(0),"aria-label":function(){return i.controller.t("Add Note")},onTap:i.bindFn(i.newText),handleEvent:a.const("true")},a.createElement("i",{class:a.const("dcg-icon-new-text dcg-expression-icon")}),function(){return i.controller.t("note")})}),a.createElement("div",{class:a.const("dcg-new-item dcg-do-not-blur dcg-action-newtable"),role:a.const("button"),tabindex:a.const(0),"aria-label":function(){return i.controller.t("Add Table")},onTap:i.bindFn(i.newTable),handleEvent:a.const("true"),manageFocus:i.const(o.manageFocusHelper({controller:i.controller,location:{type:"add-table-btn"}}))},a.createElement("i",{class:a.const("dcg-icon-new-table dcg-expression-icon")}),function(){return i.controller.t("table")}),a.createElement(s,{predicate:function(){return i.controller.areFoldersEnabled()}},function(){return a.createElement("div",{class:a.const("dcg-new-item dcg-do-not-blur dcg-action-newfolder"),role:a.const("button"),tabindex:a.const(0),"aria-label":function(){return i.controller.t("Add Folder")},onTap:i.bindFn(i.newFolder),handleEvent:a.const("true"),manageFocus:i.const(o.manageFocusHelper({controller:i.controller,location:{type:"add-folder-btn"}}))},a.createElement("i",{class:a.const("dcg-icon-new-folder dcg-expression-icon")}),function(){return i.controller.t("folder")})}),a.createElement(s,{predicate:function(){return i.controller.areImagesEnabled()}},function(){return a.createElement(h.ImageUploadView,{controller:function(){return i.controller},ariaLabel:function(){return i.controller.t("Add Image")},onFileChange:function(n){return i.insertFiles(n)},location:i.const({type:"add-image-btn"})},a.createElement("div",{class:a.const("dcg-new-item dcg-action-newimage")},a.createElement("i",{class:a.const("dcg-icon-new-image dcg-expression-icon")}),function(){return i.controller.t("image")}))})),a.createElement("span",{class:a.const("dcg-arrow")}))}))},d.prototype.didMountPopover=function(i){var n=this;this.popoverNode=i,l(document).on("dcg-tapstart.add-expression-view wheel.add-expression-view",function(r){n.eventShouldClosePopover(r)&&n.controller.dispatch({type:"close-add-expression",focusIconAfterClose:r.device==="keyboard"})}),l(document).on("keydown.add-expression-view",function(r){if(e.lookup(r)==="Esc"&&n.controller.dispatch({type:"close-add-expression",focusIconAfterClose:!0}),e.lookup(r)==="Tab"&&!r.altKey&&!r.metaKey&&!r.ctrlKey){var m=n.controller.getFocusLocation();if(!m)return;var y=void 0;y=n.controller.areImagesEnabled()?{type:"add-image-btn"}:n.controller.areFoldersEnabled()?{type:"add-folder-btn"}:{type:"add-table-btn"},r.shiftKey||m.type!==y.type?r.shiftKey&&m.type==="add-item-btn"&&(n.controller.dispatch({type:"set-focus-location",location:y}),r.preventDefault(),r.stopPropagation()):(n.controller.dispatch({type:"set-focus-location",location:{type:"add-item-btn"}}),r.preventDefault(),r.stopPropagation())}}),c.IS_IPAD&&c.IS_IN_IFRAME&&l(i).on("dcg-tapstart",function(r){return r.preventDefault()}),l(i).find(".dcg-new-item").on("touchstart",function(r){return r.preventDefault()})},d.prototype.didUnmountPopover=function(){l(document).off(".add-expression-view")},d.prototype.toggleAddExpression=function(i){this.controller.dispatch({type:"toggle-add-expression",focusOnOpen:i.device==="keyboard"})},d.prototype.newExpression=function(){this.controller.dispatch({type:"new-expression"})},d.prototype.newText=function(){this.controller.dispatch({type:"new-text"})},d.prototype.newFolder=function(){this.controller.dispatch({type:"new-folder"})},d.prototype.newTable=function(){this.controller.dispatch({type:"new-table"})},d.prototype.insertFiles=function(i){this.controller.dispatch({type:"new-images",files:i})},d.prototype.eventShouldClosePopover=function(i){var n=!!l(i.target).closest(this.popoverNode).length,r=!!l(i.target).closest(this.toggleButtonNode).length;return!(n||r)},d}(a.Class);u.default=p}),$("loadcss!expressions/expressions-header",function(){}),$("expressions/expressions-header",["require","exports","tslib","./add_expression_view","dcgview","lib/tooltip","main/manage-focus-helper","loadcss!./expressions-header"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=c.Components.If,h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.init=function(){this.controller=this.props.controller()},s.prototype.template=function(){var p=this;return c.createElement("div",{class:function(){return{"dcg-expression-top-bar":!0,"dcg-expressions-scrolled":p.props.expsScrolled()}},role:c.const("toolbar"),"aria-label":function(){return p.controller.t("Expression Bar")},didMount:function(g){p.node=g},onTapStart:this.bindFn(this.clearSelectionOnMobile),style:function(){return{background:p.controller.hasBackgroundColor()?p.controller.getPillboxBackgroundColor():void 0}}},c.createElement("div",{class:c.const("dcg-left-buttons")},c.createElement(l,{predicate:this.bindFn(this.showHamburger)},function(){return c.createElement("span",{class:c.const("dcg-action-opendrawer dcg-tooltip dcg-icon-btn dcg-in-api-action-opendrawer"),handleEvent:c.const("true"),tooltip:function(){return p.controller.t("Open Graph (ctrl+o)")},role:c.const("button"),tabindex:c.const("0"),"aria-label":function(){return p.controller.t("Open Graph")},onTap:function(){return p.controller.dispatch({type:"open-drawer"})}},c.createElement("i",{class:c.const("dcg-icon-hamburger")}))}),c.createElement(l,{predicate:function(){return!p.controller.isInEditListMode()}},function(){return c.createElement(e.default,{controller:function(){return p.props.controller()}})}),c.createElement(l,{predicate:this.bindFn(this.showRerandomize)},function(){return c.createElement(t.Tooltip,{tooltip:function(){return p.controller.t("Randomize")},gravity:function(){return p.controller.isNarrow()?"n":"s"}},c.createElement("span",{class:c.const("dcg-icon-btn"),handleEvent:c.const("true"),role:c.const("button"),tabindex:c.const("0"),"aria-label":function(){return p.controller.t("Randomize")},onTap:function(){return p.controller.dispatch({type:"re-randomize"})}},c.createElement("i",{class:c.const("dcg-icon-randomize")})))}),c.createElement(l,{predicate:function(){return p.controller.isInEditListMode()&&!p.controller.hasDefaultState()}},function(){return c.createElement("span",{class:c.const("dcg-btn-red dcg-action-clearall"),role:c.const("button"),tabindex:c.const("0"),onTap:function(){return p.controller.dispatch({type:"clear-graph"})}},function(){return p.controller.t("Delete All")})}),c.createElement(l,{predicate:function(){return p.controller.isInEditListMode()&&p.controller.hasDefaultState()}},function(){return c.createElement("span",{class:c.const("dcg-btn-red dcg-action-reset"),role:c.const("button"),tabindex:c.const("0"),onTap:function(){return p.controller.dispatch({type:"reset-graph"})}},function(){return p.controller.t("Reset")})})),c.createElement("div",{class:c.const("dcg-center-buttons")},c.createElement(t.Tooltip,{tooltip:function(){return p.controller.t("Undo (ctrl+z)")},gravity:function(){return p.controller.isNarrow()?"n":"s"},disabled:function(){return!p.controller.canUndo()}},c.createElement("span",{class:function(){return{"dcg-action-undo":!0,"dcg-icon-btn":!0,"dcg-disabled":!p.controller.canUndo()}},role:c.const("button"),tabindex:function(){return p.controller.canUndo()?0:-1},"aria-label":function(){return p.controller.t("Undo")},onTap:function(){return p.controller.dispatch({type:"undo"})},"aria-disabled":function(){return!p.controller.canUndo()}},c.createElement("i",{class:c.const("dcg-icon-undo")}))),c.createElement(t.Tooltip,{tooltip:function(){return p.controller.t("Redo (ctrl+y)")},gravity:function(){return p.controller.isNarrow()?"n":"s"},disabled:function(){return!p.controller.canRedo()}},c.createElement("span",{class:function(){return{"dcg-action-redo":!0,"dcg-icon-btn":!0,"dcg-disabled":!p.controller.canRedo()}},role:c.const("button"),tabindex:function(){return p.controller.canRedo()?0:-1},"aria-label":function(){return p.controller.t("Redo")},onTap:function(){return p.controller.dispatch({type:"redo"})},"aria-disabled":function(){return!p.controller.canRedo()}},c.createElement("i",{class:c.const("dcg-icon-redo")})))),c.createElement("div",{class:c.const("dcg-right-buttons")},c.createElement(l,{predicate:function(){return!p.controller.isInEditListMode()}},function(){return c.createElement(t.Tooltip,{tooltip:function(){return p.controller.t("Edit List")},gravity:function(){return p.controller.isNarrow()?"n":"s"}},c.createElement("span",{class:c.const("dcg-icon-btn dcg-action-toggle-edit"),handleEvent:c.const("true"),role:c.const("button"),tabindex:c.const("0"),"aria-label":function(){return p.controller.t("Edit Expression List")},onTap:p.bindFn(p.toggleEditListMode),manageFocus:p.const(a.manageFocusHelper({controller:p.controller,location:{type:"edit-list-toggle"}}))},c.createElement("i",{class:c.const("dcg-icon-settings")})))}),c.createElement(l,{predicate:function(){return p.controller.isInEditListMode()}},function(){return c.createElement("span",{class:c.const("dcg-btn-blue dcg-action-toggle-edit dcg-do-not-blur"),handleEvent:c.const("true"),role:c.const("button"),tabindex:c.const("0"),onTap:p.bindFn(p.toggleEditListMode),manageFocus:p.const(a.manageFocusHelper({controller:p.controller,location:{type:"edit-list-toggle"}}))},function(){return p.controller.t("Done")})}),c.createElement(l,{predicate:function(){return!p.controller.isInEditListMode()&&p.controller.getGraphSettings().config.graphpaper}},function(){return c.createElement(t.Tooltip,{tooltip:function(){return p.controller.t("Hide Expression List")},gravity:function(){return p.controller.isNarrow()?"nw":"sw"}},c.const(" "),c.createElement("span",{class:function(){return{"dcg-resize-list-btn":!0,"dcg-action-hideexpressions":!0,"dcg-icon-btn":!0,"dcg-rotated":p.controller.isNarrow()}},role:c.const("button"),tabindex:c.const("0"),"aria-label":function(){return p.controller.t("Hide Expression List")},onTap:function(){return p.controller.dispatch({type:"hide-expressions-list"})}},c.createElement("i",{class:c.const("dcg-icon-hide")})))})))},s.prototype.showRerandomize=function(){return this.controller.anyItemDependsOnRandomSeed()},s.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&!this.controller.isInEditListMode()&&!this.controller.isNarrow()},s.prototype.clearSelectionOnMobile=function(p){p.wasHandled()||this.controller.dispatch({type:"set-none-selected"})},s.prototype.toggleEditListMode=function(p){this.controller.dispatch({type:"set-edit-list-mode",isEditListMode:!this.controller.isInEditListMode(),focusExpressionList:!1}),p.device==="keyboard"&&this.controller.dispatch({type:"set-focus-location",location:{type:"edit-list-toggle"}})},s}(c.Class);u.default=h}),$("main/load-graph-from-link",["require","exports","core/graphing-calc/migrate-state","jquery"],function(B,u,w,e){function c(t,a,l,h){var o=!1;t.dispatch({type:"toast/show",toast:{message:t.t("Importing graph..."),hideAfter:0,toastStyle:"cover",onHide:function(){o=!0}}});var s=t.getState(),p=function(){o||t.dispatch({type:"toast/show",toast:{message:t.t("Error importing graph. Check the URL?"),toastStyle:"error",hideAfter:12e3}})},g=function(n){if(!n||!n.expressions||!n.expressions.list)return!1;for(var r=n.expressions.list,m=0;m<r.length;m++)if(r[m].type==="folder")return!1;return!0},d=function(n,r){if(!o){var m=t.getSelectedItem();if(!g(n))return void t.dispatch({type:"toast/show",toast:{message:t.t("Only graphs without folders can be inserted into a folder."),toastStyle:"error",hideAfter:12e3}});m&&t.dispatch({type:"set-folder-title",id:m.id,title:r}),n.expressions.list.forEach(function(y){y.id=t.generateId()}),t.dispatch({type:"insert-several-expressions",expressions:n.expressions.list}),t.dispatch({type:"toast/show",toast:{message:t.t("Graph imported!")}})}},i=function(n){o||(t.dispatch({type:"set-state",state:n}),t.dispatch({type:"toast/show",toast:{message:t.t("Graph imported!"),undoCallback:function(){t.dispatch({type:"set-state",state:s})}}}))};e.getJSON(a).done(function(n){var r=w.migrateToLatest(n.state);h(r,function(m,y){m||!y?p():l==="set-state"?i(y):d(y,n.title)})}).fail(p)}Object.defineProperty(u,"__esModule",{value:!0}),u.default=c}),$("lib/get-clipboard-data",["require","exports"],function(B,u){function w(e){return window.clipboardData&&window.clipboardData.getData?window.clipboardData.getData("Text"):e&&e.clipboardData&&e.clipboardData.getData?e.clipboardData.getData("text/plain"):void 0}Object.defineProperty(u,"__esModule",{value:!0}),u.default=w}),$("loadcss!expressions/exp-list-resizer",function(){}),$("expressions/exp-list-resizer",["require","exports","tslib","dcgview","jquery","underscore","loadcss!./exp-list-resizer"],function(B,u,w,e,c,t){Object.defineProperty(u,"__esModule",{value:!0});var a=e.Components.If,l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.init=function(){this.guid=t.uniqueId("dcg-exp-list-resize")},o.prototype.template=function(){var s=this;return e.createElement(a,{predicate:this.bindFn(this.isVisible)},function(){return e.createElement("div",{class:e.const("dcg-exp-list-resizer"),onTapStart:s.bindFn(s.onTapStart)})})},o.prototype.isVisible=function(){return!this.props.controller().expressionsAreFullWidth()&&this.props.controller().isListVisible()},o.prototype.onTapStart=function(s){var p=this;this.initialWidth=this.props.controller().getExpListWidth(),this.initialLeft=s.changedTouches[0].clientX,c(document).on("dcg-tapmove."+this.guid,function(g){if(p.initialLeft!==void 0&&p.initialWidth!==void 0){var d=g.changedTouches[0].clientX-p.initialLeft+p.initialWidth;p.props.controller().dispatch({type:"resize-exp-list",expListWidth:d})}}),c(document).on("dcg-tapend."+this.guid,this.bindFn(this.onTapEnd)),c(document).on("dcg-tapcancel."+this.guid,this.bindFn(this.onTapEnd))},o.prototype.onTapEnd=function(){c(document).off("."+this.guid),this.initialLeft=void 0,this.initialWidth=void 0},o}(e.Class);u.ExpListResizer=l}),$("loadcss!expressions/color-menu",function(){}),$("expressions/color-menu",["require","exports","tslib","dcgview","underscore","core/lib/color-helpers","expressions/colors","./circular-icon-view","loadcss!./color-menu"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components,o=h.For,s=h.If,p=h.Input,g=function(d){function i(){return d!==null&&d.apply(this,arguments)||this}return w.__extends(i,d),i.prototype.init=function(){this.controller=this.props.controller()},i.prototype.template=function(){var n=this;return e.createElement("div",null,e.createElement(o,{each:function(){return c.values(n.controller.getColors())}},e.createElement("div",{class:e.const("dcg-color-menu dcg-do-not-blur")},function(r){return e.createElement("span",{class:e.const("dcg-color-option"),handleevent:e.const("true"),role:e.const("button"),tabindex:e.const(0),"aria-label":function(){return a.getColorName(n.controller,r)},"aria-pressed":function(){return n.props.selectedColor()===r},onTap:function(){return n.props.onColorSelected(r)}},e.createElement(l.CircularIconView,{iconType:function(){return n.props.selectedColor()===r?"check":"none"},backgroundColor:function(){return r}}))})),e.createElement(s,{predicate:function(){return n.controller.canUseAdvancedStyling()}},function(){return e.createElement("div",{class:e.const("dcg-advanced-color-styling")},e.const("Hex:"),e.createElement(p,{class:function(){return{"dcg-error":!t.isValidHexColor(n.props.selectedColor())}},value:n.props.selectedColor,onInput:function(r){n.props.onColorSelected(r)}}))}))},i}(e.Class);u.default=g}),$("loadcss!expressions/toggle-view",function(){}),$("expressions/toggle-view",["require","exports","tslib","dcgview","loadcss!./toggle-view"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.template=function(){var l=this;return e.createElement("div",{class:function(){return{"dcg-toggle-view":!0,"dcg-toggled":l.props.toggled()}},"aria-label":function(){return l.props.ariaLabel()},role:e.const("checkbox"),tabindex:e.const("0"),"aria-checked":function(){return l.props.toggled()},toggled:function(){return l.props.toggled()},onTap:this.bindFn(this.props.onChange)},e.createElement("div",{class:e.const("dcg-toggle-switch")}))},a}(e.Class);u.default=c}),$("expressions/expression_options_view",["require","exports","tslib","dcgview","underscore","core/lib/dragmode","./color-menu","core/math/expression-types","graphing-calc/models/expression","core/types/styles","expressions/toggle-view","dcgview-helpers/checkbox","./circular-icon-view","lib/aria","dcgview-helpers/mathquill-view","core/types/opacity","core/types/line-width"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r){Object.defineProperty(u,"__esModule",{value:!0});var m=e.Components,y=m.For,v=m.If,x=function(E){function b(){return E!==null&&E.apply(this,arguments)||this}return w.__extends(b,E),b.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},b.prototype.template=function(){var f=this;return e.createElement("div",{class:function(){return{"dcg-exp-options-menu":!0,"dcg-options-menu":!0,"dcg-colors-only":f.sections().length===0}},role:e.const("group"),"aria-label":function(){return f.controller.t("Options Menu")},didMount:function(){d.alert(f.controller.t("Options menu open."))},didUnmount:function(){d.alert(f.controller.t("Options menu closed."))}},e.createElement("div",{class:e.const("dcg-triangle")}),e.createElement("div",{class:e.const("dcg-options-menu-column-left")},e.createElement(v,{predicate:function(){return f.sections().indexOf("pointStyles")>=0}},function(){return e.createElement("div",{class:e.const("dcg-styles-div dcg-options-menu-section dcg-styles-section")},e.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":f.hasNextSection("pointStyles")}},role:e.const("group"),"aria-label":function(){return f.controller.t("Point Style Options")}},e.createElement("span",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-toggle-title")},function(){return f.shouldPreventPointsToggle()?f.controller.t("Style"):f.controller.t("Points")}),e.createElement(v,{predicate:function(){return!f.shouldPreventPointsToggle()}},function(){return e.createElement(s.default,{ariaLabel:function(){return f.controller.t("Points")},toggled:function(){return f.getDisplayProps().points},onChange:f.bindFn(f.onTogglePoints)})}),e.createElement(v,{predicate:function(){return f.getDisplayProps().points||f.shouldPreventPointsToggle()}},function(){return e.createElement(y,{each:f.bindFn(f.getValidPointStyles)},e.createElement("div",{class:e.const("dcg-style-icons")},function(S){return e.createElement("div",{class:e.const("dcg-style-icon-container"),onTap:function(){return f.onPointStyleSelected(S)},role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return S},"aria-pressed":function(){return f.model.pointStyle!==S}},e.createElement(g.CircularIconView,{backgroundColor:function(){return f.model.color},semiTransparent:function(){return f.model.pointStyle!==S},iconType:function(){return S==="CROSS"?"point-cross":S==="OPEN"?"point-open":"point-default"}}))}))})))}),e.createElement(v,{predicate:function(){return f.sections().indexOf("pointSizes")>=0}},function(){return e.createElement("div",{class:e.const("dcg-styles-div dcg-options-menu-section dcg-sizes-section")},e.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":f.hasNextSection("pointSizes")}},role:e.const("group"),"aria-label":function(){return f.controller.t("Size Options")}},e.createElement("span",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-toggle-title")},function(){return f.controller.t("Size")}),e.createElement(y,{each:f.bindFn(f.getValidPointSizes)},e.createElement("div",{class:e.const("dcg-style-icons")},function(S){return e.createElement("div",{class:e.const("dcg-style-icon-container"),onTap:function(){return f.onDotplotPointSizeSelected(S)},role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return S},"aria-pressed":function(){return f.model.vizProps.dotplotSize!==S}},e.createElement(g.CircularIconView,{backgroundColor:function(){return f.model.color},semiTransparent:function(){return f.model.vizProps.dotplotSize!==S},iconType:function(){return f.model.pointStyle==="CROSS"?"point-cross":f.model.pointStyle==="OPEN"?"point-open":"point-default"},iconModifier:function(){return S==="medium"?"medium":S==="large"?"large":"small"}}))}))))}),e.createElement(v,{predicate:function(){return f.sections().indexOf("lineStyles")>=0}},function(){return e.createElement("div",{class:e.const("dcg-styles-div dcg-options-menu-section dcg-lines-menu")},e.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":f.hasNextSection("lineStyles")}},role:e.const("group"),"aria-label":function(){return f.controller.t("Line Style Options")}},e.createElement("span",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-toggle-title")},function(){return f.shouldShowLinesToggle()?f.controller.t("Lines"):f.controller.t("Style")}),e.createElement(v,{predicate:function(){return f.shouldShowLinesToggle()}},function(){return e.createElement(s.default,{ariaLabel:function(){return f.controller.t("Lines")},toggled:function(){return f.getDisplayProps().lines},onChange:f.bindFn(f.onToggleLines)})}),e.createElement(v,{predicate:function(){return f.shouldShowLineStyles()}},function(){return e.createElement(y,{each:f.bindFn(f.getValidLineStyles)},e.createElement("div",{class:e.const("dcg-style-icons")},function(S){return e.createElement("div",{class:e.const("dcg-style-icon-container"),onTap:function(){return f.onLineStyleSelected(S)},role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return S},"aria-pressed":function(){return f.model.lineStyle!==S}},e.createElement(g.CircularIconView,{backgroundColor:function(){return f.model.color},semiTransparent:function(){return f.model.lineStyle!==S},iconType:function(){return S==="DOTTED"?"graph-dotted":S==="DASHED"?"graph-dashed":"graph-default"}}))}))}),e.createElement(v,{predicate:function(){return f.shouldShowLineStyles()&&f.controller.canUseAdvancedStyling()&&!f.isRegresssion()}},function(){return e.createElement("div",{class:e.const("dcg-variable-width")},e.const("Width:"),e.createElement(i.default,{latex:function(){return f.model.lineWidth},placeholder:function(){return""+r.DEFAULT},isFocused:function(){return f.getFocusedInput()==="linewidth"},capExpressionSize:function(){return!!f.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:f.const(!0),config:f.const({}),getAriaLabel:function(){return f.controller.t("Line Width: ")},getAriaPostLabel:f.const(""),hasError:function(){return!h.isLineWidthValid(f.model)},onUserChangedLatex:function(S){return f.dispatchLineWidthLatexIfChanged(S)},onExpressionSizeExceeded:function(){return f.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(S){return f.handleFocusedChanged(S,"linewidth")},dataLabelAttributeValue:f.const("line-width")}))})))}),e.createElement(v,{predicate:function(){return f.sections().indexOf("dragModes")>=0}},function(){return e.createElement("div",{class:function(){return{"dcg-styles-menu":!0,"dcg-dividing-line-after":f.hasNextSection("dragModes")}},role:e.const("group"),"aria-label":function(){return f.controller.t("Drag Options")}},e.createElement("div",{class:e.const("dcg-drag-menu")},e.createElement("span",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-toggle-title")},function(){return f.controller.t("Drag")}),e.createElement(s.default,{ariaLabel:function(){return f.controller.t("Drag")},toggled:function(){return f.model.reconciledDragMode!==t.DragMode.NONE},onChange:f.bindFn(f.onToggleDrag)}),e.createElement(v,{predicate:function(){return f.model.reconciledDragMode!==t.DragMode.NONE}},function(){return e.createElement(y,{each:function(){return f.getUIDragModes()}},e.createElement("div",{class:e.const("dcg-style-icons")},function(S){return e.createElement("div",{class:function(){return{"dcg-style-icon-container":!0,"dcg-disabled":f.isDisabled(S)}},onTap:function(){return f.onDragModeSelected(S)},role:e.const("button"),tabindex:function(){return f.isDisabled(S)?-1:0},"aria-label":function(){return S},"aria-pressed":function(){return f.model.reconciledDragMode!==S}},e.createElement(g.CircularIconView,{backgroundColor:function(){return f.isDisabled(S)?"#bbb":f.model.color},semiTransparent:function(){return f.model.reconciledDragMode!==S},iconType:function(){return S==="X"?"movable-horizontal":S==="Y"?"movable-vertical":"movable-both"}}))}))})))}),e.createElement(v,{predicate:function(){return f.sections().indexOf("isFillable")>=0}},function(){return e.createElement("div",{class:e.const("dcg-styles-div dcg-options-menu-section")},e.createElement("div",{class:e.const("dcg-styles-menu")},e.createElement(p.Checkbox,{checked:function(){return f.getDisplayProps().fill},onChange:f.bindFn(f.onToggleFill),ariaLabel:function(){return f.controller.t("Fill")}},function(){return f.controller.t("Fill")}),e.createElement(v,{predicate:function(){return f.getDisplayProps().fill&&f.controller.canUseAdvancedStyling()}},function(){return e.createElement("div",{class:e.const("dcg-variable-opacity")},e.const("Opacity:"),e.createElement(i.default,{latex:function(){return f.model.fillOpacity},placeholder:function(){return""+n.DEFAULT},isFocused:function(){return f.getFocusedInput()==="opacity"},capExpressionSize:function(){return!!f.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:f.const(!0),config:f.const({}),getAriaLabel:function(){return f.controller.t("Fill Opacity: ")},getAriaPostLabel:f.const(""),hasError:function(){return!h.isFillOpacityValid(f.model)},onUserChangedLatex:function(S){return f.dispatchOpacityLatexIfChanged(S)},onExpressionSizeExceeded:function(){return f.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(S){return f.handleFocusedChanged(S,"opacity")},dataLabelAttributeValue:f.const("fill-opacity"),needsSystemKeypad:function(){return!f.controller.isKeypadEnabled()}}))})))}),e.createElement(v,{predicate:function(){return f.sections().indexOf("isClickable")>=0}},function(){return e.createElement("div",null,e.createElement(p.Checkbox,{checked:function(){return!!f.model.clickableInfo.enabled},onChange:function(S){f.controller.dispatch({type:"set-clickableinfo-prop",id:f.model.id,prop:"enabled",value:S})},ariaLabel:function(){return f.controller.t("Clickable")}},function(){return f.controller.t("Clickable")}))})),e.createElement("div",{class:e.const("dcg-options-menu-column-right")},e.createElement("div",{class:e.const("dcg-colors-div dcg-options-menu-section"),role:e.const("group"),"aria-label":function(){return f.controller.t("Color Options")}},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-title")},function(){return f.controller.t("Color")}),e.createElement(a.default,{controller:function(){return f.props.controller()},selectedColor:function(){return f.model.color},onColorSelected:this.bindFn(this.onColorSelected)}))))},b.prototype.getFocusedInput=function(){var f=this.controller.getFocusLocation();if(f&&f.type==="expression-menu"&&f.id===this.id)return f.location},b.prototype.handleFocusedChanged=function(f,S){f?this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:this.id,location:S}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"expression-menu",id:this.id,location:S}})},b.prototype.dispatchOpacityLatexIfChanged=function(f){this.model.fillOpacity!==f&&this.controller.dispatch({type:"set-item-fillopacity",id:this.id,fillOpacity:f})},b.prototype.dispatchLineWidthLatexIfChanged=function(f){this.model.lineWidth!==f&&this.controller.dispatch({type:"set-item-linewidth",id:this.id,lineWidth:f})},b.prototype.hasNextSection=function(f){var S=this.sections();return S.indexOf(f)<S.length-1},b.prototype.sections=function(){if(h.isToplevelDistribution(this.model))return[];var f=[];return this.getValidPointStyles().length>0&&f.push("pointStyles"),this.shouldShowDotplotPointSizes()&&f.push("pointSizes"),this.getValidLineStyles().length>0&&!h.isSinglePoint(this.model)&&f.push("lineStyles"),this.getUIDragModes().length>0&&f.push("dragModes"),(h.isPolygon(this.model)||h.isParametric(this.model))&&f.push("isFillable"),this.shouldShowClickable()&&f.push("isClickable"),f},b.prototype.getValidPointStyles=function(){return h.isPointOrPointList(this.model)||h.isDotPlot(this.model)?[o.PointStyle.POINT,o.PointStyle.OPEN,o.PointStyle.CROSS]:[]},b.prototype.getValidPointSizes=function(){return h.isDotPlot(this.model)?["small","medium","large"]:[]},b.prototype.shouldShowDotplotPointSizes=function(){return this.getValidPointSizes().length>0},b.prototype.shouldShowClickable=function(){return!!this.controller.canAuthorClickableObjects()&&h.isClickableAllowed(this.model)},b.prototype.getUIDragModes=function(){return this.model.formula.move_strategy?[t.DragMode.X,t.DragMode.Y,t.DragMode.XY]:[]},b.prototype.getValidLineStyles=function(){return h.isVisualization(this.model)?[]:this.model.formula.is_inequality||h.isSinglePoint(this.model)?[]:[o.LineStyle.SOLID,o.LineStyle.DASHED,o.LineStyle.DOTTED]},b.prototype.shouldPreventPointsToggle=function(){return h.isSinglePoint(this.model)||h.isDotPlot(this.model)},b.prototype.onToggleFill=function(){this.controller.dispatch({type:"set-item-fill",id:this.id,fill:!this.getDisplayProps().fill})},b.prototype.onColorSelected=function(f){this.controller.dispatch({type:"set-item-color",id:this.id,color:f})},b.prototype.shouldShowLinesToggle=function(){return h.isPointOrPointList(this.model)||h.isParametric(this.model)||h.isPolygon(this.model)},b.prototype.shouldShowLineStyles=function(){return this.getDisplayProps().lines||!this.shouldShowLinesToggle()},b.prototype.onTogglePoints=function(){this.controller.dispatch({type:"set-item-points",id:this.id,points:!this.getDisplayProps().points})},b.prototype.onPointStyleSelected=function(f){this.model.pointStyle!==f&&this.controller.dispatch({type:"set-item-pointstyle",id:this.id,pointStyle:f})},b.prototype.onDotplotPointSizeSelected=function(f){this.model.vizProps.dotplotSize!==f&&this.controller.dispatch({type:"set-visualization-prop",id:this.id,prop:"dotplotSize",latex:f})},b.prototype.onToggleLines=function(){this.controller.dispatch({type:"set-item-lines",id:this.id,lines:!this.getDisplayProps().lines})},b.prototype.onLineStyleSelected=function(f){this.model.lineStyle!==f&&this.controller.dispatch({type:"set-item-linestyle",id:this.id,lineStyle:f})},b.prototype.isDisabled=function(f){var S=this.controller.getEnabledDragModesForItem(this.id);return!c.contains(S,f)},b.prototype.getDragMode=function(){return this.model.reconciledDragMode||this.model.dragMode},b.prototype.getDisplayProps=function(){var f=this.model,S=f.points,j=f.lines,Q=f.fill;return l.getReconciledExpressionProps(this.model.formula.expression_type,{points:S,lines:j,fill:Q})},b.prototype.onToggleDrag=function(){var f=this.model.reconciledDragMode!==t.DragMode.NONE?t.DragMode.NONE:t.DragMode.XY;this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:f})},b.prototype.onDragModeSelected=function(f){this.isDisabled(f)||this.controller.dispatch({type:"set-item-dragmode",id:this.id,dragMode:f})},b.prototype.isRegresssion=function(){return this.model.formula&&this.model.formula.is_regression},b}(e.Class);u.ExpressionOptionsMenuView=x}),$("expressions/image_options_view",["require","exports","tslib","dcgview","dcgview-helpers/checkbox","./circular-icon-view","./image-upload-view","lib/coerce-url"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components,o=h.For,s=h.If,p=function(g){function d(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(d,g),d.prototype.template=function(){var i=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id,e.createElement("div",{class:e.const("dcg-exp-options-menu dcg-image-options-menu dcg-options-menu")},e.createElement("div",{class:e.const("dcg-triangle")}),e.createElement("div",{class:e.const("dcg-opacities-menu dcg-dividing-line-after")},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-title")},function(){return i.controller.t("Opacity")}),e.createElement(o,{each:function(){return i.controller.getImageOpacities()}},e.createElement("div",{class:e.const("dcg-opacities-menu"),role:e.const("group"),"aria-label":function(){return i.controller.t("Opacity")}},function(n){return e.createElement("span",{class:e.const("dcg-opacity-option"),role:e.const("button"),tabindex:e.const(0),"aria-label":function(){return"opacity: "+n},"aria-pressed":function(){return i.isOpacitySelected(n)},handleevent:e.const("true"),onTap:function(){return i.onSelectOpacity(n)}},e.createElement(t.CircularIconView,{backgroundImage:i.bindFn(i.getBackgroundImage),iconType:function(){return i.isOpacitySelected(n)?"check":"none"},backgroundOpacity:function(){return parseFloat(n)}}))}))),e.createElement("div",{class:e.const("dcg-styles-div dcg-options-menu-section")},e.createElement("div",{class:e.const("dcg-styles-menu"),role:e.const("group"),"aria-label":function(){return i.controller.t("Styles")}},e.createElement(c.Checkbox,{checked:function(){return!i.model.foreground},onChange:this.bindFn(this.onToggleForeground),ariaLabel:function(){return i.controller.t("Place behind graphs")}},function(){return i.controller.t("Place behind graphs")})),e.createElement(s,{predicate:this.bindFn(this.shouldShowClickable)},function(){return e.createElement("div",null,e.createElement(c.Checkbox,{checked:function(){return!!i.model.clickableInfo.enabled},onChange:function(n){i.controller.dispatch({type:"set-clickableinfo-prop",id:i.model.id,prop:"enabled",value:n})},ariaLabel:function(){return i.controller.t("Clickable")}},function(){return i.controller.t("Clickable")}))}),e.createElement(s,{predicate:function(){return i.controller.canUseAdvancedStyling()}},function(){return e.createElement(a.ImageUploadView,{controller:function(){return i.controller},ariaLabel:function(){return i.controller.t("Change Image")},onFileChange:function(n){return i.insertFiles(n)},location:i.const({type:"change-image-btn",id:i.id})},e.createElement("div",{class:e.const("dcg-action-changeimage")},function(){return i.controller.t("Change Image")}))})))},d.prototype.onToggleForeground=function(i){this.controller.dispatch({type:"set-image-in-foreground",id:this.id,foreground:!i})},d.prototype.onSelectOpacity=function(i){this.controller.dispatch({type:"set-image-opacity",id:this.id,opacity:i})},d.prototype.isOpacitySelected=function(i){return this.model.opacity===i},d.prototype.insertFiles=function(i){this.controller.dispatch({type:"change-image",files:i,id:this.id})},d.prototype.getBackgroundImage=function(){return this.model.image_url===this.lastURL?this.lastEncodedURL:(this.lastURL=this.model.image_url,this.lastEncodedURL='url("'+l.coerceURL(this.model.image_url)+'")',this.lastEncodedURL)},d.prototype.shouldShowClickable=function(){return!!this.controller.canAuthorClickableObjects()},d}(e.Class);u.ImageOptionsView=p}),$("expressions/tables/table_column_menu_view",["require","exports","tslib","dcgview","expressions/color-menu","core/lib/dragmode","core/types/styles","expressions/toggle-view","../circular-icon-view"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=e.Components,s=o.For,p=o.If,g=function(d){function i(){return d!==null&&d.apply(this,arguments)||this}return w.__extends(i,d),i.prototype.template=function(){var n=this;return this.controller=this.props.controller(),this.model=this.props.model(),this.columnId=this.model.id,this.tableModel=this.model.table,this.tableId=this.tableModel.id,e.createElement("div",{class:e.const("dcg-table-column-menu dcg-options-menu")},e.createElement("div",{class:e.const("dcg-triangle")}),e.createElement("div",{class:e.const("dcg-options-menu-column-left")},e.createElement("div",{class:e.const("dcg-options-menu-section")},e.createElement("span",{class:e.const("dcg-toggle-title")},function(){return n.controller.t("Points")}),e.createElement(l.default,{ariaLabel:function(){return n.controller.t("Points")},toggled:function(){return n.model.points},onChange:function(){return n.onTogglePoints(!n.model.points)}}),e.createElement(p,{predicate:function(){return n.model.points}},function(){return e.createElement(s,{each:function(){return n.controller.getPointStyles()}},e.createElement("div",{class:e.const("dcg-style-icons")},function(r){return e.createElement("div",{class:e.const("dcg-style-icon-container"),onTap:function(){return n.onPointStyleSelected(r)}},e.createElement(h.CircularIconView,{backgroundColor:function(){return n.model.color},semiTransparent:function(){return n.model.pointStyle!==r},iconType:function(){return r==="CROSS"?"point-cross":r==="OPEN"?"point-open":"point-default"}}))}))})),e.createElement("div",{class:e.const("dcg-options-menu-section")},e.createElement("span",{class:e.const("dcg-toggle-title")},function(){return n.controller.t("Lines")}),e.createElement(l.default,{ariaLabel:function(){return n.controller.t("Lines")},toggled:function(){return n.model.lines},onChange:function(){return n.onToggleLines(!n.model.lines)}}),e.createElement(p,{predicate:function(){return n.model.lines}},function(){return e.createElement("div",{class:e.const("dcg-line-options")},e.createElement(s,{each:function(){return n.controller.getLineStyles()}},e.createElement("div",{class:e.const("dcg-style-icons")},function(r){return e.createElement("div",{class:e.const("dcg-style-icon-container"),onTap:function(){return n.onLineStyleSelected(r)}},e.createElement(h.CircularIconView,{backgroundColor:function(){return n.model.color},semiTransparent:function(){return n.model.lineStyle!==r},iconType:function(){return r==="DOTTED"?"graph-dotted":r==="DASHED"?"graph-dashed":"graph-default"}}))})))})),e.createElement(p,{predicate:function(){return n.model.draggable}},function(){return e.createElement("div",{class:e.const("dcg-drag-div dcg-options-menu-section")},e.createElement("span",{class:e.const("dcg-toggle-title")},function(){return n.controller.t("Drag")}),e.createElement(l.default,{ariaLabel:function(){return n.controller.t("Drag")},toggled:function(){return n.model.dragMode!==t.DragMode.NONE},onChange:function(){return n.onToggleDrag()}}),e.createElement(p,{predicate:function(){return n.model.dragMode!==t.DragMode.NONE}},function(){return e.createElement(s,{each:function(){return n.controller.getUIDragModes()}},e.createElement("div",{class:e.const("dcg-style-icons")},function(r){return e.createElement("div",{class:e.const("dcg-style-icon-container"),onTap:function(){return n.onDragModeSelected(r)}},e.createElement(h.CircularIconView,{backgroundColor:function(){return n.model.color},semiTransparent:function(){return n.model.dragMode!==r},iconType:function(){return r==="X"?"movable-horizontal":r==="Y"?"movable-vertical":"movable-both"}}))}))}))})),e.createElement("div",{class:e.const("dcg-options-menu-column-right")},e.createElement("div",{class:e.const("dcg-colors-div dcg-options-menu-section")},e.createElement("div",{class:e.const("dcg-toggle-title")},function(){return n.controller.t("Color")}),e.createElement(c.default,{controller:function(){return n.props.controller()},selectedColor:function(){return n.model.color},onColorSelected:this.bindFn(this.onColorSelected)}))))},i.prototype.getPointStyleClass=function(n){switch(n){case a.PointStyle.CROSS:return"dcg-graph-CROSS";case a.PointStyle.OPEN:return"dcg-graph-OPEN";default:return"dcg-graph-POINT"}},i.prototype.getLineStyleClass=function(n){switch(n){case a.LineStyle.DASHED:return"dcg-graph-DASHED";case a.LineStyle.DOTTED:return"dcg-graph-DOTTED";default:return"dcg-graph-SOLID"}},i.prototype.onColorSelected=function(n){this.controller.dispatch({type:"set-tablecolumn-color",tableId:this.tableId,columnId:this.columnId,color:n})},i.prototype.onTogglePoints=function(n){this.controller.dispatch({type:"set-tablecolumn-points",tableId:this.tableId,columnId:this.columnId,bool:n})},i.prototype.onPointStyleSelected=function(n){this.controller.dispatch({type:"set-tablecolumn-pointstyle",tableId:this.tableId,columnId:this.columnId,pointStyle:n})},i.prototype.onToggleLines=function(n){this.controller.dispatch({type:"set-tablecolumn-lines",tableId:this.tableId,columnId:this.columnId,bool:n})},i.prototype.onLineStyleSelected=function(n){this.controller.dispatch({type:"set-tablecolumn-linestyle",tableId:this.tableId,columnId:this.columnId,lineStyle:n})},i.prototype.onToggleDrag=function(){var n=this.columnId,r=this.tableId,m=this.model.dragMode===t.DragMode.NONE?t.DragMode.XY:t.DragMode.NONE;this.controller.dispatch({type:"set-tablecolumn-dragmode",tableId:r,columnId:n,dragMode:m})},i.prototype.onDragModeSelected=function(n){var r=this.columnId,m=this.tableId;this.model.dragMode!==n&&this.controller.dispatch({type:"set-tablecolumn-dragmode",tableId:m,columnId:r,dragMode:n})},i}(e.Class);u.TableColumnMenuView=g}),$("loadcss!expressions/slider-speed-view",function(){}),$("expressions/slider_speed_view",["require","exports","tslib","underscore","lib/aria","dcgview","core/graphing-calc/json/expression","loadcss!./slider-speed-view"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=[.05,.1,.15,.2,.35,.5,.75,1,1.5,2,3.5,5,7.5,10,15,20],h=e.min(l),o=e.max(l),s=function(p){function g(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(g,p),g.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model()},g.prototype.template=function(){var d=this;return t.createElement("div",{class:t.const("dcg-slider-speed-container dcg-do-not-blur"),handleEvent:t.const("true")},t.createElement("span",{class:function(){return{"dcg-action-slower":!0,"dcg-disabled":d.isSlowerDisabled()}},onTap:function(){return d.animateSlower()},role:t.const("button"),"aria-label":function(){return d.getSlowerAriaLabel()},tabindex:function(){return d.isSlowerDisabled()?-1:0},"aria-disabled":function(){return d.isSlowerDisabled()}},t.createElement("i",{class:t.const("dcg-icon-show")})),t.createElement("span",{class:t.const("dcg-variable-speed")},this.bindFn(this.computeSpeed),t.const("x")),t.createElement("span",{class:function(){return{"dcg-action-faster":!0,"dcg-disabled":d.isFasterDisabled()}},onTap:function(){return d.animateFaster()},role:t.const("button"),"aria-label":function(){return d.getFasterAriaLabel()},tabindex:function(){return d.isFasterDisabled()?-1:0},"aria-disabled":function(){return d.isFasterDisabled()}},t.createElement("i",{class:t.const("dcg-icon-show")})))},g.prototype.computeSpeed=function(){var d=a.DEFAULT_SLIDER_PERIOD/this.model.slider.animationPeriod;return d=Number(d.toFixed(3))},g.prototype.isSlowerDisabled=function(){return h>=this.computeSpeed()},g.prototype.isFasterDisabled=function(){return o<=this.computeSpeed()},g.prototype.animateSlower=function(){var d=this.computeSpeed(),i=e.filter(l,function(n){return n<d});i.length!==0&&this.setPeriodFromSpeed(e.max(i))},g.prototype.animateFaster=function(){var d=this.computeSpeed(),i=e.filter(l,function(n){return n>d});i.length!==0&&this.setPeriodFromSpeed(e.min(i))},g.prototype.setPeriodFromSpeed=function(d){var i=a.DEFAULT_SLIDER_PERIOD/d;this.controller.dispatch({type:"set-slider-animationperiod",id:this.model.id,animationPeriod:i}),c.alert(this.controller.t("Animating at __speed__x",{speed:d+""}))},g.prototype.getSlowerAriaLabel=function(){return this.controller.t("Animate Slower")},g.prototype.getFasterAriaLabel=function(){return this.controller.t("Animate Faster")},g}(t.Class);u.default=s}),$("loadcss!expressions/slider-options-view",function(){}),$("expressions/slider-options-view",["require","exports","tslib","dcgview","core/types/slider-loop-modes","../lib/tooltip","./slider_speed_view","loadcss!toggle","loadcss!./slider-options-view"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=e.Components.For,h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.init=function(){this.controller=this.props.controller(),this.model=this.props.model(),this.id=this.model.id},s.prototype.template=function(){var p=this;return e.createElement("div",{class:e.const("dcg-exp-options-menu dcg-slider-options-view dcg-options-menu")},e.createElement("div",{class:e.const("dcg-triangle")}),e.createElement("div",{class:e.const("dcg-slider-menu")},e.createElement("div",{role:e.const("group"),"aria-label":function(){return p.controller.t("Animation Mode")}},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-title")},function(){return p.controller.t("Animation Mode")}),e.createElement(l,{each:this.bindFn(this.getAnimationOptions),key:function(g){return g.key}},e.createElement("div",{class:e.const("dcg-toggle")},function(g){return e.createElement("div",{class:function(){return{"dcg-toggle-option":!0,"dcg-selected-toggle":p.isSelected(g.key)}},role:e.const("button"),tabindex:e.const(0),"aria-label":function(){return g.aria},"aria-pressed":function(){return p.isSelected(g.key)},onTap:function(){return p.props.controller().dispatch({type:"set-slider-loopmode",id:p.props.model().id,loopMode:g.key})}},e.createElement(t.Tooltip,{tooltip:function(){return g.aria},offset:function(){return{top:5}},gravity:p.getAnimationOptionTooltipGravity(g)},e.createElement("i",{class:function(){return c.getSliderIcon(g.key)}})))})))),e.createElement("div",{class:e.const("dcg-slider-menu dcg-slider-speed-menu"),role:e.const("group"),"aria-label":function(){return p.controller.t("Speed")}},e.createElement("div",{role:e.const("heading"),"aria-level":e.const("2"),class:e.const("dcg-title")},function(){return p.controller.t("Speed")}),e.createElement("div",{class:e.const("dcg-slider-speed-container")},e.createElement(a.default,w.__assign({},this.props)))))},s.prototype.getAnimationOptionTooltipGravity=function(p){return this.getAnimationOptions()[0].key===p.key?this.const("se"):this.const("s")},s.prototype.getAnimationOptions=function(){return[{key:c.SliderLoopMode.LOOP_FORWARD_REVERSE,aria:this.controller.t("Loop forwards and backwards")},{key:c.SliderLoopMode.LOOP_FORWARD,aria:this.controller.t("Repeat in one direction")},{key:c.SliderLoopMode.PLAY_ONCE,aria:this.controller.t("Play once")},{key:c.SliderLoopMode.PLAY_INDEFINITELY,aria:this.controller.t("Play indefinitely")}]},s.prototype.isSelected=function(p){return this.model.slider.loopMode===p},s}(e.Class);u.SliderOptionsView=h}),$("loadcss!expressions/item-settings-view",function(){}),$("expressions/item-settings-view",["require","exports","tslib","dcgview","keys","underscore","jquery","./expression_options_view","./image_options_view","./tables/table_column_menu_view","./slider-options-view","lib/animation-frame","loadcss!./item-settings-view"],function(B,u,w,e,c,t,a,l,h,o,s,p){Object.defineProperty(u,"__esModule",{value:!0});var g=e.Components.Switch,d=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return w.__extends(n,i),n.prototype.init=function(){this.controller=this.props.controller()},n.prototype.template=function(){var r=this;return e.createElement(g,{key:this.bindFn(this.getActiveGuid)},function(){var m=r.controller.getOpenItemMenu();return m?m.type==="expression"?e.createElement("div",{class:e.const("dcg-options-menu-container"),didMount:r.bindFn(r.didMountView),didUnmount:r.bindFn(r.didUnmountView)},e.createElement(l.ExpressionOptionsMenuView,{controller:r.props.controller,model:function(){return m.model}})):m.type==="image"?e.createElement("div",{class:e.const("dcg-options-menu-container"),didMount:r.bindFn(r.didMountView),didUnmount:r.bindFn(r.didUnmountView)},e.createElement(h.ImageOptionsView,{controller:r.props.controller,model:function(){return m.model}})):m.type==="table-column"?e.createElement("div",{class:e.const("dcg-options-menu-container"),didMount:r.bindFn(r.didMountView),didUnmount:r.bindFn(r.didUnmountView)},e.createElement(o.TableColumnMenuView,{controller:r.props.controller,model:function(){return m.model}})):m.type==="slider"?e.createElement("div",{class:e.const("dcg-options-menu-container"),didMount:r.bindFn(r.didMountView),didUnmount:r.bindFn(r.didUnmountView)},e.createElement(s.SliderOptionsView,{controller:r.props.controller,model:function(){return m.model}})):m:e.createElement("span",null)})},n.prototype.getActiveGuid=function(){var r=this.controller.getOpenItemMenu();if(r)return r.model.guid},n.prototype.getActiveIcon=function(){var r=this.controller.getOpenItemMenu();if(r)return a(r.icon)},n.prototype.didMountView=function(r){var m=this;this.guid=t.uniqueId("dcg-item-settings-view"),this.openView=r,this.positionMenu(),this.moveFocusIfAppropriate(),a(document).on("keydown."+this.guid,function(y){var v=c.lookup(y);v==="Esc"?(m.focusIcon(),m.hideOptions()):v!=="Tab"||y.altKey||y.ctrlKey||y.metaKey||(y.shiftKey?y.shiftKey&&(m.isIconModelFocused()?(y.preventDefault(),y.stopPropagation(),m.focusLastOption()):m.isFirstOptionViewFocused()?(y.preventDefault(),y.stopPropagation(),m.focusIcon()):m.focusAnywhere()):m.isIconModelFocused()?(y.preventDefault(),y.stopPropagation(),m.focusFirstOption()):m.isLastOptionViewFocused()?(y.preventDefault(),y.stopPropagation(),m.focusIcon()):m.focusAnywhere())}),p.requestAnimationFrame(function(){m.openView&&m.controller.getExppanelSelectorOrThrow().on("scroll."+m.guid,function(){m.hideOptions()})}),a(document).on("dcg-tapstart."+this.guid,function(y){if(m.openView){var v=a(y.target);if(!v.closest(m.getActiveIcon()).length){if(v.closest(m.openView).length){if(!v.is(':input, [role="textbox"], [tabindex="0"]:visible'))return;var x=m.getDOMTabStops(),E=x.$first,b=x.$last;return void(E!==void 0&&E.is(v)?m.focusFirstOption():b!==void 0&&b.is(v)?m.focusLastOption():y.target.hasAttribute("dataLabelAttributeValue")||y.target.getAttribute("dataLabelAttributeValue")==="fill-opacity"||m.focusAnywhere())}v.closest(".dcg-keypad,.dcg-show-keypad-container").length||m.hideOptions()}}})},n.prototype.didUnmountView=function(){a(document).off("."+this.guid),this.openView=void 0},n.prototype.didUpdate=function(){this.moveFocusIfAppropriate()},n.prototype.moveFocusIfAppropriate=function(){var r=this.getDOMTabStops(),m=r.$first,y=r.$last;m!==void 0&&y!==void 0&&(this.shouldMoveFocusToFirstOption()?m.focus():this.shouldMoveFocusToLastOption()&&y.focus())},n.prototype.open=function(){return!!this.controller.getOpenItemMenu()},n.prototype.hideOptions=function(){this.open()&&this.controller.dispatch({type:"close-item-settings-menu"})},n.prototype.positionMenu=function(){var r=this.getActiveIcon();if(r&&this.openView){var m=this.controller.getExppanelSelectorOrThrow(),y=r.offset(),v={top:y.top-m.closest(".dcg-container").offset().top,left:y.left-m.closest(".dcg-container").offset().left};a(this.openView).css({top:v.top+"px",left:v.left+"px",display:"block"})}},n.prototype.isIconModelFocused=function(){var r=this.controller.getOpenItemMenu();return r!==void 0&&(r.type==="slider"?this.controller.isFocusLocationFocused({type:"slider-animation-properties-icon",id:r.model.id}):r.type==="image"?this.controller.isFocusLocationFocused({type:"image-icon",id:r.model.id}):this.controller.isFocusLocationFocused({type:"expression-icon",id:r.model.id}))},n.prototype.focusIcon=function(){var r=this.controller.getOpenItemMenu();r&&(r.type==="slider"?this.controller.dispatch({type:"set-focus-location",location:{type:"slider-animation-properties-icon",id:r.model.id}}):r.type==="image"?this.controller.dispatch({type:"set-focus-location",location:{type:"image-icon",id:r.model.id}}):this.controller.dispatch({type:"set-focus-location",location:{type:"expression-icon",id:r.model.id}}))},n.prototype.isFirstOptionViewFocused=function(){var r=this.getDOMTabStops().$first;return r!==void 0&&r.is(":focus")},n.prototype.shouldMoveFocusToFirstOption=function(){var r=this.controller.getOpenItemMenu();return r!==void 0&&!this.isFirstOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:r.model.id,location:"start"})},n.prototype.focusFirstOption=function(){var r=this.controller.getOpenItemMenu();r&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:r.model.id,location:"start"}})},n.prototype.isLastOptionViewFocused=function(){var r=this.getDOMTabStops().$last;return r!==void 0&&r.is(":focus")},n.prototype.shouldMoveFocusToLastOption=function(){var r=this.controller.getOpenItemMenu();return r!==void 0&&!this.isLastOptionViewFocused()&&this.controller.isFocusLocationFocused({type:"expression-menu",id:r.model.id,location:"end"})},n.prototype.focusLastOption=function(){var r=this.controller.getOpenItemMenu();r&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:r.model.id,location:"end"}})},n.prototype.focusAnywhere=function(){var r=this.controller.getOpenItemMenu();r&&this.controller.dispatch({type:"set-focus-location",location:{type:"expression-menu",id:r.model.id,location:"anywhere"}})},n.prototype.getDOMTabStops=function(){if(this.openView===void 0)return{};var r=a(this.openView),m=r.find(':input, [role="textbox"], [tabindex="0"]:visible');return{$first:m.first(),$last:m.last()}},n}(e.Class);u.ItemSettingsView=d}),$("loadcss!expressions/author-ide-bar-view",function(){}),$("expressions/author-ide-bar-view",["require","exports","tslib","dcgview","loadcss!./author-ide-bar-view"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=e.Components,t=c.Input,a=c.If,l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.init=function(){this.controller=this.props.controller()},o.prototype.template=function(){var s=this;return e.createElement("div",{class:e.const("dcg-author-ide-bar")},e.const("search:"),e.const(" "),e.createElement(t,{onInput:this.bindFn(this.onChange),value:function(){return s.controller.getIDESearchStr()}}),e.createElement(a,{predicate:function(){return!!s.controller.getIDESearchStr()}},function(){return e.createElement("i",{onTap:function(){return s.onChange("")},class:e.const("dcg-icon-remove")})}))},o.prototype.onChange=function(s){this.controller.dispatch({type:"update-ide-search-str",str:s})},o}(e.Class);u.AuthorIDEBar=l}),$("loadcss!expressions/list-view",function(){}),$("loadcss!expressions",function(){}),$("expressions/list-view",["require","exports","tslib","touchtracking","keys","dcgview","jquery","underscore","lib/conditional_blur","./expression_view","./text_view","./table-view","./folder-view","./image-view","./shell_view","./drag_container_view","main/data_helpers","./new_expression_view","./expressions-header","main/load-graph-from-link","lib/get-clipboard-data","graphing-calc/models/abstract-item","graphing-calc/models/list","./exp-list-resizer","./item-settings-view","./author-ide-bar-view","loadcss!./list-view","loadcss!expressions","jquery.handleevent"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r,m,y,v,x,E,b,f,S,j){Object.defineProperty(u,"__esModule",{value:!0});var Q=t.Components,G=Q.If,q=Q.For,L=Q.Switch,M=Q.SwitchUnion,D=function(V){function W(){var N=V!==null&&V.apply(this,arguments)||this;return N.guid=l.uniqueId("listView"),N}return w.__extends(W,V),W.prototype.init=function(){this.controller=this.props.controller()},W.prototype.template=function(){var N=this;return t.createElement("div",{didMount:this.bindFn(this.didMountContainer)},t.createElement("div",{class:t.const("dcg-exppanel-outer"),onDrop:this.bindFn(this.onDrop),style:function(){return N.computeExppanelOuterStyle()}},t.createElement("div",{class:function(){return{"dcg-exppanel-container":!0,"dcg-add-shadow":N.controller.shouldRenderList()}},style:function(){return{transform:N.controller.isListVisible()?void 0:N.controller.isNarrow()?"translate(0, 100%)":"translate(-100%, 0)"}}},t.createElement(G,{predicate:function(){return N.controller.isFileDraggedOver()}},function(){return t.createElement("div",{class:t.const("dcg-drop-image")},t.createElement("span",null,function(){return N.controller.t("Drop Image Here")}))}),t.createElement(G,{predicate:function(){return N.controller.shouldRenderList()}},function(){return t.createElement("div",{class:function(){return{"dcg-exppanel":!0,"dcg-disable-horizontal-scroll-to-cursor":!0,"dcg-isDragging":N.controller.isDragDropActive(),"dcg-has-background-color":N.controller.hasBackgroundColor()}},style:function(){return{background:N.controller.getBackgroundColor()}},onPaste:N.bindFn(N.onPaste),onTapStart:N.bindFn(N.onExppanelTapstart),didMount:N.bindFn(N.didMountExppanel)},t.createElement(f.ExpListResizer,{controller:N.props.controller}),t.createElement("div",{class:t.const("dcg-expressionlist"),role:t.const("complementary"),"aria-label":t.const("Expression List")},t.createElement(q,{each:function(){return N.controller.getAllItemModels()},key:function(re){return re.guid}},t.createElement("span",{class:t.const("dcg-template-expressioneach")},function(re){return M(function(){return E.getDisplayState(re)},{shell:function(){return N.makeShellViewForModel(re)},render:function(){return N.makeViewForModel(re)},none:function(){}})})),t.createElement(G,{predicate:function(){return!N.props.controller().getIDESearchStr()}},function(){return t.createElement(m.default,{controller:function(){return N.props.controller()}})}),t.createElement(L,{key:function(){return N.controller.getDraggedItemId()}},function(re){if(re){var Y=N.controller.getItemModel(re);return t.createElement(n.default,{controller:N.props.controller},N.makeDragCopyViewForModel(Y))}}),t.createElement("div",{class:t.const("dcg-expressions-branding"),style:function(){return{opacity:N.controller.isKeypadOpen()?0:1}}},t.createElement(G,{predicate:function(){return N.controller.canEditOnWeb()}},function(){return t.createElement("span",{role:t.const("link"),tabindex:t.const(0),class:t.const("dcg-edit-branding"),onTap:function(){return N.controller.dispatch({type:"open-on-web"})}},t.createElement("div",{class:t.const("dcg-powered-by"),"aria-label":function(){return N.controller.t("Edit graph on Desmos")}},function(){return N.controller.t("edit graph on")}),t.createElement("i",{class:t.const("dcg-icon-desmos")}))}),t.createElement(G,{predicate:function(){return!N.controller.canEditOnWeb()}},function(){return t.createElement("span",{class:t.const("dcg-noedit-branding")},t.createElement("div",{class:t.const("dcg-powered-by"),"aria-label":function(){return N.controller.t("powered by Desmos")}},function(){return N.controller.t("powered by")}),t.createElement("i",{class:t.const("dcg-icon-desmos")}))}))))}),t.createElement(G,{predicate:function(){return N.controller.isAuthorIDE()}},function(){return t.createElement(j.AuthorIDEBar,w.__assign({},N.props))}),t.createElement(G,{predicate:function(){return N.controller.shouldRenderList()}},function(){return t.createElement(y.default,{controller:N.props.controller,expsScrolled:function(){return!!N.exppanel&&N.exppanel.scrollTop>0}})}))),t.createElement(S.ItemSettingsView,{controller:this.props.controller}))},W.prototype.makeShellViewForModel=function(N){return t.createElement(i.default,{controller:this.props.controller,model:function(){return N},onDragPending:function(){},isDragCopy:function(){return!1}})},W.prototype.computeExppanelOuterStyle=function(){this.getListBottomAndUpdateLastExpressionPadding();var N=this.controller.computeMajorLayout().list,re=N.top;return N.top>0&&!this.controller.isListVisible()&&(re-=N.height),{position:"absolute",left:"0px",top:re+"px",width:N.width+"px",height:N.height+"px"}},W.prototype.makeDragCopyViewForModel=function(N){return this.makeViewForModel(N,!0)},W.prototype.makeViewForModel=function(N,re){var Y=this;re===void 0&&(re=!1);var O;if(N.type==="table")O=t.createElement(p.default,{controller:this.props.controller,model:function(){return N},onDragPending:function(ee){return Y.onDragPending(ee,N.id)},isDragCopy:function(){return re}});else if(N.type==="folder")O=t.createElement(g.default,{controller:this.props.controller,model:function(){return N},onDragPending:function(ee){return Y.onDragPending(ee,N.id)},isDragCopy:function(){return re}});else if(N.type==="text")O=t.createElement(s.default,{controller:this.props.controller,model:function(){return N},onDragPending:function(ee){return Y.onDragPending(ee,N.id)},isDragCopy:function(){return re}});else if(N.type==="image")O=t.createElement(d.default,{controller:this.props.controller,model:function(){return N},onDragPending:function(ee){return Y.onDragPending(ee,N.id)},isDragCopy:function(){return re}});else{if(N.type!=="expression")return;O=t.createElement(o.default,{controller:this.props.controller,model:function(){return N},onDragPending:function(ee){return Y.onDragPending(ee,N.id)},isDragCopy:function(){return re}})}return O},W.prototype.didUnmount=function(){a(document.documentElement).off("."+this.guid)},W.prototype.didMountContainer=function(N){this.node=N,a(document.documentElement).on("keydown."+this.guid,this.bindFn(this.handleKeyDown))},W.prototype.didMountExppanel=function(N){this.exppanel=N},W.prototype.getListBottomAndUpdateLastExpressionPadding=function(){var N=this.controller.getKeypadHeight(),re=this.__listBottom||0;return this.__listBottom=N,N===0&&re!==0&&e.isTapActive()&&this.padLastExpressionUntilTapEnd(re),N},W.prototype.padLastExpression=function(N){a(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom",N+"px")},W.prototype.unpadLastExpression=function(){a(this.node).find(".dcg-expressionitem.dcg-new-expression").css("margin-bottom","0")},W.prototype.padLastExpressionUntilTapEnd=function(N){var re=this;this.padLastExpression(N),a(document).on("dcg-tap.animating-bottom",function(){re.unpadLastExpression(),a(document).off("dcg-tap.animating-bottom")})},W.prototype.handleKeyDown=function(N){if(!this.controller.inAudioTraceMode()){var re=c.lookup(N);if(!this.controller.isInEditListMode()||N.altKey||N.ctrlKey||N.metaKey){if((!document.activeElement||!a.contains(document.body,document.activeElement))&&!a(N.target).closest(this.exppanel).length&&a.contains(document.documentElement,N.target)){var Y=this.controller.getSelectedItem();if(Y)switch(re){case c.UP:N.preventDefault(),this.controller.dispatch({type:"select-previous-expression"});break;case c.DOWN:N.preventDefault(),this.controller.dispatch({type:"select-next-expression"});break;case c.ESCAPE:N.preventDefault(),this.controller.dispatch({type:"set-none-selected"});break;case c.RIGHT:N.preventDefault(),Y&&(Y.type==="expression"&&Y.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:Y.id,adjustment:"up"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:Y.id}})):this.controller.dispatch({type:"move-focus-to-item",id:Y.id,where:"start"}));break;case c.TAB:N.preventDefault(),Y&&this.controller.dispatch({type:"move-focus-to-item",id:Y.id,where:"start"});break;case c.LEFT:N.preventDefault(),Y&&(Y.type==="expression"&&Y.sliderExists?(this.controller.dispatch({type:"adjust-slider-by-keyboard",id:Y.id,adjustment:"down"}),this.controller.dispatch({type:"set-focus-location",location:{type:"slider-thumb",id:Y.id}})):this.controller.dispatch({type:"move-focus-to-item",id:Y.id,where:"end"}));break;case c.BACKSPACE:N.preventDefault(),Y&&this.controller.dispatch({type:"upward-delete-selected-expression"});break;case c.DELETE:N.preventDefault(),Y&&this.controller.dispatch({type:"downward-delete-selected-expression"});break;case c.ENTER:N.wasHandled("create-expression-with-keyboard")||(N.preventDefault(),N.handle("create-expression-with-keyboard"),Y&&this.controller.dispatch({type:"on-special-key-pressed",key:"Enter"}));break;default:if(N.metaKey||N.ctrlKey||re===c.SHIFT||re===c.SPACEBAR)return;Y&&(Y.type==="table"||this.controller.dispatch({type:"move-focus-to-item",id:Y.id,where:"end"}))}}}else if(re===c.TAB){var O=this.controller.getItemModelByIndex(0);if(!O)return;var ee=this.controller.getFocusLocation();if(!ee)return;var oe=(ee.type==="readonly-expression"&&O.type==="expression"||ee.type==="table-container"&&O.type==="table"||ee.type===O.type)&&ee.id===O.id,H={type:"edit-list-toggle"},J=this.controller.isFocusLocationFocused(H);N.shiftKey&&oe?(N.preventDefault(),N.stopPropagation(),this.controller.dispatch({type:"set-focus-location",location:H})):!N.shiftKey&&J&&(N.preventDefault(),N.stopPropagation(),this.controller.dispatch({type:"move-focus-to-item",id:O.id,where:O.type==="table"?"container":void 0}))}else if(re===c.UP||re===c.DOWN){var Y=this.controller.getSelectedItem();if(!Y)return;var ie=this.controller.getListModel(),de=re===c.UP?b.findPrevSelectableItem(ie,Y.index):b.findNextSelectableItem(ie,Y.index);if(!de)return;this.controller.dispatch({type:"move-focus-to-item",id:de.id,where:de.type==="table"?"container":"start"})}}},W.prototype.onDragPending=function(N,re){var Y=this;N.preventDefault(),h.default();var O=N.touches[0].clientY,ee=O,oe=setTimeout(function(){a(document).off(".dragpending"),Y.onDragStart(N,re,O,ee)},500);a(document).on("dcg-tapmove.dragpending",function(H){ee=H.touches[0].clientY,Math.abs(ee-O)>3&&(clearTimeout(oe),a(document).off(".dragpending"),Y.onDragStart(N,re,O,ee))}),a(document).on("dcg-tapend.dragpending",function(){clearTimeout(oe),a(document).off(".dragpending")})},W.prototype.onDragStart=function(N,re,Y,O){N.touches.length===1&&(N.wasHandled("dcg-longhold")||this.controller.dispatch({type:"start-dragdrop",id:re,grabY:Y,mouseY:O}))},W.prototype.onExppanelTapstart=function(N){N.device!=="mouse"&&a(N.target).closest(".dcg-expressionitem").length===0&&h.default()},W.prototype.onPaste=function(N){var re=this,Y=this.controller.getGraphSettings().config,O=x.default(N);if(O){var ee=/^\s*https?:\/\/([a-zA-Z0-9]*\.)?desmos\.com(:[0-9]+)?\/calculator\/./.test(O),oe=this.controller.getSelectedItem();if(Y.pasteGraphLink&&oe&&oe.type==="folder"&&ee&&oe.title===""&&this.controller.getNumberOfItemsInFolder(oe.id)===0)return N.stopPropagation(),N.preventDefault(),void v.default(this.controller,O,"inject",function(fe,Ee){return Ee(null,fe)});if(!oe||oe.type!=="text"&&oe.type!=="folder"){if(Y.pasteGraphLink&&ee){N.stopPropagation(),N.preventDefault();var H=Y.pasteGraphLinkCallback?Y.pasteGraphLinkCallback:function(fe,Ee){return Ee(null,fe)};return void v.default(this.controller,O,"set-state",H)}if(Y.pasteTableData){var J=r.parse(O);if(J!==void 0)return N.stopPropagation(),N.preventDefault(),this.controller.dispatch({type:"paste-table",data:J})}var ie=r.getExpressions(O);if(ie!==void 0){N.stopPropagation(),N.preventDefault();var de=[];return void(ie.length===1&&ie[0].numberList?this.controller.dispatch({type:"append-number-list",latex:ie[0].content}):(ie.forEach(function(fe){de.push({type:"expression",id:re.controller.generateId(),latex:fe.content})}),this.controller.dispatch({type:"insert-several-expressions",expressions:de})))}}}},W.prototype.onDrop=function(N){if(this.controller.areImagesEnabled()){var re=N.dataTransfer&&N.dataTransfer.files;re&&this.controller.dispatch({type:"new-images",files:re})}},W}(t.Class);u.default=D}),$("graphing-calc/keypads/dcgview-graphing",["require","exports","tslib","dcgview"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch},a}(e.Class);u.default=c}),$("loadcss!keypad/btn",function(){}),$("keypad/btn",["require","exports","tslib","dcgview","loadcss!./btn"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.template=function(){var l=this;return e.createElement("div",{class:function(){return{"dcg-keypad-btn-container":!0,"dcg-keypad-short-btn":l.props.style()==="popover-short"}},style:function(){return{"flex-grow":l.getColSpan()}}},e.createElement("span",{role:e.const("button"),class:this.bindFn(this.getClasses),"dcg-command":this.props.command,"aria-label":this.bindFn(this.getAriaLabel),onTap:this.props.onTap},e.createElement("span",{class:e.const("dcg-keypad-btn-content")},this.children)))},a.prototype.getClasses=function(){var l={"dcg-keypad-btn":!0,"dcg-keypad-btn-active":this.isActive()},h=this.props.style();switch(h){case"default":l["dcg-btn-light-on-gray"]=!0;break;case"highlight":l["dcg-btn-dark-on-gray"]=!0;break;case"popover-short":case"popover":l["dcg-btn-light-gray"]=!0;break;case"blue":l["dcg-btn-short-blue"]=!0;break;case"tall-blue":l["dcg-btn-tall-blue"]=!0;break;default:return h}return l},a.prototype.isActive=function(){return!!this.props.active&&this.props.active()},a.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},a.prototype.getColSpan=function(){return this.props.colspan?this.props.colspan():void 0},a}(e.Class);u.default=c}),$("keypad/keys",["require","exports","./btn","dcgview-helpers/static-mathquill-view","dcgview","lib/i18n"],function(B,u,w,e,c,t){function a(m,y){return m===void 0?c.const(y):c.const(m)}function l(m){return function(y,v,x){return x===void 0&&(x={}),c.createElement(w.default,{command:c.const(m.command||m.typedText||m.keys[0]),ariaLabel:c.const(m.ariaLabel||m.typedText||m.keys[0]),colspan:a(x.colspan,1),style:function(){return x.style||"default"},onTap:function(){return v({type:"keypad/type-text",text:m.typedText||m.keys[0]})}},n(function(){return m.keys[0]==="{"||m.keys[0]==="["},{true:function(){return c.createElement("span",{class:c.const("dcg-mq-math-mode"),style:c.const("font-size: 120%")},c.const(m.keys[0]),c.const(""),c.createElement("span",{style:c.const("color: #999")},c.const(m.keys[1])))},false:function(){return c.createElement("span",null,c.createElement(e.default,{latex:c.const(m.keys[0])}),c.createElement("span",{style:c.const("color: #999")},c.createElement(e.default,{latex:c.const(m.keys[1])})))}}))}}function h(m){return function(y,v,x){return x===void 0&&(x={}),c.createElement(w.default,{command:c.const(m.command||m.typedText||m.keys[1]),ariaLabel:c.const(m.ariaLabel||m.typedText||m.keys[1]),colspan:a(x.colspan,1),style:a(x.style,"default"),onTap:function(){return v({type:"keypad/type-text",text:m.typedText||m.keys[1]})}},n(function(){return m.keys[1]==="}"||m.keys[1]==="]"},{true:function(){return c.createElement("span",{class:c.const("dcg-mq-math-mode"),style:c.const("font-size: 120%")},c.createElement("span",{style:c.const("color: #999")},c.const(m.keys[0])),c.const(""),c.const(m.keys[1]))},false:function(){return c.createElement("span",null,c.createElement("span",{style:c.const("color: #999")},c.createElement(e.default,{latex:c.const(m.keys[0])})),c.createElement(e.default,{latex:c.const(m.keys[1])}))}}))}}function o(m){return function(y,v,x){return x===void 0&&(x={}),c.createElement(w.default,{command:c.const(m.command||y),ariaLabel:c.const(m.ariaLabel||y),colspan:a(x.colspan,1),style:function(){return x.style||"default"},onTap:function(){return v({type:"keypad/type-text",text:m.typedText||y})}},c.createElement(e.default,{latex:c.const(m.content||y)}))}}function s(m){return function(y,v,x){return x===void 0&&(x={}),c.createElement(w.default,{command:c.const(m.command||y),ariaLabel:c.const(m.ariaLabel||y),colspan:a(x.colspan,1),style:function(){return x.style||"default"},onTap:function(){return v({type:"keypad/type-text",text:m.typedText||y})}},c.createElement("span",{class:c.const("dcg-mq-math-mode")},c.const(m.content||y)))}}function p(m){return function(y,v,x){return x===void 0&&(x={}),c.createElement(w.default,{command:c.const(y),ariaLabel:c.const(m.ariaLabel||y),colspan:a(x.colspan,1),style:function(){return x.style||"default"},onTap:function(){return v({type:"keypad/type-text",text:y+"("})}},c.createElement(e.default,{latex:c.const(y)}))}}function g(m){return function(y,v,x){return x===void 0&&(x={}),c.createElement(w.default,{command:c.const(m.command),ariaLabel:c.const(m.ariaLabel||m.command),colspan:a(x.colspan,1),style:function(){return x.style||"default"},onTap:function(){v({type:"keypad/custom-command",command:m.command})}},c.createElement(e.default,{latex:c.const(m.content)}))}}function d(m,y,v){v===void 0&&(v={});var x=m.dispatch;return r[y](y,x,v)}function i(m){return m===void 0&&(m=1),c.createElement("div",{style:c.const("flex-grow:"+m)})}Object.defineProperty(u,"__esModule",{value:!0});var n=c.Components.IfElse,r={"{":s({ariaLabel:t.t("Left Bracket")}),"}":s({ariaLabel:t.t("Right Bracket")}),"(":o({ariaLabel:t.t("Left Parenthesis")}),")":o({ariaLabel:t.t("Right Parenthesis")}),sqrt:o({content:"\\sqrt{}",ariaLabel:t.t("Square Root")}),"/":o({content:"",ariaLabel:t.t("Divide")}),"*":o({content:"",ariaLabel:t.t("Times")}),"-":o({ariaLabel:t.t("Minus")}),"+":o({ariaLabel:t.t("Plus")}),".":o({ariaLabel:t.t("Decimal")}),ans:function(m,y,v){return v===void 0&&(v={}),c.createElement(w.default,{command:c.const(m),ariaLabel:function(){return t.t("Answer")},colspan:a(v.colspan,1),style:function(){return v.style||"default"},onTap:function(){return y({type:"keypad/type-text",text:m})}},c.const("ans"))},enter:function(m,y,v){return v===void 0&&(v={}),c.createElement(w.default,{command:c.const(m),ariaLabel:function(){return t.t("Enter")},colspan:a(v.colspan,1),style:function(){return v.style||"default"},onTap:function(){return y({type:"keypad/press-key",key:"Enter"})}},c.createElement("i",{class:c.const("dcg-icon-arrow-enter")}))},shift:function(m,y,v){return v===void 0&&(v={}),c.createElement(w.default,{command:c.const(m),ariaLabel:function(){return t.t("Shift")},colspan:a(v.colspan,1),style:function(){return v.style||"default"},active:a(v.active,!1),onTap:function(){return y({type:"keypad/shift"})}},c.createElement("i",{class:c.const("dcg-icon-shift")}))},left:function(m,y,v){return v===void 0&&(v={}),c.createElement(w.default,{command:c.const(m),ariaLabel:function(){return t.t("Left Arrow")},colspan:a(v.colspan,1),style:function(){return v.style||"default"},onTap:function(){return y({type:"keypad/press-key",key:"Left"})}},c.createElement("i",{class:c.const("dcg-icon-arrow-left")}))},right:function(m,y,v){return v===void 0&&(v={}),c.createElement(w.default,{command:c.const(m),ariaLabel:function(){return t.t("Right Arrow")},colspan:a(v.colspan,1),style:function(){return v.style||"default"},onTap:function(){return y({type:"keypad/press-key",key:"Right"})}},c.createElement("i",{class:c.const("dcg-icon-arrow-right")}))},123:function(m,y,v){return v===void 0&&(v={}),c.createElement(w.default,{command:c.const(m),ariaLabel:function(){return t.t("Toggle Numbers")},colspan:a(v.colspan,1),style:function(){return v.style||"default"},onTap:function(){return y({type:"keypad/123"})}},c.const("1 2 3"))},ABC:function(m,y,v){return v===void 0&&(v={}),c.createElement(w.default,{command:c.const(m),ariaLabel:function(){return t.t("Toggle Letters")},colspan:a(v.colspan,1),style:function(){return v.style||"default"},onTap:function(){return y({type:"keypad/abc"})}},c.const("A B C"))},backspace:function(m,y,v){return v===void 0&&(v={}),c.createElement(w.default,{command:c.const(m),ariaLabel:function(){return t.t("Backspace")},colspan:a(v.colspan,1),style:function(){return v.style||"default"},onTap:function(){return y({type:"keypad/press-key",key:"Backspace"})}},c.createElement("i",{class:c.const("dcg-icon-delete")}))},pi:o({content:"\\pi",ariaLabel:t.t("Pi")}),alpha:o({content:"\\alpha",ariaLabel:t.t("Alpha")}),beta:o({content:"\\beta",ariaLabel:t.t("Beta")}),theta:o({content:"\\theta",ariaLabel:t.t("Theta")}),tau:o({content:"\\tau",ariaLabel:t.t("Tau")}),"a^2":g({command:"a^2",content:"a^2",ariaLabel:t.t("Squared")}),"a^3":g({command:"a^3",content:"a^3",ariaLabel:t.t("Cubed")}),"x^3":g({command:"a^3",content:"x^3",ariaLabel:t.t("Cubed")}),"a^b":o({content:"a^b",typedText:"^",ariaLabel:t.t("Superscript")}),a_b:o({content:"a_b",typedText:"_",ariaLabel:t.t("Subscript")}),"a/b":o({content:"\\frac{a}{b}",typedText:"/",ariaLabel:t.t("A over B")}),"x^2":g({command:"a^2",content:"x^2",ariaLabel:t.t("Squared")}),"x^y":o({content:"x^y",typedText:"^",ariaLabel:t.t("Superscript")}),"x/y":o({content:"\\frac{x}{y}",typedText:"/",ariaLabel:t.t("A over B")}),nthroot:g({command:"nthroot",content:"\\sqrt[n]{}",ariaLabel:t.t("Nth Root")}),ythroot:g({command:"nthroot",content:"\\sqrt[y]{}",ariaLabel:t.t("Yth Root")}),sin:p({ariaLabel:t.t("Sine")}),cos:p({ariaLabel:t.t("Cosine")}),tan:p({ariaLabel:t.t("Tangent")}),sec:p({ariaLabel:t.t("Secant")}),csc:p({ariaLabel:t.t("Cosecant")}),cot:p({ariaLabel:t.t("Cotangent")}),sinh:p({ariaLabel:t.t("Hyperbolic Sine")}),cosh:p({ariaLabel:t.t("Hyperbolic Cosine")}),tanh:p({ariaLabel:t.t("Hyperbolic Tangent")}),sech:p({ariaLabel:t.t("Hyperbolic Secant")}),csch:p({ariaLabel:t.t("Hyperbolic Cosecant")}),coth:p({ariaLabel:t.t("Hyperbolic Cotangent")}),arcsin:g({command:"arcsin",content:"sin^{-1}",ariaLabel:t.t("Inverse Sine")}),arccos:g({command:"arccos",content:"cos^{-1}",ariaLabel:t.t("Inverse Cosine")}),arctan:g({command:"arctan",content:"tan^{-1}",ariaLabel:t.t("Inverse Tangent")}),arccsc:g({command:"arccsc",content:"csc^{-1}",ariaLabel:t.t("Inverse Cosecant")}),arcsec:g({command:"arcsec",content:"sec^{-1}",ariaLabel:t.t("Inverse Secant")}),arccot:g({command:"arccot",content:"cot^{-1}",ariaLabel:t.t("Inverse Cotangent")}),"|a|":o({typedText:"|",ariaLabel:t.t("Absolute Value")}),"|x|":o({typedText:"|",ariaLabel:t.t("Absolute Value")}),ln:p({ariaLabel:t.t("Natural Log")}),log:p({ariaLabel:t.t("Log")}),quantile:p({ariaLabel:t.t("Quantile")}),quartile:p({ariaLabel:t.t("Quartile")}),var:p({}),varp:p({}),nCr:p({}),loga:g({command:"loga",content:"log_a",ariaLabel:t.t("Log A")}),stdev:p({ariaLabel:t.t("Standard Deviation")}),mad:p({}),nPr:p({}),total:p({}),length:p({}),min:p({}),max:p({}),cov:p({ariaLabel:t.t("Co Variance")}),corr:p({ariaLabel:t.t("Correlation")}),spearman:p({ariaLabel:t.t("Spearman Rank Correlation")}),stats:p({ariaLabel:t.t("Summary statistics")}),polygon:p({ariaLabel:t.t("Polygon")}),mean:p({ariaLabel:t.t("Mean")}),stdevp:p({ariaLabel:t.t("Standard Deviation of Population")}),mod:p({}),"e^x":o({typedText:"e^",ariaLabel:t.t("Exponent")}),"10^n":o({content:"\\times10^{n}",typedText:"*10^",ariaLabel:t.t("Times ten to the power of")}),"a^{-1}":o({typedText:"^-1",ariaLabel:t.t("Reciprocal")}),sum:o({content:"\\sum",ariaLabel:t.t("Sum")}),prod:o({content:"\\prod",ariaLabel:t.t("Product")}),floor:p({ariaLabel:t.t("Floor")}),ceil:p({ariaLabel:t.t("Ceiling")}),round:p({ariaLabel:t.t("Round")}),abs:p({ariaLabel:t.t("Absolute Value")}),"!":o({ariaLabel:t.t("Factorial")}),"n!":o({typedText:"!",ariaLabel:t.t("Factorial")}),median:p({ariaLabel:t.t("Median")}),lcm:p({}),gcd:p({}),gcf:p({}),ddx:g({command:"ddx",content:"\\frac{d}{dx}"}),int:o({content:"\\int",ariaLabel:t.t("Integral")}),"%":o({content:"\\%",ariaLabel:t.t("Percent Of")}),exp:o({}),sign:p({}),normaldist:p({ariaLabel:t.t("Normal Distribution")}),poissondist:p({ariaLabel:t.t("Poisson Distribution")}),binomialdist:p({ariaLabel:t.t("Binomial Distribution")}),uniformdist:p({ariaLabel:t.t("Uniform Distribution")}),erf:p({ariaLabel:t.t("Error Function")}),histogram:p({ariaLabel:t.t("Histogram")}),boxplot:p({ariaLabel:t.t("Box Plot")}),dotplot:p({ariaLabel:t.t("Dot Plot")}),tscore:p({ariaLabel:t.t("T Score")}),ittest:p({ariaLabel:t.t("Independent T Test")}),ttest:p({ariaLabel:t.t("T Test")}),tdist:p({ariaLabel:t.t("Student-t Distribution")}),pdf:p({ariaLabel:t.t("Probability Density Function")}),cdf:p({ariaLabel:t.t("Cumulative Density Function")}),random:p({ariaLabel:t.t("Random Number")}),inversecdf:p({ariaLabel:t.t("Inverse CDF function")}),"A^-1":g({command:"A^-1",content:"A^{-1}",ariaLabel:t.t("Inverse")}),"A^T":g({command:"A^T",content:"A^T",ariaLabel:t.t("Transpose")}),"A^2":g({command:"A^2",content:"A^2",ariaLabel:t.t("Squared")}),det:p({ariaLabel:"Determinant"}),"A^n":o({content:"A^n",typedText:"^",ariaLabel:t.t("Exponent")}),a:o({}),b:o({}),c:o({}),d:o({}),e:o({}),f:o({}),g:o({}),h:o({}),i:o({}),j:o({}),k:o({}),l:o({}),m:o({}),n:o({}),o:o({}),p:o({}),q:o({}),r:o({}),s:o({}),t:o({}),u:o({}),v:o({}),w:o({}),x:o({}),boldX:o({content:"x",typedText:"x"}),y:o({}),boldY:o({content:"y",typedText:"y"}),z:o({}),A:o({}),B:o({}),C:o({}),D:o({}),E:o({}),F:o({}),G:o({}),H:o({}),I:o({}),J:o({}),K:o({}),L:o({}),M:o({}),N:o({}),O:o({}),P:o({}),Q:o({}),R:o({}),S:o({}),T:o({}),U:o({}),V:o({}),W:o({}),X:o({}),Y:o({}),Z:o({}),0:o({}),1:o({}),2:o({}),3:o({}),4:o({}),5:o({}),6:o({}),7:o({}),8:o({}),9:o({}),",":o({}),"=":o({}),"[":o({}),"]":o({}),"{}_left":l({keys:["{","}"]}),"{}_right":h({keys:["{","}"]}),"()_left":l({keys:["(",")"]}),"()_right":h({keys:["(",")"]}),"[]_left":l({keys:["[","]"]}),"[]_right":h({keys:["[","]"]}),",'_left":l({keys:[",",""]}),",'_right":h({keys:[",",""],typedText:"'"}),'"':o({}),"'":o({}),"~":o({}),":":o({}),">":o({}),"<":o({}),">=":o({content:"\\ge"}),"<=":o({content:"\\le"}),"!%_left":l({keys:["!","{}^{%}"]}),"!%_right":h({keys:["!","{}^{%}"],typedText:"%"}),"~:_left":l({keys:["~","{}^{:}"]}),"~:_right":h({keys:["~","{}^{:}"],typedText:":"})};u.view=d,u.spacer=i}),$("keypad/dcgview-keypad",["require","exports","tslib","dcgview"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.init=function(){this.controller=this.props.controller()},a}(e.Class);u.default=c}),$("loadcss!keypad/keypad",function(){}),$("keypad/keypad",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./keypad"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return w.__extends(l,a),l.prototype.template=function(){return e.createElement("div",{class:e.const("dcg-basic-keypad dcg-do-not-blur")},this.children)},l}(c.default);u.default=t}),$("loadcss!keypad/row",function(){}),$("keypad/row",["require","exports","tslib","dcgview","loadcss!./row"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.template=function(){return e.createElement("div",{class:e.const("dcg-keypad-row")},this.children)},a}(e.Class);u.default=c}),$("graphing-calc/keypads/qwerty",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"q"),t.view(this,"w"),t.view(this,"e"),t.view(this,"r"),t.view(this,"t"),t.view(this,"y"),t.view(this,"u"),t.view(this,"i"),t.view(this,"o"),t.view(this,"p")),e.createElement(l.default,null,t.view(this,"a"),t.view(this,"s"),t.view(this,"d"),t.view(this,"f"),t.view(this,"g"),t.view(this,"h"),t.view(this,"j"),t.view(this,"k"),t.view(this,"l"),t.view(this,"theta")),e.createElement(l.default,null,t.view(this,"shift",{colspan:1.364,style:"highlight"}),t.spacer(.136),t.view(this,"z"),t.view(this,"x"),t.view(this,"c"),t.view(this,"v"),t.view(this,"b"),t.view(this,"n"),t.view(this,"m"),t.spacer(.136),t.view(this,"backspace",{colspan:1.364,style:"highlight"})),e.createElement(l.default,null,t.view(this,"123",{colspan:1.818,style:"highlight"}),t.spacer(.182),t.view(this,"a_b"),t.view(this,"!%_left"),t.view(this,"[]_left"),t.view(this,"{}_left"),t.view(this,"~:_left"),t.view(this,",'_left"),t.spacer(.182),t.view(this,"enter",{colspan:1.818,style:"blue"})))},s}(c.default);u.default=h}),$("graphing-calc/keypads/qwerty-capital",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"Q"),t.view(this,"W"),t.view(this,"E"),t.view(this,"R"),t.view(this,"T"),t.view(this,"Y"),t.view(this,"U"),t.view(this,"I"),t.view(this,"O"),t.view(this,"P")),e.createElement(l.default,null,t.view(this,"A"),t.view(this,"S"),t.view(this,"D"),t.view(this,"F"),t.view(this,"G"),t.view(this,"H"),t.view(this,"J"),t.view(this,"K"),t.view(this,"L"),t.view(this,"tau")),e.createElement(l.default,null,t.view(this,"shift",{colspan:1.364,active:!0,style:"highlight"}),t.spacer(.136),t.view(this,"Z"),t.view(this,"X"),t.view(this,"C"),t.view(this,"V"),t.view(this,"B"),t.view(this,"N"),t.view(this,"M"),t.spacer(.136),t.view(this,"backspace",{colspan:1.364,style:"highlight"})),e.createElement(l.default,null,t.view(this,"123",{colspan:1.818,style:"highlight"}),t.spacer(.182),t.view(this,"a^b"),t.view(this,"!%_right"),t.view(this,"[]_right"),t.view(this,"{}_right"),t.view(this,"~:_right"),t.view(this,",'_right"),t.spacer(.182),t.view(this,"enter",{colspan:1.818,style:"blue"})))},s}(c.default);u.default=h}),$("graphing-calc/keypads/numbers",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row","keypad/btn"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(p,s),p.prototype.template=function(){var g=this;return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"boldX"),t.view(this,"boldY"),t.view(this,"a^2"),t.view(this,"a^b"),t.spacer(.5),t.view(this,"7",{style:"highlight"}),t.view(this,"8",{style:"highlight"}),t.view(this,"9",{style:"highlight"}),t.view(this,"/"),t.spacer(.5),e.createElement(h.default,{command:this.const("functions"),ariaLabel:function(){return g.controller.t("Functions")},colspan:this.const(2),style:this.const("highlight"),active:function(){return g.controller.isKeypadFunctionsPopoverOpen()},onTap:function(){return g.dispatch({type:"keypad/functions"})}},this.bindFn(this.getFuncsBtnText))),e.createElement(l.default,null,t.view(this,"("),t.view(this,")"),t.view(this,"<"),t.view(this,">"),t.spacer(.5),t.view(this,"4",{style:"highlight"}),t.view(this,"5",{style:"highlight"}),t.view(this,"6",{style:"highlight"}),t.view(this,"*"),t.spacer(.5),t.view(this,"left",{style:"highlight"}),t.view(this,"right",{style:"highlight"})),e.createElement(l.default,null,t.view(this,"|a|"),t.view(this,","),t.view(this,"<="),t.view(this,">="),t.spacer(.5),t.view(this,"1",{style:"highlight"}),t.view(this,"2",{style:"highlight"}),t.view(this,"3",{style:"highlight"}),t.view(this,"-"),t.spacer(1),t.view(this,"backspace",{colspan:1.5,style:"highlight"})),e.createElement(l.default,null,t.view(this,"ABC",{colspan:2,style:"highlight"}),t.view(this,"sqrt"),t.view(this,"pi"),t.spacer(.5),t.view(this,"0",{style:"highlight"}),t.view(this,".",{style:"highlight"}),t.view(this,"="),t.view(this,"+"),t.spacer(.5),t.view(this,"enter",{colspan:2,style:"blue"})))},p.prototype.getFuncsBtnText=function(){return this.controller.isNarrow()?this.controller.t("funcs"):this.controller.t("functions")},p}(c.default);u.default=o}),$("graphing-calc/keypads/letters",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"a"),t.view(this,"b"),t.view(this,"c"),t.view(this,"d"),t.view(this,"e"),t.view(this,"f"),t.view(this,"g"),t.view(this,"h"),t.view(this,"i"),t.view(this,"j")),e.createElement(l.default,null,t.view(this,"k"),t.view(this,"l"),t.view(this,"m"),t.view(this,"n"),t.view(this,"o"),t.view(this,"p"),t.view(this,"q"),t.view(this,"r"),t.view(this,"s"),t.view(this,"t")),e.createElement(l.default,null,t.view(this,"shift",{style:"highlight"}),t.view(this,"u"),t.view(this,"v"),t.view(this,"w"),t.view(this,"x"),t.view(this,"y"),t.view(this,"z"),t.view(this,"theta"),t.view(this,"backspace",{colspan:2,style:"highlight"})),e.createElement(l.default,null,t.view(this,"123",{colspan:2,style:"highlight"}),t.view(this,"a_b"),t.view(this,"!%_left"),t.view(this,"[]_left"),t.view(this,"{}_left"),t.view(this,"~:_left"),t.view(this,",'_left"),t.view(this,"enter",{colspan:2,style:"blue"})))},s}(c.default);u.default=h}),$("graphing-calc/keypads/letters-capital",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"A"),t.view(this,"B"),t.view(this,"C"),t.view(this,"D"),t.view(this,"E"),t.view(this,"F"),t.view(this,"G"),t.view(this,"H"),t.view(this,"I"),t.view(this,"J")),e.createElement(l.default,null,t.view(this,"K"),t.view(this,"L"),t.view(this,"M"),t.view(this,"N"),t.view(this,"O"),t.view(this,"P"),t.view(this,"Q"),t.view(this,"R"),t.view(this,"S"),t.view(this,"T")),e.createElement(l.default,null,t.view(this,"shift",{style:"highlight"}),t.view(this,"U"),t.view(this,"V"),t.view(this,"W"),t.view(this,"X"),t.view(this,"Y"),t.view(this,"Z"),t.view(this,"tau"),t.view(this,"backspace",{colspan:2,style:"highlight"})),e.createElement(l.default,null,t.view(this,"123",{colspan:2,style:"highlight"}),t.view(this,"a^b"),t.view(this,"!%_right"),t.view(this,"[]_right"),t.view(this,"{}_right"),t.view(this,"~:_right"),t.view(this,",'_right"),t.view(this,"enter",{colspan:2,style:"blue"})))},s}(c.default);u.default=h}),$("graphing-calc/keypads/trig",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=e.Components.If,h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){var p=this;return e.createElement(a.default,{controller:this.props.controller},this.b("sin"),this.b("arcsin"),this.b("sinh"),this.b("cos"),this.b("arccos"),this.b("cosh"),this.b("tan"),this.b("arctan"),this.b("tanh"),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("csc")}),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("arccsc")}),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("csch")}),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("sec")}),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("arcsec")}),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("sech")}),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("cot")}),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("arccot")}),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("coth")}))},s.prototype.b=function(p){return t.view(this,p,{style:"popover"})},s.prototype.isNotRestricted=function(){return!this.controller.areFunctionsRestricted()},s}(c.default);u.default=h}),$("graphing-calc/keypads/stats",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=e.Components.If,h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){var p=this;return e.createElement(a.default,{controller:this.props.controller},this.b("total"),this.b("length"),this.b("mean"),this.b("median"),this.b("min"),this.b("max"),this.b("quartile"),this.b("quantile"),this.b("stdev"),this.b("stdevp"),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("mad")}),this.b("var"),e.createElement(l,{predicate:this.bindFn(this.isNotRestricted)},function(){return p.b("cov")}),this.b("corr"),this.b("spearman"),this.b("nCr"),this.b("nPr"),this.b("stats"),e.createElement(l,{predicate:this.bindFn(this.areDistributionsEnabled)},function(){return p.b("ttest")}),e.createElement(l,{predicate:this.bindFn(this.areDistributionsEnabled)},function(){return p.b("tscore")}),e.createElement(l,{predicate:this.bindFn(this.areDistributionsEnabled)},function(){return p.b("ittest")}))},s.prototype.b=function(p){return t.view(this,p,{style:"popover-short"})},s.prototype.isNotRestricted=function(){return!this.controller.areFunctionsRestricted()},s.prototype.areDistributionsEnabled=function(){return this.controller.areDistributionsEnabled()},s}(c.default);u.default=h}),$("graphing-calc/keypads/misc",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},this.b("lcm"),this.b("gcd"),this.b("mod"),this.b("ceil"),this.b("floor"),this.b("round"),this.b("sign"),this.b("%"),this.b("exp"),this.b("ln"),this.b("nthroot"),this.b("polygon"),this.b("log"),this.b("loga"),this.b("ddx"),this.b("int"),this.b("sum"),this.b("prod"))},o.prototype.b=function(s){return t.view(this,s,{style:"popover"})},o}(c.default);u.default=l}),$("graphing-calc/keypads/distributions",["require","exports","tslib","dcgview","./dcgview-graphing","keypad/keys","keypad/keypad"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.template=function(){var s=this;return e.createElement(a.default,{controller:this.props.controller},e.createElement("div",{class:e.const("dcg-section-heading")},function(){return s.controller.t("Visualizations")},e.createElement("a",{href:e.const("https://support.desmos.com/hc/en-us/articles/360022405991"),target:e.const("_blank"),"aria-label":function(){return s.controller.t("Visualizations")}},e.createElement("i",{class:e.const("dcg-icon-question-sign")}))),this.b("histogram"),this.b("dotplot"),this.b("boxplot"),e.createElement("div",{class:e.const("dcg-section-heading")},function(){return s.controller.t("Distributions")},e.createElement("a",{href:e.const("https://support.desmos.com/hc/en-us/articles/360022401451#distributions"),target:e.const("_blank"),"aria-label":function(){return s.controller.t("Distributions")}},e.createElement("i",{class:e.const("dcg-icon-question-sign")}))),this.b("normaldist"),this.b("tdist"),this.b("poissondist"),this.b("binomialdist"),this.b("uniformdist"),e.createElement("div",{class:e.const("dcg-popover-section-separator")}),this.b("pdf"),this.b("cdf"),this.b("inversecdf"),this.b("random"))},o.prototype.b=function(s){return t.view(this,s,{style:"popover-short"})},o}(c.default);u.default=l}),$("loadcss!graphing-calc/keypads/functions-popover",function(){}),$("graphing-calc/keypads/functions-popover",["require","exports","tslib","dcgview","./dcgview-graphing","./trig","./stats","./misc","./distributions","loadcss!./functions-popover"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=e.Components,s=o.SwitchUnion,p=o.If,g=function(d){function i(){return d!==null&&d.apply(this,arguments)||this}return w.__extends(i,d),i.prototype.template=function(){var n=this;return e.createElement("div",{class:e.const("dcg-functions-popover dcg-popover dcg-top")},e.createElement("div",{class:e.const("dcg-popover-interior")},e.createElement("div",{class:e.const("dcg-popover-header")},e.createElement("span",{role:e.const("button"),"dcg-command":e.const("trigTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":n.controller.getKeypadFunctionsTab()==="trig"}},onTap:function(){n.dispatch({type:"keypad/set-functions-tab",tab:"trig"})}},function(){return n.controller.t("trig")}),e.createElement("span",{role:e.const("button"),"dcg-command":e.const("statsTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":n.controller.getKeypadFunctionsTab()==="stats"}},onTap:function(){n.dispatch({type:"keypad/set-functions-tab",tab:"stats"})}},function(){return n.controller.t("stats")}),e.createElement(p,{predicate:function(){return n.controller.areDistributionsEnabled()}},function(){return e.createElement("span",{role:e.const("button"),"dcg-command":e.const("distTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":n.controller.getKeypadFunctionsTab()==="dist"}},onTap:function(){n.dispatch({type:"keypad/set-functions-tab",tab:"dist"})}},function(){return n.controller.t("dist")})}),e.createElement("span",{role:e.const("button"),"dcg-command":e.const("miscTab"),class:function(){return{"dcg-heading":!0,"dcg-selected":n.controller.getKeypadFunctionsTab()==="misc"}},onTap:function(){n.dispatch({type:"keypad/set-functions-tab",tab:"misc"})}},function(){return n.controller.t("misc")})),e.createElement("div",{class:e.const("dcg-interior-buttons")},s(function(){return n.controller.getKeypadFunctionsTab()},{trig:function(){return e.createElement(t.default,{controller:n.props.controller})},stats:function(){return e.createElement(a.default,{controller:n.props.controller})},misc:function(){return e.createElement(l.default,{controller:n.props.controller})},dist:function(){return e.createElement(h.default,{controller:n.props.controller})}}))),e.createElement("div",{class:e.const("dcg-arrow")}))},i}(c.default);u.default=g}),$("loadcss!graphing-calc/keypads/graphing-keypad-container",function(){}),$("graphing-calc/keypads/main",["require","exports","tslib","dcgview","./dcgview-graphing","./qwerty","./qwerty-capital","./numbers","./letters","./letters-capital","./functions-popover","jquery","underscore","../../lib/tooltip","loadcss!./graphing-keypad-container"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d){Object.defineProperty(u,"__esModule",{value:!0});var i=e.Components,n=i.SwitchUnion,r=i.If,m=function(y){function v(){return y!==null&&y.apply(this,arguments)||this}return w.__extends(v,y),v.prototype.template=function(){var x=this;return e.createElement("div",{class:e.const("dcg-keypad"),role:e.const("complementary"),"aria-label":e.const("Keypad")},e.createElement("div",{class:e.const("dcg-keys-container"),style:this.bindFn(this.computeStyles),didMount:this.bindFn(this.didMountContainer)},e.createElement("div",{class:e.const("dcg-keys-background dcg-do-not-blur"),style:function(){return{background:x.controller.getPillboxBackgroundColor()}}},e.createElement("div",{class:e.const("dcg-keys")},n(function(){return x.controller.getKeypadLayout()},{letters:function(){return e.createElement(t.default,{controller:x.props.controller})},capitalLetters:function(){return e.createElement(a.default,{controller:x.props.controller})},mainNumbers:function(){return e.createElement(l.default,{controller:x.props.controller})},noQwertyLetters:function(){return e.createElement(h.default,{controller:x.props.controller})},noQwertyCapitalLetters:function(){return e.createElement(o.default,{controller:x.props.controller})}}),e.createElement(r,{predicate:function(){return x.controller.isKeypadFunctionsPopoverOpen()}},function(){return e.createElement(s.default,{controller:x.props.controller})})),e.createElement(r,{predicate:this.bindFn(this.isHideKeypadButtonVisible)},function(){return e.createElement("div",{class:e.const("dcg-minimize-keypad-container")},e.createElement(d.Tooltip,{tooltip:function(){return x.controller.t("Hide Keypad")},gravity:x.const("ne"),offset:x.const({left:6})},e.createElement("div",{role:e.const("button"),"aria-label":function(){return x.controller.t("Hide Keypad")},class:e.const("dcg-minimize-keypad"),style:function(){return{"border-bottom-color":x.controller.getPillboxBackgroundColor(),background:x.controller.getPillboxBackgroundColor()}},onTap:function(){x.controller.dispatch({type:"keypad/set-minimized",minimized:!0})}},e.createElement("i",{class:e.const("dcg-icon-keyboard")}),e.createElement("i",{class:e.const("dcg-icon-caret-down")}))))}))),e.createElement(r,{predicate:this.bindFn(this.isShowKeypadButtonVisible)},function(){return e.createElement("div",{class:e.const("dcg-show-keypad-container")},e.createElement(d.Tooltip,{tooltip:function(){return x.controller.t("Show Keypad")},gravity:x.const("ne")},e.createElement("div",{role:e.const("button"),"aria-label":function(){return x.controller.t("Show Keypad")},class:e.const("dcg-btn-flat-gray dcg-show-keypad dcg-do-not-blur"),style:function(){return{background:x.controller.getPillboxBackgroundColor()}},onTap:function(){x.controller.dispatch({type:"keypad/set-minimized",minimized:!1})}},e.createElement("i",{class:e.const("dcg-icon-keyboard")}),e.createElement("i",{class:e.const("dcg-icon-caret-up dcg-do-not-blur")}))))}))},v.prototype.didMountContainer=function(x){this.containerElt=x},v.prototype.isShowKeypadButtonVisible=function(){return!this.controller.isAuthorIDE()&&this.controller.getBrailleMode()==="none"&&!this.controller.isKeypadOpen()&&!this.controller.isNarrow()&&!this.controller.isInEditListMode()&&this.controller.isListVisible()},v.prototype.isHideKeypadButtonVisible=function(){return this.controller.getBrailleMode()==="none"&&this.controller.isKeypadOpen()&&!this.controller.isNarrow()},v.prototype.didMount=function(){this.updatePopoverPosition()},v.prototype.didUpdate=function(){this.updatePopoverPosition()},v.prototype.computeStyles=function(){var x={};return this.controller.isNarrow()||(x.transition="transform .3s, opacity .3s"),this.controller.isKeypadOpen()||(x.opacity="0",x.transform="translate3d(0, 255px, 0)"),x},v.prototype.updatePopoverPosition=function(){if(!this.controller.isKeypadFunctionsPopoverOpen())return void(this.__popoverCache=void 0);var x=this.controller.computeMajorLayout(),E={keypadTop:x.keypad.top,keypadWidth:x.keypad.width,keypadHeight:x.keypad.height,showToLeft:x.grapher.height<525};if(!g.isEqual(E,this.__popoverCache)){this.__popoverCache=E;var b=p(this.containerElt),f=b.find("[dcg-command=functions]"),S=b.find(".dcg-functions-popover"),j=b.find(".dcg-arrow");if(E.showToLeft){S.removeClass("dcg-top").addClass("dcg-left");var Q=E.keypadHeight-(f.offset().top-b.offset().top),G=Q-f.outerHeight()/2-2-10;j.css({left:"auto",bottom:G})}else S.removeClass("dcg-left").addClass("dcg-top"),j.css({left:S.width()-f.width()/2,bottom:"auto"})}},v}(c.default);u.default=m}),$("loadcss!pillboxes",function(){}),$("main/graphpaper-branding-view",["require","exports","tslib","dcgview","loadcss!pillboxes"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=e.Components.SwitchUnion,t=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return w.__extends(l,a),l.prototype.template=function(){var h=this;return this.controller=this.props.controller(),c(function(){return h.controller.getBrandingMode()},{"static-edit-link":function(){return e.createElement("div",{class:e.const("dcg-graphpaper-branding")},e.createElement("a",{href:function(){return h.controller.getEditLink()},target:e.const("_blank")},e.createElement("span",{class:e.const("dcg-powered-by"),"aria-label":function(){return h.controller.t("Edit graph on Desmos")}},function(){return h.controller.t("edit graph on")}),e.createElement("i",{class:e.const("dcg-icon-desmos")})))},"edit-link":function(){return e.createElement("div",{class:e.const("dcg-graphpaper-branding")},e.createElement("span",{class:e.const("dcg-edit-branding"),onTap:function(){return h.controller.dispatch({type:"open-on-web"})}},e.createElement("span",{class:e.const("dcg-powered-by"),"aria-label":function(){return h.controller.t("Edit graph on Desmos")}},function(){return h.controller.t("edit graph on")}),e.createElement("i",{class:e.const("dcg-icon-desmos")})))},"powered-by":function(){return e.createElement("div",{class:e.const("dcg-graphpaper-branding dcg-unclickable")},e.createElement("span",{class:e.const("dcg-powered-by"),"aria-label":function(){return h.controller.t("Powered by Desmos")}},function(){return h.controller.t("powered by")}),e.createElement("i",{class:e.const("dcg-icon-desmos")}))}})},l}(e.Class);u.default=t}),$("loadcss!main/settings-view",function(){}),$("main/settings-view",["require","exports","tslib","keys","scroll_helpers","lib/tooltip","dcgview","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","jquery","core/graphing-calc/json/graph-settings","core/math/evaluate-single-expression","graphing/viewport","dcgview-helpers/checkbox","main/manage-focus-helper","../dcgview-helpers/mathquill-braille-wrapper","loadcss!./settings-view"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n){Object.defineProperty(u,"__esModule",{value:!0});var r=a.Components,m=r.Input,y=r.If,v=function(E){function b(){return E!==null&&E.apply(this,arguments)||this}return w.__extends(b,E),b.prototype.template=function(){var f=this;return a.createElement(n.default,{latex:function(){return f.props.parent().getLimitLatex(f.props.limit())},controller:this.props.controller,ariaLabel:function(){return f.props.ariaLabel()},onBrailleInput:function(S){return f.props.parent().setLimitLatex(f.props.limit(),S)},onBrailleFocusedChanged:function(S){return f.props.parent().onFocusedChanged(f.props.limit(),S)},brailleShouldFocus:function(){return f.props.parent().getFocusedLimit()===f.props.limit()},hasError:function(){return f.props.parent().isLimitInvalid(f.props.limit())},onExpressionSizeExceeded:function(){},dataDCGLimit:function(){return f.props.limit()}},a.createElement(h.default,{isFocused:function(){return f.props.parent().getFocusedLimit()===f.props.limit()},latex:function(){return f.props.parent().getLimitLatex(f.props.limit())},capExpressionSize:function(){return f.props.parent().getCapExpressionSize()},config:this.const({}),getAriaLabel:function(){return f.props.ariaLabel()},getAriaPostLabel:this.const(""),onUserChangedLatex:function(S){return f.props.parent().setLimitLatex(f.props.limit(),S)},onFocusedChanged:function(S){return f.props.parent().onFocusedChanged(f.props.limit(),S)},hasError:this.const(!1),selectOnFocus:this.const(!0),needsSystemKeypad:function(){return f.props.needsSystemKeypad()}},a.createElement("span",{class:function(){return{"dcg-math-field":!0,"dcg-math-input":!0,"dcg-invalid":f.props.parent().isLimitInvalid(f.props.limit()),"dcg-focus":f.props.parent().getFocusedLimit()===f.props.limit()}},"data-dcg-limit":function(){return f.props.limit()}})))},b}(a.Class),x=function(E){function b(){return E!==null&&E.apply(this,arguments)||this}return w.__extends(b,E),b.prototype.template=function(){var f=this;return this.controller=this.props.controller(),a.createElement("div",{class:a.const("dcg-settings-view-container")},a.createElement(t.Tooltip,{tooltip:function(){return f.controller.t("Graph Settings")},gravity:this.const("w")},a.createElement("div",{class:a.const("dcg-btn-flat-gray dcg-settings-pillbox dcg-action-settings"),role:a.const("button"),tabindex:a.const("0"),"aria-haspopup":a.const("true"),"aria-expanded":function(){return f.controller.isGraphSettingsOpen()},"aria-label":function(){return f.controller.t("Graph Settings")},onTap:this.bindFn(this.onTapSettingsButton),manageFocus:this.const(i.manageFocusHelper({controller:this.controller,location:{type:"settings",location:"icon"}})),style:function(){return{background:f.controller.getPillboxBackgroundColor()}}},a.createElement("i",{class:a.const("dcg-icon-wrench"),"aria-hidden":a.const("true")}))),a.createElement(y,{predicate:function(){return f.controller.isGraphSettingsOpen()}},function(){return a.createElement("div",{class:a.const("dcg-settings-container dcg-left dcg-popover dcg-constrained-height-popover"),style:f.bindFn(f.getContainerStyle),didMount:f.bindFn(f.didMountContainer),didUnmount:f.bindFn(f.didUnmountContainer)},a.createElement("div",{class:a.const("dcg-popover-interior"),role:a.const("complementary"),"aria-label":a.const("Graph Settings")},a.createElement("div",{class:a.const("dcg-visual-settings")},a.createElement("div",{class:function(){return{"dcg-modern-btn":!0,"dcg-action-projectormode":!0,"dcg-active":f.getProjectorMode()}},role:a.const("button"),tabindex:a.const("0"),"aria-label":function(){return f.controller.t("Projector Mode")},"aria-pressed":f.bindFn(f.getProjectorMode),onTap:f.bindFn(f.toggleProjectorMode),manageFocus:f.const(i.manageFocusHelper({controller:f.controller,location:{type:"settings",location:"projector-mode"}}))},function(){return f.controller.t("Projector Mode")}),a.createElement(d.Checkbox,{ariaLabel:function(){return f.controller.t("Reverse Contrast")},onChange:f.bindFn(f.toggleInvertedColors),checked:function(){return f.controller.getInvertedColors()},green:f.const(!0)},function(){return f.controller.t("Reverse Contrast")})),a.createElement("div",{class:a.const("dcg-braille-container")},a.createElement("div",{class:a.const("dcg-group-title")},a.const("Braille Mode")),a.createElement("div",{role:a.const("group"),"aria-label":function(){return f.controller.t("Braille Mode")},class:a.const("dcg-braille-options-buttons")},a.createElement("span",{class:function(){return{"dcg-modern-btn":!0,"dcg-braille-option":!0,"dcg-active":f.controller.getBrailleMode()==="none"}},role:a.const("button"),onTap:function(){return f.controller.dispatch({type:"set-braille-mode",mode:"none"})},tabindex:a.const(0),"aria-label":function(){return f.controller.t("Off")},"aria-pressed":function(){return f.controller.getBrailleMode()==="none"}},function(){return f.controller.t("Off")}),a.createElement("span",{class:function(){return{"dcg-modern-btn":!0,"dcg-braille-option":!0,"dcg-active":f.controller.getBrailleMode()==="nemeth"}},role:a.const("button"),onTap:function(){return f.controller.dispatch({type:"set-braille-mode",mode:"nemeth"})},tabindex:a.const(0),"aria-label":function(){return f.controller.t("Nemeth")},"aria-pressed":function(){return f.controller.getBrailleMode()==="nemeth"}},function(){return f.controller.t("Nemeth")}),a.createElement("span",{class:function(){return{"dcg-modern-btn":!0,"dcg-braille-option":!0,"dcg-active":f.controller.getBrailleMode()==="ueb"}},role:a.const("button"),onTap:function(){return f.controller.dispatch({type:"set-braille-mode",mode:"ueb"})},tabindex:a.const(0),"aria-label":function(){return f.controller.t("UEB")},"aria-pressed":function(){return f.controller.getBrailleMode()==="ueb"}},function(){return f.controller.t("UEB")})),a.createElement(y,{predicate:function(){return f.controller.getBrailleMode()!=="none"}},function(){return a.createElement("div",{class:a.const("dcg-checkbox-title dcg-six-key-checkbox")},a.createElement(d.Checkbox,{ariaLabel:function(){return f.controller.t("Six Key Braille Input")},onChange:function(S){return f.controller.dispatch({type:"set-six-key-input",useSixKeyInput:S})},checked:function(){return f.controller.getSixKeyInput()},green:f.const(!0)},function(){return f.controller.t("Six Key Braille Input")}),a.createElement("a",{href:a.const("https://www.desmos.com/accessibility#braille"),class:a.const("dcg-six-key-info"),target:a.const("_blank")},a.createElement("i",{class:a.const("dcg-icon-question-sign")})))})),a.createElement("div",{class:a.const("dcg-top-section-flex dcg-grid-settings-container")},a.createElement("div",{class:a.const("dcg-grid-settings")},a.createElement(d.Checkbox,{ariaLabel:function(){return f.controller.t("Grid")},onChange:f.bindFn(f.toggleGrid),checked:f.bindFn(f.getShowGrid),green:f.const(!0)},function(){return f.controller.t("Grid")}),a.createElement(y,{predicate:f.bindFn(f.getShowGrid)},function(){return a.createElement("div",{class:a.const("dcg-circle-icon-group dcg-grid-group")},a.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-cartesian":!0,"dcg-active":!f.getPolarMode()}},role:a.const("button"),tabindex:a.const("0"),ariaPressed:function(){return!f.getPolarMode()},"aria-label":function(){return f.controller.t("Cartesian Grid")},onTap:f.bindFn(f.setCartesianMode)}),a.const(""),a.createElement("div",{class:function(){return{"dcg-circle-icon":!0,"dcg-action-polar":!0,"dcg-active":f.getPolarMode()}},role:a.const("button"),tabindex:a.const("0"),ariaPressed:function(){return f.getPolarMode()},"aria-label":function(){return f.controller.t("Polar Grid")},onTap:f.bindFn(f.setPolarMode)}))}),a.createElement(d.Checkbox,{ariaLabel:function(){return f.controller.t("Arrows")},onChange:f.bindFn(f.toggleArrows),checked:function(){return f.getAxisArrowMode()!==s.AxisArrowModes.NONE},green:f.const(!0)},function(){return f.controller.t("Arrows")}),a.createElement(y,{predicate:function(){return f.getAxisArrowMode()!==s.AxisArrowModes.NONE}},function(){return a.createElement("div",{class:a.const("dcg-circle-icon-group dcg-arrow-group")},a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":f.getAxisArrowMode()===s.AxisArrowModes.BOTH}},"dcg-arrows":a.const("BOTH"),"aria-label":function(){return f.controller.t("Show Both")},"aria-pressed":function(){return f.getAxisArrowMode()===s.AxisArrowModes.BOTH},onTap:function(){return f.setAxisArrowMode(s.AxisArrowModes.BOTH)}},a.createElement("i",{class:a.const("dcg-icon-arrows-two")})),a.const(""),a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),class:function(){return{"dcg-circle-icon":!0,"dcg-arrows":!0,"dcg-active":f.getAxisArrowMode()===s.AxisArrowModes.POSITIVE}},"dcg-arrows":a.const("POSITIVE"),"aria-label":function(){return f.controller.t("Show Positive")},"aria-pressed":function(){return f.getAxisArrowMode()===s.AxisArrowModes.POSITIVE},onTap:function(){return f.setAxisArrowMode(s.AxisArrowModes.POSITIVE)}},a.createElement("i",{class:a.const("dcg-icon-arrows-one")})))})),a.createElement("div",{class:a.const("dcg-top-checkboxes-container")},a.createElement(d.Checkbox,{ariaLabel:function(){return f.controller.t("Axis Numbers")},onChange:f.bindFn(f.toggleAxisNumbers),checked:f.bindFn(f.getAxisNumbers),small:f.const(!0),green:f.const(!0)},function(){return f.controller.t("Axis Numbers")}),a.createElement(y,{predicate:function(){return f.getShowGrid()&&!f.getPolarMode()}},function(){return a.createElement(d.Checkbox,{ariaLabel:function(){return f.controller.t("Minor Gridlines")},onChange:f.bindFn(f.toggleMinorGridlines),checked:f.bindFn(f.getMinorGridlines),small:f.const(!0),green:f.const(!0)},function(){return f.controller.t("Minor Gridlines")})}),a.createElement(y,{predicate:function(){return f.controller.canUseAdvancedStyling()&&!f.getPolarMode()}},function(){return a.createElement(d.Checkbox,{checked:function(){return f.controller.getGraphSettings().restrictGridToFirstQuadrant},ariaLabel:f.const("One Quadrant"),onChange:function(S){return f.controller.dispatch({type:"set-graph-settings",restrictGridToFirstQuadrant:S})},small:f.const(!0),green:f.const(!0)},a.const("One Quadrant"))}),a.createElement(y,{predicate:function(){return!f.getSquareAxes()}},function(){return a.createElement("div",{role:a.const("button"),tabindex:a.const("0"),class:a.const("dcg-action-zoom-square dcg-btn-light-gray"),onTap:f.bindFn(f.zoomSquare)},function(){return f.controller.t("Zoom Square")})}))),a.createElement("div",{class:a.const("dcg-axes-settings-container")},a.createElement("div",{class:a.const("dcg-checkbox-title dcg-x-axis-title")},a.createElement(d.Checkbox,{ariaLabel:function(){return f.controller.t("X-Axis")},onChange:f.bindFn(f.toggleXAxis),checked:f.bindFn(f.getShowXAxis),green:f.const(!0)},function(){return f.controller.t("X-Axis")}),a.createElement(m,{class:f.const("dcg-axis-label dcg-x-axis-label"),placeholder:function(){return f.controller.t("add a label")},"aria-label":function(){return f.controller.t("add x-axis label")},disabled:function(){return!f.getShowXAxis()||void 0},"aria-disabled":function(){return!f.getShowXAxis()||void 0},onInput:f.bindFn(f.onXAxisLabelInput),value:f.bindFn(f.getXAxisLabel)})),a.createElement("div",{class:a.const("dcg-editable-mathquill-container dcg-x-axis-options")},a.createElement(v,{limit:f.const("xmin"),ariaLabel:function(){return f.controller.t("X Axis Minimum: ")},needsSystemKeypad:function(){return!f.controller.isKeypadEnabled()},parent:f.const(f),controller:f.props.controller}),a.createElement(l.default,{latex:f.const("\\le x\\le")},a.createElement("span",{class:a.const("dcg-interval-interior")})),a.createElement(v,{limit:f.const("xmax"),ariaLabel:function(){return f.controller.t("X Axis Maximum: ")},needsSystemKeypad:function(){return!f.controller.isKeypadEnabled()},parent:f.const(f),controller:f.props.controller}),a.createElement(y,{predicate:function(){return!f.getPolarMode()}},function(){return a.createElement("span",{class:a.const("dcg-step-container")},a.createElement("span",{class:a.const("dcg-step-label"),"aria-hidden":a.const("true")},function(){return f.controller.t("Step:")}),a.createElement(v,{limit:f.const("xstep"),ariaLabel:function(){return f.controller.t("X Axis Step Size: ")},needsSystemKeypad:function(){return!f.controller.isKeypadEnabled()},parent:f.const(f),controller:f.props.controller}))})),a.createElement("div",{class:a.const("dcg-checkbox-title dcg-y-axis-title")},a.createElement(d.Checkbox,{ariaLabel:function(){return f.controller.t("Y-Axis")},onChange:f.bindFn(f.toggleYAxis),checked:f.bindFn(f.getShowYAxis),green:f.const(!0)},function(){return f.controller.t("Y-Axis")}),a.createElement(m,{class:f.const("dcg-axis-label dcg-y-axis-label"),placeholder:function(){return f.controller.t("add a label")},"aria-label":function(){return f.controller.t("add y-axis label")},disabled:function(){return!f.getShowYAxis()||void 0},"aria-disabled":function(){return!f.getShowYAxis()||void 0},onInput:f.bindFn(f.onYAxisLabelInput),value:f.bindFn(f.getYAxisLabel)})),a.createElement("div",{class:a.const("dcg-editable-mathquill-container dcg-y-axis-options")},a.createElement(v,{limit:f.const("ymin"),ariaLabel:function(){return f.controller.t("Y Axis Minimum: ")},needsSystemKeypad:function(){return!f.controller.isKeypadEnabled()},parent:f.const(f),controller:f.props.controller}),a.createElement(l.default,{latex:f.const("\\le y\\le")},a.createElement("span",{class:a.const("dcg-interval-interior")})),a.createElement(v,{limit:f.const("ymax"),ariaLabel:function(){return f.controller.t("Y Axis Maximum: ")},needsSystemKeypad:function(){return!f.controller.isKeypadEnabled()},parent:f.const(f),controller:f.props.controller}),a.createElement(y,{predicate:function(){return!f.getPolarMode()}},function(){return a.createElement("span",{class:a.const("dcg-step-container")},a.createElement("span",{class:a.const("dcg-step-label"),"aria-hidden":a.const("true")},function(){return f.controller.t("Step:")}),a.createElement(v,{limit:f.const("ystep"),ariaLabel:function(){return f.controller.t("Y Axis Step Size: ")},needsSystemKeypad:function(){return!f.controller.isKeypadEnabled()},parent:f.const(f),controller:f.props.controller}))}))),a.createElement("div",{class:a.const("dcg-radiangroup"),role:a.const("group"),"aria-label":function(){return f.controller.t("Angle Settings")}},a.createElement("div",{class:function(){return{"dcg-action-radianmode":!0,"dcg-modern-btn":!0,"dcg-active":!f.getDegreeMode()}},"aria-pressed":function(){return!f.getDegreeMode()},role:a.const("button"),tabindex:a.const("0"),"aria-label":function(){return f.controller.t("Radians")},onTap:f.bindFn(f.setRadianMode)},function(){return f.controller.t("Radians")}),a.createElement("div",{class:function(){return{"dcg-action-degreemode":!0,"dcg-modern-btn":!0,"dcg-active":f.getDegreeMode()}},"aria-pressed":f.bindFn(f.getDegreeMode),role:a.const("button"),tabindex:a.const("0"),"aria-label":function(){return f.controller.t("Degrees")},onTap:f.bindFn(f.setDegreeMode),manageFocus:f.const(i.manageFocusHelper({controller:f.controller,location:{type:"settings",location:"degree-mode"}}))},function(){return f.controller.t("Degrees")})),a.createElement("div",{class:a.const("dcg-arrow")})))}))},b.prototype.didMountContainer=function(f){var S=this;this.node=f,o(document).on("dcg-tapstart.settings-view wheel.settings-view",function(j){S.eventShouldClosePopover(j)&&S.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:j.device==="keyboard"})}),o(document).on("keydown.settings-view",function(j){if(e.lookup(j)==="Esc"&&S.controller.dispatch({type:"close-graph-settings",focusIconAfterClose:!0}),S.controller.isGraphSettingsOpen()&&e.lookup(j)==="Tab"&&!j.altKey&&!j.metaKey&&!j.ctrlKey){var Q=S.controller.getFocusLocation();if(!Q||Q.type!=="settings")return;j.shiftKey||Q.location!=="degree-mode"?j.shiftKey&&Q.location==="icon"&&(S.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"degree-mode"}}),j.preventDefault(),j.stopPropagation()):(S.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:"icon"}}),j.preventDefault(),j.stopPropagation())}})},b.prototype.didUnmountContainer=function(){o(document).off(".settings-view")},b.prototype.didUpdate=function(){if(this.controller.isGraphSettingsOpen()){var f=this.controller.getKeypadHeight();f!==this.cachedKeypadHeight&&document.activeElement&&o(document.activeElement).closest(this.node).length&&c.scrollVisible(o(document.activeElement),o(this.node).find(".dcg-popover-interior"),50),this.cachedKeypadHeight=f}},b.prototype.eventShouldClosePopover=function(f){var S=o(f.target),j=!!S.closest(this.node).length,Q=!!S.closest(".dcg-action-settings").length,G=this.isMathquillFocused()&&S.closest(".dcg-keypad").length,q=!!S.closest(".dcg-action-undo").length||!!S.closest(".dcg-action-redo").length;return!(j||Q||G||q)},b.prototype.onTapSettingsButton=function(f){this.controller.dispatch({type:"toggle-graph-settings",focusOnOpen:f.device==="keyboard"})},b.prototype.isMathquillFocused=function(){return this.getFocusedLimit()!==void 0},b.prototype.getLimitLatex=function(f){return this.controller.getSettingsViewModel().limitLatex[f]},b.prototype.setLimitLatex=function(f,S){S!==this.controller.getSettingsViewModel().limitLatex[f]&&this.controller.dispatch({type:"set-axis-limit-latex",limit:f,latex:S})},b.prototype.getFocusedLimit=function(){var f=this.controller.getFocusLocation();if(f&&f.type==="settings")return f.location},b.prototype.getInvalidLimits=function(){var f=!!this.controller.getGraphSettings().degreeMode,S=p.default(this.getLimitLatex("xmin"),f),j=p.default(this.getLimitLatex("xmax"),f),Q=p.default(this.getLimitLatex("ymin"),f),G=p.default(this.getLimitLatex("ymax"),f),q=this.getLimitLatex("xstep")===""?0:p.default(this.getLimitLatex("xstep"),f),L=this.getLimitLatex("ystep")===""?0:p.default(this.getLimitLatex("ystep"),f),M={},D=new g.Viewport(S,j,Q,G);return isFinite(S)&&isFinite(j)?(M.xmin=!D.isXValid(),M.xmax=M.xmin):(M.xmin=!isFinite(S),M.xmax=!isFinite(j)),isFinite(Q)&&isFinite(G)?(M.ymin=!D.isYValid(),M.ymax=M.ymin):(M.ymin=!isFinite(Q),M.ymax=!isFinite(G)),M.xstep=!isFinite(q)||q<0,M.ystep=!isFinite(L)||L<0,M},b.prototype.isLimitInvalid=function(f){return this.getInvalidLimits()[f]},b.prototype.onFocusedChanged=function(f,S){S?this.controller.dispatch({type:"set-focus-location",location:{type:"settings",location:f}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"settings",location:f}})},b.prototype.onXAxisLabelInput=function(f){this.controller.dispatch({type:"set-graph-settings",xAxisLabel:f})},b.prototype.onYAxisLabelInput=function(f){this.controller.dispatch({type:"set-graph-settings",yAxisLabel:f})},b.prototype.getXAxisLabel=function(){return this.controller.getGraphSettings().xAxisLabel},b.prototype.getYAxisLabel=function(){return this.controller.getGraphSettings().yAxisLabel},b.prototype.getShowXAxis=function(){return!!this.controller.getGraphSettings().showXAxis},b.prototype.toggleXAxis=function(){this.controller.dispatch({type:"set-graph-settings",showXAxis:!this.getShowXAxis()})},b.prototype.getShowYAxis=function(){return!!this.controller.getGraphSettings().showYAxis},b.prototype.toggleYAxis=function(){this.controller.dispatch({type:"set-graph-settings",showYAxis:!this.getShowYAxis()})},b.prototype.getAxisNumbers=function(){return!!this.controller.getGraphSettings().xAxisNumbers},b.prototype.toggleAxisNumbers=function(){var f=this.getAxisNumbers();this.controller.dispatch({type:"set-graph-settings",xAxisNumbers:!f,yAxisNumbers:!f,polarNumbers:!f})},b.prototype.getMinorGridlines=function(){return this.controller.getGraphSettings().xAxisMinorSubdivisions===0},b.prototype.toggleMinorGridlines=function(){var f=this.getMinorGridlines()?1:0;this.controller.dispatch({type:"set-graph-settings",yAxisMinorSubdivisions:f,xAxisMinorSubdivisions:f})},b.prototype.getPolarMode=function(){return!!this.controller.getGraphSettings().polarMode},b.prototype.setPolarMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!0})},b.prototype.setCartesianMode=function(){this.controller.dispatch({type:"set-graph-settings",polarMode:!1})},b.prototype.getDegreeMode=function(){return!!this.controller.getGraphSettings().degreeMode},b.prototype.setRadianMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!1})},b.prototype.setDegreeMode=function(){this.controller.dispatch({type:"set-graph-settings",degreeMode:!0})},b.prototype.getProjectorMode=function(){return!!this.controller.getGraphSettings().config.projectorMode},b.prototype.toggleInvertedColors=function(){this.controller.dispatch({type:"set-inverted-colors",value:!this.controller.getInvertedColors()})},b.prototype.toggleProjectorMode=function(){this.controller.dispatch({type:"set-projector-mode",value:!this.getProjectorMode()})},b.prototype.getAxisArrowMode=function(){return this.controller.getGraphSettings().xAxisArrowMode},b.prototype.setAxisArrowMode=function(f){this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:f,yAxisArrowMode:f})},b.prototype.getShowGrid=function(){return this.controller.getGraphSettings().showGrid},b.prototype.toggleGrid=function(){this.controller.dispatch({type:"set-graph-settings",showGrid:!this.getShowGrid()})},b.prototype.toggleArrows=function(){var f=this.getAxisArrowMode()===s.AxisArrowModes.NONE?s.AxisArrowModes.BOTH:s.AxisArrowModes.NONE;this.controller.dispatch({type:"set-graph-settings",xAxisArrowMode:f,yAxisArrowMode:f})},b.prototype.getSquareAxes=function(){return!!this.controller.getGraphSettings().squareAxes},b.prototype.getContainerStyle=function(){return this.controller.getKeypadHeight()?"bottom: 0":""},b.prototype.zoomSquare=function(){this.controller.dispatch({type:"zoom",direction:"square"})},b.prototype.getCapExpressionSize=function(){return!!this.controller.getGraphSettings().config.capExpressionSize},b}(a.Class);u.default=x}),$("main/zoom-buttons-view",["require","exports","tslib","dcgview","lib/tooltip","loadcss!pillboxes"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return w.__extends(l,a),l.prototype.init=function(){this.controller=this.props.controller()},l.prototype.template=function(){var h=this;return e.createElement("div",{class:e.const("dcg-zoom-container")},e.createElement("div",{class:e.const("dcg-zoominout-pillbox dcg-btn-flat-gray dcg-btn-flat-gray-group"),style:function(){return{background:h.controller.getPillboxBackgroundColor()}}},e.createElement(c.Tooltip,{tooltip:function(){return h.controller.t("Zoom In")},gravity:this.const("w")},e.createElement("div",{class:e.const("dcg-action-zoomin"),role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return h.controller.t("Zoom In")},onTap:this.bindFn(this.zoomIn),style:function(){return{background:h.controller.getPillboxBackgroundColor()}}},e.createElement("i",{class:e.const("dcg-icon dcg-icon-plus"),"aria-hidden":e.const("true")}))),e.createElement(c.Tooltip,{tooltip:function(){return h.controller.t("Zoom Out")},gravity:this.const("w")},e.createElement("div",{class:e.const("dcg-option dcg-action-zoomout dcg-tooltip-e"),tooltip:function(){return h.controller.t("Zoom Out")},role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return h.controller.t("Zoom Out")},onTap:this.bindFn(this.zoomOut),style:function(){return{background:h.controller.getPillboxBackgroundColor()}}},e.createElement("i",{class:e.const("dcg-icon dcg-icon-minus"),"aria-hidden":e.const("true")})))),e.createElement(c.Tooltip,{tooltip:function(){return h.controller.t("Default Zoom")},gravity:this.const("w")},e.createElement("div",{class:function(){return{"dcg-btn-flat-gray":!0,"dcg-option":!0,"dcg-action-zoomrestore":!0,"dcg-disabled":h.getZoomedDefault()}},"aria-disabled":this.bindFn(this.getZoomedDefault),role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return h.controller.t("Restore Default Zoom")},onTap:this.bindFn(this.zoomRestore),style:function(){return{background:h.controller.getPillboxBackgroundColor()}}},e.createElement("i",{class:e.const("dcg-icon dcg-icon-home"),"aria-hidden":e.const("true")}))))},l.prototype.zoomIn=function(){this.controller.dispatch({type:"zoom",direction:"in"})},l.prototype.zoomOut=function(){this.controller.dispatch({type:"zoom",direction:"out"})},l.prototype.zoomRestore=function(){this.controller.dispatch({type:"zoom",direction:"default"})},l.prototype.getZoomedDefault=function(){return this.controller.getGraphSettings().zoomedDefault},l}(e.Class);u.default=t}),$("main/reset-button-view",["require","exports","tslib","dcgview","lib/tooltip","loadcss!pillboxes"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return w.__extends(l,a),l.prototype.init=function(){this.controller=this.props.controller()},l.prototype.template=function(){var h=this;return e.createElement("div",{class:e.const("dcg-reset-container")},e.createElement(c.Tooltip,{tooltip:function(){return h.controller.t("Reset")},gravity:this.const("w")},e.createElement("div",{class:e.const("dcg-reset-pillbox dcg-action-reset dcg-btn-flat-gray"),role:e.const("button"),tabindex:e.const("0"),"aria-label":function(){return h.controller.t("Reset")},onTap:this.bindFn(this.reset),style:function(){return{background:h.controller.getPillboxBackgroundColor()}}},e.createElement("i",{class:e.const("dcg-icon dcg-icon-reset"),"aria-hidden":e.const("true")}))))},l.prototype.reset=function(){this.controller.dispatch({type:"reset-graph"})},l}(e.Class);u.default=t}),$("main/pillbox-view",["require","exports","tslib","dcgview","./graphpaper-branding-view","./settings-view","./zoom-buttons-view","./reset-button-view","loadcss!pillboxes"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components.If,o=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(p,s),p.prototype.init=function(){this.controller=this.props.controller()},p.prototype.template=function(){var g=this;return e.createElement("div",null,e.createElement(h,{predicate:this.bindFn(this.shouldShowContainer)},function(){return e.createElement("div",{class:e.const("dcg-pillbox-container"),role:e.const("group"),"aria-label":function(){return g.controller.t("Graph Settings Controls")}},e.createElement("div",{class:e.const("dcg-overgraph-pillbox-elements"),style:g.bindFn(g.getContainerStyle)},e.createElement(h,{predicate:g.bindFn(g.shouldShowSettings)},function(){return e.createElement(t.default,{controller:g.props.controller})}),e.createElement(h,{predicate:g.bindFn(g.shouldShowResetButton)},function(){return e.createElement(l.default,{controller:g.props.controller})}),e.createElement(h,{predicate:g.bindFn(g.shouldShowZoomButtons)},function(){return e.createElement(a.default,{controller:g.props.controller})})))}),e.createElement(c.default,{controller:function(){return g.props.controller()}}))},p.prototype.getContainerStyle=function(){var g=this.controller.isKeypadOpen()?this.controller.getKeypadHeight():0;return this.controller.isGraphSettingsOpen()?"bottom: "+g+"px;":"bottom: auto"},p.prototype.shouldShowContainer=function(){return this.shouldShowSettings()||this.shouldShowZoomButtons()||this.shouldShowResetButton()},p.prototype.shouldShowSettings=function(){return this.controller.getGraphSettings().config.settingsMenu},p.prototype.shouldShowZoomButtons=function(){return this.controller.getGraphSettings().config.zoomButtons},p.prototype.shouldShowResetButton=function(){return this.controller.getGraphSettings().config.showResetButtonOnGraphpaper&&this.controller.hasDefaultState()},p}(e.Class);u.default=o}),$("loadcss!main/toast-view",function(){}),$("main/toast-view",["require","exports","tslib","dcgview","loadcss!./toast-view"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=e.Components.If,t=function(l){function h(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(h,l),h.prototype.template=function(){var o=this;return e.createElement("span",{class:e.const("dcg-toast")},e.createElement("i",{class:e.const("dcg-icon-error")}),e.createElement(c,{predicate:function(){return!o.props.showUndo()&&(!o.props.showClose||o.props.showClose())}},function(){return e.createElement("i",{class:e.const("dcg-icon-remove"),onTap:function(){return o.props.onClose&&o.props.onClose()},role:e.const("link"),tabindex:e.const(0),"aria-label":e.const("Dismiss Notice")})}),e.createElement("span",{class:e.const("dcg-msg"),"aria-atomic":function(){return!o.props.noAria()},"aria-live":function(){return o.props.noAria()?"":"assertive"}},function(){return o.props.t(o.props.message())}),e.createElement(c,{predicate:this.props.showUndo},function(){return e.createElement("a",{role:e.const("link"),tabindex:e.const(0),class:e.const("dcg-undo"),onTap:function(){return o.props.onUndo&&o.props.onUndo()}},function(){return o.props.t("Undo")})}),e.createElement(c,{predicate:this.props.showLearnMore},function(){return e.createElement("a",{role:e.const("link"),tabindex:e.const(0),class:e.const("dcg-learn-more-link"),target:e.const("_blank"),onTap:function(){return o.props.onLearnMore&&o.props.onLearnMore()}},function(){return o.props.t("Learn more")})}),e.createElement(c,{predicate:function(){return!!o.props.link&&!!o.props.link()}},function(){return e.createElement("a",{role:e.const("link"),tabindex:e.const(0),class:e.const("dcg-learn-more-link"),target:e.const("_blank"),href:function(){return o.props.link().url}},function(){return o.props.link().text})}))},h.prototype.shouldUpdate=function(){return!!this.props.message()},h}(e.Class),a=function(l){function h(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(h,l),h.prototype.template=function(){var o=this;return e.createElement("div",{class:function(){return{"dcg-toast-view":!0,"dcg-visible":!!o.props.message()}},"toast-style":function(){return o.props.toastStyle&&o.props.toastStyle()}},e.createElement(c,{predicate:function(){return!!o.props.message()}},function(){return e.createElement("div",{class:e.const("dcg-toast-wrapper")},e.createElement("div",{class:e.const("dcg-toast-cover")}),e.createElement(t,w.__assign({},o.props)))}))},h}(e.Class);u.ToastView=a}),$("main/disable-dragdrop-events",["require","exports"],function(B,u){function w(e){e.on("drag dragend dragenter dragover dragleave drop",function(c){c.preventDefault(),c.stopPropagation()})}Object.defineProperty(u,"__esModule",{value:!0}),u.default=w}),$("graphing-calc/views/main",["require","exports","tslib","touchtracking","ipad.scrollfix","dcgview","jquery","../../expressions/list-view","graphing-calc/keypads/main","main/pillbox-view","main/toast-view","main/disable-dragdrop-events","lib/tooltip"],function(B,u,w,e,c,t,a,l,h,o,s,p,g){Object.defineProperty(u,"__esModule",{value:!0});var d=t.Components.If,i=function(n){function r(){return n!==null&&n.apply(this,arguments)||this}return w.__extends(r,n),r.prototype.init=function(){this.controller=this.props.controller()},r.prototype.settings=function(){return this.controller.getGraphSettings()},r.prototype.template=function(){var m=this;return t.createElement("div",{class:t.const("dcg-calculator-api-container"),style:t.const("width: 100%; height: 100%; position: relative;")},t.createElement("div",{class:function(){return{"dcg-container":!0,"dcg-fullscreen":!m.controller.isListVisible(),"dcg-narrow":m.controller.isNarrow(),"dcg-PROJECTOR-MODE":m.settings().config.projectorMode,"dcg-inverted-colors":!!m.settings().config.invertedColors,"dcg-EDIT-LIST-MODE":m.controller.isInEditListMode(),"dcg-no-graphpaper":!m.settings().config.graphpaper,"dcg-no-branding":!m.settings().config.branding,"dcg-no-expression-topbar":!m.settings().config.expressionsTopbar,"dcg-default-border":!!m.settings().config.border,"dcg-no-hyperlinks":!m.settings().config.links,"dcg-has-background-color":m.controller.hasBackgroundColor(),"dcg-is-interactive":m.settings().config.expressions||!m.settings().config.lockViewport}},style:function(){return{"font-size":m.settings().config.fontSize+"px",background:m.getContainerBackgroundColor(),color:m.controller.getTextColor()}},role:t.const("application"),"aria-label":function(){return m.controller.t("Desmos Graphing Calculator")},"x-ms-format-detection":t.const("none"),didMount:this.bindFn(this.didMountRoot)},t.createElement(d,{predicate:function(){return m.controller.getGraphSettings().config.expressions}},function(){return t.createElement(l.default,{controller:m.props.controller})}),t.createElement(d,{predicate:function(){return m.controller.isListEnabled()&&!m.controller.isListVisible()}},function(){return t.createElement("div",{class:function(){return{"dcg-overgraph-icon-container":!0,"dcg-bottom-right":m.controller.isNarrow()}}},t.createElement(g.Tooltip,{tooltip:function(){return m.controller.t("Show List")},gravity:function(){return m.controller.isNarrow()?"nw":"se"}},t.createElement("div",{class:function(){return{"dcg-show-expressions-tab":!0,"dcg-overgraph-icon":!0,"dcg-rotated":m.controller.isNarrow()}},"aria-label":function(){return m.controller.t("Show List")},role:t.const("button"),tabindex:t.const("0"),onTap:function(){return m.controller.dispatch({type:"show-expressions-list"})}},t.createElement("i",{class:t.const("dcg-icon-show")}))))}),t.createElement(d,{predicate:this.bindFn(this.showHamburger)},function(){return t.createElement("div",{class:t.const("dcg-overgraph-icon-container")},t.createElement(g.Tooltip,{tooltip:function(){return m.controller.t("Open Graph")},gravity:m.const("se")},t.createElement("div",{role:t.const("button"),"aria-label":function(){return m.controller.t("Open Graph")},class:t.const("dcg-action-opendrawer dcg-in-api-action-opendrawer dcg-overgraph-icon"),onTap:function(){return m.controller.dispatch({type:"open-drawer"})}},t.createElement("i",{class:t.const("dcg-icon-hamburger")}))))}),t.createElement(o.default,{controller:this.props.controller}),t.createElement(s.ToastView,{message:function(){var y=m.controller.getToastData().message;return y||""},link:function(){return m.controller.getToastData().link||void 0},showUndo:function(){return!!m.controller.getToastData().undoCallback},showLearnMore:function(){return!!m.controller.getToastData().learnMoreCallback},noAria:function(){return!!m.controller.getToastData().noAria},toastStyle:function(){return m.controller.getToastData().toastStyle},t:this.controller.t,onUndo:function(){return m.controller.dispatch({type:"toast/undo"})},onLearnMore:function(){return m.controller.dispatch({type:"toast/learn-more"})},onClose:function(){return m.controller.dispatch({type:"toast/close"})}}),t.createElement("div",{class:t.const("dcg-grapher")}),t.createElement(d,{predicate:function(){return m.controller.getGraphSettings().config.keypad}},function(){return t.createElement(h.default,{controller:m.props.controller})})))},r.prototype.showHamburger=function(){return!!this.controller.getGraphSettings().config.showHamburger&&!this.controller.isInEditListMode()&&this.controller.isNarrow()},r.prototype.getContainerBackgroundColor=function(){return this.controller.hasTransparentBackground()?"none":this.controller.getBackgroundColor()},r.prototype.didMountRoot=function(m){e.monitor(m),this.controller.getGraphSettings().config.disableScrollFix||c.limitScrollOnElement(m),this.setupFileDragDrop(m)},r.prototype.setupFileDragDrop=function(m){function y(){E=a(),x.off(".filedraggedover"),b.controller.dispatch({type:"file-is-not-dragged-over"})}var v=this,x=a(m);p.default(x);var E=a(),b=this;x.on("dragenter",function(f){v.controller.areImagesEnabled()&&(E.length===0&&x.on("dcg-tapstart.filedraggedover",y),E=E.add(f.target),v.controller.dispatch({type:"file-is-dragged-over"}))}).on("dragleave",function(f){E=E.not(f.target),E.length===0&&y()}).on("drop",y)},r}(t.Class);u.default=i}),$("worker/workerpoolconnection",["require","pjs","underscore_model"],function(B){return B("pjs")(B("underscore_model").UnderscoreModel,function(u,w){u.init=function(e){w.init.call(this),this.workerPool=e,this.worker=e.allocateWorker(),this.worker.__connections[this.guid]=this},u.destroy=function(){this.sendMessage({type:"destroy"}),delete this.worker.__connections[this.guid]},u.killWorker=function(){this.worker.__isFake||this.workerPool.killWorker(this.worker)},u.onWorkerKilled=function(){},u.onResponse=function(e){},u.sendMessage=function(e){this.worker.__isFake?this.worker.postMessage(e):this.worker.postMessage({connectionId:this.guid,originalMessage:e})}})}),$("text!worker_src_underlying",[],function(){return`var requirejs,require,define;!function(e){function t(e,t){return g.call(e,t)}function r(e,t){var r,n,i,a,o,s,u,c,l,p,f=t&&t.split("/"),h=m.map,d=h&&h["*"]||{};if(e&&"."===e.charAt(0))if(t){for(f=f.slice(0,f.length-1),e=f.concat(e.split("/")),c=0;c<e.length;c+=1)if("."===(p=e[c]))e.splice(c,1),c-=1;else if(".."===p){if(1===c&&(".."===e[2]||".."===e[0]))break;c>0&&(e.splice(c-1,2),c-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((f||d)&&h){for(r=e.split("/"),c=r.length;c>0;c-=1){if(n=r.slice(0,c).join("/"),f)for(l=f.length;l>0;l-=1)if((i=h[f.slice(0,l).join("/")])&&(i=i[n])){a=i,o=c;break}if(a)break;!s&&d&&d[n]&&(s=d[n],u=c)}!a&&s&&(a=s,o=u),a&&(r.splice(0,o,a),e=r.join("/"))}return e}function n(t,r){return function(){return l.apply(e,v.call(arguments,0).concat([t,r]))}}function i(e){return function(t){return r(t,e)}}function a(e){return function(t){h[e]=t}}function o(r){if(t(d,r)){var n=d[r];delete d[r],y[r]=!0,c.apply(e,n)}if(!t(h,r)&&!t(y,r))throw new Error("No "+r);return h[r]}function s(e){var t,r=e?e.indexOf("!"):-1;return r>-1&&(t=e.substring(0,r),e=e.substring(r+1,e.length)),[t,e]}function u(e){return function(){return m&&m.config&&m.config[e]||{}}}var c,l,p,f,h={},d={},m={},y={},g=Object.prototype.hasOwnProperty,v=[].slice;p=function(e,t){var n,a=s(e),u=a[0];return e=a[1],u&&(u=r(u,t),n=o(u)),u?e=n&&n.normalize?n.normalize(e,i(t)):r(e,t):(e=r(e,t),a=s(e),u=a[0],e=a[1],u&&(n=o(u))),{f:u?u+"!"+e:e,n:e,pr:u,p:n}},f={require:function(e){return n(e)},exports:function(e){var t=h[e];return void 0!==t?t:h[e]={}},module:function(e){return{id:e,uri:"",exports:h[e],config:u(e)}}},c=function(r,i,s,u){var c,l,m,g,v,b,x=[];if(u=u||r,"function"==typeof s){for(i=!i.length&&s.length?["require","exports","module"]:i,v=0;v<i.length;v+=1)if(g=p(i[v],u),"require"===(l=g.f))x[v]=f.require(r);else if("exports"===l)x[v]=f.exports(r),b=!0;else if("module"===l)c=x[v]=f.module(r);else if(t(h,l)||t(d,l)||t(y,l))x[v]=o(l);else{if(!g.p)throw new Error(r+" missing "+l);g.p.load(g.n,n(u,!0),a(l),{}),x[v]=h[l]}m=s.apply(h[r],x),r&&(c&&c.exports!==e&&c.exports!==h[r]?h[r]=c.exports:m===e&&b||(h[r]=m))}else r&&(h[r]=s)},requirejs=require=l=function(t,r,n,i,a){return"string"==typeof t?f[t]?f[t](r):o(p(t,r).f):(t.splice||(m=t,r.splice?(t=r,r=n,n=null):t=e),r=r||function(){},"function"==typeof n&&(n=i,i=a),i?c(e,t,r,n):setTimeout(function(){c(e,t,r,n)},4),l)},l.config=function(e){return m=e,m.deps&&l(m.deps,m.callback),l},define=function(e,r,n){r.splice||(n=r,r=[]),t(h,e)||t(d,e)||(d[e]=[e,r,n])},define.amd={jQuery:!0}}(),"undefined"!=typeof ALMOND_OVERRIDES&&ALMOND_OVERRIDES&&(define=ALMOND_OVERRIDES.define||define,require=ALMOND_OVERRIDES.require||require,requirejs=ALMOND_OVERRIDES.requirejs||requirejs),define("core/vendor/almond",function(){}),define("pjs",[],function(){return function(e,t,r){function n(e){return"object"==typeof e}function i(e){return"function"==typeof e}function a(){}function o(s,u){function c(){var e=new l;return i(e.init)&&e.init.apply(e,arguments),e}function l(){}u===r&&(u=s,s=Object),c.Bare=l;var p,f=a[e]=s[e],h=l[e]=c[e]=new a;return h.constructor=c,c.mixin=function(t){return l[e]=c[e]=o(c,t)[e],c},(c.open=function(e){if(p={},i(e)?p=e.call(c,h,f,c,s):n(e)&&(p=e),n(p))for(var r in p)t.call(p,r)&&(h[r]=p[r]);return i(h.init)||(h.init=s),c})(u)}return o}("prototype",{}.hasOwnProperty)}),function(){function e(e){function t(t,r,n,i,a,o){for(;a>=0&&a<o;a+=e){var s=i?i[a]:a;n=r(n,t[s],s,t)}return n}return function(r,n,i,a){n=b(n,a,4);var o=!w(r)&&v.keys(r),s=(o||r).length,u=e>0?0:s-1;return arguments.length<3&&(i=r[o?o[u]:u],u+=e),t(r,n,i,o,u,s)}}function t(e){return function(t,r,n){r=x(r,n);for(var i=D(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(r(t[a],a,t))return a;return-1}}function r(e,t,r){return function(n,i,a){var o=0,s=D(n);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(r&&a&&s)return a=r(n,i),n[a]===i?a:-1;if(i!==i)return a=t(l.call(n,o,s),v.isNaN),a>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&a<s;a+=e)if(n[a]===i)return a;return-1}}function n(e,t){var r=O.length,n=e.constructor,i=v.isFunction(n)&&n.prototype||s,a="constructor";for(v.has(e,a)&&!v.contains(t,a)&&t.push(a);r--;)(a=O[r])in e&&e[a]!==i[a]&&!v.contains(t,a)&&t.push(a)}var i=this,a=i._,o=Array.prototype,s=Object.prototype,u=Function.prototype,c=o.push,l=o.slice,p=s.toString,f=s.hasOwnProperty,h=Array.isArray,d=Object.keys,m=u.bind,y=Object.create,g=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):i._=v,v.VERSION="1.8.3";var b=function(e,t,r){if(void 0===t)return e;switch(null==r?3:r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)};case 4:return function(r,n,i,a){return e.call(t,r,n,i,a)}}return function(){return e.apply(t,arguments)}},x=function(e,t,r){return null==e?v.identity:v.isFunction(e)?b(e,t,r):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,t){return x(e,t,1/0)};var _=function(e,t){return function(r){var n=arguments.length;if(n<2||null==r)return r;for(var i=1;i<n;i++)for(var a=arguments[i],o=e(a),s=o.length,u=0;u<s;u++){var c=o[u];t&&void 0!==r[c]||(r[c]=a[c])}return r}},S=function(e){if(!v.isObject(e))return{};if(y)return y(e);g.prototype=e;var t=new g;return g.prototype=null,t},M=function(e){return function(t){return null==t?void 0:t[e]}},E=Math.pow(2,53)-1,D=M("length"),w=function(e){var t=D(e);return"number"==typeof t&&t>=0&&t<=E};v.each=v.forEach=function(e,t,r){t=b(t,r);var n,i;if(w(e))for(n=0,i=e.length;n<i;n++)t(e[n],n,e);else{var a=v.keys(e);for(n=0,i=a.length;n<i;n++)t(e[a[n]],a[n],e)}return e},v.map=v.collect=function(e,t,r){t=x(t,r);for(var n=!w(e)&&v.keys(e),i=(n||e).length,a=Array(i),o=0;o<i;o++){var s=n?n[o]:o;a[o]=t(e[s],s,e)}return a},v.reduce=v.foldl=v.inject=e(1),v.reduceRight=v.foldr=e(-1),v.find=v.detect=function(e,t,r){var n;if(void 0!==(n=w(e)?v.findIndex(e,t,r):v.findKey(e,t,r))&&-1!==n)return e[n]},v.filter=v.select=function(e,t,r){var n=[];return t=x(t,r),v.each(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n},v.reject=function(e,t,r){return v.filter(e,v.negate(x(t)),r)},v.every=v.all=function(e,t,r){t=x(t,r);for(var n=!w(e)&&v.keys(e),i=(n||e).length,a=0;a<i;a++){var o=n?n[a]:a;if(!t(e[o],o,e))return!1}return!0},v.some=v.any=function(e,t,r){t=x(t,r);for(var n=!w(e)&&v.keys(e),i=(n||e).length,a=0;a<i;a++){var o=n?n[a]:a;if(t(e[o],o,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,r,n){return w(e)||(e=v.values(e)),("number"!=typeof r||n)&&(r=0),v.indexOf(e,t,r)>=0},v.invoke=function(e,t){var r=l.call(arguments,2),n=v.isFunction(t);return v.map(e,function(e){var i=n?t:e[t];return null==i?i:i.apply(e,r)})},v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,r){var n,i,a=-1/0,o=-1/0;if(null==t&&null!=e){e=w(e)?e:v.values(e);for(var s=0,u=e.length;s<u;s++)(n=e[s])>a&&(a=n)}else t=x(t,r),v.each(e,function(e,r,n){((i=t(e,r,n))>o||i===-1/0&&a===-1/0)&&(a=e,o=i)});return a},v.min=function(e,t,r){var n,i,a=1/0,o=1/0;if(null==t&&null!=e){e=w(e)?e:v.values(e);for(var s=0,u=e.length;s<u;s++)(n=e[s])<a&&(a=n)}else t=x(t,r),v.each(e,function(e,r,n){((i=t(e,r,n))<o||i===1/0&&a===1/0)&&(a=e,o=i)});return a},v.shuffle=function(e){for(var t,r=w(e)?e:v.values(e),n=r.length,i=Array(n),a=0;a<n;a++)t=v.random(0,a),t!==a&&(i[a]=i[t]),i[t]=r[a];return i},v.sample=function(e,t,r){return null==t||r?(w(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,t))},v.sortBy=function(e,t,r){return t=x(t,r),v.pluck(v.map(e,function(e,r,n){return{value:e,index:r,criteria:t(e,r,n)}}).sort(function(e,t){var r=e.criteria,n=t.criteria;if(r!==n){if(r>n||void 0===r)return 1;if(r<n||void 0===n)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,r,n){var i={};return r=x(r,n),v.each(t,function(n,a){var o=r(n,a,t);e(i,n,o)}),i}};v.groupBy=T(function(e,t,r){v.has(e,r)?e[r].push(t):e[r]=[t]}),v.indexBy=T(function(e,t,r){e[r]=t}),v.countBy=T(function(e,t,r){v.has(e,r)?e[r]++:e[r]=1}),v.toArray=function(e){return e?v.isArray(e)?l.call(e):w(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:w(e)?e.length:v.keys(e).length},v.partition=function(e,t,r){t=x(t,r);var n=[],i=[];return v.each(e,function(e,r,a){(t(e,r,a)?n:i).push(e)}),[n,i]},v.first=v.head=v.take=function(e,t,r){if(null!=e)return null==t||r?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,r){return l.call(e,0,Math.max(0,e.length-(null==t||r?1:t)))},v.last=function(e,t,r){if(null!=e)return null==t||r?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,r){return l.call(e,null==t||r?1:t)},v.compact=function(e){return v.filter(e,v.identity)};var P=function(e,t,r,n){for(var i=[],a=0,o=n||0,s=D(e);o<s;o++){var u=e[o];if(w(u)&&(v.isArray(u)||v.isArguments(u))){t||(u=P(u,t,r));var c=0,l=u.length;for(i.length+=l;c<l;)i[a++]=u[c++]}else r||(i[a++]=u)}return i};v.flatten=function(e,t){return P(e,t,!1)},v.without=function(e){return v.difference(e,l.call(arguments,1))},v.uniq=v.unique=function(e,t,r,n){v.isBoolean(t)||(n=r,r=t,t=!1),null!=r&&(r=x(r,n));for(var i=[],a=[],o=0,s=D(e);o<s;o++){var u=e[o],c=r?r(u,o,e):u;t?(o&&a===c||i.push(u),a=c):r?v.contains(a,c)||(a.push(c),i.push(u)):v.contains(i,u)||i.push(u)}return i},v.union=function(){return v.uniq(P(arguments,!0,!0))},v.intersection=function(e){for(var t=[],r=arguments.length,n=0,i=D(e);n<i;n++){var a=e[n];if(!v.contains(t,a)){for(var o=1;o<r&&v.contains(arguments[o],a);o++);o===r&&t.push(a)}}return t},v.difference=function(e){var t=P(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(t,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var t=e&&v.max(e,D).length||0,r=Array(t),n=0;n<t;n++)r[n]=v.pluck(e,n);return r},v.object=function(e,t){for(var r={},n=0,i=D(e);n<i;n++)t?r[e[n]]=t[n]:r[e[n][0]]=e[n][1];return r},v.findIndex=t(1),v.findLastIndex=t(-1),v.sortedIndex=function(e,t,r,n){r=x(r,n,1);for(var i=r(t),a=0,o=D(e);a<o;){var s=Math.floor((a+o)/2);r(e[s])<i?a=s+1:o=s}return a},v.indexOf=r(1,v.findIndex,v.sortedIndex),v.lastIndexOf=r(-1,v.findLastIndex),v.range=function(e,t,r){null==t&&(t=e||0,e=0),r=r||1;for(var n=Math.max(Math.ceil((t-e)/r),0),i=Array(n),a=0;a<n;a++,e+=r)i[a]=e;return i};var I=function(e,t,r,n,i){if(!(n instanceof t))return e.apply(r,i);var a=S(e.prototype),o=e.apply(a,i);return v.isObject(o)?o:a};v.bind=function(e,t){if(m&&e.bind===m)return m.apply(e,l.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),n=function(){return I(e,n,t,this,r.concat(l.call(arguments)))};return n},v.partial=function(e){var t=l.call(arguments,1),r=function(){for(var n=0,i=t.length,a=Array(i),o=0;o<i;o++)a[o]=t[o]===v?arguments[n++]:t[o];for(;n<arguments.length;)a.push(arguments[n++]);return I(e,r,this,this,a)};return r},v.bindAll=function(e){var t,r,n=arguments.length;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++)r=arguments[t],e[r]=v.bind(e[r],e);return e},v.memoize=function(e,t){var r=function(n){var i=r.cache,a=""+(t?t.apply(this,arguments):n);return v.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return r.cache={},r},v.delay=function(e,t){var r=l.call(arguments,2);return setTimeout(function(){return e.apply(null,r)},t)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,r){var n,i,a,o=null,s=0;r||(r={});var u=function(){s=!1===r.leading?0:v.now(),o=null,a=e.apply(n,i),o||(n=i=null)};return function(){var c=v.now();s||!1!==r.leading||(s=c);var l=t-(c-s);return n=this,i=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),s=c,a=e.apply(n,i),o||(n=i=null)):o||!1===r.trailing||(o=setTimeout(u,l)),a}},v.debounce=function(e,t,r){var n,i,a,o,s,u=function(){var c=v.now()-o;c<t&&c>=0?n=setTimeout(u,t-c):(n=null,r||(s=e.apply(a,i),n||(a=i=null)))};return function(){a=this,i=arguments,o=v.now();var c=r&&!n;return n||(n=setTimeout(u,t)),c&&(s=e.apply(a,i),a=i=null),s}},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var r=t,n=e[t].apply(this,arguments);r--;)n=e[r].call(this,n);return n}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var r;return function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=null),r}},v.once=v.partial(v.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(e){if(!v.isObject(e))return[];if(d)return d(e);var t=[];for(var r in e)v.has(e,r)&&t.push(r);return C&&n(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var r in e)t.push(r);return C&&n(e,t),t},v.values=function(e){for(var t=v.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=e[t[i]];return n},v.mapObject=function(e,t,r){t=x(t,r);for(var n,i=v.keys(e),a=i.length,o={},s=0;s<a;s++)n=i[s],o[n]=t(e[n],n,e);return o},v.pairs=function(e){for(var t=v.keys(e),r=t.length,n=Array(r),i=0;i<r;i++)n[i]=[t[i],e[t[i]]];return n},v.invert=function(e){for(var t={},r=v.keys(e),n=0,i=r.length;n<i;n++)t[e[r[n]]]=r[n];return t},v.functions=v.methods=function(e){var t=[];for(var r in e)v.isFunction(e[r])&&t.push(r);return t.sort()},v.extend=_(v.allKeys),v.extendOwn=v.assign=_(v.keys),v.findKey=function(e,t,r){t=x(t,r);for(var n,i=v.keys(e),a=0,o=i.length;a<o;a++)if(n=i[a],t(e[n],n,e))return n},v.pick=function(e,t,r){var n,i,a={},o=e;if(null==o)return a;v.isFunction(t)?(i=v.allKeys(o),n=b(t,r)):(i=P(arguments,!1,!1,1),n=function(e,t,r){return t in r},o=Object(o));for(var s=0,u=i.length;s<u;s++){var c=i[s],l=o[c];n(l,c,o)&&(a[c]=l)}return a},v.omit=function(e,t,r){if(v.isFunction(t))t=v.negate(t);else{var n=v.map(P(arguments,!1,!1,1),String);t=function(e,t){return!v.contains(n,t)}}return v.pick(e,t,r)},v.defaults=_(v.allKeys,!0),v.create=function(e,t){var r=S(e);return t&&v.extendOwn(r,t),r},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var r=v.keys(t),n=r.length;if(null==e)return!n;for(var i=Object(e),a=0;a<n;a++){var o=r[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var A=function(e,t,r,n){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var i=p.call(e);if(i!==p.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(v.isFunction(o)&&o instanceof o&&v.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[],n=n||[];for(var u=r.length;u--;)if(r[u]===e)return n[u]===t;if(r.push(e),n.push(t),a){if((u=e.length)!==t.length)return!1;for(;u--;)if(!A(e[u],t[u],r,n))return!1}else{var c,l=v.keys(e);if(u=l.length,v.keys(t).length!==u)return!1;for(;u--;)if(c=l[u],!v.has(t,c)||!A(e[c],t[c],r,n))return!1}return r.pop(),n.pop(),!0};v.isEqual=function(e,t){return A(e,t)},v.isEmpty=function(e){return null==e||(w(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=h||function(e){return"[object Array]"===p.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(t){return p.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===p.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){return null!=e&&f.call(e,t)},v.noConflict=function(){return i._=a,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=M,v.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,r){var n=Array(Math.max(0,e));t=b(t,r,1);for(var i=0;i<e;i++)n[i]=t(i);return n},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","\`":"&#x60;"},N=v.invert(L),q=function(e){var t=function(t){return e[t]},r="(?:"+v.keys(e).join("|")+")",n=RegExp(r),i=RegExp(r,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(i,t):e}};v.escape=q(L),v.unescape=q(N),v.result=function(e,t,r){var n=null==e?void 0:e[t];return void 0===n&&(n=r),v.isFunction(n)?n.call(e):n};var F=0;v.uniqueId=function(e){var t=++F+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var R=/(.)^/,V={"'":"'","\\\\":"\\\\","\\r":"r","\\n":"n","\\u2028":"u2028","\\u2029":"u2029"},k=/\\\\|'|\\r|\\n|\\u2028|\\u2029/g,B=function(e){return"\\\\"+V[e]};v.template=function(e,t,r){!t&&r&&(t=r),t=v.defaults({},t,v.templateSettings);var n=RegExp([(t.escape||R).source,(t.interpolate||R).source,(t.evaluate||R).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(n,function(t,r,n,o,s){return a+=e.slice(i,s).replace(k,B),i=s+t.length,r?a+="'+\\n((__t=("+r+"))==null?'':_.escape(__t))+\\n'":n?a+="'+\\n((__t=("+n+"))==null?'':__t)+\\n'":o&&(a+="';\\n"+o+"\\n__p+='"),t}),a+="';\\n",t.variable||(a="with(obj||{}){\\n"+a+"}\\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\\n"+a+"return __p;\\n";try{var o=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return o.call(this,e,v)};return s.source="function("+(t.variable||"obj")+"){\\n"+a+"}",s},v.chain=function(e){var t=v(e);return t._chain=!0,t};var j=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){v.each(v.functions(e),function(t){var r=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),j(this,r.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];v.prototype[e]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==e&&"splice"!==e||0!==r.length||delete r[0],j(this,r)}}),v.each(["concat","join","slice"],function(e){var t=o[e];v.prototype[e]=function(){return j(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}.call(this),function(){var e,t,r,n,i,a,o,s,u,c,l,p,f,h,d,m,y,g,v,b,x={};!function(e){function t(e,t){return e!==r&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(r,n){return e[r]=t?t(r,n):n}}var r="object"==typeof x?x:"object"==typeof self?self:"object"==typeof this?this:{};"function"==typeof define&&define.amd?define("tslib",["exports"],function(n){e(t(r,t(n)))}):e("object"==typeof module&&"object"==typeof module.exports?t(r,t(module.exports)):t(r))}(function(x){var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};e=function(e,t){function r(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)},t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},n=function(e,t,r,n){var i,a=arguments.length,o=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,r,o):i(t,r))||o);return a>3&&o&&Object.defineProperty(t,r,o),o},i=function(e,t){return function(r,n){t(r,n,e)}},a=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,s)}u((n=n.apply(e,t||[])).next())})},s=function(e,t){function r(e){return function(t){return n([e,t])}}function n(r){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,a&&(o=2&r[0]?a.return:r[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,r[1])).done)return o;switch(a=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return u.label++,{value:r[1],done:!1};case 5:u.label++,a=r[1],r=[0];continue;case 7:r=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){u=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){u.label=r[1];break}if(6===r[0]&&u.label<o[1]){u.label=o[1],o=r;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(r);break}o[2]&&u.ops.pop(),u.trys.pop();continue}r=t.call(e,u)}catch(e){r=[6,e],a=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}var i,a,o,s,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},u=function(e,t){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])},c=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}},l=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e},f=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},h=function(e){return this instanceof h?(this.v=e,this):new h(e)},d=function(e,t,r){function n(e){l[e]&&(c[e]=function(t){return new Promise(function(r,n){p.push([e,t,r,n])>1||i(e,t)})})}function i(e,t){try{a(l[e](t))}catch(e){u(p[0][3],e)}}function a(e){e.value instanceof h?Promise.resolve(e.value.v).then(o,s):u(p[0][2],e)}function o(e){i("next",e)}function s(e){i("throw",e)}function u(e,t){e(t),p.shift(),p.length&&i(p[0][0],p[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,l=r.apply(e,t||[]),p=[];return c={},n("next"),n("throw"),n("return"),c[Symbol.asyncIterator]=function(){return this},c},m=function(e){function t(t,i){r[t]=e[t]?function(r){return(n=!n)?{value:h(e[t](r)),done:"return"===t}:i?i(r):r}:i}var r,n;return r={},t("next"),t("throw",function(e){throw e}),t("return"),r[Symbol.iterator]=function(){return this},r},y=function(e){function t(t){n[t]=e[t]&&function(n){return new Promise(function(i,a){n=e[t](n),r(i,a,n.done,n.value)})}}function r(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=e[Symbol.asyncIterator];return i?i.call(e):(e="function"==typeof c?c(e):e[Symbol.iterator](),n={},t("next"),t("throw"),t("return"),n[Symbol.asyncIterator]=function(){return this},n)},g=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},b=function(e){return e&&e.__esModule?e:{default:e}},x("__extends",e),x("__assign",t),x("__rest",r),x("__decorate",n),x("__param",i),x("__metadata",a),x("__awaiter",o),x("__generator",s),x("__exportStar",u),x("__values",c),x("__read",l),x("__spread",p),x("__spreadArrays",f),x("__await",h),x("__asyncGenerator",d),x("__asyncDelegator",m),x("__asyncValues",y),x("__makeTemplateObject",g),x("__importStar",v),x("__importDefault",b)})}(),define("core/math/distance",["require","exports"],function(e,t){"use strict";function r(e){return e===1/0||e===-1/0}function n(e,t){return e>0==t>0?e+.5*(t-e):.5*(e+t)}function i(e,t,r,n,i,a){return e*n+t*i+r*a}function a(e,r,n,a,o,s,u,c,l){var p=t.hypot(u-a,c-o,l-s);return 0===p?0:i((e-a)/p,(r-o)/p,(n-s)/p,(u-a)/p,(c-o)/p,(l-s)/p)}function o(e,t,r,n,i,o){var s=a(e,t,0,r,n,0,i,o,0);return s<=0?[r,n]:s>=1?[i,o]:[r+s*(i-r),n+s*(o-n)]}function s(e,r,n,i,a,s){var u=o(e,r,n,i,a,s);return t.hypot(e-u[0],r-u[1])}function u(e,t,r){if(void 0===r&&(r=1),r>50)throw new Error("Within "+(52-r)+" bits isn't really approximate any more");var n=Math.max(Math.max(Math.abs(e),Math.abs(t)),1);return n===n+(1===r?.5:Math.pow(.5,r))*Math.abs(t-e)}Object.defineProperty(t,"__esModule",{value:!0});var c=Math.hypot&&Math.hypot(1/0,NaN)===1/0;t.hypot=c?Math.hypot:function(e,t,n){if(r(e)||r(t)||void 0!==n&&r(n))return 1/0;if(isNaN(e)||isNaN(t)||void 0!==n&&isNaN(n))return NaN;if(0===e&&0===t&&(void 0===n||0===n))return 0;for(var i=0,a=0,o=0;o<arguments.length;o+=1){var s=Math.abs(Number(arguments[o]));s>i&&(a*=i/s*(i/s),i=s),a+=0===s&&0===i?0:s/i*(s/i)}return i===1/0?1/0:i*Math.sqrt(a)},t.mean=n,t.pointToSegmentParameter=a,t.closestPointOnSegment=o,t.pointToSegment=s,t.approx=u}),define("core/math/poi",["require","exports","core/math/distance"],function(e,t,r){"use strict";function n(e,t){var n;e>t&&(n=e,e=t,t=n);var i=e>0,a=t>0,o=Math.abs(e)>.01,s=Math.abs(t)>.01;if(o||s)return r.mean(e,t);if(0===e)return t*Math.abs(t);if(0===t)return e*Math.abs(e);if(i!==a)return 0;var u=i?Math.sqrt(e*t):-Math.sqrt(e*t);return u>=e&&t>=u?u:r.mean(e,t)}function i(e,t,r,i,o){if(!isNaN(t)&&!isNaN(i)&&t<0!=i<0)for(;;){var s=n(e,r),u=o(s);if(!isFinite(u))return;if(s===e||s===r)return Math.abs(t)<=Math.abs(i)?[e,t]:[r,i];if(0===u)return a(e,t,s,u,r,i,o);t<0!=u<0?(r=s,i=u):(e=s,t=u)}}function a(e,t,r,i,a,u,c){var l;if(isFinite(i)){isFinite(t)||(l=o(e,t,r,i,c))&&(e=l[0],t=l[1]),isFinite(u)||(l=o(r,i,a,u,c))&&(a=l[0],u=l[1]);var p,f;p=t===i?[e,t]:s(e,t,r,i,c,i),f=u===i?[a,u]:s(r,i,a,u,c,i);var h;return p&&f&&(h=n(p[0],f[0])),void 0!==h?[h,c(h)]:void 0}}function o(e,t,r,i,a){if(isFinite(t)!==isFinite(i))for(;;){var o=n(e,r),s=a(o);if(o===e||o===r)return isFinite(t)?[e,t]:[r,i];isFinite(s)!==isFinite(t)?(r=o,i=s):(e=o,t=s)}}function s(e,t,r,i,a,o){if(t===o!=(i===o))for(;;){var s=n(e,r),u=a(s);if(s===e||s===r)return t===o?[e,t]:[r,i];u===o!=(t===o)?(r=s,i=u):(e=s,t=u)}}function u(e,t,r,i,o,s,u){if(e<r&&r<o&&isFinite(t)&&isFinite(i)&&isFinite(s)&&t!==i&&i!==s&&i>t==i>s)for(;;){var c=n(e,r),l=u(c),p=n(r,o),f=u(p);if(!isFinite(l)||!isFinite(f))return;if(c===e||c===r||p===r||p===o)return l>i==i>t?[c,l]:f>i==i>t?[p,f]:[r,i];if(l===i||f===i)return a(e,t,r,i,o,s,u);l>t==i>t&&l>t==l>i?(o=r,s=i,r=c,i=l):f>s==i>s&&f>i==f>s?(e=r,t=i,r=p,i=f):(e=c,t=l,o=p,s=f)}}function c(e,t){var r=e[0],n=e[1],i=t[0],a=t[1];return(i-r)*(i-r)+(a-n)*(a-n)}function l(e,t,r,i,a,o){var s,u,l,p,f,h,d,m,y,g=o(e),v=o(t),b=o(r),x=c(g,i),_=c(v,i),S=c(b,i);if(!(t<=e||r<=t)&&isFinite(x)&&isFinite(_)&&isFinite(S)&&!(_>=x||_>=S))for(;;){if(Math.abs(b[0]-g[0])<a&&Math.abs(b[1]-g[1])<a)return[e,r];var M=n(e,t),E=o(M),D=c(E,i),w=n(t,r),T=o(w),P=c(T,i);if(!isFinite(D)||!isFinite(P))return;if(M===e||M===t||w===t||w===r)return D<_&&D<P?[M,M]:P<D&&P<_?[w,w]:[t,t];if((D===_||P===_)&&(t=.5*(M+t),v=o(t),_=c(v,i),D===_||P===_))return[e,r];D<_&&D<P?(s=[t,M],r=s[0],t=s[1],u=[v,E],b=u[0],v=u[1],l=[_,D],S=l[0],_=l[1]):P<D&&P<_?(p=[t,w],e=p[0],t=p[1],f=[v,T],g=f[0],v=f[1],h=[_,P],x=h[0],_=h[1]):(d=[M,w],e=d[0],r=d[1],m=[E,T],g=m[0],b=m[1],y=[D,P],x=y[0],S=y[1])}}function p(e,t,r){return void 0===t&&(t=-1/0),void 0===r&&(r=1/0),Math.min(r,Math.max(t,e))}function f(e,t,r,n,i,a){var o,s,u,f,h;if(void 0!==n&&void 0!==i){h=r+.01*(r<.5*(n+i)?i-n:n-i)}else h=Math.abs(r)>1?1.00001*r:r+1e-5;var d=e(r),m=e(h),y=c(d,t),g=c(m,t);if(isFinite(y)&&isFinite(g)){if(y===g)return[r,h];for(g>y&&(o=[h,r],r=o[0],h=o[1],s=[m,d],d=s[0],m=s[1],u=[g,y],y=u[0],g=u[1]);isFinite(r)&&isFinite(h)&&r!==h;){if(void 0!==i&&h>i)return[i,i];if(void 0!==n&&h<n)return[n,n];var v=r+3*(h-r),b=e(v),x=c(b,t);if(!isFinite(x))return[r,h];if(x===g)return[r,h];if(x>g){var _=h>r?l(r,h,v,t,a,e):l(v,h,r,t,a,e);return _?[p(_[0],n,i),p(_[1],n,i)]:_}f=[h,g,v,x],r=f[0],y=f[1],h=f[2],g=f[3]}return[r,h]}}function h(e,t,r,n){return!r||!!n&&Math.min(c(e(n[0]),t),c(e(n[1]),t))<Math.min(c(e(r[0]),t),c(e(r[1]),t))}function d(e,t,r,n,i,a){var o=f(e,t,r,n,i,a);if(void 0!==n){var s=f(e,t,n,n,i,a);h(e,t,o,s)&&(o=s)}if(void 0!==i){var u=f(e,t,i,n,i,a);h(e,t,o,u)&&(o=u)}return o}function m(e,t,r,n,i,a,o,s){var u=Math.abs(n-t),c=Math.abs(a-n),l=Math.abs(s-a);return u>c&&u>l?[[e,t],[r,n]]:l>c&&l>u?[[i,a],[o,s]]:[[r,n],[i,a]]}function y(e,t,i,a,s,u,c,l){if(l||(l=0),!((i-e)*(s-i)<=0)&&isFinite(e)&&isFinite(i)&&isFinite(s)&&isFinite(t)&&isFinite(u)){if(!isFinite(a)){var p=o(e,t,i,a,c),f=o(i,a,s,u,c);if(!p||!f)return;return[p,f]}if(!(Math.abs(a-((s-i)*t+(i-e)*u)/(s-e))<l))for(;;){var h=n(e,i),d=c(h),y=n(i,s),g=c(y),v=Math.abs(d-r.mean(t,a)),b=Math.abs(a-r.mean(d,g)),x=Math.abs(g-r.mean(a,u));if(v<=l&&b<=l&&x<=l)return;if(!isFinite(d)){var p=o(e,t,h,d,c),f=o(h,d,s,u,c);if(!p||!f)return;return[p,f]}if(!isFinite(g)){var p=o(e,t,y,g,c),f=o(y,g,s,u,c);if(!p||!f)return;return[p,f]}if(!(h!==e&&h!==i||y!==i&&y!==s))return Math.abs(a-t)>Math.abs(u-a)?[[e,t],[i,a]]:[[i,a],[s,u]];if(h===e||h===i)return m(e,t,i,a,y,g,s,u);if(y===i||y===s)return m(e,t,h,d,i,a,s,u);v>x&&v>=b?(s=i,u=a,i=h,a=d):x>v&&x>=b?(e=i,t=a,i=y,a=g):(e=h,t=d,s=y,u=g)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.floatMiddle=n,t.bisectZero=i,t.flatCenter=a,t.bisectFinite=o,t.bisectExtremum=u,t.bisectClosestPointOnParametric=l,t.findLocalClosestPointOnParametric=d,t.bisectJump=y}),define("core/math/curve-accumulator",["require","exports","core/math/distance"],function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){e?(this.xtolerance=e.xtolerance||e.tolerance||0,this.ytolerance=e.ytolerance||e.tolerance||0,this.ztolerance=e.ztolerance||e.tolerance||0,this.map=e.map):this.xtolerance=this.ytolerance=this.ztolerance=0,this.segments=[],this.segment=[],this.pivotPoint=void 0,this.pendingPoint=void 0}return e.prototype.colinear=function(e,t,n){this.map&&(e=this.map(e),t=this.map(t),n=this.map(n));var i=r.pointToSegmentParameter(n[0],n[1],n[2]||0,e[0],e[1],e[2]||0,t[0],t[1],t[2]||0);if(i<1)return!1;var a=[e[0]+i*(t[0]-e[0]),e[1]+i*(t[1]-e[1]),3===e.length?e[2]+i*(t[2]-e[2]):0]
;return Math.abs(n[0]-a[0])<=this.xtolerance&&Math.abs(n[1]-a[1])<=this.ytolerance&&(2===e.length||Math.abs(n[2]-a[2])<=this.ztolerance)},e.prototype.addPoint=function(e){if(this.dimensions=e.length,this.xtolerance<0&&this.ytolerance<0&&(2===this.dimensions||this.ztolerance<0))return void this.segment.push.apply(this.segment,e);if(!this.segment.length)return void this.segment.push.apply(this.segment,e);var t=2===this.dimensions?[this.segment[this.segment.length-2],this.segment[this.segment.length-1]]:[this.segment[this.segment.length-3],this.segment[this.segment.length-2],this.segment[this.segment.length-1]];if(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]){if(!this.pivotPoint||!this.pendingPoint)return this.pivotPoint=e,void(this.pendingPoint=e);(!this.colinear(t,this.pivotPoint,e)||r.hypot(t[0]-e[0],t[1]-e[1],(t[2]||0)-(e[2]||0))<r.hypot(t[0]-this.pendingPoint[0],t[1]-this.pendingPoint[1],(t[2]||0)-(this.pendingPoint[2]||0)))&&(this.flushPending(),this.pivotPoint=e),this.pendingPoint=e}},e.prototype.flushPending=function(){this.pendingPoint&&(this.segment.push.apply(this.segment,this.pendingPoint),this.pivotPoint=void 0,this.pendingPoint=void 0)},e.prototype.breakSegment=function(){this.flushPending(),this.segment.length>(this.dimensions||2)&&this.segments.push(this.segment),this.segment=[]},e.prototype.getSegments=function(){return this.breakSegment(),this.segments},e.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0}},e}();t.Accumulator=n}),define("core/math/implicit-plotter",["require","exports","core/math/distance","./curve-accumulator"],function(e,t,r,n){"use strict";function i(e,t){var r=a(e,t);return{segments:r.contours.strokeSegments,fillSegments:r.contours.fillSegments,resolved:r.quadTree.resolved}}function a(e,t){var r=Math.pow(2,-W),n=c(t,r),i=c(t,2*r),a=f(e,n,i),o=P(a.root,e,n);return{paddedDomain:n,rootDomain:i,quadTree:a,triangles:o,contours:j(o,e,n)}}function o(e,t,r){return{x:e,y:t,z:r}}function s(e,t,r){return{x:e,y:t,isZero:r}}function u(e,t,r){return{vertices:[e,t,r],visited:!1,next:void 0}}function c(e,t){var r=(1+t)*e.xmin-t*e.xmax,n=(1+t)*e.xmax-t*e.xmin;return{xmin:r,ymin:(1+t)*e.ymin-t*e.ymax,xmax:n,ymax:(1+t)*e.ymax-t*e.ymin,xtolerance:e.xtolerance,ytolerance:e.ytolerance}}function l(e,t){return{depth:e,vertices:t,children:void 0,center:void 0}}function p(e,t,r){e.center=E(e.vertices[0],e.vertices[1],e.vertices[2],e.vertices[3],t,r)}function f(e,t,r){var n=h(e,r),i=[],a=[];a.push(n);var o=1,s=!0;e:for(;a.length;){var u=i;i=a,a=u;for(var c=void 0;c=i.pop();)if(m(c,e,t)){if(d(c,e),!c.children){s=!1;break e}if(a.push(c.children[0]),a.push(c.children[1]),a.push(c.children[2]),a.push(c.children[3]),(o+=3)>=Y){s=!1;break e}}else p(c,e,t)}for(var l=0;l<i.length;l++)p(i[l],e,t);for(var l=0;l<a.length;l++)p(a[l],e,t);return{root:n,resolved:s}}function h(e,t){var r=t.xmin,n=t.xmax,i=t.ymin,a=t.ymax;return l(0,[_(r,a,e),_(n,a,e),_(n,i,e),_(r,i,e)])}function d(e,t){var r=e.depth+1,n=e.vertices[0],i=e.vertices[1],a=e.vertices[2],o=e.vertices[3],s=S(n,i,t),u=S(i,a,t),c=S(a,o,t),p=S(o,n,t),f=S(n,a,t);e.children=[l(r,[n,s,f,p]),l(r,[s,i,u,f]),l(r,[f,u,a,c]),l(r,[p,f,c,o])]}function m(e,t,r){if(e.depth<W)return!0;if(b(e,r))return!1;if(v(e,r))return!1;var n=e.vertices[0],i=e.vertices[1],a=e.vertices[2],o=e.vertices[3];if(isNaN(n.z)&&isNaN(i.z)&&isNaN(a.z)&&isNaN(o.z))return!1;if(isNaN(n.z)||isNaN(i.z)||isNaN(a.z)||isNaN(o.z))return!0;var s=E(n,i,a,o,t,r),u=M(n,i,t,r),c=M(i,a,t,r),l=M(a,o,t,r),p=M(o,n,t,r);return g(n,u,t)||g(i,u,t)||g(i,c,t)||g(a,c,t)||g(a,l,t)||g(o,l,t)||g(o,p,t)||g(n,p,t)||y(n,u,s,t,r)||y(u,i,s,t,r)||y(i,c,s,t,r)||y(c,a,s,t,r)||y(a,l,s,t,r)||y(l,o,s,t,r)||y(o,p,s,t,r)||y(p,n,s,t,r)}function y(e,t,n,i,a){if(e.z>0==t.z>0&&t.z>0==n.z>0)return!1;var o,s,u,c;if(e.z>0==t.z>0){if(o=S(e,t,i),o.z>0!=e.z>0)return!0;s=w(e,n,i,a),u=w(t,n,i,a),c=w(o,n,i,a)}else if(t.z>0==n.z>0){if(o=S(t,n,i),o.z>0!=t.z>0)return!0;s=w(t,e,i,a),u=w(n,e,i,a),c=w(o,e,i,a)}else{if(o=S(n,e,i),o.z>0!=n.z>0)return!0;s=w(n,t,i,a),u=w(e,t,i,a),c=w(o,t,i,a)}var l=a.xtolerance,p=a.ytolerance;return r.pointToSegment(p*c.x,l*c.y,p*s.x,l*s.y,p*u.x,l*u.y)>l*p}function g(e,t,r){if(isNaN(e.z)&&isNaN(t.z))return!1;if(isNaN(e.z)||isNaN(t.z))return e.z>0||t.z>0;var n=S(e,t,r),i=4*n.z-t.z-3*e.z,a=(r(.9999*e.x+1e-4*t.x,.9999*e.y+1e-4*t.y)-e.z)/1e-4,o=Math.max(Math.abs(e.z),Math.abs(t.z));return Math.abs(i-a)>.125*o}function v(e,t){return e.vertices[1].x-e.vertices[0].x<10*t.xtolerance||e.vertices[0].y-e.vertices[3].y<10*t.ytolerance}function b(e,t){return e.vertices[0].x<t.xmin||e.vertices[0].y>t.ymax||e.vertices[2].x>t.xmax||e.vertices[2].y<t.ymin}function x(e,t){return e.x<t.xmin||e.x>t.xmax||e.y<t.ymin||e.y>t.ymax}function _(e,t,r){return o(e,t,r(e,t))}function S(e,t,r){return _(.5*(e.x+t.x),.5*(e.y+t.y),r)}function M(e,t,r,n){if(x(e,n)||x(t,n))return S(e,t,r);if(isNaN(e.z)||isNaN(t.z))return T(e,t,r,n);if(e.z>0!=t.z>0)return S(e,t,r);var i=r(.99*e.x+.01*t.x,.99*e.y+.01*t.y)-e.z,a=t.z-r(.01*e.x+.99*t.x,.01*e.y+.99*t.y);return isNaN(i)||isNaN(a)?S(e,t,r):i>0==a>0?S(e,t,r):D(o(e.x,e.y,i),o(t.x,t.y,a),r)}function E(e,t,r,n,i,a){var o=M(e,r,i,a);return e.z>0==r.z>0&&o.z>0!=e.z>0?o:(o=M(t,n,i,a),t.z>0==n.z>0&&o.z>0!=t.z>0?o:S(e,r,i))}function D(e,t,r){if(isNaN(e.z))return t;if(isNaN(t.z))return e;if(isFinite(e.z)||isFinite(t.z)){if(isFinite(e.z)){if(isFinite(t.z)){var n=1-e.z/t.z,i=1-t.z/e.z;return _(e.x/n+t.x/i,e.y/n+t.y/i,r)}return e}return t}return S(e,t,r)}function w(e,t,r,n){var i=e.x,a=t.x,u=e.y,c=t.y,l=e.z,p=t.z,f=n.xtolerance,h=n.ytolerance;if(x(e,n)||x(t,n)){var d=S(e,t,r);return s(d.x,d.y,!1)}for(;Math.abs(i-a)>f||Math.abs(u-c)>h;){var m=.5*(i+a),y=.5*(u+c),g=r(m,y);g>0==l>0?(i=m,u=y,l=g):(a=m,c=y,p=g)}if(isNaN(l))return s(a,c,!1);if(isNaN(p))return s(i,u,!1);var v=D(o(i,u,l),o(a,c,p),r),b=0===l||0===p||0===v.z||v.z>=l==p>=v.z&&Math.abs(v.z)<1e250;return s(v.x,v.y,b)}function T(e,t,r,n){if(isNaN(e.z)===isNaN(t.z))return S(e,t,r);if(isNaN(e.z)){var i=e;e=t,t=i}for(var a=e.x,s=t.x,u=e.y,c=t.y,l=e.z,p=n.xtolerance,f=n.ytolerance;Math.abs(a-s)>p||Math.abs(u-c)>f;){var h=.5*(a+s),d=.5*(u+c),m=r(h,d);isNaN(m)===isNaN(l)?(a=h,u=d,l=m):(s=h,c=d)}return o(a,u,l)}function P(e,t,r){var n={triangles:[],edgeCache:{},domain:r,fn:t};return I(e,n),n.triangles}function I(e,t){e.children&&(I(e.children[0],t),I(e.children[1],t),I(e.children[2],t),I(e.children[3],t),C(e.children[0],e.children[1],t),C(e.children[3],e.children[2],t),O(e.children[1],e.children[2],t),O(e.children[0],e.children[3],t))}function C(e,t,r){e.children&&t.children?(C(e.children[1],t.children[0],r),C(e.children[2],t.children[3],r)):e.children?(C(e.children[1],t,r),C(e.children[2],t,r)):t.children?(C(e,t.children[0],r),C(e,t.children[3],r)):A(e,t,r)}function O(e,t,r){e.children&&t.children?(O(e.children[2],t.children[1],r),O(e.children[3],t.children[0],r)):e.children?(O(e.children[2],t,r),O(e.children[3],t,r)):t.children?(O(e,t.children[1],r),O(e,t.children[0],r)):L(e,t,r)}function A(e,t,r){if(e.center&&t.center){var n,i;e.depth>=t.depth?(n=M(e.vertices[1],e.vertices[2],r.fn,r.domain),i=N(e.vertices[1],t.center,e.vertices[2],e.center,n)):(n=M(t.vertices[0],t.vertices[3],r.fn,r.domain),i=N(t.vertices[0],t.center,t.vertices[3],e.center,n)),R(i,r.edgeCache,r.domain);for(var a=0;a<4;a++)r.triangles.push(i[a])}}function L(e,t,r){if(e.center&&t.center){var n,i;e.depth>=t.depth?(n=M(e.vertices[3],e.vertices[2],r.fn,r.domain),i=N(e.vertices[2],t.center,e.vertices[3],e.center,n)):(n=M(t.vertices[1],t.vertices[0],r.fn,r.domain),i=N(t.vertices[1],t.center,t.vertices[0],e.center,n)),R(i,r.edgeCache,r.domain);for(var a=0;a<4;a++)r.triangles.push(i[a])}}function N(e,t,r,n,i){return[u(e,i,t),u(t,i,r),u(r,i,n),u(n,i,e)]}function q(e,t,r){return e.z>0&&!x(e,r)&&(!(t.z>0)||x(t,r))}function F(e,t){return e.x+","+e.y+","+t.x+","+t.y}function R(e,t,r){V(e[0],e[1],e[2],F(e[1].vertices[2],e[1].vertices[0]),t,r),V(e[1],e[2],e[3],F(e[2].vertices[0],e[2].vertices[2]),t,r),V(e[2],e[3],e[0],F(e[3].vertices[2],e[3].vertices[0]),t,r),V(e[3],e[0],e[1],F(e[0].vertices[0],e[0].vertices[2]),t,r)}function V(e,t,r,n,i,a){var o=t.vertices[0],s=t.vertices[1],u=t.vertices[2];q(s,u,a)&&(t.next=r),q(o,s,a)&&(t.next=e),q(u,o,a)&&B(t,n,i),q(o,u,a)&&k(t,n,i)}function k(e,t,r){r[t]?r[t].next=e:r[t]=e}function B(e,t,r){r[t]?e.next=r[t]:r[t]=e}function j(e,t,r){for(var i={fillAccumulator:new n.Accumulator(r),strokeAccumulator:new n.Accumulator(r),fn:t,domain:r},a=0;a<e.length;a++){var o=e[a];o.next&&!o.visited&&z(o,i)}return{strokeSegments:i.strokeAccumulator.finish().segments,fillSegments:i.fillAccumulator.finish().segments}}function z(e,t){for(;;){var r=e.vertices[0],n=e.vertices[1],i=e.vertices[2];if(G(r,n,t),G(n,i,t),G(i,r,t),e.visited)break;if(!e.next)break;e.visited=!0,e=e.next}t.strokeAccumulator.breakSegment(),t.fillAccumulator.breakSegment()}function G(e,t,r){if(q(e,t,r.domain)){var n=w(e,t,r.fn,r.domain);r.fillAccumulator.addPoint([n.x,n.y]),n.isZero?r.strokeAccumulator.addPoint([n.x,n.y]):r.strokeAccumulator.breakSegment()}}function U(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push([n.vertices[0].x,n.vertices[0].y,n.vertices[1].x,n.vertices[1].y,n.vertices[2].x,n.vertices[2].y,n.vertices[0].x,n.vertices[0].y])}return t}Object.defineProperty(t,"__esModule",{value:!0});var W=5,Y=Math.pow(2,14);t.sampleImplicit=i,t.sampleImplicitDiagnostic=a,t.buildQuadTree=f,t.triangulate=P,t.traceContours=j,t.displayTriangles=U}),define("core/math/workerconfig",[],function(){"use strict";return{pointsOfInterest:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,sliders:!0}}),define("core/math/poi-finding-accumulator",["require","exports","core/math/workerconfig","tslib","./curve-accumulator","./poi"],function(e,t,r,n,i,a){"use strict";function o(e){return Math.abs(e)<5e-8}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,r,n){var i=e.call(this,t)||this;return i.domain=t,i.fn=r,i.derivative=n,i.poiData={zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}},i.zeroBuffer=[],i.extremumBuffer=[],i}return n.__extends(t,e),t.prototype.getPOI=function(){return r.pointsOfInterest?(void 0!==this.fn&&(this.poiData.intercept=this.findIntercept(this.fn)),this.poiData):{zeros:{x:[],y:[]},intercept:{x:[],y:[]},extrema:{x:[],y:[]}}},t.prototype.addLinearZero=function(e){var t=-e[0]/e[1];this.isOutsideDomain(t)||(this.poiData.zeros={x:[t],y:[0]})},t.prototype.addLinearIntercept=function(e){this.isOutsideDomain(0)||(this.poiData.intercept={x:[0],y:[e[0]]})},t.prototype.isOutsideDomain=function(e){return!this.domain||void 0===this.domain.min||void 0===this.domain.max||(e<this.domain.min||e>this.domain.max||isNaN(e))},t.prototype.addPoint=function(t){0===this.segment.length&&o(t[1])&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.updateZeroBuffer(t),this.updateExtremumBuffer(t),e.prototype.addPoint.call(this,t)},t.prototype.updateZeroBuffer=function(e){if(this.fn){if(!isFinite(e[0])||!isFinite(e[1]))return void(this.zeroBuffer.length=0);switch(this.zeroBuffer.length){case 0:if(o(e[1]))return;return void this.zeroBuffer.push(e);case 1:if(0===e[1])return void this.zeroBuffer.push(e);if(e[1]>0!=this.zeroBuffer[0][1]>0){var t=a.bisectZero(this.zeroBuffer[0][0],this.zeroBuffer[0][1],e[0],e[1],this.fn);return t&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)}return this.zeroBuffer.length=0,void this.zeroBuffer.push(e);case 2:if(0===e[1])return;if(e[1]>0!=this.zeroBuffer[0][1]>0){var t=a.flatCenter(this.zeroBuffer[0][0],this.zeroBuffer[0][1],this.zeroBuffer[1][0],this.zeroBuffer[1][1],e[0],e[1],this.fn);return t&&(this.poiData.zeros.x.push(t[0]),this.poiData.zeros.y.push(t[1])),this.zeroBuffer.length=0,void this.zeroBuffer.push(e)}return this.zeroBuffer.length=0,void this.zeroBuffer.push(e)}}},t.prototype.updateExtremumBuffer=function(e){if(this.fn){if(!isFinite(e[0])||!isFinite(e[1]))return void(this.zeroBuffer.length=0);switch(this.extremumBuffer.length){case 0:return void this.extremumBuffer.push(e);case 1:return e[1]===this.extremumBuffer[0][1]&&(this.extremumBuffer.length=0),void this.extremumBuffer.push(e);case 2:if(e[1]===this.extremumBuffer[1][1])return void this.extremumBuffer.push(e);if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){var t=this.bisectExtremumUsingDerivative(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1]);if(t){this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1]);!!!a.bisectJump(this.extremumBuffer[0][0],this.extremumBuffer[0][1],t[0],t[1],e[0],e[1],this.fn,this.ytolerance)&&t[0]>this.segment[this.segment.length-2]&&(this.pendingPoint=t)}return this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),void this.extremumBuffer.push(e);case 3:if(e[1]===this.extremumBuffer[1][1])return;if(e[1]>this.extremumBuffer[1][1]!=this.extremumBuffer[1][1]>this.extremumBuffer[0][1]){var t=void 0,r=.5*(this.extremumBuffer[1][0]+this.extremumBuffer[2][0]),n=this.fn(r);return t=n===this.extremumBuffer[1][1]?a.flatCenter(this.extremumBuffer[0][0],this.extremumBuffer[0][1],this.extremumBuffer[1][0],this.extremumBuffer[1][1],e[0],e[1],this.fn):this.bisectExtremumUsingDerivative(this.extremumBuffer[1][0],this.extremumBuffer[1][1],r,n,this.extremumBuffer[2][0],this.extremumBuffer[2][1]),t&&(this.poiData.extrema.x.push(t[0]),this.poiData.extrema.y.push(t[1])),this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}return this.extremumBuffer.shift(),this.extremumBuffer.shift(),void this.extremumBuffer.push(e)}}},t.prototype.bisectExtremumUsingDerivative=function(e,t,r,n,i,o){if(this.fn){var s;if(this.derivative){var u=this.derivative(e),c=this.derivative(i);if(!isNaN(u)&&!isNaN(c)&&u<0!=c<0){var l=a.bisectZero(e,u,i,c,this.derivative);l&&(s=[l[0],this.fn(l[0])])}}return s||(s=a.bisectExtremum(e,t,r,n,i,o,this.fn)),s}},t.prototype.breakSegment=function(){this.zeroBuffer.length=0,this.extremumBuffer.length=0,this.flushPending(),this.segment.length>2&&(this.segments.push(this.segment),o(this.segment[this.segment.length-1])&&(this.poiData.zeros.x.push(this.segment[this.segment.length-2]),this.poiData.zeros.y.push(this.segment[this.segment.length-1]))),this.segment=[]},t.prototype.findIntercept=function(e){if(!e)return{x:[],y:[]};var t=e(0);return isFinite(t)?{x:[0],y:[e(0)]}:{x:[],y:[]}},t.prototype.finish=function(){return{segments:this.getSegments(),resolved:!0,poi:this.getPOI()}},t}(i.Accumulator);t.default=s}),define("core/types/graphmode",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.X=1,t.Y=2,t.XYPOINT=3,t.XYPOINT_MOVABLE=4,t.PARAMETRIC=5,t.POLAR=6,t.POLYGONFILL=7,t.IMPLICIT=8,t.NONE=10,t.VISUALIZATION=11,t.OBJECT3D=12,t.Z_3D=13,t.PARAMETRIC_CURVE_3D=14}),define("core/math/domaintypes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emptyDomain=function(){return{type:"empty"}},t.unknownDomain=function(){return{type:"unknown"}},t.knownDomain=function(e){return isNaN(e[0])||isNaN(e[1])||e[1]<e[0]?t.emptyDomain():{type:"known",bounds:e}},t.allReals=function(){return t.knownDomain([-1/0,1/0])},t.intersectDomains=function(e,r){if("empty"===e.type||"empty"===r.type)return t.emptyDomain();if("unknown"===e.type||"unknown"===r.type)return t.unknownDomain();if(e.bounds&&r.bounds){var n=[Math.max(e.bounds[0],r.bounds[0]),Math.min(e.bounds[1],r.bounds[1])];return t.knownDomain(n)}return t.emptyDomain()}}),define("core/math/plotter",["require","exports","tslib","core/math/distance","./poi","./implicit-plotter","./curve-accumulator","./poi-finding-accumulator","core/types/graphmode","./domaintypes"],function(e,t,r,n,i,a,o,s,u,c){"use strict";function l(e,t){for(var r,n=new s.default(t,e),i=t.min;i<=t.max+t.step/2;i+=t.step)r=e(i),isFinite(r)?n.addPoint([i,r]):n.breakSegment();return n.finish()}function p(e,t){var r=new s.default(t),n=e[0]+t.min*e[1],i=e[0]+t.max*e[1];return isFinite(n)&&isFinite(i)?(r.addPoint([t.min,n]),r.addPoint([t.max,i]),r.addLinearZero(e),r.addLinearIntercept(e),r.finish()):r.finish()}function f(e,t){var r=p(e[0],t),n=p(e[1],t);return r.segments.length&&n.segments.length&&4===r.segments[0].length&&4===n.segments[0].length?{segments:[[r.segments[0][1],n.segments[0][1],r.segments[0][3],n.segments[0][3]]],resolved:!0}:{segments:[],resolved:!0}}function h(e,t){var n=e(t);return{segments:[r.__spreadArrays(n,n)],resolved:!0}}function d(e,t,r){var a=r.fn,o=r.jumpTolerance,s=e[0],u=e[1],c=t[0],l=t[1],p=n.mean(s,c),f=a(p);return i.bisectJump(s,u,p,f,c,l,a,o)}function m(e,t,r){var n=t,i=e(n);return isFinite(i)||(n=t+r,i=e(n)),isFinite(i)||(n=t-r,i=e(n)),[n,i]}function y(e,t,r){var n,a,o,s,u,c,l,p=new O(e,t,r),f=t.step/10,h=t.min;n=m(e,h,f),l=n[0],c=n[1];var d=[l,c];isFinite(c)&&p.accumulator.addPoint([l,c]);for(var y=Math.ceil((t.max-t.min)/t.step),g=1;g<=y;g++)h=(y-g)/y*t.min+g/y*t.max,a=m(e,h,f),l=a[0],c=a[1],isFinite(c)&&isFinite(d[1])?(o=C(d,[l,c],p),l=o[0],c=o[1],p.accumulator.addPoint([l,c])):isFinite(c)&&!isFinite(d[1])?(u=i.bisectFinite(d[0],d[1],l,c,e))&&(u[0]!==l&&p.accumulator.addPoint(u),s=C(u,[l,c],p),l=s[0],c=s[1],p.accumulator.addPoint([l,c])):!isFinite(c)&&isFinite(d[1])&&(u=i.bisectFinite(d[0],d[1],l,c,e))&&(u=C(d,u,p),u[0]!==d[0]&&p.accumulator.addPoint(u),p.accumulator.breakSegment()),d=[l,c];return p.accumulator.finish()}function g(e){for(var t=e.fn,r=e.domain,n=r.min,i=r.max,a=Math.floor(n),o=Math.ceil(i),s=[],u=a;u<=o;u++){var c=t(u);isFinite(u)&&isFinite(c)&&s.push([u,c])}return{segments:s,resolved:!0}}function v(e,t,r,n){function i(e,t){var i=t%2==0?1:-1;if(!n&&-1===i)return!1;for(var a=t*(Math.PI/r),o=[u,u+1,u+2,u+3],s=!1,c=0,p=o.length;c<p;c++){var f=e(o[c]),h=e(o[c]+a);if(isFinite(f)&&isFinite(h)&&(s=!0),isFinite(f)!==isFinite(h)||Math.abs(f-i*h)>l)return!1}return!!s}var a,o,s,u=t.min,c=t.max-t.min,l=t.xtolerance&&t.ytolerance?Math.min(t.xtolerance,t.ytolerance):t.tolerance?t.tolerance:0,p=Math.floor(c/(Math.PI/r));for(a=1;a<=p;a++)if(i(e,a)){for(s=a,o=2;o*a<=p;o++)i(e,o*a)||(s=void 0);if(s)break}return s?s*(Math.PI/r):null}function b(e){return[e[1]*Math.cos(e[0]),e[1]*Math.sin(e[0])]}function x(e,t){return t.map=b,y(e,t)}function _(e,t){for(var r=e.min,n=e.max,i=e.step,a=n-r,o=Math.ceil(a/i),s=a/o,u=0;u<o;u++)t(r+u*s);t(n)}function S(e,t){if(t.max<t.min)return{segments:[],resolved:!0};var r=new o.Accumulator(t),n=t.min,i=e(n);isFinite(i[0])&&isFinite(i[1])&&r.addPoint(i);var a;return _(t,function(t){a=e(t),M(e,n,i,t,a,10,r),n=t,i=a}),r.finish()}function M(e,t,r,i,a,o,s){if(i!==t){var u=s.xtolerance,c=s.ytolerance,l=s.ztolerance,p=n.mean(t,i),f=e(p),h=isFinite(r[0])&&isFinite(r[1])&&(2===r.length||isFinite(r[2])),d=isFinite(a[0])&&isFinite(a[1])&&(2===a.length||isFinite(a[2])),m=isFinite(f[0])&&isFinite(f[1])&&(2===f.length||isFinite(f[2]));if(0===o||p===t||p===i)return s.breakSegment(),void(d&&s.addPoint(a));if(h||d){if(h!==d){for(var y=t,g=i,v=r,b=a;t!==p&&p!==i;)m==h?(t=p,r=f,h=m):(i=p,a=f,d=m),p=t+(i-t)/2,f=e(p),m=isFinite(f[0])&&isFinite(f[1])&&(2===f.length||isFinite(f[2]));return void(h?(M(e,y,v,t,r,o-1,s),s.breakSegment()):(s.breakSegment(),s.addPoint(a),M(e,i,a,g,b,o-1,s)))}if(h&&m&&d){var x=n.pointToSegmentParameter(f[0],f[1],f[2]||0,r[0],r[1],r[2]||0,a[0],a[1],a[2]||0);if(x>.2&&x<.8&&Math.abs(f[0]-(r[0]+x*(a[0]-r[0])))<=u&&Math.abs(f[1]-(r[1]+x*(a[1]-r[1])))<=c&&(2===r.length||Math.abs(f[2]-(r[2]+x*(a[2]-r[2])))<=l))return void s.addPoint(a)}r[0]===f[0]&&r[1]===f[1]||M(e,t,r,p,f,o-1,s),a[0]===f[0]&&a[1]===f[1]||M(e,p,f,i,a,o-1,s)}}}function E(e,t){for(var r=e.fn,n=t.xmin,i=t.xmax,a=t.ymin,o=t.ymax,s=(i-n)/30,u=(o-a)/30,c=[],l=[],p=[],f=s/1e3,h=u/1e3,d=0;d<30;d++)for(var m=0;m<30;m++){var y=n+d*s,g=a+m*u,v=r(y,g);c.push(y,g,v);var b=r(y+f,g)-v,x=r(y,g+h)-v,_=b*h,S=x*f,M=-f*h,E=Math.sqrt(_*_+S*S+M*M);l.push(_/E,S/E,M/E)}for(var d=0;d<29;d++)for(var m=0;m<29;m++){var D=30*m+d,w=30*m+d+1,T=30*(m+1)+d,P=30*(m+1)+d+1;p.push(D,T,w),p.push(T,P,w)}return{cacheKey:e.source+":"+JSON.stringify(t),positions:new Float32Array(c),normals:new Float32Array(l),faces:new Int16Array(p)}}function D(e){if(!e)return!1;var t=e.viewport.xmin,r=e.viewport.xmax,n=e.viewport.ymin,i=e.viewport.ymax;return!(!isFinite(t)||!isFinite(r)||r<=t)&&(!(!isFinite(n)||!isFinite(i)||i<=n)&&(!(!isFinite(e.screen.width)||e.screen.width<=0)&&!(!isFinite(e.screen.height)||e.screen.height<=0)))}function w(e,t,r){var n,i,a=e.viewport.xmin,o=e.viewport.xmax,s=e.viewport.ymin,l=e.viewport.ymax,p=e.trigAngleMultiplier||1,f=e.oversample||4,h=1/f*(o-a)/e.screen.width,d=1/f*(l-s)/e.screen.height,m=t.domainBound;switch(t.graphMode){case u.X:switch(n=c.intersectDomains(c.knownDomain([s,l]),m),n.type){case"empty":return!1;case"known":s=n.bounds[0],l=n.bounds[1]}i={min:s,max:l,xtolerance:d,ytolerance:h,step:d};break;case u.Y:switch(n=c.intersectDomains(c.knownDomain([a,o]),m),n.type){case"empty":return!1;case"known":a=n.bounds[0],o=n.bounds[1]}i={min:a,max:o,xtolerance:h,ytolerance:d,step:h};break;case u.POLAR:if(!t.domain)throw new Error("Expected polar graph to have domain");if(i={min:t.domain.min,max:t.domain.max,step:2*Math.PI/p/1e3,tolerance:Math.min(h,d)},!t.domain.isExplicit){var y=v(r,i,p,"="===t.operator);y&&(i.max=i.min+y)}i.step=Math.max(i.step,(i.max-i.min)/11999);break;case u.PARAMETRIC:case u.PARAMETRIC_CURVE_3D:var g=t.domain?t.domain.min:0,b=t.domain?t.domain.max:1,x=t.domain?t.domain.step:.01;switch(n=c.intersectDomains(c.knownDomain([g,b]),m),n.type){case"empty":return!1;case"known":g=n.bounds[0],b=n.bounds[1]}i={min:g,max:b,step:x,xtolerance:h,ytolerance:d,ztolerance:Math.min(h,d)};break;case u.IMPLICIT:i={xmin:a,xmax:o,ymin:s,ymax:l,xtolerance:h,ytolerance:d};break;case u.Z_3D:return{xmin:-10,xmax:10,ymin:-10,ymax:10};default:return!1}return i}function T(e){var t,r,n,i=e.viewState,o=e.graphInfo,s=e.compiled,c=e.derivative,l=e.discrete,d=e.maxOverride,m=s.fn,v=w(i,o,m),b=o.graphMode;if(v){switch(b){case u.X:case u.Y:var _=c?c.fn:void 0;if(l){var M=v,D=M.min,T=M.max,P=M.step;t=g({fn:m,domain:{min:Math.max(D,0),max:void 0!==d?Math.min(d,T):T,step:P}})}else t=o.isLinear?p(o.linearCoefficients,v):y(m,v,_);break;case u.POLAR:t=x(m,v);break;case u.IMPLICIT:t=a.sampleImplicit(m,v);break;case u.PARAMETRIC:v.step||(v.step=(v.max-v.min)/1e3),t=v.max===v.min?h(m,v.min):o.isLinear?f(o.linearCoefficients,v):S(m,v);break;case u.PARAMETRIC_CURVE_3D:return v.step||(v.step=(v.max-v.min)/1e3),t=v.max===v.min?h(m,v.min):S(m,v),{graphMode:u.PARAMETRIC_CURVE_3D,segments:t.segments,cacheKey:s.source+":"+JSON.stringify(v),color:o.color,style:"dummy"};case u.Z_3D:return{meshData:E(s,v),color:o.color,graphMode:u.Z_3D,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},compiled:s,style:"dummy"};default:throw new Error("Programming Error: unexpected graphmode "+b)}n=t.poi}else t={segments:[],resolved:!0};if((!n||n.zeros.x.length+n.extrema.x.length+n.intercept.x.length>250)&&(n={zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}}),b===u.X)for(var I in n)if(n.hasOwnProperty(I)){var C=I;r=n[C].y,n[C].y=n[C].x,n[C].x=r}var O={segments:t.segments,resolved:t.resolved,graphMode:b,color:o.color,style:l?o.pointStyle:o.lineStyle,lineWidth:o.lineWidth,operator:o.operator,poi:n,compiled:s};if(b===u.POLAR){var A=v;O.sampledDomain={min:A.min,max:A.max,step:A.step}}return t.fillSegments&&(O.fillSegments=t.fillSegments),O}function P(e,t,r){var n,i,a,o,s=[],c=null;switch(r){case u.POLAR:c=b;break;case u.X:c=function(e){return[e[1],e[0]]}}for(n=0;n<e.length;n++)for(o=e[n],i=0;i<o.length;i+=2)a=[o[i],o[i+1]],c&&(a=c(a)),s.push(a[0],a[1]);for(n=t.length-1;n>=0;n--)for(o=t[n],i=o.length-2;i>=0;i-=2)a=[o[i],o[i+1]],c&&(a=c(a)),s.push(a[0],a[1]);return s}function I(e,t,r){for(var i=function(e){var t=e[e.length-1];return t[t.length-2]},a=[],o=0,s=0,u=[],c=[],l=-1/0,p=-1/0;;){if(l<=p){if(o>=t.length)break;c.push(t[o++])}if(p<=l){if(s>=e.length)break;u.push(e[s++])}if(l=i(c),p=i(u),n.approx(l,p,4)){a.push(P(u,c,r)),c=[],u=[];var f=Math.max(l,p);l=f,p=f}}return a}Object.defineProperty(t,"__esModule",{value:!0});var C=function(e,t,r){var n=r.fn,i=r.jumpTolerance,a=r.accumulator;if(!isFinite(i)||i<=0)return t;var o=d(e,t,r);if(!o)return t;for(var s=(t[0]-e[0])/10,u=[-s,s],c=t,l=0;l<u.length;l++){var p=e[0]+u[l],f=n(p);isFinite(f)||(p=e[0],f=e[1],p=e[0],f=e[1]);var h=t[0]+u[l],m=n(h);if(isFinite(m)?c=[h,m]:(h=t[0],m=t[1]),d([p,f],[h,m],r)){var y=o[0],g=o[1];return a.addPoint(y),a.breakSegment(),a.addPoint(g),t}}return c},O=function(){function e(e,t,r){this.derivative=r,this.accumulator=new s.default(t,e,r),this.fn=e,this.jumpTolerance=t.ytolerance||t.tolerance||0}return e}();t.default={sampleXYNaive:l,sampleLinear:p,sampleXY:y,findPiPeriod:v,samplePolar:x,sampleParametricRecursive:S,subsampleParametricRecursive:M,validateViewState:D,computeDomain:w,computeGraphData:T,polygonsFromSegments:I}}),define("core/lib/worker-i18n",["require","exports"],function(e,t){"use strict";function r(e,t){return{msg:e,vars:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.t=r}),define("core/math/mathshim",["require"],function(e){"use strict";var t={};return t.cosh=Math.cosh||function(e){return.5*(Math.exp(e)+Math.exp(-e))},t.sinh=Math.sinh&&0!==Math.sinh(1e-20)?Math.sinh:function(e){var r=e>0?1:-1;return e=e>0?e:-e,.5*-r*Math.exp(e)*t.expm1(-2*e)},t.tanh=Math.tanh&&0!==Math.tanh(1e-20)?Math.tanh:function(e){var r=e>0?1:-1;e=e>0?e:-e;var n=t.expm1(-2*e);return-r*n/(2+n)},t.acosh=Math.acosh||function(e){return e<1?NaN:Math.log(e+t.sqrtxsqm1(e))},t.asinh=Math.asinh&&0!==Math.asinh(1e-20)?Math.asinh:function(e){var r=e>0?1:-1;return e=e>0?e:-e,1+e*e==1?r*t.log1p(e):r*Math.log(e+t.sqrtxsqp1(e))},t.atanh=Math.atanh&&0!==Math.atanh(1e-20)?Math.atanh:function(e){return.5*(t.log1p(e)-t.log1p(-e))},t.expm1=Math.expm1||function(e){return e+.5*e*e===e?e:Math.exp(e)-1},t.log1p=Math.log1p||function(e){return e-.5*e*e===e?e:Math.log(1+e)},t.sqrtxsqp1=function(e){var t=e*e;return 1+t===1?1:1+t===t?Math.abs(e):Math.sqrt(t+1)},t.sqrtxsqm1=function(e){var t=e*e;return t<1?NaN:t-1===t?Math.abs(e):Math.sqrt(t-1)},t}),define("core/math/quadrature",["require","core/math/mathshim","core/math/poi"],function(e){"use strict";function t(e,t,r){return.5*(t*(2-r)+e*r)}function r(e,t,r){var n=.5*(t+r),i=l(t,e(t),n,e(n),r,e(r),e,0);return i?.5*(i[0][0]+i[1][0]):n}function n(e,t,r,n,i){return{x1:e,x2:t,value:r,error:n,minerror:i}}function i(e,r,n){var i=Math.abs(e(t(r,n,d))),a=Math.abs(e(t(r,n,2*d)));return!(i<d||a<d)&&i>1.95*a}function a(e,r,a){var o,s,u=t(a,r,v[0]),c=t(r,a,v[0]),l=e(u),f=e(c),h=t(r,a,1),d=e(h);if(isFinite(d)&&!isFinite(l)){if(o=p(u,l,h,d,e),Math.abs((o[0]-r)/(a-r))>y)return n(r,a,NaN,NaN,NaN);r=o[0],l=o[1]}if(isFinite(d)&&!isFinite(f)){if(s=p(h,d,c,f,e),Math.abs((s[0]-a)/(a-r))>y)return n(r,a,NaN,NaN,NaN);a=s[0],f=s[1]}if(isFinite(l)&&isFinite(f)&&!isFinite(d)){if(o=p(u,l,h,d,e),s=p(h,d,c,f,e),Math.abs((s[0]-o[0])/(a-r))>y)return n(r,a,NaN,NaN,NaN);d=.5*(o[1]+s[1])}if(i(e,r,a)||i(e,a,r))return n(r,a,NaN,NaN,NaN);for(var m=d,x=0,_=0,M=0,E=0,D=0,w=0,T=0;T<g;T+=4)D=e(t(r,a,v[T])),w=e(t(a,r,v[T])),E=Math.max(E,Math.abs(D),Math.abs(w)),x+=b[T]*(D+w),D=e(t(r,a,v[T+1])),w=e(t(a,r,v[T+1])),E=Math.max(E,Math.abs(D),Math.abs(w)),M+=b[T+1]*(D+w),D=e(t(r,a,v[T+2])),w=e(t(a,r,v[T+2])),E=Math.max(E,Math.abs(D),Math.abs(w)),_+=b[T+2]*(D+w),D=e(t(r,a,v[T+3])),w=e(t(a,r,v[T+3])),E=Math.max(E,Math.abs(D),Math.abs(w)),M+=b[T+3]*(D+w);var P,I=m+x,C=I+_,O=C+M,A=Math.abs(_-I),L=Math.abs(M-C),N=S*(a-r)*O,q=S*Math.abs(a-r)*E*b[0];return P=0===A?S*Math.abs(a-r)*L:S*Math.abs(a-r)*L*(L/A)*(L/A),P=Math.max(P,q),n(r,a,N,P,q)}function o(e){for(var t=-1/0,r=-1/0,n=-1,i=0,a=0;a<e.length;a++){var o=e[a];i+=o.value,o.error>t&&(t=o.error,n=a),o.minerror>r&&(r=o.minerror)}return{maxerror:t,maxminerror:r,maxindex:n,totalvalue:i}}function s(e,n,i,s){if(void 0===s&&(s=32),!isFinite(n)||!isFinite(i))return NaN;for(var u=[a(e,n,i)],c=o(u),l=1;l<s&&(!(Math.abs(c.maxerror/c.totalvalue)<=32*m||c.maxerror<=32*m||c.maxerror<=32*c.maxminerror)&&isFinite(c.maxerror)&&isFinite(c.maxminerror));l++){var p=u[u.length-1];u[u.length-1]=u[c.maxindex],u[c.maxindex]=p;var f=u.pop(),h=r(e,t(f.x2,f.x1,.125),t(f.x1,f.x2,.125));u.push(a(e,f.x1,h)),u.push(a(e,h,f.x2)),c=o(u)}return isFinite(c.maxerror)&&isFinite(c.maxminerror)?Math.abs(c.totalvalue)<=10*c.maxminerror?0:c.totalvalue:NaN}var u=e("core/math/mathshim"),c=e("core/math/poi"),l=c.bisectJump,p=c.bisectFinite,f=3.154019550531224,h=Math.pow(2,-13),d=h*h,m=d*d,y=d,g=32,v=[],b=[];!function(e,t){for(var r=g;r>0;r--){var n=f/g*r,i=u.sinh(n),a=u.cosh(Math.PI/2*i),o=1/(Math.exp(Math.PI/2*i)*a),s=u.cosh(n)/(a*a);e.push(o),t.push(s)}}(v,b);for(var x=0,_=0;_<b.length;_++)x+=b[_];var S=1/(1+2*x);return{quad:s}}),define("core/math/tofraction",["require","exports"],function(e,t){"use strict";function r(e,t){if(void 0===t&&(t=1e6),e===1/0)return{n:1/0,d:1};if(e===-1/0)return{n:-1/0,d:1};if(!isFinite(e))return{n:NaN,d:1};for(var r,n,i,a=0,o=1,s=1,u=0;;){if(r=Math.floor(e),n=r*o+a,(i=r*u+s)>t)break;if(a=o,s=u,o=n,u=i,e===r)break;e=1/(e-r)}return{n:o,d:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),function(e){"use strict";function t(e,t){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function r(e,t){return e<<t|e>>>32-t}function n(e,n,i,a,o,s){return t(r(t(t(n,e),t(a,s)),o),i)}function i(e,t,r,i,a,o,s){return n(t&r|~t&i,e,t,a,o,s)}function a(e,t,r,i,a,o,s){return n(t&i|r&~i,e,t,a,o,s)}function o(e,t,r,i,a,o,s){return n(t^r^i,e,t,a,o,s)}function s(e,t,r,i,a,o,s){return n(r^(t|~i),e,t,a,o,s)}function u(e,r){e[r>>5]|=128<<r%32,e[14+(r+64>>>9<<4)]=r;var n,u,c,l,p,f=1732584193,h=-271733879,d=-1732584194,m=271733878;for(n=0;n<e.length;n+=16)u=f,c=h,l=d,p=m,f=i(f,h,d,m,e[n],7,-680876936),m=i(m,f,h,d,e[n+1],12,-389564586),d=i(d,m,f,h,e[n+2],17,606105819),h=i(h,d,m,f,e[n+3],22,-1044525330),f=i(f,h,d,m,e[n+4],7,-176418897),m=i(m,f,h,d,e[n+5],12,1200080426),d=i(d,m,f,h,e[n+6],17,-1473231341),h=i(h,d,m,f,e[n+7],22,-45705983),f=i(f,h,d,m,e[n+8],7,1770035416),m=i(m,f,h,d,e[n+9],12,-1958414417),d=i(d,m,f,h,e[n+10],17,-42063),h=i(h,d,m,f,e[n+11],22,-1990404162),f=i(f,h,d,m,e[n+12],7,1804603682),m=i(m,f,h,d,e[n+13],12,-40341101),d=i(d,m,f,h,e[n+14],17,-1502002290),h=i(h,d,m,f,e[n+15],22,1236535329),f=a(f,h,d,m,e[n+1],5,-165796510),m=a(m,f,h,d,e[n+6],9,-1069501632),d=a(d,m,f,h,e[n+11],14,643717713),h=a(h,d,m,f,e[n],20,-373897302),f=a(f,h,d,m,e[n+5],5,-701558691),m=a(m,f,h,d,e[n+10],9,38016083),d=a(d,m,f,h,e[n+15],14,-660478335),h=a(h,d,m,f,e[n+4],20,-405537848),f=a(f,h,d,m,e[n+9],5,568446438),m=a(m,f,h,d,e[n+14],9,-1019803690),d=a(d,m,f,h,e[n+3],14,-187363961),h=a(h,d,m,f,e[n+8],20,1163531501),f=a(f,h,d,m,e[n+13],5,-1444681467),m=a(m,f,h,d,e[n+2],9,-51403784),d=a(d,m,f,h,e[n+7],14,1735328473),h=a(h,d,m,f,e[n+12],20,-1926607734),f=o(f,h,d,m,e[n+5],4,-378558),m=o(m,f,h,d,e[n+8],11,-2022574463),d=o(d,m,f,h,e[n+11],16,1839030562),h=o(h,d,m,f,e[n+14],23,-35309556),f=o(f,h,d,m,e[n+1],4,-1530992060),m=o(m,f,h,d,e[n+4],11,1272893353),d=o(d,m,f,h,e[n+7],16,-155497632),h=o(h,d,m,f,e[n+10],23,-1094730640),f=o(f,h,d,m,e[n+13],4,681279174),m=o(m,f,h,d,e[n],11,-358537222),d=o(d,m,f,h,e[n+3],16,-722521979),h=o(h,d,m,f,e[n+6],23,76029189),f=o(f,h,d,m,e[n+9],4,-640364487),m=o(m,f,h,d,e[n+12],11,-421815835),d=o(d,m,f,h,e[n+15],16,530742520),h=o(h,d,m,f,e[n+2],23,-995338651),f=s(f,h,d,m,e[n],6,-198630844),m=s(m,f,h,d,e[n+7],10,1126891415),d=s(d,m,f,h,e[n+14],15,-1416354905),h=s(h,d,m,f,e[n+5],21,-57434055),f=s(f,h,d,m,e[n+12],6,1700485571),m=s(m,f,h,d,e[n+3],10,-1894986606),d=s(d,m,f,h,e[n+10],15,-1051523),h=s(h,d,m,f,e[n+1],21,-2054922799),f=s(f,h,d,m,e[n+8],6,1873313359),m=s(m,f,h,d,e[n+15],10,-30611744),d=s(d,m,f,h,e[n+6],15,-1560198380),h=s(h,d,m,f,e[n+13],21,1309151649),f=s(f,h,d,m,e[n+4],6,-145523070),m=s(m,f,h,d,e[n+11],10,-1120210379),d=s(d,m,f,h,e[n+2],15,718787259),h=s(h,d,m,f,e[n+9],21,-343485551),f=t(f,u),h=t(h,c),
d=t(d,l),m=t(m,p);return[f,h,d,m]}function c(e){var t,r="",n=32*e.length;for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function l(e){var t,r=[];for(r[(e.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;var n=8*e.length;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function p(e){return c(u(l(e),8*e.length))}function f(e,t){var r,n,i=l(e),a=[],o=[];for(a[15]=o[15]=void 0,i.length>16&&(i=u(i,8*e.length)),r=0;r<16;r+=1)a[r]=909522486^i[r],o[r]=1549556828^i[r];return n=u(a.concat(l(t)),512+8*t.length),c(u(o.concat(n),640))}function h(e){var t,r,n="0123456789abcdef",i="";for(r=0;r<e.length;r+=1)t=e.charCodeAt(r),i+=n.charAt(t>>>4&15)+n.charAt(15&t);return i}function d(e){return unescape(encodeURIComponent(e))}function m(e){return p(d(e))}function y(e){return h(m(e))}function g(e,t){return f(d(e),d(t))}function v(e,t){return h(g(e,t))}function b(e,t,r){return t?r?g(t,e):v(t,e):r?m(e):y(e)}"function"==typeof define&&define.amd?define("core/lib/md5",[],function(){return b}):"object"==typeof module&&module.exports?module.exports=b:e.md5=b}(this),define("core/math/builtin",["require","core/math/mathshim","core/math/distance","core/math/quadrature","core/math/tofraction","core/math/poi","core/lib/md5"],function(e){"use strict";function t(e,t,r){return Math.max(t,Math.min(r,e))}function r(e){return!(e>1e12)&&Math.round(m*e)*Math.PI===e}function n(e){if(e>1e12)return!1;var t=Math.round(2*m*e);return t%2==1&&t*Math.PI==2*e}function i(e,t,r){return r<0?p.tcdf(-1/0,e,t):r>0?p.tcdf(-1/0,-e,t):2*p.tcdf(-1/0,-Math.abs(e),t)}var a=e("core/math/mathshim"),o=e("core/math/distance"),s=e("core/math/quadrature"),u=e("core/math/tofraction").default,c=e("core/math/poi").floatMiddle,l=e("core/lib/md5"),p={};p.cosh=a.cosh,p.sinh=a.sinh,p.tanh=a.tanh,p.acosh=a.acosh,p.asinh=a.asinh,p.atanh=a.atanh,p.expm1=a.expm1,p.log1p=a.log1p,p.sqrtxsqp1=a.sqrtxsqp1,p.sqrtxsqm1=a.sqrtxsqm1,p.mod=function(e,t){return e-t*Math.floor(e/t)},p.round=function(e,t){if(void 0===t&&(t=0),0===(t=Math.round(t)))return Math.round(e);var r=Math.pow(10,t);return Math.round(e*r)/r},p.sign=Math.sign||function(e){return 0===e?0:e>0?1:e<0?-1:NaN},p.lcm=function(e,t){e=Math.round(e),t=Math.round(t);var r=p.gcd(e,t);return Math.abs(e/r*t)},p.gcd=function(e,t){if(e=Math.round(e),t=Math.round(t),e<0&&(e=-e),t<0&&(t=-t),t>e){var r=t;t=e,e=r}if(0===t)return e;for(var n=e%t;n>0;)e=t,t=n,n=e%t;return t},p.listGCD=function(e){if(0===e.length)return NaN;for(var t=e[0],r=1;r<e.length;r++)t=p.gcd(t,e[r]);return t},p.listLCM=function(e){if(0===e.length)return NaN;for(var t=e[0],r=1;r<e.length;r++)t=p.lcm(t,e[r]);return t},p.nCr=function(e,t){if(e=Math.round(e),(t=Math.round(t))>e||e<0||t<0)return 0;if(t===1/0||e===1/0)return NaN;for(var r=1,n=0;n<t;n++)r*=(e-n)/(n+1);return r},p.nPr=function(e,t){if(e=Math.round(e),(t=Math.round(t))>e||e<0||t<0)return 0;if(t===1/0||e===1/0)return NaN;for(var r=1,n=0;n<t;n++)r*=e-n;return r},p.factorial=function(e){return p.gamma(e+1)},p.gamma=function(e){if(e<0)return Math.PI/(p.sin(Math.PI*e)*p.gamma(1-e));if(e>170)return 1/0;var t,r=Math.round(e)===e;return t=e<15?f(e):e<120?h(e):Math.exp(d(e)),r?Math.round(t):t};var f=function(e){var t=1+e*(4.077131788261185+e*(7.024675027156382+e*(6.657107767450176+e*(3.766266976716022+e*(1.2792371666711133+e*(.24304596436338005+.020049769312165774*e)))))),r=1+e*(4.154347453162709+e*(7.270007565107539+e*(6.97805297331391+e*(3.989651532924167+e*(1.367176195613119+e*(.26175627691546965+.021742722739397567*e))))));return Math.E*Math.pow((1+e)/Math.E,1+e)/(e*Math.sqrt(1+e))*(t/r)},h=function(e){var t=e-1;return Math.pow(t,t)*Math.exp(g(t)-t)*Math.sqrt(2*Math.PI*t)},d=function(e){var t=e-1;return t*(Math.log(t)-1)+.5*Math.log(2*Math.PI*t)+g(t)};p.lnGamma=function(e){return e<0?NaN:e<15?Math.log(f(e)):d(e)},p.bernoulliTable=[1/6,-1/30,1/42,-1/30,5/66,-691/2730,7/6,-3617/510,43867/798,-174611/330,854513/138,-236364091/2730,8553103/6,-23749461029/870],p.cotDerivative=function(e,t){if(e!==Math.floor(e))return NaN;if(e<0)return NaN;if(0===e)return 1/p.tan(t);var r=p.sin(t);if(1===e)return-1/(r*r);var n=p.cos(t);if(2===e)return 2*n/(r*r*r);var i,a,o,s,u,c=[0,2];for(a=3;a<=e;a++){for(i=[],o=0;o<a;o++)s=0,u=0,o>0&&(s=(a-o+1)*c[o-1]),o+2<a&&(u=(o+1)*c[o+1]),i.push(-(s+u));c=i}var l=0;for(o=e-1;o>=0;o--)l=i[o]+n*l;return l/Math.pow(r,e+1)},p.polyGamma=function(e,t){if(e<0)return NaN;if(e!==Math.floor(e))return NaN;var r=e%2==0?-1:1;if(t<0)return-r*p.polyGamma(e,1-t)-Math.pow(Math.PI,e+1)*p.cotDerivative(e,Math.PI*t);for(var n=p.factorial(e),i=0,a=Math.pow(t,-(e+1));t<10;)i+=a,t++,a=Math.pow(t,-(e+1));i+=0===e?-Math.log(t):a*t/e,i+=.5*a;for(var o=p.bernoulliTable,s=e+1,u=2,c=a*t*s/u,l=1/(t*t),f=1;f<=14;f++)c*=l,i+=c*o[f-1],s++,u++,c*=s/u,s++,u++,c*=s/u;return n*r*i},p.toFraction=u,p.log=function(e){var t=Math.log(e);return Math.exp(Math.round(t))===e?Math.round(t):t},p.log_base=function(e,t){if(0===t)return NaN;var r=Math.log(e)/Math.log(t);return Math.pow(t,Math.round(r))===e?Math.round(r):r},p.common_log=function(e){return p.log_base(e,10)},p.pow=function(e,t){if(!isFinite(e)&&0===t)return NaN;if(e>=0||t===Math.floor(t))return Math.pow(e,t);var r=p.toFraction(t,100);return o.approx(r.n/r.d,t,2)&&r.d%2==1?(r.n%2==0?1:-1)*Math.pow(-e,t):NaN},p.nthroot=function(e,t){return p.pow(e,1/t)};var m=1/Math.PI;p.sin=function(e){return r(Math.abs(e))?0:Math.sin(e)},p.cos=function(e){return n(Math.abs(e))?0:Math.cos(e)},p.tan=function(e){var t=Math.abs(e);return r(t)?0:n(t)?1/0:Math.tan(e)},p.sec=function(e){return n(Math.abs(e))?1/0:1/Math.cos(e)},p.csc=function(e){return r(Math.abs(e))?1/0:1/Math.sin(e)},p.cot=function(e){var t=Math.abs(e);return r(t)?1/0:n(t)?0:1/Math.tan(e)},p.acot=function(e){return Math.PI/2-Math.atan(e)},p.acsc=function(e){return Math.asin(1/e)},p.asec=function(e){return Math.acos(1/e)},p.sech=function(e){return 1/p.cosh(e)},p.csch=function(e){return 1/p.sinh(e)},p.coth=function(e){return 1/p.tanh(e)},p.asech=function(e){return p.acosh(1/e)},p.acsch=function(e){return p.asinh(1/e)},p.acoth=function(e){return p.atanh(1/e)},p.mean=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t/e.length},p.total=function(e){for(var t=0,r=0;r<e.length;r++)t+=e[r];return t};var y=function(e){return e>50?Math.exp(.5*((1-e)*a.log1p(-1/(e-1))-1)+g(.5*(e-1))-g(.5*(e-2)))*Math.sqrt((1-1/e)/(2*Math.PI)):p.gamma((e+1)/2)/(p.gamma(e/2)*Math.sqrt(e*Math.PI))},g=function(e){var t=e*e;return(.08333333333333333-(.002777777777777778-(.0007936507936507937-(.0005952380952380953-.0008417508417508417/t)/t)/t)/t)/e};p.tpdf=function(e,t){return t<=0?NaN:y(t)*Math.pow(1+e*e/t,-(t+1)/2)};var v=function(e,t){if(t>0)return 1-v(e,-t);if(t===-1/0)return 0;var r=Math.sqrt(2*e/(e+1));if(Math.abs(t/r)<.001)return.5*(1+Math.sqrt(Math.PI)*y(e)*r*p.erf(t/r));if(t/e<-1e3){var n=t*t;return y(e)*Math.pow(e,.5*(e-1))*Math.pow(Math.abs(t),-e)*(1-e*e*(e+1)*(1/(2+e)+e*(e+3)/(4*(4+e)*n))/(2*n))}var i=Math.sqrt(t*t+e);return b((t+i)/(2*i),e/2,e/2)};p.tcdf=function(e,t,r){return r<=0?NaN:e===-1/0?v(r,t):e>0&&t>0?v(r,-e)-v(r,-t):v(r,t)-v(r,e)};var b=function(e,t,r){if(e<0||e>1)throw new RangeError("First argument must be between 0 and 1.");if(1===t&&1===r)return e;if(0===e)return 0;if(1===e)return 1;if(0===t)return 1;if(0===r)return 0;var n=Math.exp(p.lnGamma(t+r)-p.lnGamma(t)-p.lnGamma(r)+t*Math.log(e)+r*a.log1p(-e));return e<(t+1)/(t+r+2)?n*x(e,t,r)/t:1-n*x(1-e,r,t)/r},x=function(e,t,r){var n,i,a,o,s,u,c,l,p,f=1;for(c=t+r,p=t+1,l=t-1,a=1,o=1-c*e/p,Math.abs(o)<1e-30&&(o=1e-30),o=1/o,u=o;f<=100&&(n=2*f,i=f*(r-f)*e/((l+n)*(t+n)),o=1+i*o,Math.abs(o)<1e-30&&(o=1e-30),a=1+i/a,Math.abs(a)<1e-30&&(a=1e-30),o=1/o,u*=o*a,i=-(t+f)*(c+f)*e/((t+n)*(p+n)),o=1+i*o,Math.abs(o)<1e-30&&(o=1e-30),a=1+i/a,Math.abs(a)<1e-30&&(a=1e-30),o=1/o,s=o*a,u*=s,!(Math.abs(s-1)<3e-7));f++);return u},_=function(e,t,r){return(e-t)/(Math.SQRT2*Math.abs(r))},S=function(e){return e<0?.5*Math.exp(-e*e)*p.erfcx(-e):1-.5*Math.exp(-e*e)*p.erfcx(e)};p.normalcdf=function(e,t,r,n){var i=_(t,r,n);if(e===-1/0)return S(i);var a=_(e,r,n);return e>0&&t>0?S(-a)-S(-i):S(i)-S(a)},p.normalpdf=function(e,t,r){return 1/Math.sqrt(2*Math.PI*r*r)*Math.exp(-(e-t)*(e-t)/(2*r*r))},p.random=function(e){var t=l(e);return(4294967296*(2097151&parseInt(t.slice(0,8),16))+parseInt(t.slice(8,16),16))/9007199254740992},p.uniformSample=function(e,t,r){return p.random(e)*(r-t)+t},p.normalSample=function(e,t,r){var n,i,a,o,s=0;do{n=e+"::sc"+s,s+=1,i=2*p.uniformSample(n,0,1)-1,n=e+"::sc"+s,s+=1,a=2*p.uniformSample(n,0,1)-1,o=i*i+a*a}while(o>=1||0===o);return t+r*i*Math.sqrt(-2*Math.log(o)/o)},p.tSample=function(e,t){if(t<=0)return NaN;var r,n,i,a,o=0;do{r=e+"::sc"+o,o+=1,n=2*p.uniformSample(r,0,1)-1,r=e+"::sc"+o,o+=1,i=2*p.uniformSample(r,0,1)-1,a=n*n+i*i}while(a>1);var s=n*n/a,u=t*(Math.pow(a,-2/t)-1);return r=e+"::sc"+o,o+=1,(p.uniformSample(r,0,1)<.5?-1:1)*Math.sqrt(s*u)},p.binomSample=function(e,r,n){return(r=t(Math.round(r),0,1/0))===1/0?NaN:(n=t(n,0,1),p.invBinom(p.uniformSample(e,0,1),r,n))},p.poissonSample=function(e,t){return t<=0?NaN:p.invPoisson(p.uniformSample(e,0,1),t)};var M=function(e,t,r){if(e>=t)return 1;if(e<0)return 0;for(var n=r/(1-r),i=Math.pow(1-r,t),a=i,o=1;o<=Math.min(t,e);o++)i*=(t-o+1)/o*n,a+=i;return a};p.binomcdf=function(e,r,n,i){return(n=t(Math.round(n),0,1/0))===1/0?NaN:(i=t(i,0,1),r<0?0:(e=Math.ceil(e),r=Math.floor(r),e===-1/0?M(r,n,i):M(r,n,i)-M(e-1,n,i)))},p.binompdf=function(e,r,n){return e=Math.round(e),(r=t(Math.round(r),0,1/0))===1/0?NaN:(n=t(n,0,1),e<0||e>r?0:p.nCr(r,e)*Math.pow(n,e)*Math.pow(1-n,r-e))},p.poissonpdf=function(e,t){return t<=0?NaN:(e=Math.round(e),e<0?0:Math.exp(-t+e*Math.log(t)-p.lnGamma(e+1)))};var E=function(e,t){if(e===1/0)return 1;if(e<0)return 0;for(var r=1,n=1,i=1;i<=e;i++){r*=t/i;var a=n;if((n+=r)===a)break}return Math.exp(-t)*n};p.poissoncdf=function(e,t,r){return r<=0?NaN:(e=Math.ceil(e),t=Math.floor(t),t<0?0:e===-1/0?E(t,r):E(t,r)-E(e-1,r))},p.uniformpdf=function(e,t,r){return r<=t?NaN:e<t||e>r?0:1/(r-t)};var D=function(e,t,r){return r<=t?NaN:e<t?0:e>r?1:(e-t)/(r-t)};p.uniformcdf=function(e,t,r,n){return D(t,r,n)-D(e,r,n)},p.erf=function(e){var t=-e*e;if(t<-750)return e>=0?1:-1;if(e>=.065)return 1-Math.exp(t)*p.erfcx(e);if(e<=-.065)return Math.exp(t)*p.erfcx(-e)-1;return e*(1.1283791670955126+t*(.37612638903183754+t*(.11283791670955126+t*(.026866170645131252+.005223977625442188*t))))},p.erfcx=function(e){if(e<0)return e<-6.1?2*Math.exp(e*e):2*Math.exp(e*e)-p.erfcx(-e);if(e>50){var t=.5641895835477563,r=e*e;return e>5e7?t/e:t*(r*(r+4.5)+2)/(e*(r*(r+5)+3.75))}return(.9999999999999999+e*(2.224574423459406+e*(2.444115549920689+e*(1.7057986861852539+e*(.8257463703357973+e*(.28647031042892007+e*(.07124513844341643+e*(.012296749268608364+e*(.001347817214557592+7263959403471071e-20*e)))))))))/(1+e*(3.352953590554884+e*(5.227518529742423+e*(5.003720878235473+e*(3.266590890998987+e*(1.5255421920765353+e*(.5185887413188858+e*(.12747319185915415+e*(.02185979575963238+e*(.0023889438122503674+.00012875032817508128*e))))))))))},p.invNorm=function(e){var t,r,n;return e>.5?-p.invNorm(1-e):.5===e?0:e<0?NaN:0===e?-1/0:(e<.02425?(t=Math.sqrt(-2*Math.log(e)),n=(((((-.00778489400243029*t-.322396458041136)*t-2.40075827716184)*t-2.54973253934373)*t+4.37466414146497)*t+2.93816398269878)/((((.00778469570904146*t+.32246712907004)*t+2.445134137143)*t+3.75440866190742)*t+1)):(t=e-.5,r=t*t,n=(((((-39.6968302866538*r+220.946098424521)*r-275.928510446969)*r+138.357751867269)*r-30.6647980661472)*r+2.50662827745924)*t/(((((-54.4760987982241*r+161.585836858041)*r-155.698979859887)*r+66.8013118877197)*r-13.2806815528857)*r+1)),n-Math.sqrt(2*Math.PI)*(.5*p.erfcx(-n/Math.SQRT2)-Math.exp(.5*n*n)*e))},p.invPoisson=function(e,t){if(t<=0||e<0||e>1)return NaN;if(0===e)return 0;if(1===e)return 1/0;for(var r=1,n=1,i=1;Math.exp(-t)*n<e;){if(r*=t/i,n+r===n)return 1/0;n+=r,i+=1}return i-1},p.invBinom=function(e,t,r){if(t!==Math.round(t))return NaN;if(r<0||r>1)return NaN;if(e<0||e>1)return NaN;if(0===e)return 0;if(1===e)return t;if(0===t)return 0;if(1===r)return t;if(0===r)return 0;for(var n=r/(1-r),i=Math.pow(1-r,t),a=i,o=1;a<e;){if(i*=(t-o+1)/o*n,a+i===a)return t;if(o>t)return t;a+=i,o+=1}return o-1},p.invT=function(e,t){if(t<=0||e<0||e>1)return NaN;if(0===e)return-1/0;if(1===e)return 1/0;if(1===t||2===t||4===t)return w(t,e);var r,n;return.5===e?0:e>.5?(r=t>1?p.invNorm(e):w(1,e),n=t>1?w(1,e):Math.pow(p.tpdf(0,t)*Math.pow(t,(t-1)/2)/(1-e),1/t),T(t,e,r,n)):-p.invT(1-e,t)};var w=function(e,t){var r=4*t*(1-t);switch(e){case 1:return Math.tan(Math.PI*(t-.5));case 2:return 2*(t-.5)*Math.sqrt(2/r);case 4:var n=Math.cos(Math.acos(Math.sqrt(r))/3)/Math.sqrt(r);return 2*Math.sign(t-.5)*Math.sqrt(n-1);default:throw new Error("_invTSimple() must be called with 1, 2, or 4 df.")}},T=function(e,t,r,n){for(var i,a,o=r,s=n;;){if(i=c(o,s),a=v(e,i),i===o||i===s)return a>t?o:s;a<t?o=i:s=i}};return p.invUniform=function(e,t,r){return e<0||e>1||r<=t?NaN:0===e?t:1===e?r:t+e*(r-t)},p.tscore=function(e,t){var r=p.stdev(e);return(p.mean(e)-t)*Math.sqrt(e.length)/r},p.itscore=function(e,t){var r=e.length,n=p.mean(e),i=p.stdev(e),a=t.length,o=p.mean(t),s=p.stdev(t);return(n-o)/(Math.sqrt(((r-1)*i*i+(a-1)*s*s)/(r+a-2))*Math.sqrt(1/r+1/a))},p.ttest=function(e,t){1===arguments.length&&(t=0);var r=p.tscore(e,t),n=e.length-1;return{lessThan:i(r,n,-1),greaterThan:i(r,n,1),notEqual:i(r,n,0)}},p.ittest=function(e,t){var r=p.itscore(e,t),n=e.length+t.length-2;return{lessThan:i(r,n,-1),greaterThan:i(r,n,1),notEqual:i(r,n,0)}},p.stats=function(e){return{min:p.listMin(e),q1:p.quartile(e,1),median:p.median(e),q3:p.quartile(e,3),max:p.listMax(e)}},p.length=function(e){return e.length},p.listMin=function(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]<t&&(t=e[r])}return t},p.listMax=function(e){if(e.length<1)return NaN;var t=e[0];if(isNaN(t))return NaN;for(var r=1;r<e.length;r++){if(isNaN(e[r]))return NaN;e[r]>=t&&(t=e[r])}return t},p.quantile=function(e,t){if(!isFinite(t)||t<0||t>1)return NaN;if(e.some(isNaN))return NaN;var r=e.length,n=p.sortPerm(e),i=t*(r-1);return Math.floor(i)===i?e[n[i]]:(Math.ceil(i)-i)*e[n[Math.floor(i)]]+(i-Math.floor(i))*e[n[Math.ceil(i)]]},p.quartile=function(e,t){if(!isFinite(t)||t<0||t>4)return NaN;if(e.some(isNaN))return NaN;var r=p.sortPerm(e),n=p.quartileIndex(e,t),i=Math.floor(n),a=Math.ceil(n);return(e[r[i]]+e[r[a]])/2},p.sortPerm=function(e){for(var t=e.length,r=[],n=0;n<t;n++)r.push(n);return r.sort(function(t,r){return e[t]-e[r]}),r},p.quartileIndex=function(e,t){t=Math.round(t);var r,n=e.length,i=n%2==1;return 1===n?0:(0===t&&(r=0),2===t&&(r=(n-1)/2),4===t&&(r=n-1),1===t&&(r=i?(n+1)/4-1:(n+2)/4-1),3===t&&(r=i?(3*n+3)/4-1:(3*n+2)/4-1),r)},p.upperQuantileIndex=function(e,t){return p.sortPerm(e)[Math.ceil(t*(e.length-1))]+1},p.lowerQuantileIndex=function(e,t){return p.sortPerm(e)[Math.floor(t*(e.length-1))]+1},p.upperQuartileIndex=function(e,t){return p.sortPerm(e)[Math.ceil(p.quartileIndex(e,t))]+1},p.lowerQuartileIndex=function(e,t){return p.sortPerm(e)[Math.floor(p.quartileIndex(e,t))]+1},p.median=function(e){return p.quantile(e,.5)},p.argMin=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++){if(isNaN(e[n]))return 0;e[n]<t&&(r=n,t=e[n])}return r+1},p.argMax=function(e){if(e.length<1)return 0;var t=e[0];if(isNaN(t))return 0;for(var r=0,n=1;n<e.length;n++)if(e[n]>=t){if(isNaN(e[n]))return 0;r=n,t=e[n]}return r+1},p.varp=function(e){for(var t=p.mean(e),r=0,n=0;n<e.length;n++){var i=e[n]-t;r+=i*i}return r/e.length},p.mad=function(e){for(var t=p.mean(e),r=0,n=0;n<e.length;n++)r+=Math.abs(e[n]-t);return r/e.length},p.var=function(e){var t=e.length;return p.varp(e)*t/(t-1)},p.covp=function(e,t){if(e.length!==t.length)return NaN;for(var r=e.length,n=p.mean(e),i=p.mean(t),a=0,o=0;o<r;o++)a+=(e[o]-n)*(t[o]-i);return a/r},p.cov=function(e,t){if(e.length!==t.length)return NaN;var r=e.length;return p.covp(e,t)*r/(r-1)},p.corr=function(e,t){if(e.length!==t.length)return NaN;for(var r,n,i=e.length,a=p.mean(e),o=p.mean(t),s=0,u=0,c=0,l=0;l<i;l++)r=e[l]-a,n=t[l]-o,s+=r*r,u+=n*n,c+=r*n;return c/Math.sqrt(s*u)},p.rank=function(e){var t=e.length;if(0===t)return[];for(var r=[],n=[],i=0;i<t;i++)n.push([e[i],i]);n.sort(function(e,t){var r=e[0],n=t[0];return r===1/0&&n===1/0||r===-1/0&&n===-1/0?0:r-n}),i=0;for(var a,o=1,s=1;i<t;){for(a=i;a<t-1&&n[a][0]===n[a+1][0];)a+=1;s=a-i+1;var u;for(a=0;a<s;a++)u=n[i+a][1],r[u]=isNaN(e[u])?NaN:o+.5*(s-1);o+=s,i+=s}return r},p.spearman=function(e,t){return p.corr(p.rank(e),p.rank(t))},p.stdev=function(e){return Math.sqrt(p.var(e))},p.stdevp=function(e){return Math.sqrt(p.varp(e))},p.quad=s.quad,p.distance=function(e,t){return o.hypot(t[0]-e[0],t[1]-e[1])},p.midpoint=function(e,t){return[.5*(e[0]+t[0]),.5*(e[1]+t[1])]},p}),define("core/math/functions",["require","exports","core/math/builtin"],function(e,t,r){"use strict";function n(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].compiled;n&&a(n)}}function i(e){for(var t=0,r=e;t<r.length;t++){var n=r[t].compiled;n&&o(n)}}function a(e){delete e.fn}function o(e){e.fn=u(e.args,e.source)}function s(e,t){for(var r=[],n=0;n<t;n++)r.push("values["+n+"]");return u(["values"],"return "+e(r))}function u(e,t){var n=e.join(","),i="return (function("+n+'){"use strict"; '+t+"})";return new Function("BuiltIn",i)(r)}Object.defineProperty(t,"__esModule",{value:!0}),t.dehydrateGraphData=n,t.rehydrateGraphData=i,t.dehydrateCompiledFunction=a,t.rehydrateCompiledFunction=o,t.createEvaluateFunction=s,t.closureFunctionWithBuiltIn=u}),define("core/math/parser/input-span",["require","exports"],function(e,t){"use strict";function r(e,t,r){return{input:e,start:t,end:r}}function n(e,t){return r(e,t,t)}function i(e,t){if(e.input!==t.input)throw new Error("Programming Error: cannot form a span on different inputs");return r(e.input,e.start,t.end)}function a(e){return e.input.slice(e.start,e.end)}Object.defineProperty(t,"__esModule",{value:!0}),t.Span=r,t.emptySpanAt=n,t.joinSpans=i,t.slice=a}),define("core/math/policy",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf"];t.defaultPolicy={assignmentForbidden:function(e){return!0},graphingEnabled:function(){return!1},isValidSlider:function(e){return!1},sliderVariables:function(e){return[]},ansEnabled:function(){return!1},disabledFeatures:function(){return r}}}),define("core/math/parsenode/base",["require","pjs","core/math/functions","core/math/parser/input-span","core/math/policy"],function(e){"use strict";var t=e("pjs"),r=e("core/math/functions"),n=e("core/math/parser/input-span"),i=e("core/math/policy").defaultPolicy;return t(function(e,t,a){e.init=function(){this._dependencies=[],this._dummyDependencies=[],this._exports=[]},e.exportPenalty=0;var o=0;e.tmpVar=function(){return"tmp"+o++},e.dependencies=function(){return this.getDependencies()},e.evaluateOnce=function(e){void 0===e&&(e={});var t=this.getConcreteTree(i,e),r=t.getEvaluationInfo();return r?r[0].val:NaN},e.setInputSpan=function(e){this._inputSpan=e},e.getInputString=function(){return void 0===this._inputSpan?"":n.slice(this._inputSpan)},e.getInputSpan=function(){return this._inputSpan},e.shouldExportAns=function(){return!1},e.getAnsVariable=function(){return this.shouldExportAns()&&this.userData&&this.userData.hasOwnProperty("index")?["ans_"+this.userData.index]:[]},e.addDependency=function(e){this.dependsOn(e)||this._dependencies.push(e)},e.addDependencies=function(e){for(var t=0;t<e.length;t++)this.addDependency(e[t])},e.addDummyDependency=function(e){-1===this._dummyDependencies.indexOf(e)&&this._dummyDependencies.push(e)},e.addDummyDependencies=function(e){for(var t=0;t<e.length;t++)this.addDummyDependency(e[t])},e.mergeDependencies=function(){for(var e=0;e<arguments.length;e++)this.addDependencies(arguments[e].getDependencies()),this.addDummyDependencies(arguments[e].getDummyDependencies())},e.getDependencies=function(){return this._dependencies},e.getDummyDependencies=function(){return this._dummyDependencies},e.removeDependency=function(e){var t=this._dependencies.indexOf(e);t>=0&&this._dependencies.splice(t,1)},e.dependsOn=function(e){return this._dependencies.indexOf(e)>-1},e.getExports=function(){return(this._exports||[]).concat(this.getAnsVariable())},e.getLegalExports=function(e){return this.getExports().filter(function(t){return!e.assignmentForbidden(t)})},e.exportsSymbol=function(e){return this._exports.indexOf(e)>-1},e.exportTo=function(e,t,r){for(var n=this.getLegalExports(e),i=0;i<n.length;i++){var a=n[i];if(r[a])return;r[a]=t.blocksExport?t:this}},e.getOperator=function(){return this.operator||"="},e.isInequality=function(){return!1},e.isShadeBetween=function(){return!1},e.getAllIds=function(){return this.userData?[this.userData.id]:[]},e.getEvaluationInfo=function(){return!1},e.shouldPromoteToSlider=function(e){return!1},e.getSliderVariables=function(e,t){return e.sliderVariables(t.getDependencies())},e.getCompiledFunction=function(e){var t=this.getEvalStrings(),n=t.statements.join(";")+";return "+t.expression;if(void 0===e){e=this.getDependencies();var i=e.indexOf("x");if(-1!==i){var a=e[0];e[0]=e[i],e[i]=a}}return{args:e,source:n,fn:r.closureFunctionWithBuiltIn(e,n)}},e.getCompiledDerivative=function(){var e=this.getDependencies();return this.takeDerivative(e[0]||"x").getCompiledFunction()},e.asValue=function(){}})}),define("core/math/parsenode/error",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e){t.init.call(this),this._msg=e,this._sliderVariables=[],this.blocksExport=!0},e.evaluateOnce=function(e){return this._msg},e.isError=!0,e.getError=function(){return this._msg},e.setDependencies=function(e){return this._dependencies=e,this},e.allowExport=function(){return this.blocksExport=!1,this}})}),define("core/lib/label",["require","exports","underscore","core/math/distance","core/math/tofraction"],function(e,t,r,n,i){"use strict";function a(e,t){if(void 0===t&&(t=e),isNaN(e)||!isFinite(e))return{ariaString:"undefined",string:"undefined",value:e};if(0===e)return{ariaString:"0",string:"0",value:e};Math.abs(e)>Math.abs(t)&&(t=e);var r,a,o,s=i.default(e/Math.PI,24);if(h(t)&&n.approx(s.n/s.d*Math.PI,e,3))return r=0===s.n?"0":1===s.n?"":-1===s.n?"-":s.n.toString()+"",a=1===s.d?"":"/"+s.d.toString(),o=r+a,{ariaString:u(o),string:o,value:s.n/s.d*Math.PI};if(h(t))return o=f(l(e.toFixed(d(t)))),{ariaString:u(o),string:o,value:parseFloat(o)};var c=p(e.toExponential(d(t/e))).split("e"),m=c[0]+"10",y=c[1].replace("+","");return o=p(e.toExponential(d(t/e))).replace("+",""),{ariaString:u(o),string:o,mantissa:m,superscript:y,value:parseFloat(o)}}function o(e){return T["["+e+"]"]}function s(e){return e[0]+e.slice(1).split("").join(" ")}function u(e){return e.replace(I,s).replace(P,o).replace(/ +/gi," ").trim()}function c(e,t,r,n){var i=a(e,t);return[i,a(n(i.value),r)]}function l(e){return-1===e.indexOf(".")?e:e.replace(C,"")}function p(e){var t=/\\.?0+e/;return e.replace(t,"e")}function f(e){return"-0"===e?"0":e}function h(e){return 1e-4<(e=Math.abs(e))&&e<1e7}function d(e){return e=Math.abs(e),e=Math.max(e,1e-16),Math.max(3,Math.floor(4.5-Math.log(e)/Math.LN10))}function m(e){return 1e6/Math.sqrt(Math.abs(e))}function y(e){var t=m(e);if(t<1)return!1;if(t>1e12)return!1;var r=i.default(e,t),n=r.n,a=r.d;return 1!==a&&e===e+Math.pow(2,-3)*Math.abs(n/a-e)}function g(e,t){if(t=t||{},isNaN(e)||!isFinite(e))return{type:"undefined"};if(0===e||t.zeroCutoff&&Math.abs(e)<t.zeroCutoff)return{type:"decimal",value:"0"};var r=t.smallCutoff||.001,n=t.bigCutoff||1e6,a=t.digits||10,o=p(e.toExponential(a-2)),s=o.match(/([\\d\\.\\-]+)e\\+?([\\d\\-]+)/);if(!s)return{type:"undefined"};var u=parseInt(s[2],10)>=a,c=y(e);if(Math.abs(e)>n||Math.abs(e)<r||u)return{type:"scientific",mantissa:s[1],exponent:s[2]};if(c&&t.displayAsFraction){var f=i.default(e,m(e));return{type:"fraction",numerator:f.n.toString(),denominator:f.d.toString()}}var h=l(e.toPrecision(a));return e!==Number(h)&&t.addEllipses&&(h+="..."),{type:"decimal",value:h}}function v(e,t){var r=g(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"<span class='dcg-cross'></span>10<sup>"+r.exponent+"</sup>";case"fraction":return"1"===r.denominator?r.numerator:r.numerator+"/"+r.denominator;default:return r}}function b(e,t){var r=g(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+" * 10^"+r.exponent;case"fraction":return"1"===r.denominator?r.numerator:r.numerator+"/"+r.denominator;default:return r}}function x(e,t){var r=g(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return r.value;case"scientific":return r.mantissa+"\\\\times10^{"+r.exponent+"}";case"fraction":return"1"===r.denominator?r.numerator:"-"===r.numerator[0]?"-\\\\frac{"+r.numerator.slice(1)+"}{"+r.denominator+"}":"\\\\frac{"+r.numerator+"}{"+r.denominator+"}";default:return r}}function _(e,t){var r=g(e,t);switch(r.type){case"undefined":return"undefined";case"decimal":return u(r.value);case"scientific":return u(r.mantissa+"e"+r.exponent);case"fraction":return u(r.numerator+"/"+r.denominator);default:return r}}function S(e){e=e.replace("\\\\","");var t={pi:"",tau:"",theta:"",phi:"",div:"",cdot:"",times:"",lt:"<",gt:">",le:"",ge:"",sim:"",ldots:"",prime:"",approx:""};return t.hasOwnProperty(e)?t[e]:e}function M(e){var t=e.split("_"),r="";return t[0].length>1&&(r+="\\\\"),r+=t[0],t[1]&&(r+="_{"+t[1]+"}"),r}function E(e){if(!e)return"";var t=e.split("_").map(S).map(r.escape),n=t[0];return t[1]&&(n+="<sub>"+t[1]+"</sub>"),n}function D(e){return e=e.replace(/\\\\operatorname\\{(.*)\\}/,"$1"),e.replace(/[{}\\\\]/g,"")}function w(e){return e.replace(/^(\\\\ | |\\\\space)+/,"").replace(/(\\\\ | |\\\\space)+$/,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.value=a;var T={"[e]":" times 10 to the ","[+]":" plus ","[-]":" minus ","[*]":" times ","[/]":" over ","[]":" pi ","[]":" tau ","[]":" theta ","[]":" phi "},P=new RegExp(Object.keys(T).join("|"),"gi"),I=/\\.\\d+/g;t.point=c;var C=/\\.?0+$/;t.canDisplayAsFraction=y,t.numericLabel=g,t.truncatedHTMLLabel=v,t.truncatedPlainmathLabel=b,t.truncatedLatexLabel=x,t.truncatedAriaLabel=_,t.formatSymbol=S,t.identifierToLatex=M,t.identifierToHTML=E,t.latexToIdentifier=D,t.trimLatex=w}),define("core/math/types",["require","core/lib/worker-i18n"],function(e){"use strict";function t(e){switch(e){case u:return"Any";case c:return"Number";case l:return"Bool";case p:return"Point";case f:return"Distribution";case h:return"ListOfAny";case d:return"ListOfNumber";case m:return"ListOfBool";case y:return"ListOfPoint";case g:return"ListOfDistribution";case v:return"ErrorType";case b:return"SeedType";default:throw new Error("Invalid type")}}function r(e){switch(e){case u:return s.t("an unknown object");case c:return s.t("a number");case l:return s.t("a true/false value");case p:return s.t("a point");case f:return s.t("a distribution");case h:return s.t("a list of unknown objects");case d:return s.t("a list of numbers");case m:return s.t("a list of true/false values");case y:return s.t("a list of points");case g:return s.t("a list of distributions");case v:return s.t("an error object");case b:return s.t("a string");default:throw new Error("Invalid type")}}function n(e){switch(e){case h:case d:case m:case y:case g:return!0;default:return!1}}function i(e){switch(e){case h:return u;case d:return c;case m:return l;case y:return p;case g:return f;default:return u}}function a(e){switch(e){case u:return h;case c:return d;case l:return m;case p:return y;case f:return g;default:throw new Error("Type "+t(e)+" does not implement listType.")}}function o(e){switch(e){case u:case c:case l:case p:case f:return!0;default:return!1}}var s=e("core/lib/worker-i18n"),u=0,c=1,l=2,p=3,f=4,h=5,d=6,m=7,y=8,g=9,v=10,b=11;return{Any:u,Number:c,Bool:l,Point:p,Distribution:f,ListOfAny:h,ListOfNumber:d,ListOfBool:m,ListOfPoint:y,ListOfDistribution:g,ErrorType:v,SeedType:b,repr:t,prettyPrint:r,isList:n,elementType:i,listType:a,hasListType:o}}),define("core/math/errormsg",["require","core/lib/worker-i18n","core/math/parsenode/error","core/lib/label","core/math/types"],function(e){"use strict";var t=e("core/lib/worker-i18n"),r=e("core/math/parsenode/error"),n=e("core/lib/label"),i=e("core/math/types");return{parseError:function(){return r(t.t("Sorry, I don't understand this."))},unrecognizedSymbol:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, I don't understand the '__symbol__' symbol.",{symbol:e}))},unexpectedInequality:function(){return r(t.t("Cannot use an inequality here."))},unexpectedSymbol:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, I don't understand the way that '__symbol__' is used here.",{symbol:e}))},addTypeError:function(e){return r(t.t("Cannot add __symbol1__ and __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},subtractTypeError:function(e){return r(t.t("Cannot subtract __symbol2__ from __symbol1__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},multiplyTypeError:function(e){return r(t.t("Cannot multiply __symbol1__ by __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},divideTypeError:function(e){return r(t.t("Cannot divide __symbol1__ by __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},exponentTypeError:function(e){return r(t.t("Cannot raise __symbol1__ to __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},negativeTypeError:function(e){return r(t.t("Cannot negate __symbol__.",{symbol:e[0]})).allowExport()},comparatorTypeError:function(e){return r(t.t("Cannot compare __symbol1__ to __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},andTypeError:function(e){return r(t.t("Cannot apply __symbol__ to __symbol1__ and __symbol2__.",{symbol:"and",symbol1:e[0],symbol2:e[1]})).allowExport()},listTypeError:function(e){return r(t.t("Cannot store __symbol1__ in a list.",{symbol1:e[0]})).allowExport()},pointTypeError:function(e){return r(t.t("Cannot use __symbol1__ as a coordinate of __symbol2__.",{symbol1:e,symbol2:i.prettyPrint(i.Point)})).allowExport()},indexTypeError:function(e){return r(t.t("Cannot index __symbol1__ with __symbol2__.",{symbol1:e[0],symbol2:e[1]})).allowExport()},orderedPairAccessTypeError:function(e){return r(t.t("Cannot access a coordinate of __symbol__.",{symbol:e[0]})).allowExport()},functionTypeError:function(e,i){switch(i.length){case 1:return r(t.t("Function '__fn__' cannot be applied to __arg__.",{fn:n.formatSymbol(e),arg:i[0]})).allowExport();case 2:return r(t.t("Function '__fn__' cannot be applied to __arg1__ and __arg2__.",{fn:n.formatSymbol(e),arg1:i[0],arg2:i[1]})).allowExport();default:return r(t.t("Function '__fn__' cannot be applied to these arguments.",{fn:n.formatSymbol(e)})).allowExport()}},illegalDotCall:function(e){return r(t.t("Function '__symbol__' cannot be called with dot notation.",{symbol:n.formatSymbol(e)}))},dotLHSTypeError:function(e,i){return r(t.t("Cannot call '__symbol__' on __type__.",{symbol:n.formatSymbol(e),type:i}))},sumLowerBoundTypeError:function(e){return r(t.t("Lower bound of a sum cannot be __symbol__.",{symbol:e[0]})).allowExport()},sumUpperBoundTypeError:function(e){return r(t.t("Upper bound of a sum cannot be __symbol__.",{symbol:e[0]})).allowExport()},sumInfiniteBoundError:function(){return r(t.t("Summation bounds must be finite numbers."))},sumArgumentTypeError:function(e){return r(t.t("Cannot take the sum of __symbol__.",{symbol:e[0]})).allowExport()},productLowerBoundTypeError:function(e){return r(t.t("Lower bound of a product cannot be __symbol__.",{symbol:e[0]})).allowExport()},productUpperBoundTypeError:function(e){return r(t.t("Upper bound of a product cannot be __symbol__.",{symbol:e[0]})).allowExport()},productInfiniteBoundError:function(){return r(t.t("Product bounds must be finite numbers."))},productArgumentTypeError:function(e){
return r(t.t("Cannot take the product of __symbol__.",{symbol:e[0]})).allowExport()},integralLowerBoundTypeError:function(e){return r(t.t("Lower bound of an integral cannot be __symbol__.",{symbol:e[0]})).allowExport()},integralUpperBoundTypeError:function(e){return r(t.t("Upper bound of an integral cannot be __symbol__.",{symbol:e[0]})).allowExport()},integralInfiniteBoundError:function(){return r(t.t("Limits of integration must be finite numbers."))},integralArgumentTypeError:function(e){return r(t.t("Cannot take the integral of __symbol__.",{symbol:e[0]})).allowExport()},derivativeTypeError:function(e){return r(t.t("Cannot take the derivative of __symbol__.",{symbol:e[0]})).allowExport()},derivativeVariableTypeError:function(e,i){return r(t.t("Cannot take derivative with respect to '__symbol1__' because it is __symbol2__.",{symbol1:n.formatSymbol(e),symbol2:i[0]}))},piecewiseConditionTypeError:function(e){return r(t.t("The condition in a piecewise expression must be __symbol1__ but was __symbol2__.",{symbol1:i.prettyPrint(i.Bool),symbol2:e[0]})).allowExport()},piecewiseBranchTypeError:function(e){return r(t.t("Cannot use __symbol__ as a branch of a piecewise expression.",{symbol:e[0]})).allowExport()},tableHeaderTypeError:function(e){return r(t.t("Table header cannot be __symbol__.",{symbol:e[0]}))},tableEntryTypeError:function(e){return r(t.t("Table entry cannot be __symbol__.",{symbol:e[0]}))},regressionTypeError:function(e){return r(t.t("Cannot regress __symbol1__ against __symbol2__.",{symbol1:e[0],symbol2:e[1]}))},heterogeneousList:function(){return r(t.t("All elements of a list must have the same type.")).allowExport()},deeplyNested:function(){return r(t.t("Definitions are nested too deeply.")).allowExport()},polygonListTypeError:function(e){return r(t.t("A single argument to polygon should be a point list, not __type__.",{type:e[0]}))},polygonPointArgsError:function(){return r(t.t("Some of your arguments are not points."))},polygonTwoNumbersError:function(){return r(t.t("Cannot make a polygon from two numbers."))},binCenterInvalid:function(){return r(t.t("Invalid bin center. Try using any number."))},boxplotOffsetInvalid:function(){return r(t.t("Invalid offset. Try using any number."))},boxplotBreadthInvalid:function(){return r(t.t("Invalid height. Try using any number."))},tooManyArguments:function(e,n){return r(t.t("'__symbol__' accepts at most __max__ arguments.",{symbol:e,max:n}))},pdfWrongArity:function(){var e=t.t("For example, try typing: D.pdf(x) where D=normaldist()."),n=t.t("'pdf' should be called on a distribution with a number. __recommendation__",{recommendation:e});return r(n)},cdfRequiresArguments:function(){var e=t.t("For example, try typing: D.cdf(x) where D=normaldist()."),n=t.t("'cdf' should be called on a distribution with at least one number. __recommendation__",{recommendation:e});return r(n)},cdfTooManyArguments:function(){var e=t.t("For example, try typing: D.cdf(-1,1) where D=normaldist()."),n=t.t("'cdf' should be called on a distribution with at most two numbers. __recommendation__",{recommendation:e});return r(n)},tdistWrongArity:function(){return r(t.t("'tdist' requires 1 argument. For example, try typing: tdist(1)."))},randomArity:function(){var e=t.t("'random' should be called with no arguments, or an optional number of samples. For example, try random() or random(10).");return r(e)},randomFromBroadcastDistribution:function(){return r(t.t("Cannot sample from a list of distributions"))},wrongArity:function(e,i,a){e=n.formatSymbol(e);var o,s;if(1===i)s=t.t("For example, try typing: __dependency__(x).",{dependency:e}),o=a>1?t.t("Function '__dependency__' requires only 1 argument. __supplement__",{dependency:e,supplement:s}):t.t("Function '__dependency__' requires an argument. __supplement__",{dependency:e,supplement:s});else{for(var u=[],c=0;c<i;c++)u[c]=c+1;var l=n.formatSymbol(e)+"("+u.join(", ")+")";s=t.t("For example, try typing: __recommendation__.",{recommendation:l}),o=t.t("Function '__dependency__' requires __assignment_arity__ arguments. __supplement__",{dependency:e,assignment_arity:i,supplement:s})}return r(o)},wrongParametrizedReducerArity:function(e){return r(t.t("Function '__symbol__' requires 2 arguments. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], 1)"}))},wrongDoubleReducerArity:function(e){return r(t.t("Function '__symbol__' requires 2 arguments. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], [3,2,1])"}))},primedFunctionArity:function(){return r(t.t("Prime notation can only be used for functions of a single argument."))},zeroArgReducer:function(e){return r(t.t("Function '__symbol__' requires at least one argument. For example, try typing: __symbol__(1, 2).",{symbol:n.formatSymbol(e)}))},missingRHS:function(e){return e=n.formatSymbol(e),r(t.t("What do you want '__symbol__' to equal?",{symbol:e}))},malformedPoint:function(){return r(t.t("Points are written like this: (1, 2)."))},badTupleDimensions:function(e){return r(t.t("Points may only have __symbol__ coordinates.",{symbol:e}))},badImplicitCall:function(e){return e=n.formatSymbol(e),r(t.t("Use parentheses around the argument of '__symbol__'.",{symbol:e}))},adjacentNumbers:function(e,n){return r(t.t("Sorry, I don't know what to do with adjacent numbers '__left__' and '__right__'. Try using parentheses or a '*' symbol.",{left:e,right:n}))},identifierAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("'__symbol__' is a function. Try using parentheses.",{symbol:e}))},binaryOperatorMissingOperand:function(e){return e=n.formatSymbol(e),"%"===e&&(e="% of"),r(t.t("You need something on both sides of the '__symbol__' symbol.",{symbol:e}))},unaryOperatorMissingLeft:function(e){return e=n.formatSymbol(e),r(t.t("You need something before the '__symbol__' symbol.",{symbol:e}))},unaryOperatorMissingRight:function(e){return e=n.formatSymbol(e),r(t.t("You need something after the '__symbol__' symbol.",{symbol:e}))},fractionMissingNumerator:function(){return r(t.t("You need a numerator for the top of your fraction."))},fractionMissingDenominator:function(){return r(t.t("You need a denominator for the bottom of your fraction."))},fractionEmpty:function(){return r(t.t("You need a numerator and denominator for your fraction."))},emptySubscript:function(){return r(t.t("Subscripts cannot be empty."))},emptySuperscript:function(){return r(t.t("Superscripts cannot be empty."))},invalidSubscript:function(e){return e=n.formatSymbol(e),r(t.t("Subscripts may only contain letters and digits. '__symbol__' is not allowed.",{symbol:e}))},invalidOperatorName:function(){return r(t.t("Operator names may only contain letters."))},unexpectedSubscript:function(){return r(t.t("Only functions and variables may have subscripts."))},superscriptWithPrime:function(){return r(t.t("Superscripts and primes cannot be combined."))},unexpectedPrime:function(){return r(t.t("Sorry, I don't understand this use of prime notation."))},primeWithoutParen:function(){return r(t.t("Primed function calls must use parentheses."))},emptyRadical:function(){return r(t.t("Radical cannot be empty."))},emptyRadicalIndex:function(){return r(t.t("Radical index cannot be empty."))},emptyParen:function(){return r(t.t("Parentheses cannot be empty."))},emptySquareBracket:function(){return r(t.t("Square brackets cannot be empty."))},emptyPipe:function(){return r(t.t("Absolute value symbol cannot be empty."))},badTrigExponent:function(e){var n=e+"^2",i=e+"^-1";return r(t.t("Only __form1__ and __form2__ are supported. Otherwise, use parens.",{form1:n,form2:i}))},badLogExponent:function(e){var n=e+"^2";return r(t.t("Only __form__ is supported. Otherwise, use parens.",{form:n}))},inequalityChainTooLong:function(){return r(t.t("Cannot chain more than 2 inequalities."))},piecewiseMissingCondition:function(){return r(t.t("A piecewise expression must have at least one condition."))},piecewisePartMissingCondition:function(){return r(t.t("Every part of a piecewise expression must have a condition except the last."))},colonMissingCondition:function(){return r(t.t("The left side of a ':' must be a condition, like 'x>1'."))},blankExpression:function(){return r(t.t("You haven't written anything yet."))},functionNotDefined:function(e){return e=n.formatSymbol(e),r(t.t("Function '__dependency__' is not defined.",{dependency:e}))},parameterAlreadyDefined:function(e){return e=n.formatSymbol(e),r(t.t("You can't use '__dependency__' as a parameter of this function because '__dependency__' is already defined.",{dependency:e}))},cannotRedefine:function(e,i){return e=n.formatSymbol(e),r(void 0===i?t.t("You can't redefine '__symbol__' because it's already defined.",{symbol:e}):t.t("You can't define '__symbol__' because '__symbolRoot__' is already defined.",{symbol:e,symbolRoot:i}))},cannotSubscript:function(e){return e=n.formatSymbol(e),r(t.t("'__symbol__' cannot have a subscript.",{symbol:e}))},multiplyDefined:function(e){return e=n.formatSymbol(e),r(t.t("You've defined '__dependency__' in more than one place. Try deleting some of the definitions of '__dependency__'.",{dependency:e}))},shadowedIndex:function(e){return e=n.formatSymbol(e),r(t.t("You can't use '__symbol__' as an index because it's already defined.",{symbol:e}))},cycle:function(e){e=e.map(n.formatSymbol);var i=e.pop();return r(t.t("'__symbols__' and '__lastSymbol__' can't be defined in terms of each other.",{symbols:e.join("', '"),lastSymbol:i}))},selfReferentialFunction:function(e){return r(t.t("The definition of function '__symbol__' cannot depend on '__symbol__'.",{symbol:n.formatSymbol(e)}))},sliderLimitReferencesExport:function(e){return r(t.t("Slider limits cannot depend on the slider variable '__symbol__'.",{symbol:n.formatSymbol(e)}))},sliderMinInvalid:function(){return r(t.t("Invalid slider min. Try using any number."))},sliderMaxInvalid:function(){return r(t.t("Invalid slider max. Try using any number."))},sliderMaxLessThanMin:function(){return r(t.t("Invalid slider limits. Min should be less than max."))},sliderStepInvalid:function(){return r(t.t("Invalid slider step. Try using any number."))},domainMinInvalid:function(){return r(t.t("Invalid domain min. Try using any number."))},domainMaxInvalid:function(){return r(t.t("Invalid domain max. Try using any number."))},domainMaxLessThanMin:function(){return r(t.t("Invalid domain limits. Min should be less than max."))},cdfMinInvalid:function(){return r(t.t("Invalid cdf min. Try using any number."))},cdfMaxInvalid:function(){return r(t.t("Invalid cdf max. Try using any number."))},cdfMaxLessThanMin:function(){return r(t.t("Invalid cdf limits. Min should be less than max."))},tooFewVariables:function(){return r(t.t("Too few variables, I don't know what to do with this."))},tooManyVariables:function(e){if(e=e.map(n.formatSymbol),0===e.length)return r(t.t("Too many variables, I don't know what to do with this."));var i=e.pop();return r(t.t("Too many variables. Try defining '__variables__'.",{variables:(e.length?e.join("', '")+"' or '":"")+i}))},addArgumentsToDefinition:function(e,i,a){e=e.map(n.formatSymbol),i=n.formatSymbol(i),a=a.map(n.formatSymbol);var o=i+"("+a.join(",")+","+e.join(",")+")",s=e.pop(),u={symbols:e.join("', '"),lastSymbol:s,newSignature:o};return r(e.length?t.t("Try including '__symbols__' and '__lastSymbol__' as arguments by defining the function as '__newSignature__'.",u):t.t("Try including '__lastSymbol__' as an argument by defining the function as '__newSignature__'.",u))},invalidLHS:function(e){return e=n.formatSymbol(e),r(t.t("Sorry, you can't graph __symbol__ as a function of anything yet.",{symbol:e}))},unplottablePolarFunction:function(){return r(t.t("We can't plot  as a function of r. Try plotting r() instead."))},invalidInequalityVariables:function(){return r(t.t("We only plot inequalities of x and y, or r and ."))},invalidImplicitVariables:function(){return r(t.t("We only support implicit equations of x and y."))},singleVariableImplicitEquationsDisabled:function(){return r(t.t("Plotting single-variable implicit equations is disabled."))},implicitsDisabled:function(){return r(t.t("Plotting implicit equations and inequalities is disabled."))},inequalitiesDisabled:function(){return r(t.t("Plotting inequalities is disabled."))},complicatedImplicitInequality:function(){return r(t.t("We can only plot inequalities when one variable is quadratic or linear."))},complicatedPolarImplicit:function(){return r(t.t("Polar equations must be linear in r."))},invalidDoubleInequalityVariables:function(){return r(t.t("We only plot double inequalities of x and y."))},mismatchedDoubleInequality:function(){return r(t.t("Double inequalities must both go the same way, e.g. 1 < y < 2."))},complicatedDoubleInequality:function(){return r(t.t("We only support solved double inequalities. Try deleting one side of the inequality."))},equationRequired:function(e){return e?(e=n.formatSymbol(e),r(t.t("Try adding '__lhs__' to the beginning of this equation.",{lhs:e+"="}))):r(t.t("Try adding an equals sign to turn this into an equation."))},variableAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("Variable '__dependency__' can't be used as a function.",{dependency:e}))},distributionAsFunction:function(e){return e=n.formatSymbol(e),r(t.t("Cannot call distribution '__symbol__' as a function. Try '__symbol__.pdf(x)'.",{symbol:e}))},emptyList:function(){return r(t.t("Empty lists are not allowed."))},invalidTableHeader:function(e){return r(t.t("Table headers must be simple expressions. __supplement__",{supplement:e}))},invalidTableEntry:function(e){return r(t.t("Table entries must be simple expressions. __supplement__",{supplement:e}))},invalidFirstTableColumn:function(){return r(t.t("First column may not be __most__ or __last__.",{most:"'y', 'r',",last:"''"}))},invalidDependentFirstTableColumn:function(){return r(t.t("This column header can't be defined elsewhere in the calculator."))},invalidRegressionParameter:function(e){return r(t.t("'__symbol__' may not be used as a regression parameter.",{symbol:n.formatSymbol(e)}))},optimizationError:function(){return r(t.t("We couldn't find any region where this model is defined."))},badListInReducer:function(e){return r(t.t("When __symbol__ is called with more than two arguments, no argument can be a list.",{symbol:n.formatSymbol(e)})).allowExport()},nonListDoubleReducer:function(e){return r(t.t("Both arguments of '__symbol__' must be lists. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], [3,2,1])"})).allowExport()},nonListParametrizedReducer:function(e){return r(t.t("The first argument of '__symbol__' must be a list. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3], 1)"})).allowExport()},methodRequiresList:function(e){return r(t.t("'__symbol__' requires a list. For example, try typing: __recommendation__.",{symbol:n.formatSymbol(e),recommendation:n.formatSymbol(e)+"([1,2,3])"})).allowExport()},variableRange:function(e){return r(t.t("Range cannot depend on free variable '__symbol__'.",{symbol:n.formatSymbol(e[0])})).setDependencies(e).allowExport()},nonArithmeticRange:function(e){return r(t.t("Ranges must be arithmetic sequences.")).allowExport()},sumMissingBound:function(){return r(t.t("Sums must have upper and lower bounds."))},productMissingBound:function(){return r(t.t("Products must have upper and lower bounds."))},incorrectSumLowerBound:function(){return r(t.t("Lower bound of a sum must set a variable equal to a number. Try n=1."))},incorrectProductLowerBound:function(){return r(t.t("Lower bound of a product must set a variable equal to a number. Try n=1."))},badSumBoundDependency:function(e){return r(t.t("Summation bounds can't depend on summation index '__symbol__'.",{symbol:n.formatSymbol(e)}))},badProductBoundDependency:function(e){return r(t.t("Product bounds can't depend on product index '__symbol__'.",{symbol:n.formatSymbol(e)}))},integralMissingBound:function(){return r(t.t("Integrals must have upper and lower bounds."))},integralMissingDifferential:function(){return r(t.t("Integrand must end with an integration variable, like dx."))},differentialWithSuperscript:function(){return r(t.t("Integration variable cannot have a superscript."))},sumMissingBody:function(){return r(t.t("What do you want to take the sum of?"))},productMissingBody:function(){return r(t.t("What do you want to take the product of?"))},integralMissingBody:function(){return r(t.t("What do you want to take the integral of?"))},derivativeMissingBody:function(){return r(t.t("What do you want to take the derivative of?"))},mismatchedBraces:function(e,i){return e=n.formatSymbol(e),i=n.formatSymbol(i),r(t.t("Expected '__symbol1__' to match '__symbol2__'.",{symbol1:e,symbol2:i}))},shadowedIntegrationVariable:function(e){return r(t.t("You can't use '__symbol__' as an integration variable because it's already defined.",{symbol:n.formatSymbol(e)}))},badIntegralBoundDependency:function(e){return r(t.t("Integration bounds can't depend on integration variable '__symbol__'.",{symbol:n.formatSymbol(e)}))},percentMissingOf:function(){return r(t.t("'%' must be used with 'of'. Try '25% of 12'."))},illegalBinWidth:function(e){return e=n.formatSymbol(e),r(t.t("The second argument to '__symbol__' must be a positive number.",{symbol:e}))},ttestListTooShort:function(e){return e=n.formatSymbol(e),r(t.t("Lists for '__symbol__' must have at least 2 elements.",{symbol:e}))},badSampleSize:function(){return r(t.t("Sample size must be at least 1."))},variableSampleSize:function(e){return r(t.t("Sample size cannot depend on free variable '__symbol__'.",{symbol:n.formatSymbol(e[0])})).setDependencies(e).allowExport()},variableSeed:function(e){return r(t.t("Random seed cannot depend on free variable '__symbol__'.",{symbol:n.formatSymbol(e[0])})).setDependencies(e).allowExport()},badAnsContext:function(){return r(t.t("You can't use 'ans' in this context."))},ansUndefined:function(){return r(t.t("The previous expression didn't define any value for ans."))},variablesUnsupported:function(e){return r(t.t("This calculator does not support variables like '__variable__'.",{variable:n.formatSymbol(e)}))},functionUnsupported:function(e){return r(t.t("This calculator does not support the '__symbol__' function.",{symbol:n.formatSymbol(e)}))},logbaseUnsupported:function(){return r(t.t("This calculator does not support specifying the base of a logarithm. Try 'log' or 'ln'."))},constantUnsupported:function(e){return r(t.t("This calculator does not support the constant '__symbol__'.",{symbol:n.formatSymbol(e)}))},assignmentsUnsupported:function(){return r(t.t("This calculator does not support defining variables."))},functionDefinitionsUnsupported:function(){return r(t.t("This calculator does not support function definitions."))},equationsUnsupported:function(){return r(t.t("This calculator does not support this type of equation."))},inequalitiesUnsupported:function(){return r(t.t("This calculator does not support inequalities."))},regressionsUnsupported:function(){return r(t.t("This calculator does not support regressions."))},pointsUnsupported:function(){return r(t.t("This calculator does not support points."))},featureUnavailable:function(){return r(t.t("This feature is not available in the current calculator."))},nonSquareDeterminant:function(){return r(t.t("Only square matrices have a determinant."))},nonSquareInverse:function(){return r(t.t("Only square matrices have an inverse."))},singularInverse:function(){return r(t.t("Singular matrices do not have an inverse."))},matrixAssignment:function(){return r(t.t("This calculator does not support this type of variable definition. Try using 'New Matrix'."))},matrixAddDimensions:function(){return r(t.t("Cannot add matrices with different dimensions."))},matrixSubtractDimensions:function(){return r(t.t("Cannot subtract matrices with different dimensions."))},matrixMultiplyDimensions:function(){return r(t.t("Cannot multiply matrices with incompatible dimensions."))},matrixFractionalPower:function(){return r(t.t("A matrix can only be raised to integer powers."))},matrixPowerDimensions:function(){return r(t.t("Only square matrices can be raised to a power."))},matrixElementTypeError:function(e){return r(t.t("Cannot use __arg__ as an element of a matrix.",{arg:e[0]}))},matrixInvalidVariable:function(e){return r(t.t("Cannot use '__symbol__' as a variable.",{symbol:n.formatSymbol(e)}))}}}),define("core/math/parsenode/expression",["require","pjs","./base","core/math/errormsg","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/errormsg"),i=e("core/math/types");return t(r,function(e,t){e.init=function(e){if(!Array.isArray(e))throw new TypeError("Argument to expression constructor must be an Array.");t.init.call(this),this.args=e,this.valueType=this._getValueType(e),this.registerDependencies(),this.computeTreeSize()},e._getValueType=function(e){return i.Any},e.shouldExportAns=function(){return!0},e.registerDependencies=function(){for(var e=0;e<this.args.length;e++)this.mergeDependencies(this.args[e])},e.computeTreeSize=function(){for(var e=0,t=0;t<this.args.length;t++)this.args[t].treeSize&&(e+=this.args[t].treeSize);if(this.treeSize=e+1,e>1e4)throw n.deeplyNested()},e.copyWithArgs=function(e){return new this.constructor(e)}})}),define("core/math/parsenode/scalarexpression",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e)},e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();e=e.concat(n.statements),t.push(n.expression)}return{statements:e,expression:this.scalarEvalExpression(t)}}})}),define("core/math/parsenode/expressionTypes",["require","pjs","./scalarexpression"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n={Add:t(r,{}),Subtract:t(r,{}),Multiply:t(r,{}),Divide:t(r,{}),Exponent:t(r,{}),Negative:t(r,{}),And:t(r,{isInequality:function(){return this.args[0].isInequality()&&this.args[1].isInequality()}}),PercentOf:t(r,{})};return n.RawExponent=t(n.Exponent,{}),n}),define("core/math/maybe-rational",["require","exports","core/math/builtin"],function(e,t,r){"use strict";function n(e,t){return{n:e,d:t}}function i(e){return"object"==typeof e&&"number"==typeof e.n&&"number"==typeof e.d}function a(e){var t=e.match(/^(-)?(\\d*)?(?:\\.(\\d*))?$/);if(!t)return NaN;var r=t[1],n=t[2],i=t[3];if(!n&&!i)return NaN;var a=!!r;if(i){var o=i.replace(/0+$/,""),u=o.length,c=Math.pow(10,u),l=parseInt(n||"0",10)*c+parseInt(o||"0",10);return l>_||c>_?parseFloat(e):s(a?-l:l,c)}var l=parseInt(n,10);return l>_?parseFloat(e):s(a?-l:l,1)}function o(e){return i(e)?e.n/e.d:e}function s(e,t){if(!isFinite(e)||!isFinite(t)||0===t||Math.floor(e)!==e||Math.floor(t)!==t||Math.abs(e)>_||Math.abs(t)>_)return e/t;t<0&&(e=-e,t=-t);var i=r.gcd(e,t);return n(e/i,t/i)}function u(e){return i(e)?n(-e.n,e.d):-e}function c(e){return i(e)?n(Math.abs(e.n),Math.abs(e.d)):Math.abs(e)}function l(e){return i(e)?0===e.n?e.d/e.n:n(e.n<0?-e.d:e.d,Math.abs(e.n)):1/e}function p(e,t){if(!i(e)||!i(t))return o(e)+o(t);var n=r.gcd(e.d,t.d);return s(e.n*(t.d/n)+t.n*(e.d/n),e.d/n*t.d)}function f(e,t){if(!i(e)||!i(t))return o(e)*o(t);var n=r.gcd(e.n,t.d),a=r.gcd(t.n,e.d);return s(e.n/n*(t.n/a),e.d/a*(t.d/n))}function h(e,t){return p(e,u(t))}function d(e,t){return i(e)&&i(t)?f(e,l(t)):o(e)/o(t)}function m(e,t){var n=e,a=t;if(t.n<0&&(a=u(t),n=l(e)),!i(n)||!i(a))return r.pow(o(e),o(t));if(e=n,t=a,1===t.d)return s(Math.pow(e.n,t.n),Math.pow(e.d,t.n));var c=e.n<0;if(c&&t.d%2!=1)return NaN;var p=c?-1:1,f=p*Math.round(Math.pow(Math.abs(e.n),1/t.d)),h=Math.round(Math.pow(Math.abs(e.d),1/t.d));return Math.pow(f,t.d)!==e.n||Math.pow(h,t.d)!==e.d?r.pow(o(e),o(t)):s(Math.pow(f,t.n),Math.pow(h,t.n))}function y(e,t){if(!i(e)||!i(t))return r.pow(o(e),o(t));var n=m(e,t);return i(n)?n:r.pow(o(e),o(t))}function g(e){if(!i(e))return Math.sqrt(e);var t=Math.round(Math.sqrt(e.n)),r=Math.round(Math.sqrt(e.d));return t*t!==e.n||r*r!==e.d?Math.sqrt(o(e)):s(t,r)}function v(e,t){return y(e,l(t))}function b(e,t){if(!i(e)||!i(t)){var r=o(e),a=o(t);return r-a*Math.floor(r/a)}return h(e,f(t,n(Math.floor(o(d(e,t))),1)))}function x(e){for(var t=n(0,1),r=0,i=e;r<i.length;r++){t=p(t,i[r])}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.isRational=i;var _=Math.pow(2,53)-1;t.fromDecimalString=a,t.asFloat=o,t.maybeRational=s,t.neg=u,t.abs=c,t.reciprocal=l,t.add=p,t.mul=f,t.sub=h,t.div=d,t.pow=y,t.sqrt=g,t.nthroot=v,t.mod=b,t.total=x}),define("core/math/parsenode/constant",["require","pjs","./scalarexpression","core/math/maybe-rational","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("core/math/maybe-rational"),i=e("core/math/types");return t(r,function(e,t){e.init=function(e){"number"==typeof e&&(e=n.maybeRational(e,1)),this._constantValue=e,t.init.call(this,[])},e.isConstant=!0,e.getEvalStrings=function(){return{statements:[],expression:this.scalarExprString()}},e.asValue=function(){return"boolean"==typeof this._constantValue?this._constantValue:n.asFloat(this._constantValue)},e.asMaybeRationalValue=function(){return"boolean"==typeof this._constantValue?NaN:this._constantValue},e.scalarExprString=function(){return this.asValue()>0?String(this.asValue()):"("+String(this.asValue())+")"},e.getEvaluationInfo=function(){return[{val:this.asValue()}]},e.isNaN=function(){return"number"==typeof this.asValue()&&isNaN(this.asValue())},e._getValueType=function(){switch(typeof this.asValue()){case"number":return i.Number;case"boolean":return i.Bool;default:throw new Error("Constant node expects value of type number or boolean, but saw "+typeof value)}}})}),define("core/math/parsenode/mixednumber",["require","pjs","./constant"],function(e){"use strict";return e("pjs")(e("./constant"),function(e,t){e.init=function(e){t.init.call(this,e)},e.is_mixed_number=!0})}),define("core/math/parsenode/identifier",["require","pjs","./expression","core/lib/label","core/math/parser/input-span"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/lib/label"),i=e("core/math/parser/input-span");return t(r,function(e,t,r){e.init=function(e){t.init.call(this,[]),this._symbol=n.latexToIdentifier(e),this.setInputSpan(new i.Span(e,0,e.length)),this.addDependency(this._symbol)},e.evaluate=function(){throw"Cannot evaluate undefined variable "+this._symbol}})}),define("core/math/parsenode/ans",["require","pjs","./identifier"],function(e){"use strict";return e("pjs")(e("./identifier"),function(e,t,r){})}),define("core/math/parsenode/freevariable",["require","pjs","./scalarexpression"],function(e){"use strict";return e("pjs")(e("./scalarexpression"),function(e,t){e.init=function(e){t.init.call(this,[]),this.addDependency(e),this._symbol=e},e.isFreeVariable=!0,e.scalarEvalExpression=function(e){return this._symbol},e.copyWithArgs=function(e){return this}})}),define("core/math/parsenode/dummyindex",["require","pjs","./freevariable"],function(e){"use strict";return e("pjs")(e("./freevariable"),function(){})}),define("core/math/parsenode/list",["require","pjs","./expression","core/math/errormsg","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/errormsg"),i=e("core/math/types");return t(r,function(e,t,r){function a(e){for(var t=1/0,r=0;r<e.length;r++)(e[r].isList||e[r].isBroadcast)&&(t=Math.min(t,e[r].length));return t}e.init=function(e){if(t.init.call(this,e),this.length=e.length,0===this.length)throw n.emptyList()},e.isList=!0,e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();Array.prototype.push.apply(e,n.statements),t.push(n.expression)}return{statements:e,expression:"["+t.join(",")+"]"}},e.asValue=function(){for(var e=[],t=0;t<this.args.length;t++)e.push(this.args[t].asValue());return e},e.asMaybeRationalValue=function(){for(var e=[],t=0;t<this.args.length;t++)e.push(this.args[t].asMaybeRationalValue());return e},e.getEvaluationInfo=function(){if(this.args.every(function(e){return e.isConstant}))return[{val:this.args.map(function(e){return e.asValue()})}]},r.eachArgs=function(e,t,r){var n=a(t);if(!isFinite(n))return void r(t);for(var o=0;o<n;o++){for(var s=[],u=0;u<t.length;u++)s.push(t[u].isList||i.isList(t[u].valueType)?t[u].elementAt(e,o):t[u]);r(s)}},r.mapArgs=function(e,t,n){var i=[];return r.eachArgs(e,t,function(e){i.push(n(e))}),i},r.wrap=function(e){return e.isList||i.isList(e.valueType)?e:r([e])}})}),define("core/math/parsenode/range",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t,r){e.init=function(e){t.init.call(this,e),this.beginning=e[0],this.end=e[1]}})}),define("core/math/parsenode/broadcast",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t,r){e.init=function(e,r){if(t.init.call(this,r),this._replacedSymbols=e,this._expression=r[0],this._lists=r.slice(1),!e.length)throw new Error("Cannot construct a broadcast node with no replaced symbols");for(var n=0;n<e.length;n++)this.removeDependency(e[n]);for(var i=1/0,a=0;a<this._lists.length;a++){if(!this._lists[a].isList)throw new Error("List arguments of broadcast must be list literals");i=Math.min(i,this._lists[a].length)}this.length=i},e.isBroadcast=!0,e.copyWithArgs=function(e){return new this.constructor(this._replacedSymbols,e)},e.getEvalStrings=function(){var e=[],t=this._expression.getEvalStrings();Array.prototype.push.apply(e,t.statements);var r,n=[],i=[];for(r=0;r<this._lists.length;r++){var a=this._lists[r].getEvalStrings();Array.prototype.push.apply(e,a.statements);var o=this.tmpVar();i.push(o),n.push("var "+o+" = "+a.expression)}var s=this.tmpVar(),u=this.tmpVar();n.push("var "+s+" = []");var c=[];for(r=0;r<i.length;r++)c.push("var "+this._replacedSymbols[r]+" = "+i[r]+"["+u+"]");return n.push("for (var "+u+" = 0; "+u+" < "+this.length+"; "+u+"++) {\\n  "+c.join(";\\n  ")+";\\n  "+s+".push("+t.expression+");\\n}"),{statements:e.concat(n),expression:s}}})}),define("core/math/parsenode/listaccess",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this.list=e[0],this.index=e[1]},e.getEvalStrings=function(){var e=this.index.getEvalStrings(),t=this.list.getEvalStrings(),r=e.statements.concat(t.statements),n=this.tmpVar();r.push("var "+n+" = "+t.expression);var i=this.tmpVar();return r.push("var "+i+" = Math.floor("+e.expression+") - 1"),{statements:r,expression:"("+i+" >= 0 && "+i+" < "+n+".length ? "+n+"["+i+"] : NaN)"}}})}),define("core/math/parsenode/dotaccess",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),{})}),define("core/math/parsenode/dotaccessexponent",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),{})}),define("core/math/parsenode/orderedpair",["require","pjs","./scalarexpression"],function(e){"use strict";return e("pjs")(e("./scalarexpression"),function(e,t,r){e.asArray=function(){return[+this.args[0].asValue(),+this.args[1].asValue()]},e.asValue=e.asArray,e.getSliderVariables=function(e,t){return e.sliderVariables(t.getDependencies()).filter(function(t){return!e.validParametricVariable(t)})},e.getEvalStrings=function(){for(var e=[],t=[],r=0;r<this.args.length;r++){var n=this.args[r].getEvalStrings();e=e.concat(n.statements),t.push(n.expression)}return{statements:e,expression:"["+t.join(",")+"]"}}})}),define("core/math/parsenode/movablepoint",["require","pjs","./orderedpair"],function(e){"use strict";return e("pjs")(e("./orderedpair"),function(e,t){e.init=function(e,r,n){t.init.call(this,e),this.moveStrategy=r,this.defaultDragMode=n},e.isMovablePoint=!0})}),
define("core/math/parsenode/orderedpairaccess",["require","pjs","./scalarexpression"],function(e){"use strict";return e("pjs")(e("./scalarexpression"),function(e,t){e.init=function(e){t.init.call(this,e),this.point=e[0],this.index=e[1]},e.getEvalStrings=function(){var e=this.index.getEvalStrings(),t=this.point.getEvalStrings(),r=[];return Array.prototype.push.apply(r,e.statements),Array.prototype.push.apply(r,t.statements),{statements:r,expression:t.expression+"["+e.expression+"-1]"}}})}),define("core/math/parsenode/polygon",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="polygon"}})}),define("core/math/comparators",["require","exports"],function(e,t){"use strict";function r(e,t){switch(t){case-1:return e?"<=":"<";case 0:return e?"=":"!=";case 1:return e?">=":">";default:throw"Programming error.  Comparators must have a direction of -1, 0, or 1"}}Object.defineProperty(t,"__esModule",{value:!0}),t.table={"<":{inclusive:!1,direction:-1},"!=":{inclusive:!1,direction:0},">":{inclusive:!1,direction:1},"<=":{inclusive:!0,direction:-1},"=":{inclusive:!0,direction:0},">=":{inclusive:!0,direction:1}},t.get=r}),define("core/math/parsenode/basecomparator",["require","pjs","./scalarexpression","./expressionTypes","core/math/comparators","core/math/functions"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./expressionTypes").Subtract,i=e("core/math/comparators").table,a=e("core/math/functions");return t(r,function(e,r,o){o.create=function(e,r){return r=r||e,t(o,function(t,n){t.operator=e,t.isInequality=function(){return 0!==i[e].direction},t.compiledOperator=r,t.scalarEvalExpression=function(e){return e.join(r)},t.evaluate=a.createEvaluateFunction(t.scalarEvalExpression,2)})},e.init=function(e){r.init.call(this,e),this._difference=n(-1===i[this.operator].direction?[e[1],e[0]]:[e[0],e[1]])}})}),define("core/math/parsenode/comparator",["require","core/math/parsenode/basecomparator"],function(e){"use strict";var t=e("core/math/parsenode/basecomparator");return{"<":t.create("<"),">":t.create(">"),"<=":t.create("<="),">=":t.create(">="),"=":t.create("=","===")}}),define("core/math/parsenode/doubleinequality",["require","pjs","./base","core/math/comparators","./comparator"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/comparators"),i=e("./comparator");return t(r,function(e,t){e.init=function(e){t.init.call(this),this.args=e,this._symbol=e[2]._symbol,this._operators=[e[1],e[3]],this._expressions=[e[0],e[4]];var r=n.get(n.table[e[1]].inclusive&&n.table[e[3]].inclusive,n.table[e[1]].direction);this._indicator=i[r]([e[0],e[4]]),this.addDependency(this._symbol),this.mergeDependencies(this._expressions[0],this._expressions[1])},e.isInequality=function(){return!0},e.isShadeBetween=function(){return!0}})}),define("core/math/parsenode/repeatedoperator",["require","pjs","./scalarexpression","./dummyindex"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./dummyindex");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this._index=e[0],this.addDummyDependency(this._index._symbol),this._index instanceof n&&this.removeDependency(this._index._symbol)},e.getEvalStrings=function(){var e=[],t=this.tmpVar(),r=this._index._symbol,n=this.tmpVar(),i=this.tmpVar(),a=this.args[1].getEvalStrings(),o=this.args[2].getEvalStrings(),s=this.args[3].getEvalStrings();Array.prototype.push.apply(e,a.statements),e.push("var "+n+" = Math.round("+a.expression+")"),Array.prototype.push.apply(e,o.statements),e.push("var "+i+" = Math.round("+o.expression+")"),e.push("var "+t+"="+this.starting_value);var u="for (var "+r+"="+n+";"+r+"<="+i+";"+r+"++) {"+s.statements.join(";")+";"+t+this.in_place_operator+s.expression+"};",c="if(!isFinite("+i+"-"+n+")) {"+t+"=("+i+"<"+n+"?"+this.starting_value+":NaN);}else{"+u+"}";return e.push(c),{statements:e,expression:t}},e.evaluate=function(e,t,r){var n=r.getCompiledFunction([this._index._symbol]).fn;if(t=Math.round(t),e=Math.round(e),!isFinite(t-e))return t<e?this.starting_value:NaN;for(var i=this.starting_value,a=e;a<=t;a++)i=this.update(i,n(a));return i}})}),define("core/math/parsenode/sum",["require","pjs","./repeatedoperator"],function(e){"use strict";return e("pjs")(e("./repeatedoperator"),function(e,t){e.in_place_operator="+=",e.starting_value=0,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:t*e[2]},e.update=function(e,t){return e+t}})}),define("core/math/parsenode/product",["require","pjs","./repeatedoperator"],function(e){"use strict";return e("pjs")(e("./repeatedoperator"),function(e,t){e.in_place_operator="*=",e.starting_value=1,e.evaluateConstant=function(e){var t=1+Math.round(e[1])-Math.round(e[0]);return t<=0?this.starting_value:Math.pow(e[2],t)},e.update=function(e,t){return e*t}})}),define("core/math/parsenode/integral",["require","pjs","./scalarexpression","./dummyindex","core/math/builtin"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./dummyindex"),i=e("core/math/builtin");return t(r,function(e,t){e.init=function(e){t.init.call(this,e),this._differential=e[0],this.addDummyDependency(this._differential._symbol),this._differential instanceof n&&this.removeDependency(this._differential._symbol)},e.getEvalStrings=function(){var e=this.args[0],t=this.args[1],r=this.args[2],n=this.args[3],i=[],a=this.tmpVar(),o=e._symbol,s=this.tmpVar(),u=this.tmpVar(),c=t.getEvalStrings(),l=r.getEvalStrings(),p=n.getEvalStrings();return Array.prototype.push.apply(i,c.statements),Array.prototype.push.apply(i,l.statements),i.push("var "+s+" = "+c.expression),i.push("var "+u+" = "+l.expression),i.push("var "+a+" = function ("+o+") { "+p.statements.join("; ")+"; return "+p.expression+";}"),{statements:i,expression:"BuiltIn.quad("+[a,s,u].join(", ")+")"}},e.evaluate=function(e,t,r){var n=this.args[0],a=r.getCompiledFunction([n._symbol]).fn;return i.quad(a,e,t)}})}),define("core/math/parsenode/functioncall",["require","pjs","./expression","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("./identifier");return t(r,function(e,t){e.init=function(e,r){"string"==typeof e&&(e=n(e)),this._identifier=e,this._symbol=e._symbol,t.init.call(this,r),this.addDependency(this._symbol)},e.copyWithArgs=function(e){return new this.constructor(n(this._symbol),e)}})}),define("core/math/parsenode/seededfunctioncall",["require","pjs","./functioncall"],function(e){"use strict";return e("pjs")(e("./functioncall"),function(e,t){e.init=function(e,r){t.init.call(this,e,r),this.seed=r[0]}})}),define("core/math/parsenode/functionexponent",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){})}),define("core/math/parsenode/functionfactorial",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){})}),define("core/math/parsenode/prime",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,r),this.order=e},e.copyWithArgs=function(e){return new this.constructor(this.order,e)}})}),define("core/math/parsenode/piecewise",["require","pjs","./scalarexpression","./constant","core/math/maybe-rational"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./constant"),i=e("core/math/maybe-rational").maybeRational,a=t(r,{});return a.chain=function(e){for(var t,r=n(NaN);e.length;)t=e.pop(),r=a([t.condition,t.if_expr,r]);return r},a.empty=function(){return a([n(!0),n(i(1,1)),n(NaN)])},a}),define("core/math/parsenode/derivative",["require","pjs","./scalarexpression","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("./identifier");return t(r,function(e,t){e.init=function(e,r){this._symbol=e instanceof n?e._symbol:n(e)._symbol,t.init.call(this,r)}})}),define("core/math/parsenode/nativefunction",["require","pjs","./scalarexpression","core/math/functions"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("core/math/functions");return t(r,function(e,r,i){e.init=function(e,t){if(e.length>=this._requiredArity)for(;e.length<this._maxArity;)e.push(this._optionalArguments[e.length-this._requiredArity]);this._errorSymbol="logbase"===this._symbol?"log":t||this._symbol,r.init.call(this,e)},e.copyWithArgs=function(e){var t=r.copyWithArgs.call(this,e);return t._errorSymbol=this._errorSymbol,t},e.scalarEvalExpression=function(e){return this.head+"("+e.join(",")+")"},i.create=function(e,r,i,a){return t(this,function(t,o,s){s.isFunction=!0,t._symbol=e,t.head=r,t._requiredArity=i,t._optionalArguments=a||[],t._maxArity=t._requiredArity+t._optionalArguments.length,t.evaluate=n.createEvaluateFunction(t.scalarEvalExpression.bind(t),t._maxArity),s.getConcreteInvocationTree=function(e,t,r,n,i){return s(r,n).getConcreteTree(e,t,i)},s.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/typedfunction",["require","pjs","./nativefunction"],function(e){"use strict";return e("pjs")(e("./nativefunction"),function(e,t,r,n){r.create=function(e,t,r,i){var a=r.length,o=n.create.call(this,e,t,a);return o.prototype._inputTypes=r,o.prototype._outputType=i,o}})}),define("core/math/parsenode/trigfunction",["require","pjs","./nativefunction","./expressionTypes","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./nativefunction"),n=e("./expressionTypes").Multiply,i=e("core/math/errormsg");return t(r,function(e,t,r,a){r.create=function(e,t){var r=a.create(e,t,1);return r.getConcreteInvocationTree=function(e,t,a,o,s){if(a.length<1)throw i.wrongArity(o,1,a.length);var u=t.trigAngleMultiplier?[n([a[0],t.trigAngleMultiplier])].concat(a.slice(1)):a;return r(u,o).getConcreteTree(e,t,s)},r.getCacheKeys=function(){return["trigAngleMultiplier"]},r}})}),define("core/math/parsenode/inversetrigfunction",["require","pjs","./nativefunction","./expressionTypes"],function(e){"use strict";var t=e("pjs"),r=e("./nativefunction"),n=e("./expressionTypes").Divide;return t(r,function(e,t,r,i){r.create=function(e,t,r){var a=i.create(e,t,1,r);return a.getConcreteInvocationTree=function(e,t,r,i,o){var s=a(r,i);return(t.trigAngleMultiplier?n([s,t.trigAngleMultiplier]):s).getConcreteTree(e,t,o)},a.getCacheKeys=function(){return["trigAngleMultiplier"]},a}})}),define("core/math/parsenode/distribution",["require","pjs","./scalarexpression","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./scalarexpression"),n=e("core/math/errormsg");return t(r,function(e,r,i){e.init=function(e,t){var i="tdist"===this._symbol;if(e.length<this._requiredArity){if(i)throw n.tdistWrongArity();throw n.wrongArity(t,this._requiredArity,e.length)}if(e.length>this._maxArity){if(i)throw n.tdistWrongArity();throw n.wrongArity(this._symbol,this._maxArity,e.length)}for(;e.length<this._maxArity;)e.push(this._optionalArguments[e.length-this._requiredArity]);r.init.call(this,e)},e.scalarEvalExpression=function(e){return this.head+"("+e.join(",")+")"},i.create=function(e,r,n){return t(this,function(t,i,a){a.isFunction=!0,t._symbol=e,t._requiredArity=r,t._optionalArguments=n||[],t._maxArity=t._requiredArity+t._optionalArguments.length,a.getConcreteInvocationTree=function(e,t,r,n,i){return a(r,n)},a.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/reducerfunction",["require","pjs","./expression","core/math/functions","core/math/errormsg","./distribution","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/functions"),i=e("core/math/errormsg"),a=e("./distribution"),o=e("core/math/types");return t(r,function(e,r,s){e.init=function(e,t){if(0===e.length)throw i.zeroArgReducer(t);if(e[0]instanceof a&&"length"!==this._symbol&&!e[0][this._symbol])throw i.functionTypeError(this._symbol,[o.prettyPrint(this.args[0].valueType)]);r.init.call(this,e)},e.evalExpression=function(e){return this.head+"("+e+")"},e.getEvalStrings=function(){var e=this.args[0].getEvalStrings();return{statements:e.statements,expression:this.evalExpression(e.expression)}},s.create=function(e,r){return t(s,function(t,i,a){t._symbol=e,t.head=r,t._arity=1,a.isFunction=!0,a.allowDotCalls=!0,a.dotMinArity=0,a.dotMaxArity=0,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),a.getConcreteInvocationTree=function(e,t,r,n,i){return a(r,n).getConcreteTree(e,t,i)},a.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/doublereducerfunction",["require","pjs","./expression","core/math/functions","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/functions"),i=e("core/math/errormsg");return t(r,function(e,r,a){e.init=function(e,t){if(r.init.call(this,e),2!==this.args.length)throw i.wrongDoubleReducerArity(t)},e.evalExpression=function(e){return this.head+"("+e.join(",")+")"},e.getEvalStrings=function(){for(var e=[],t=[],r=Math.min(this.args[0].length,this.args[1].length),n=0;n<this.args.length;n++){var i=this.args[n],a=i.getEvalStrings();Array.prototype.push.apply(e,a.statements),t.push(i.length===r?a.expression:a.expression+".slice(0,"+r+")")}return{statements:e,expression:this.evalExpression(t)}},a.create=function(e,r){return t(a,function(t,i,a){t._symbol=e,t.head=r,t._arity=2,a.isFunction=!0,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),a.getConcreteInvocationTree=function(e,t,r,n,i){return a(r,n).getConcreteTree(e,t,i)},a.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/parametrizedreducerfunction",["require","pjs","./expression","core/math/functions","core/math/errormsg","./distribution","core/math/types"],function(e){"use strict";var t=e("pjs"),r=e("./expression"),n=e("core/math/functions"),i=e("core/math/errormsg"),a=e("./distribution"),o=e("core/math/types");return t(r,function(e,r,s){e.init=function(e,t){if(e.length<2&&void 0!==this._optionalArgument&&e.push(this._optionalArgument),2!==e.length)throw i.wrongParametrizedReducerArity(t);if(e[0]instanceof a&&!e[0][this._symbol])throw i.functionTypeError(t,[o.prettyPrint(this.args[0].valueType)]);r.init.call(this,e)},e.evalExpression=function(e){return this.head+"("+e.join(",")+")"},e.getEvalStrings=function(){var e=[],t=this.args[0].getEvalStrings(),r=this.args[1].getEvalStrings();return Array.prototype.push.apply(e,t.statements),Array.prototype.push.apply(e,r.statements),{statements:e,expression:this.evalExpression([t.expression,r.expression])}},s.create=function(e,r,i){return t(s,function(t,a,o){t._symbol=e,t.head=r,t._optionalArgument=i,t._arity=2,o.isFunction=!0,o.allowDotCalls=!0,o.dotMinArity=void 0===i?1:0,o.dotMaxArity=1,t.evaluate=n.createEvaluateFunction(t.evalExpression.bind(t),t._arity),o.getConcreteInvocationTree=function(e,t,r,n,i){return o(r,n).getConcreteTree(e,t,i)},o.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/toplevelfunction",["require","pjs","./nativefunction","core/math/errormsg"],function(e){"use strict";var t=e("pjs"),r=e("./nativefunction"),n=e("core/math/errormsg");return t(r,function(e,r,i,a){i.create=function(e){return t(i,function(e,t,r){r.isFunction=!0,r.getConcreteInvocationTree=function(e,t,r,i,a){throw n.unexpectedSymbol(i)},r.getCacheKeys=function(){return[]}})}})}),define("core/math/parsenode/builtinfunction",["require","core/math/parsenode/nativefunction","core/math/parsenode/typedfunction","core/math/parsenode/trigfunction","core/math/parsenode/inversetrigfunction","core/math/parsenode/reducerfunction","core/math/parsenode/doublereducerfunction","core/math/parsenode/parametrizedreducerfunction","core/math/parsenode/distribution","core/math/parsenode/toplevelfunction","core/math/types","core/math/maybe-rational","core/math/parsenode/constant"],function(e){"use strict";var t=e("core/math/parsenode/nativefunction"),r=e("core/math/parsenode/typedfunction"),n=e("core/math/parsenode/trigfunction"),i=e("core/math/parsenode/inversetrigfunction"),a=e("core/math/parsenode/reducerfunction"),o=e("core/math/parsenode/doublereducerfunction"),s=e("core/math/parsenode/parametrizedreducerfunction"),u=e("core/math/parsenode/distribution"),c=e("core/math/parsenode/toplevelfunction"),l=e("core/math/types"),p=e("core/math/maybe-rational").maybeRational,f=e("core/math/parsenode/constant"),h=f(p(1,1)),d=f(p(0,1)),m=f(p(1,2));return{sin:n.create("sin","BuiltIn.sin"),cos:n.create("cos","BuiltIn.cos"),tan:n.create("tan","BuiltIn.tan"),cot:n.create("cot","BuiltIn.cot"),sec:n.create("sec","BuiltIn.sec"),csc:n.create("csc","BuiltIn.csc"),arcsin:i.create("arcsin","Math.asin"),arccos:i.create("arccos","Math.acos"),arctan:i.create("arctan","Math.atan2",[h]),arccot:i.create("arccot","BuiltIn.acot"),arcsec:i.create("arcsec","BuiltIn.asec"),arccsc:i.create("arccsc","BuiltIn.acsc"),sinh:t.create("sinh","BuiltIn.sinh",1),cosh:t.create("cosh","BuiltIn.cosh",1),tanh:t.create("tanh","BuiltIn.tanh",1),coth:t.create("coth","BuiltIn.coth",1),sech:t.create("sech","BuiltIn.sech",1),csch:t.create("csch","BuiltIn.csch",1),arcsinh:t.create("arcsinh","BuiltIn.asinh",1),arccosh:t.create("arccosh","BuiltIn.acosh",1),arctanh:t.create("arctanh","BuiltIn.atanh",1),arccoth:t.create("arccoth","BuiltIn.acoth",1),arcsech:t.create("arcsech","BuiltIn.asech",1),arccsch:t.create("arccsch","BuiltIn.acsch",1),sqrt:t.create("sqrt","Math.sqrt",1),rtxsqpone:t.create("rtxsqpone","BuiltIn.sqrtxsqp1",1),rtxsqmone:t.create("rtxsqmone","BuiltIn.sqrtxsqm1",1),nthroot:t.create("nthroot","BuiltIn.nthroot",2),log:t.create("log","BuiltIn.common_log",1),logbase:t.create("logbase","BuiltIn.log_base",2),ln:t.create("ln","BuiltIn.log",1),exp:t.create("exp","Math.exp",1),floor:t.create("floor","Math.floor",1),ceil:t.create("ceil","Math.ceil",1),round:t.create("round","BuiltIn.round",1,[d]),abs:t.create("abs","Math.abs",1),sign:t.create("sign","BuiltIn.sign",1),mod:t.create("mod","BuiltIn.mod",2),nCr:t.create("nCr","BuiltIn.nCr",2),nPr:t.create("nPr","BuiltIn.nPr",2),factorial:t.create("factorial","BuiltIn.factorial",1),polyGamma:t.create("polyGamma","BuiltIn.polyGamma",2),lcm:a.create("lcm","BuiltIn.listLCM"),gcd:a.create("gcd","BuiltIn.listGCD"),mean:a.create("mean","BuiltIn.mean"),total:a.create("total","BuiltIn.total"),stdev:a.create("stdev","BuiltIn.stdev"),stdevp:a.create("stdevp","BuiltIn.stdevp"),mad:a.create("mad","BuiltIn.mad"),length:a.create("length","BuiltIn.length"),min:a.create("min","BuiltIn.listMin"),max:a.create("max","BuiltIn.listMax"),argmin:a.create("argmin","BuiltIn.argMin"),argmax:a.create("argmax","BuiltIn.argMax"),median:a.create("median","BuiltIn.median"),var:a.create("var","BuiltIn.var"),varp:a.create("varp","BuiltIn.varp"),cov:o.create("cov","BuiltIn.cov"),covp:o.create("covp","BuiltIn.covp"),corr:o.create("corr","BuiltIn.corr"),spearman:o.create("spearman","BuiltIn.spearman"),quantile:s.create("quantile","BuiltIn.quantile"),quartile:s.create("quartile","BuiltIn.quartile"),upperQuantileIndex:s.create("upperQuantileIndex","BuiltIn.upperQuantileIndex"),lowerQuantileIndex:s.create("lowerQuantileIndex","BuiltIn.lowerQuantileIndex"),quartileIndex:s.create("quartileIndex","BuiltIn.quartileIndex"),upperQuartileIndex:s.create("upperQuartileIndex","BuiltIn.upperQuartileIndex"),lowerQuartileIndex:s.create("lowerQuartileIndex","BuiltIn.lowerQuartileIndex"),normalcdf:t.create("normalcdf","BuiltIn.normalcdf",2,[d,h]),normalpdf:t.create("normalpdf","BuiltIn.normalpdf",1,[d,h]),normalSample:r.create("normalSample","BuiltIn.normalSample",[l.SeedType,l.Number,l.Number],l.Number),uniformSample:r.create("uniformSample","BuiltIn.uniformSample",[l.SeedType,l.Number,l.Number],l.Number),tSample:r.create("tSample","BuiltIn.tSample",[l.SeedType,l.Number],l.Number),poissonSample:r.create("poissonSample","BuiltIn.poissonSample",[l.SeedType,l.Number],l.Number),binomSample:r.create("binomSample","BuiltIn.binomSample",[l.SeedType,l.Number,l.Number],l.Number),binomcdf:t.create("binomcdf","BuiltIn.binomcdf",3,[m]),binompdf:t.create("binompdf","BuiltIn.binompdf",2,[m]),poissoncdf:t.create("poissoncdf","BuiltIn.poissoncdf",3),poissonpdf:t.create("poissonpdf","BuiltIn.poissonpdf",2),uniformcdf:t.create("uniformcdf","BuiltIn.uniformcdf",2,[d,h]),uniformpdf:t.create("uniformpdf","BuiltIn.uniformpdf",1,[d,h]),invNorm:t.create("invNorm","BuiltIn.invNorm",1),invT:t.create("invT","BuiltIn.invT",2),invPoisson:t.create("invPoisson","BuiltIn.invPoisson",2),invBinom:t.create("invBinom","BuiltIn.invBinom",3),invUniform:t.create("invUniform","BuiltIn.invUniform",3),erf:t.create("erf","BuiltIn.erf",1),tpdf:t.create("tpdf","BuiltIn.tpdf",2),tcdf:t.create("tcdf","BuiltIn.tcdf",3),tscore:s.create("tscore","BuiltIn.tscore",d),distance:r.create("distance","BuiltIn.distance",[l.Point,l.Point],l.Number),midpoint:r.create("midpoint","BuiltIn.midpoint",[l.Point,l.Point],l.Point),normaldist:u.create("normaldist",0,[d,h]),tdist:u.create("tdist",1),binomialdist:u.create("binomialdist",1,[m]),poissondist:u.create("poissondist",1),uniformdist:u.create("uniformdist",0,[d,h]),pdf:r.create("pdf","BuiltIn.normpdf",[l.Distribution,[l.Number,l.ListOfNumber]],l.Number).open(function(e,t,r){r.allowDotCalls=!0,r.dotMinArity=1,r.dotMaxArity=1}),cdf:r.create("cdf","BuiltIn.normcdf",[l.Distribution,[l.Number,l.ListOfNumber],[l.Number,l.ListOfNumber]],l.Number).open(function(e,t,r){r.allowDotCalls=!0,r.dotMinArity=1,r.dotMaxArity=2}),random:t.create("random","BuiltIn.random",2).open(function(e,t,r){r.allowDotCalls=!0,r.dotMinArity=1,r.dotMaxArity=3}),polygon:c.create("polygon"),histogram:c.create("histogram"),dotplot:c.create("dotplot"),boxplot:c.create("boxplot"),ttest:c.create("ttest"),ittest:c.create("ittest"),stats:c.create("stats")}}),define("core/math/parsenode/histogram",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="histogram"}})}),define("core/math/parsenode/object3d",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,e),this._symbol=r}})}),define("core/math/parsenode/dotplot",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="dotplot"}})}),define("core/math/parsenode/boxplot",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){t.init.call(this,e),this._symbol="boxplot"}})}),define("core/math/parsenode/ttest",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="ttest"}})}),define("core/math/parsenode/independent-ttest",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="ittest"}})}),define("core/math/parsenode/stats",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(){t.init.apply(this,arguments),this._symbol="stats"}})}),define("core/math/parsenode/equation",["require","./base","pjs","./expressionTypes","core/math/parsenode/comparator"],function(e){"use strict";var t=e("./base"),r=e("pjs"),n=e("./expressionTypes").Subtract,i=e("core/math/parsenode/comparator");return r(t,function(e,t){e.init=function(e,r){t.init.call(this),this.mergeDependencies(e,r),this._lhs=e,this._rhs=r,this._difference=n([this._lhs,this._rhs])},e.asComparator=function(){return i["="]([this._lhs,this._rhs])}})}),define("core/math/parsenode/assignment",["require","./base","./equation","./identifier","pjs"],function(e){"use strict";var t=e("./base"),r=e("./equation"),n=e("./identifier");return e("pjs")(t,function(e,t){e.init=function(e,r){t.init.call(this),e=e._symbol,this.mergeDependencies(r),this._expression=r,this._symbol=e,this._exports=this.computeExports()},e.shouldExportAns=function(){return!0},e.computeExports=function(){for(var e=this._symbol,t=this.getDependencies(),r=0;r<t.length;r++)if(t[r]===e)return[];return[e]},e.isEquation=function(e){return-1!==e.getDependencies().indexOf(this._symbol)},e.asEquation=function(){var e=r(n(this._symbol),this._expression);return e.userData=this.userData,e.metaData=this.metaData,e},e.shouldPromoteToSlider=function(e){return!!this._expression.isConstant&&!this._expression.is_mixed_number&&"number"==typeof this._expression.asValue()&&!!isFinite(this._expression.asValue())&&e.isValidSlider(this._symbol)}})}),define("core/math/parsenode/functiondefinition",["require","pjs","./base","core/math/errormsg","./equation","./identifier","./functioncall"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/errormsg"),i=e("./equation"),a=e("./identifier"),o=e("./functioncall");return t(r,function(e,t){e.init=function(e,r,n){t.init.call(this),e=e._symbol,this._argSymbols=r.map(function(e){return e._symbol}),this._symbol=e,this._exports=[e],this._expression=n,this.addDependencies(this._argSymbols),this.addDummyDependencies(this._argSymbols),this.mergeDependencies(this._expression)},e.isFunction=!0,e.getConcreteInvocationTree=function(e,t,r,i,a){if(r.length!==this._argSymbols.length)throw n.wrongArity(i,this._argSymbols.length,r.length);for(var o=Object.create(t),s=0;s<this._argSymbols.length;s++)o[this._argSymbols[s]]=r[s];return this._expression.getConcreteTree(e,o,a)},e.getSliderVariables=function(e,t){var r=this._argSymbols;return e.sliderVariables(t.getDependencies()).filter(function(e){return-1===r.indexOf(e)})},e.asEquation=function(){var e=this._argSymbols.map(function(e){return a(e)}),t=i(o(a(this._symbol),e),this._expression);return t.userData=this.userData,t.metaData=this.metaData,t}})}),define("core/math/parsenode/optimizedregression",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e,r,n,i,a){t.init.call(this),this.parameters=e,this.residuals=r,this.statistics=n,this.model=i,this.isModelValid=a.isModelValid,this.residualVariable=a.residualVariable,this.residualSuggestionId=a.residualSuggestionId,this.shouldSuggestLogMode=a.shouldSuggestLogMode,this._exports=[this.residualVariable];for(var o in e)e.hasOwnProperty(o)&&this._exports.push(o);this.mergeDependencies(i)},e.getCompiledFunction=function(){return this.model.getCompiledFunction.apply(this.model,arguments)},e.getCompiledDerivative=function(){return this.model.getCompiledDerivative.apply(this.model,arguments)},e.evaluate=function(){return this.model.evaluate.apply(this.model,arguments)}})}),define("numeric",[],function(){"use strict";var e="undefined"==typeof exports?function(){}:exports;return"undefined"!=typeof global&&(global.numeric=e),e.version="1.2.6",e._myIndexOf=function(e){var t,r=this.length;for(t=0;t<r;++t)if(this[t]===e)return t;return-1},e.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:e._myIndexOf,e.precision=4,e.largeArray=50,e.compile=function(){var t=Array.prototype.slice.call(arguments),r=t.pop();return r="return function ("+t.join(",")+") {"+r+"}",new Function(["numeric"],r)(e)},e._dim=function(e){for(var t=[];"object"==typeof e;)t.push(e.length),e=e[0];return t},e.dim=function(t){var r,n;return"object"==typeof t?(r=t[0],"object"==typeof r?(n=r[0],"object"==typeof n?e._dim(t):[t.length,r.length]):[t.length]):[]},e.mapreduce=function(t,r){return e.compile("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+r+';\\nif(typeof x === "number") { var xi = x; '+t+'; return accum; }\\nif(typeof _s === "undefined") _s = numeric.dim(x);\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i,xi;\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) {\\n        accum = arguments.callee(x[i],accum,_s,_k+1);\\n    }    return accum;\\n}\\nfor(i=_n-1;i>=1;i-=2) { \\n    xi = x[i];\\n    '+t+";\\n    xi = x[i-1];\\n    "+t+";\\n}\\nif(i === 0) {\\n    xi = x[i];\\n    "+t+"\\n}\\nreturn accum;")},e.mapreduce2=function(t,r){return e.compile("x","var n = x.length;\\nvar i,xi;\\n"+r+"\\nfor(i=n-1;i!==-1;--i) { \\n    xi = x[i];\\n    "+t+"\\n}\\nreturn accum;")},e.rep=function(t,r,n){void 0===n&&(n=0);var i,a=t[n],o=Array(a);if(n===t.length-1){for(i=a-2;i>=0;i-=2)o[i+1]=r,o[i]=r;return-1===i&&(o[0]=r),o}for(i=a-1;i>=0;i--)o[i]=e.rep(t,r,n+1);return o},e.dotMMsmall=function(e,t){var r,n,i,a,o,s,u,c,l,p,f;for(a=e.length,o=t.length,s=t[0].length,u=Array(a),r=a-1;r>=0;r--){for(c=Array(s),l=e[r],i=s-1;i>=0;i--){for(p=l[o-1]*t[o-1][i],n=o-2;n>=1;n-=2)f=n-1,p+=l[n]*t[n][i]+l[f]*t[f][i];0===n&&(p+=l[0]*t[0][i]),c[i]=p}u[r]=c}return u},e._getCol=function(e,t,r){var n,i=e.length;for(n=i-1;n>0;--n)r[n]=e[n][t],--n,r[n]=e[n][t];0===n&&(r[0]=e[0][t])},e.dotMMbig=function(t,r){var n,i,a,o=e._getCol,s=r.length,u=Array(s),c=t.length,l=r[0].length,p=new Array(c),f=e.dotVV;for(--s,--c,i=c;-1!==i;--i)p[i]=Array(l);for(--l,i=l;-1!==i;--i)for(o(r,i,u),a=c;-1!==a;--a)0,n=t[a],p[a][i]=f(n,u);return p},e.dotMV=function(t,r){var n,i=t.length,a=(r.length,Array(i)),o=e.dotVV;for(n=i-1;n>=0;n--)a[n]=o(t[n],r);return a},e.dotVM=function(e,t){var r,n,i,a,o,s,u;for(i=e.length,a=t[0].length,o=Array(a),n=a-1;n>=0;n--){for(s=e[i-1]*t[i-1][n],r=i-2;r>=1;r-=2)u=r-1,s+=e[r]*t[r][n]+e[u]*t[u][n];0===r&&(s+=e[0]*t[0][n]),o[n]=s}return o},e.dotVV=function(e,t){var r,n,i=e.length,a=e[i-1]*t[i-1];for(r=i-2;r>=1;r-=2)n=r-1,a+=e[r]*t[r]+e[n]*t[n];return 0===r&&(a+=e[0]*t[0]),a},e.dot=function(t,r){var n=e.dim;switch(1e3*n(t).length+n(r).length){case 2002:return r.length<10?e.dotMMsmall(t,r):e.dotMMbig(t,r);case 2001:return e.dotMV(t,r);case 1002:return e.dotVM(t,r);case 1001:return e.dotVV(t,r);case 1e3:return e.mulVS(t,r);case 1:return e.mulSV(t,r);case 0:return t*r;default:throw new Error("numeric.dot only works on vectors and matrices")}},e.diag=function(e){var t,r,n,i,a=e.length,o=Array(a);for(t=a-1;t>=0;t--){for(i=Array(a),r=t+2,n=a-1;n>=r;n-=2)i[n]=0,i[n-1]=0;for(n>t&&(i[n]=0),i[t]=e[t],n=t-1;n>=1;n-=2)i[n]=0,i[n-1]=0;0===n&&(i[0]=0),o[t]=i}return o},e.getDiag=function(e){var t,r=Math.min(e.length,e[0].length),n=Array(r);for(t=r-1;t>=1;--t)n[t]=e[t][t],--t,n[t]=e[t][t];return 0===t&&(n[0]=e[0][0]),n},e.identity=function(t){return e.diag(e.rep([t],1))},e.pointwise=function(t,r,n){void 0===n&&(n="");var i,a,o=[],s=/\\[i\\]$/,u="",c=!1;for(i=0;i<t.length;i++)s.test(t[i])?(a=t[i].substring(0,t[i].length-3),u=a):a=t[i],"ret"===a&&(c=!0),o.push(a);return o[t.length]="_s",o[t.length+1]="_k",o[t.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+u+');\\nif(typeof _k === "undefined") _k = 0;\\nvar _n = _s[_k];\\nvar i'+(c?"":", ret = Array(_n)")+";\\nif(_k < _s.length-1) {\\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+t.join(",")+",_s,_k+1);\\n    return ret;\\n}\\n"+n+"\\nfor(i=_n-1;i!==-1;--i) {\\n    "+r+"\\n}\\nreturn ret;",e.compile.apply(null,o)},e.pointwise2=function(t,r,n){void 0===n&&(n="");var i,a,o=[],s=/\\[i\\]$/,u="",c=!1;for(i=0;i<t.length;i++)s.test(t[i])?(a=t[i].substring(0,t[i].length-3),u=a):a=t[i],"ret"===a&&(c=!0),o.push(a);return o[t.length]="var _n = "+u+".length;\\nvar i"+(c?"":", ret = Array(_n)")+";\\n"+n+"\\nfor(i=_n-1;i!==-1;--i) {\\n"+r+"\\n}\\nreturn ret;",e.compile.apply(null,o)},e._biforeach=function e(t,r,n,i,a){if(i===n.length-1)return void a(t,r);var o,s=n[i];for(o=s-1;o>=0;o--)e("object"==typeof t?t[o]:t,"object"==typeof r?r[o]:r,n,i+1,a)},e._biforeach2=function e(t,r,n,i,a){if(i===n.length-1)return a(t,r);var o,s=n[i],u=Array(s);for(o=s-1;o>=0;--o)u[o]=e("object"==typeof t?t[o]:t,"object"==typeof r?r[o]:r,n,i+1,a);return u},e._foreach=function e(t,r,n,i){if(n===r.length-1)return void i(t);var a,o=r[n];for(a=o-1;a>=0;a--)e(t[a],r,n+1,i)},e._foreach2=function e(t,r,n,i){if(n===r.length-1)return i(t);var a,o=r[n],s=Array(o);for(a=o-1;a>=0;a--)s[a]=e(t[a],r,n+1,i);return s},e.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",
bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},e.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},e.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],e.mathfuns2=["atan2","pow","max","min"],e.ops1={neg:"-",not:"!",bnot:"~",clone:""},e.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi);","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var t,r;for(t=0;t<e.mathfuns2.length;++t)r=e.mathfuns2[t],e.ops2[r]=r;for(t in e.ops2)if(e.ops2.hasOwnProperty(t)){r=e.ops2[t];var n,i,a="";-1!==e.myIndexOf.call(e.mathfuns2,t)?(a="var "+r+" = Math."+r+";\\n",n=function(e,t,n){return e+" = "+r+"("+t+","+n+")"},i=function(e,t){return e+" = "+r+"("+e+","+t+")"}):(n=function(e,t,n){return e+" = "+t+" "+r+" "+n},i=e.opseq.hasOwnProperty(t+"eq")?function(e,t){return e+" "+r+"= "+t}:function(e,t){return e+" = "+e+" "+r+" "+t}),e[t+"VV"]=e.pointwise2(["x[i]","y[i]"],n("ret[i]","x[i]","y[i]"),a),e[t+"SV"]=e.pointwise2(["x","y[i]"],n("ret[i]","x","y[i]"),a),e[t+"VS"]=e.pointwise2(["x[i]","y"],n("ret[i]","x[i]","y"),a),e[t]=e.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar VV = numeric."+t+"VV, VS = numeric."+t+"VS, SV = numeric."+t+'SV;\\nvar dim = numeric.dim;\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof x === "object") {\\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\\n  else '+i("x","y")+"\\n}\\nreturn x;\\n"),e[r]=e[t],e[t+"eqV"]=e.pointwise2(["ret[i]","x[i]"],i("ret[i]","x[i]"),a),e[t+"eqS"]=e.pointwise2(["ret[i]","x"],i("ret[i]","x"),a),e[t+"eq"]=e.compile("var n = arguments.length, i, x = arguments[0], y;\\nvar V = numeric."+t+"eqV, S = numeric."+t+'eqS\\nvar s = numeric.dim(x);\\nfor(i=1;i!==n;++i) { \\n  y = arguments[i];\\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\\n  else numeric._biforeach(x,y,s,0,S);\\n}\\nreturn x;\\n')}for(t=0;t<e.mathfuns2.length;++t)r=e.mathfuns2[t],delete e.ops2[r];for(t=0;t<e.mathfuns.length;++t)r=e.mathfuns[t],e.ops1[r]=r;for(t in e.ops1)e.ops1.hasOwnProperty(t)&&(a="",r=e.ops1[t],-1!==e.myIndexOf.call(e.mathfuns,t)&&Math.hasOwnProperty(r)&&(a="var "+r+" = Math."+r+";\\n"),e[t+"eqV"]=e.pointwise2(["ret[i]"],"ret[i] = "+r+"(ret[i]);",a),e[t+"eq"]=e.compile("x",'if(typeof x !== "object") return '+r+"x\\nvar i;\\nvar V = numeric."+t+"eqV;\\nvar s = numeric.dim(x);\\nnumeric._foreach(x,s,0,V);\\nreturn x;\\n"),e[t+"V"]=e.pointwise2(["x[i]"],"ret[i] = "+r+"(x[i]);",a),e[t]=e.compile("x",'if(typeof x !== "object") return '+r+"(x)\\nvar i;\\nvar V = numeric."+t+"V;\\nvar s = numeric.dim(x);\\nreturn numeric._foreach2(x,s,0,V);\\n"));for(t=0;t<e.mathfuns.length;++t)r=e.mathfuns[t],delete e.ops1[r];for(t in e.mapreducers)e.mapreducers.hasOwnProperty(t)&&(r=e.mapreducers[t],e[t+"V"]=e.mapreduce2(r[0],r[1]),e[t]=e.compile("x","s","k",r[1]+'if(typeof x !== "object") {    xi = x;\\n'+r[0]+'\\n    return accum;\\n}if(typeof s === "undefined") s = numeric.dim(x);\\nif(typeof k === "undefined") k = 0;\\nif(k === s.length-1) return numeric.'+t+"V(x);\\nvar xi;\\nvar n = x.length, i;\\nfor(i=n-1;i!==-1;--i) {\\n   xi = arguments.callee(x[i]);\\n"+r[0]+"\\n}\\nreturn accum;\\n"))}(),e.inv=function(t){var r,n,i,a,o,s,u,t,c=e.dim(t),l=Math.abs,p=c[0],f=c[1],h=e.clone(t),d=e.identity(p);for(s=0;s<f;++s){var m=-1,y=-1;for(o=s;o!==p;++o)(u=l(h[o][s]))>y&&(m=o,y=u);for(n=h[m],h[m]=h[s],h[s]=n,a=d[m],d[m]=d[s],d[s]=a,t=n[s],u=s;u!==f;++u)n[u]/=t;for(u=f-1;-1!==u;--u)a[u]/=t;for(o=p-1;-1!==o;--o)if(o!==s){for(r=h[o],i=d[o],t=r[s],u=s+1;u!==f;++u)r[u]-=n[u]*t;for(u=f-1;u>0;--u)i[u]-=a[u]*t,--u,i[u]-=a[u]*t;0===u&&(i[0]-=a[0]*t)}}return d},e.det=function(t){var r=e.dim(t);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: det() only works on square matrices");var n,i,a,o,s,u,c,l,p=r[0],f=1,h=e.clone(t);for(i=0;i<p-1;i++){for(a=i,n=i+1;n<p;n++)Math.abs(h[n][i])>Math.abs(h[a][i])&&(a=n);for(a!==i&&(c=h[a],h[a]=h[i],h[i]=c,f*=-1),o=h[i],n=i+1;n<p;n++){for(s=h[n],u=s[i]/o[i],a=i+1;a<p-1;a+=2)l=a+1,s[a]-=o[a]*u,s[l]-=o[l]*u;a!==p&&(s[a]-=o[a]*u)}if(0===o[i])return 0;f*=o[i]}return f*h[i][i]},e.transpose=function(e){var t,r,n,i,a,o=e.length,s=e[0].length,u=Array(s);for(r=0;r<s;r++)u[r]=Array(o);for(t=o-1;t>=1;t-=2){for(i=e[t],n=e[t-1],r=s-1;r>=1;--r)a=u[r],a[t]=i[r],a[t-1]=n[r],--r,a=u[r],a[t]=i[r],a[t-1]=n[r];0===r&&(a=u[0],a[t]=i[0],a[t-1]=n[0])}if(0===t){for(n=e[0],r=s-1;r>=1;--r)u[r][0]=n[r],--r,u[r][0]=n[r];0===r&&(u[0][0]=n[0])}return u},e.negtranspose=function(e){var t,r,n,i,a,o=e.length,s=e[0].length,u=Array(s);for(r=0;r<s;r++)u[r]=Array(o);for(t=o-1;t>=1;t-=2){for(i=e[t],n=e[t-1],r=s-1;r>=1;--r)a=u[r],a[t]=-i[r],a[t-1]=-n[r],--r,a=u[r],a[t]=-i[r],a[t-1]=-n[r];0===r&&(a=u[0],a[t]=-i[0],a[t-1]=-n[0])}if(0===t){for(n=e[0],r=s-1;r>=1;--r)u[r][0]=-n[r],--r,u[r][0]=-n[r];0===r&&(u[0][0]=-n[0])}return u},e.norm2=function(t){return Math.sqrt(e.norm2Squared(t))},e.linspace=function(e,t,r){if(void 0===r&&(r=Math.max(Math.round(t-e)+1,1)),r<2)return 1===r?[e]:[];var n,i=Array(r);for(r--,n=r;n>=0;n--)i[n]=(n*t+(r-n)*e)/r;return i},e.getBlock=function(t,r,n){function i(e,t){var o,s=r[t],u=n[t]-s,c=Array(u);if(t===a.length-1){for(o=u;o>=0;o--)c[o]=e[o+s];return c}for(o=u;o>=0;o--)c[o]=i(e[o+s],t+1);return c}var a=e.dim(t);return i(t,0)},e.setBlock=function(t,r,n,i){function a(e,t,i){var s,u=r[i],c=n[i]-u;if(i===o.length-1)for(s=c;s>=0;s--)e[s+u]=t[s];for(s=c;s>=0;s--)a(e[s+u],t[s],i+1)}var o=e.dim(t);return a(t,i,0),t},e.getRange=function(e,t,r){var n,i,a,o,s=t.length,u=r.length,c=Array(s);for(n=s-1;-1!==n;--n)for(c[n]=Array(u),a=c[n],o=e[t[n]],i=u-1;-1!==i;--i)a[i]=o[r[i]];return c},e.blockMatrix=function(t){var r=e.dim(t);if(r.length<4)return e.blockMatrix([t]);var n,i,a,o,s,u=r[0],c=r[1];for(n=0,i=0,a=0;a<u;++a)n+=t[a][0].length;for(o=0;o<c;++o)i+=t[0][o][0].length;var l=Array(n);for(a=0;a<n;++a)l[a]=Array(i);var p,f,h,d,m,y=0;for(a=0;a<u;++a){for(p=i,o=c-1;-1!==o;--o)for(s=t[a][o],p-=s[0].length,h=s.length-1;-1!==h;--h)for(m=s[h],f=l[y+h],d=m.length-1;-1!==d;--d)f[p+d]=m[d];y+=t[a][0].length}return l},e.tensor=function(t,r){if("number"==typeof t||"number"==typeof r)return e.mul(t,r);var n=e.dim(t),i=e.dim(r);if(1!==n.length||1!==i.length)throw new Error("numeric: tensor product is only defined for vectors");var a,o,s,u,c=n[0],l=i[0],p=Array(c);for(o=c-1;o>=0;o--){for(a=Array(l),u=t[o],s=l-1;s>=3;--s)a[s]=u*r[s],--s,a[s]=u*r[s],--s,a[s]=u*r[s],--s,a[s]=u*r[s];for(;s>=0;)a[s]=u*r[s],--s;p[o]=a}return p},e.epsilon=2.220446049250313e-16,e.LU=function(t,r){r=r||!1;var n,i,a,o,s,u,c,l,p,f=Math.abs,h=t.length,d=h-1,m=new Array(h);for(r||(t=e.clone(t)),a=0;a<h;++a){for(c=a,u=t[a],p=f(u[a]),i=a+1;i<h;++i)o=f(t[i][a]),p<o&&(p=o,c=i);for(m[a]=c,c!=a&&(t[a]=t[c],t[c]=u,u=t[a]),s=u[a],n=a+1;n<h;++n)t[n][a]/=s;for(n=a+1;n<h;++n){for(l=t[n],i=a+1;i<d;++i)l[i]-=l[a]*u[i],++i,l[i]-=l[a]*u[i];i===d&&(l[i]-=l[a]*u[i])}}return{LU:t,P:m}},e.LUsolve=function(t,r){var n,i,a,o,s,u=t.LU,c=u.length,l=e.clone(r),p=t.P;for(n=c-1;-1!==n;--n)l[n]=r[n];for(n=0;n<c;++n)for(a=p[n],p[n]!==n&&(s=l[n],l[n]=l[a],l[a]=s),o=u[n],i=0;i<n;++i)l[n]-=l[i]*o[i];for(n=c-1;n>=0;--n){for(o=u[n],i=n+1;i<c;++i)l[n]-=l[i]*o[i];l[n]/=o[n]}return l},e.solve=function(t,r,n){return e.LUsolve(e.LU(t,n),r)},e}),define("core/math/qr",["require","exports"],function(e,t){"use strict";function r(e,t){for(var r=e.length,n=t.length,i=0,a=0,o=n-r;o<n;o++)i+=e[o+r-n]*t[o],a+=e[o+r-n]*e[o+r-n];for(var s=i/a,o=n-r;o<n;o++)t[o]=2*s*e[o+r-n]-t[o]}function n(e,t,r){for(var n=e.length,i=t.length,a=0,o=0,s=i-n;s<i;s++)a+=e[s+n-i]*t[s][r],o+=e[s+n-i]*e[s+n-i];for(var u=a/o,s=i-n;s<i;s++)t[s][r]=2*u*e[s+n-i]-t[s][r]}function i(e,t,r,n){var i=Array(e.length-t);if(1===i.length)return i[0]=1,i;if(0===n){i[0]=1;for(var a=1;a<i.length;a++)i[a]=0;return i}var o=e[t][r]<0?-1:1;i[0]=e[t][r]+o*Math.sqrt(n);for(var s=t+1;s<e.length;s++)i[s-t]=e[s][r];return i}function a(e,t,r){for(var n=0;t<e.length;t++)n+=e[t][r]*e[t][r];return n}function o(e,t){if(!t||!t.mutateInput){var r=e;e=Array(e.length);for(var o=0;o<r.length;o++)e[o]=r[o].slice()}for(var s=Math.min(e.length,e[0].length),u=Array(s),c=[],l=0;l<s;l++){for(var p=-1/0,f=l,h=l;h<e[l].length;h++){var d=a(e,l,h);d>p&&(p=d,f=h)}if(u[l]=f,f!==l)for(var o=0;o<e.length;o++){var m=e[o][f];e[o][f]=e[o][l],e[o][l]=m}for(var y=i(e,l,l,p),h=l;h<e[l].length;h++)n(y,e,h);c.push(y)}return{reflectors:c,r:e,p:u}}function s(e,t,n){for(var i=e.reflectors,a=e.r,o=e.p,s=t.slice(),u=0;u<i.length;u++)r(i[u],s);for(var u=i.length;u<a[0].length;u++)s[u]=0;s.length=a[0].length;for(var c=Math.pow(2,-52),l=n.regularize?c*Math.abs(a[0][0])*Math.max(a.length,a[0].length):0,u=i.length-1;u>=0;u--){var p=a[u];if(Math.abs(p[u])<=l)s[u]=0;else{for(var f=u+1;f<i.length;f++)s[u]-=s[f]*p[f];s[u]/=p[u]}}for(var u=o.length-1;u>=0;u--)if(o[u]!==u){var h=s[u];s[u]=s[o[u]],s[o[u]]=h}return s}function u(e,t,r){for(var n=Array(e.r[0].length),i=0;i<n.length;i++)n[i]=Array(t[0].length);for(var a=Array(t.length),o=0;o<t[0].length;o++){for(var i=0;i<t.length;i++)a[i]=t[i][o];for(var u=s(e,a,r),i=0;i<u.length;i++)n[i][o]=u[i]}return n}function c(e,t,r){return Array.isArray(t[0])?u(e,t,r):s(e,t,r)}function l(e){var t=e.r,r=Math.min(t.length,t[0].length),n=t[0][0],i=t[r-1][r-1];return 0===n?1/0:Math.abs(n/i)}function p(e){var t=Math.pow(2,-52);return Math.max(e.r.length,e.r[0].length)*t*l(e)<1}Object.defineProperty(t,"__esModule",{value:!0}),t.qr=o,t.qrSolve=c,t.conditionNumber=l,t.isNumericallyFullRank=p}),define("core/math/least-squares",["require","exports","numeric","core/math/distance","./qr"],function(e,t,r,n,i){"use strict";function a(e,t){for(var r=[],n=0;n<t;n++)r.push(e);return r}function o(e,t){for(var r=s(e,t),n=0,i=0,a=r;i<a.length;i++){var o=a[i],u=o;n+=u*u}return n/r.length}function s(e,t){return e.apply(void 0,t)}function u(e,t){for(var r=[],n=0,i=e;n<i.length;n++){var a=i[n],o=a.apply(void 0,t);r.push(o)}return r}function c(e,t){for(var r=[],n=0;n<e.length;n++)t[n]&&r.push(e[n]);return r}function l(e,t,r){for(var n=[],i=0,a=0;i<e.length;i++){var o=0;r[i]&&(o=t[a],a+=1),n.push(e[i]+o)}return n}function p(e,t){for(var n=a(0,t.length),c=u(t,n),l=i.qr(r.transpose(c),{mutateInput:!0}),p=0;p<2;p++){var f=s(e,n),h=r.neg(i.qrSolve(l,f,{regularize:!1}));n=r.add(n,h)}var d=o(e,n);if(i.isNumericallyFullRank(l))return{solution:n,MSE:d};for(var m=a(0,t.length),p=0;p<2;p++){var f=s(e,m),h=r.neg(i.qrSolve(l,f,{regularize:!0}));m=r.add(m,h)}var y=o(e,m);return.999*y<=d?{solution:m,MSE:y}:{solution:n,MSE:d}}function f(e,t,n,p){var f,h=p.maxIterations,d=p.linearSubset||a(!1,n.length),m=r.not(d),y=c(t,d),g=c(t,m),v=n,b=0,x=.001;if(r.any(d)){var _=r.transpose(u(y,v)),S=i.qr(_);f={Jv:_,F:S};var M=s(e,v),E=r.neg(i.qrSolve(S,M,{regularize:!0}));v=l(v,E,d)}for(var D=!1,w=o(e,v);b<h&&!D&&isFinite(w);){var M=s(e,v),T=u(g,v),P=r.transpose(T),I=void 0,C=void 0;if(f){var S=f.F,_=f.Jv;I=r.dot(T,r.sub(M,r.dot(_,i.qrSolve(S,M,{regularize:!0})))),C=r.dot(T,r.sub(P,r.dot(_,i.qrSolve(S,P,{regularize:!0}))))}else I=r.dot(T,M),C=r.dot(T,P);for(var O=v,A=!1;b<h&&!D&&!A;){b+=1;var L=r.add(C,r.diag(a(x,g.length)));O=l(v,r.neg(r.solve(L,I,!0)),m),D=r.all(r.eq(O,v));var N=void 0;if(f){var _=r.transpose(u(y,O)),S=i.qr(_);N={Jv:_,F:S};var q=s(e,O),E=r.neg(i.qrSolve(S,q,{regularize:!0}));O=l(O,E,d)}var F=o(e,O);A=F<w,A?(v=O,w=F,f=N,x*=.1):(x=Math.max(x,1e-64),x*=2)}}return{solution:v,MSE:w}}function h(e,t,r,n){if(!t)return e;if("known"!==t.type)return e;var i=t.bounds;return i[0]===-1/0&&i[1]===1/0?e:i[0]===-1/0?i[1]-Math.exp(-e):i[1]===1/0?i[0]+Math.exp(e):r/(n-1)*i[1]+(n-1-r)/(n-1)*i[0]}function d(e,t){for(var r=[],n=0;n<e.length;n++){for(var i=e[n],a=[],o=0;o<i.length;o++){var s=x[o%x.length]*n%e.length;a.push(h(i[o],t[o],s,e.length))}r.push(a)}return r}function m(e,t,r){r||(r={});var i=r.linearSubset,a=r.bounds,o=r.preferredInitialGuess,s=v(t.length);a&&(s=d(s,a));var u=b(e,t,s,5,{maxIterations:3,linearSubset:i}),c=b(e,t,u,1,{maxIterations:60,linearSubset:i}),l=f(e,t,c[0],{maxIterations:250,linearSubset:i});if(!o)return l;var p=f(e,t,o,{maxIterations:100,linearSubset:i});return isFinite(p.MSE)?p.MSE<l.MSE?p:n.approx(p.MSE,l.MSE,8)?p:l:l}Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateMeanSquare=o,t.optimizeLinear=p;var y=[18.9,.105,.0113,.089,4.414,.373,.06,.149,1.84,9.26,5,.7,.2,1.13,2.61,1,.007,30,120,1500,4e-4,7.23,-1,-.0081,-.03,-28.6,-1.71,-.4,-6.94,-.777,-500],g=function(e){return y[503*e%y.length]},v=function(e){for(var t=[],r=0;r<y.length;r++){for(var n=[],i=0;i<e;i++)n[i]=0===r&&1!==e?0:1===r&&1!==e?1:g(r*e+i);t.push(n)}return t},b=function(e,t,r,n,i){for(var a=[],o=0,s=r;o<s.length;o++){var u=s[o];a.push({soln:f(e,t,u,i),initialGuess:u})}a.sort(function(e,t){return isNaN(e.soln.MSE)?1:isNaN(t.soln.MSE)?-1:e.soln.MSE-t.soln.MSE});for(var c=[],l=0;l<n;l++)c.push(a[l].initialGuess);return c},x=[3,5,7,11,13,17,19];t.optimizeNonLinear=m,t.testOnlyExports={generateInitialGuesses:v,mapInitialGuesses:d}}),define("core/math/parsenode/regression",["require","pjs","./base","core/math/distance","core/math/builtin","core/lib/label","core/math/errormsg","./error","./optimizedregression","./list","./functioncall","./identifier","./constant","./freevariable","./expressionTypes","core/math/types","core/math/least-squares"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("core/math/distance"),i=e("core/math/builtin"),a=e("core/lib/label"),o=e("core/math/errormsg"),s=e("./error"),u=e("./optimizedregression"),c=e("./list"),l=e("./functioncall"),p=e("./identifier"),f=e("./constant"),h=e("./freevariable"),d=e("./expressionTypes"),m=e("core/math/types"),y=e("core/math/least-squares"),g=y.optimizeLinear,v=y.optimizeNonLinear,b=y.evaluateMeanSquare,x=d.Subtract;return t(r,function(e,t,r){function d(e,t){for(var r=[],n=0;n<e.length;n++)r.push(t.boundDomain(e[n]));return r}function y(e,t,r){var n=[];t||(t={}),r||(r={});for(var i=0;i<e.length;i++){var o=e[i],s=a.identifierToLatex(o);r[o]&&isFinite(r[o].asValue())?n.push(+r[o].asValue()):t.hasOwnProperty(s)&&isFinite(t[s])?n.push(+t[s]):n.push(1)}return n}function _(e,t,r,n){var i,a,s=t.getDependencies();for(a=0;a<s.length;a++)if(!e.validRegressionParameter(s[a]))throw o.invalidRegressionParameter(s[a]);var u=t.getCompiledFunction(s).fn;if(s.length){var c=t.findLinearSubset(s),l=c.every(function(e){return e}),p=[];for(a=0;a<s.length;a++)p.push(t.takeDerivative(s[a]).getCompiledFunction(s).fn);i=l?g(u,p):v(u,p,{linearSubset:c,bounds:d(s,t),preferredInitialGuess:y(s,r,n)})}else i={solution:[],MSE:b(u,[])};var h={};for(a=0;a<s.length;a++)h[s[a]]=f(i.solution[a]);return h}function S(e,t){return g(function(r,n){for(var i=[],a=0;a<e.length;a++)i.push(t[a]-(r*e[a]+n));return i},[function(){return e.map(function(e){return-e})},function(){return e.map(function(){return-1})}],[0,0])}function M(e,t){var r=e.length,i=e[0],a=t[0],o=e[r-1],s=t[r-1];if(!(isFinite(i)&&isFinite(o)&&isFinite(a)&&isFinite(s)))return!1;if(s-a==0)return!1;var u=o-i;if(0===u)return!1;for(var c=1;c<r-1;c++){var l=e[c],p=t[c],f=(s*(l-i)+a*(o-l))/u;if(!n.approx(p,f,5))return!1}return!0}function E(e,t,r,n){var i=Object.create(r);for(var a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);return c.wrap(t.getConcreteTree(e,i))}e.init=function(e,r){t.init.call(this),this._lhs=e,this.isLhsSimple=e instanceof p||e instanceof c,this._logLhs=l("ln",[e]),this._rhs=r,this._difference=x([e,r]),this._logDifference=x([l("ln",[e]),l("ln",[r])]),this.mergeDependencies(e,r)},e.isRegression=!0,e.chooseResidualVariable=function(e){if(this.userData&&this.userData.residualVariable){var t=a.latexToIdentifier(this.userData.residualVariable);if(!e[t])return t}for(var r,n=this.getDependencies(),i=0;i<n.length;i++){var o=n[i].match(/_(.*)/);if(o&&(r="e_"+o[1],!e[r]))return r}for(var s=1;;){if(r="e_"+s,!e[r])return r;s++}},e.getRHSModel=function(e,t,r){function n(e,t,r){for(var n=0;n<i.length;n++)if(i[n].node===this)return i[n].tmpVar;var o=h(this.tmpVar()),s=this.getConcreteTree(e,t);return s.getDependencies().length&&(a=!1),i.push({node:this,tmpVar:o,symbol:o._symbol,concrete:s}),o}var i=[],a=!0,o={List:n,TableColumn:n,Range:n},s=this._rhs.tryGetConcreteTree(e,t,o);return{node:s,substituted:s.isError?s:s.substitute(r),replacedNodes:i,isValid:a}},e.computeStatistics=function(e,t,r,a,s,u){if(a.getDependencies().length)throw o.optimizationError();var l=0;a.eachElement(e,function(e){var t=e.asValue();l+=t*t});var p=l/a.length;if(!isFinite(p))throw o.optimizationError();if(t.getDependencies().length>0)return{RMSE:Math.sqrt(p)};var f=m.isList(t.valueType)?i.varp(t.asValue()):0;if(t.getDependencies().length||!isFinite(f)||f<=0||!this.isLhsSimple)return{RMSE:Math.sqrt(p)};var h=1-p/f;if(r.isValid&&1===r.replacedNodes.length){var d=[],y=[],g=s&&(u===D.LINLOG||u===D.LOGLOG);c.eachArgs(e,[r.replacedNodes[0].concrete,t],function(e){d.push(g?Math.log(e[0].asValue()):+e[0].asValue()),y.push(+e[1].asValue())});var v=i.corr(d,y);if(n.approx(S(d,y).MSE,p,8))return{r:v,rsquared:v*v}}return{Rsquared:h}},e.getResidualSuggestionId=function(e,t){var r,n=this._rhs.getDependencies();for(var i in t)if(t.hasOwnProperty(i)&&t[i].concreteTree.isTable&&t[i].concreteTree.columns[0]){var a=t[i].rawTree.columns;if(a&&a.length){var o=a[0].getExports();if(1===o.length&&-1!==n.indexOf(o[0])){for(var s=1;s<a.length;s++)if(-1!==a[s].getDependencies().indexOf(e))return;r=r||i}}}return r||void 0};var D={NONE:0,LOGLIN:1,LOGLOG:2,LINLOG:3};e.linearizingTransformation=function(e,t,r){if(!this.isLhsSimple)return D.NONE;var n=r.substituted;if(n.isError)return D.NONE;if(n.valueType!==m.Number)return D.NONE;var i=n.getDependencies();if(1!==i.length)return D.NONE;if(isFinite(r.node.polynomialOrder(i[0])))return D.NONE;var a=n.getCompiledFunction(i).fn,o=r.replacedNodes[0].concrete;if(n.valueType!==m.Number)return D.NONE;var s=o.mapElements(e,function(e){return+e.asValue()});if(s.length<3)return D.NONE;s.sort(function(e,t){return e-t});var u=s.map(a),l=u.map(Math.log),p=s.map(Math.log),f=!0;return c.wrap(t).eachElement(e,function(e){isFinite(Math.log(+e.asValue()))||(f=!1)}),M(s,l)&&f?D.LOGLIN:M(p,l)&&f?D.LOGLOG:M(p,u)?D.LINLOG:D.NONE},e.optimize=function(e,t,r,n,i){var o=this._lhs.getConcreteTree(e,t),s=this._rhs.getConcreteTree(e,t);this.typeCheck(e,[o,s]);var l=c.wrap(this._difference.getConcreteTree(e,t));l=l.deriveRegressionRestrictions();var p,f=_(e,l,this.userData.regressionParameters,n),h=this.getRHSModel(e,t,f),d=E(e,this._difference,t,f),m=this.linearizingTransformation(e,o,h);if(!this.userData.isLogModeRegression||m!==D.LOGLIN&&m!==D.LOGLOG)p=this.computeStatistics(e,o,h,d,this.userData.isLogModeRegression,m);else{var y=this._logDifference.getConcreteTree(e,t),g=this._logLhs.getConcreteTree(e,t);f=_(e,y,this.userData.regressionParamters,n),h=this.getRHSModel(e,t,f),d=E(e,this._difference,t,f);var v=E(e,this._logDifference,t,f);p=this.computeStatistics(e,g,h,v,this.userData.isLogModeRegression,m)}var b=this.chooseResidualVariable(r),x=this.getResidualSuggestionId(b,i);return this.userData.residualVariable=a.identifierToLatex(b),u(f,d,p,h.substituted,{isModelValid:h.isValid,residualVariable:b,residualSuggestionId:x,shouldSuggestLogMode:m!==D.NONE})},e.tryOptimize=function(){try{return this.optimize.apply(this,arguments)}catch(e){return e instanceof s?e:o.parseError()}},e.exportTo=function(e,t,r){if(!t.isError){for(var n in t.parameters)t.parameters.hasOwnProperty(n)&&(e.assignmentForbidden(n)||(r[n]=r[n]?o.multiplyDefined(n):t.parameters[n]));e.assignmentForbidden(t.residualVariable)||(r[t.residualVariable]=t.residuals)}},e.getSliderVariables=function(){return[]}})}),define("core/math/parsenode/image",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t,r,n){e.isImage=!0,e.init=function(e,r){t.init.call(this),this.center=e.center,this.radianAngle=e.radianAngle,this.width=e.width,this.height=e.height,this.opacity=e.opacity,this.moveStrategy=r,this.mergeDependencies(this.center,this.radianAngle,this.width,this.height,this.opacity)}})}),define("core/math/parsenode/slider",["require","pjs","./assignment","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./assignment"),n=e("./identifier");return t(r,function(e,t,i,a){e.isSlider=!0,e.init=function(e,r){t.init.call(this,n(e._symbol),e._expression),this.setInputSpan(e._inputSpan),this.sliderAssignment=e,this.sliderMin=r.sliderMin,this.sliderMax=r.sliderMax,this.sliderStep=r.sliderStep,this.sliderMin&&this.mergeDependencies(this.sliderMin),this.sliderMax&&this.mergeDependencies(this.sliderMax),this.sliderStep&&this.mergeDependencies(this.sliderStep)},e.shouldPromoteToSlider=function(e){return!1},e.asAssignment=function(){return r(this._symbol,this._expression)}})}),define("core/math/parsenode/table",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e){t.init.call(this),this.columns=e,this._exports=[],this.mergeDependencies.apply(this,e);for(var r=0;r<e.length;r++)Array.prototype.push.apply(this._exports,e[r].getExports())},e.exportPenalty=1,e.isTable=!0,e.exportTo=function(e,t,r){for(var n=0;n<this.columns.length;n++){var i=this.columns[n].getExports();if(i.length){var a=i[0];e.assignmentForbidden(a)||r[a]||(t.isError?r[a]=t:this.columns[n].exportTo(e,t.columns[n],r))}}},e.getAllIds=function(){return this.columns.map(function(e){return e.header.userData.id})}})}),define("core/math/parsenode/tablecolumn",["require","pjs","./base","./list","./constant","./identifier"],function(e){"use strict";var t=e("pjs"),r=e("./base"),n=e("./list"),i=e("./constant"),a=e("./identifier");return t(r,function(e,t){function o(e){return e.isError?i(NaN):e}e.init=function(e,r,n){t.init.call(this),this.header=e,this.length=r,this.values=n,this.isIndependent=!1,this.registerDependencies(),this._exports=this.computeExports()},e.registerDependencies=function(){this.mergeDependencies(this.header),this.mergeDependencies.apply(this,this.values)},e.computeExports=function(){return this.header instanceof a?[this.header._symbol]:[]},e.isDiscrete=function(e){return 1!==this.header.getDependencies().length||1!==e.header.getDependencies().length||this.header.getDependencies()[0]!==e.header.getDependencies()[0]},e._exportSymbolsTo=function(e,t,i){if(e.length){var a=e[0];if(t.isError)i[a]=t;else try{i[a]=n(t.values.map(o))}catch(e){if(!(e instanceof r))throw e;i[a]=e}}},e.exportTo=function(e,t,r){var n=this.getLegalExports(e);this._exportSymbolsTo(n,t,r)},e.exportToLocal=function(e,t){this._exportSymbolsTo(this.getExports(),e,t)}})}),define("core/math/parsenode/solvedequation",["require","pjs","./base"],function(e){"use strict";return e("pjs")(e("./base"),function(e,t){e.init=function(e,r){t.init.call(this),this._symbol=e,this._expression=r,this.mergeDependencies(r)},e.getCompiledFunction=function(){return this._expression.getCompiledFunction.apply(this._expression,arguments)},e.getCompiledDerivative=function(){return this._expression.getCompiledDerivative.apply(this._expression,arguments)},e.evaluate=function(){return this._expression.evaluate.apply(this._expression,arguments)}})}),define("core/math/parsenode/seed",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e){"string"!=typeof e&&(e=""+e),this._stringValue=e,t.init.call(this,[])},e.isString=!0,e.getEvalStrings=function(){return{statements:[],expression:"'"+this.asValue()+"'"}},e.asValue=function(){return this._stringValue}})}),define("core/math/parsenode/extendseed",["require","pjs","./expression"],function(e){"use strict";return e("pjs")(e("./expression"),function(e,t){e.init=function(e,r){t.init.call(this,r),this.seed=r[0],this.userSeed=r[1],this.tag=e},e.getEvalStrings=function(){var e=this.seed.getEvalStrings(),t=this.userSeed.getEvalStrings(),r=[];return Array.prototype.push.apply(r,e.statements),Array.prototype.push.apply(r,t.statements),{statements:r,expression:"("+e.expression+") + '::"+this.tag+"' + ("+t.expression+")"}},e.copyWithArgs=function(e){return new this.constructor(this.tag,e)}})}),define("parsenodes",["require","core/math/parsenode/expressionTypes","core/math/parsenode/base","core/math/parsenode/expression","core/math/parsenode/scalarexpression","core/math/parsenode/error","core/math/parsenode/constant","core/math/parsenode/mixednumber","core/math/parsenode/identifier","core/math/parsenode/ans","core/math/parsenode/freevariable","core/math/parsenode/dummyindex","core/math/parsenode/list","core/math/parsenode/range","core/math/parsenode/broadcast","core/math/parsenode/listaccess","core/math/parsenode/dotaccess","core/math/parsenode/dotaccessexponent","core/math/parsenode/orderedpair","core/math/parsenode/movablepoint","core/math/parsenode/orderedpairaccess","core/math/parsenode/polygon","core/math/parsenode/basecomparator","core/math/parsenode/comparator","core/math/parsenode/doubleinequality","core/math/parsenode/repeatedoperator","core/math/parsenode/sum","core/math/parsenode/product","core/math/parsenode/integral","core/math/parsenode/functioncall","core/math/parsenode/seededfunctioncall","core/math/parsenode/functionexponent","core/math/parsenode/functionfactorial","core/math/parsenode/prime","core/math/parsenode/piecewise","core/math/parsenode/derivative","core/math/parsenode/builtinfunction","core/math/parsenode/nativefunction","core/math/parsenode/typedfunction","core/math/parsenode/reducerfunction","core/math/parsenode/parametrizedreducerfunction","core/math/parsenode/doublereducerfunction","core/math/parsenode/toplevelfunction","core/math/parsenode/distribution","core/math/parsenode/histogram","core/math/parsenode/object3d","core/math/parsenode/dotplot","core/math/parsenode/boxplot","core/math/parsenode/ttest","core/math/parsenode/independent-ttest","core/math/parsenode/stats","core/math/parsenode/assignment","core/math/parsenode/functiondefinition","core/math/parsenode/equation","core/math/parsenode/regression","core/math/parsenode/image","core/math/parsenode/slider","core/math/parsenode/table","core/math/parsenode/tablecolumn","core/math/parsenode/solvedequation","core/math/parsenode/optimizedregression","core/math/parsenode/seed","core/math/parsenode/extendseed"],function(e){"use strict";var t=e("core/math/parsenode/expressionTypes"),r={Base:e("core/math/parsenode/base"),Expression:e("core/math/parsenode/expression"),ScalarExpression:e("core/math/parsenode/scalarexpression"),Error:e("core/math/parsenode/error"),Constant:e("core/math/parsenode/constant"),MixedNumber:e("core/math/parsenode/mixednumber"),Identifier:e("core/math/parsenode/identifier"),Ans:e("core/math/parsenode/ans"),FreeVariable:e("core/math/parsenode/freevariable"),DummyIndex:e("core/math/parsenode/dummyindex"),List:e("core/math/parsenode/list"),Range:e("core/math/parsenode/range"),Broadcast:e("core/math/parsenode/broadcast"),ListAccess:e("core/math/parsenode/listaccess"),DotAccess:e("core/math/parsenode/dotaccess"),DotAccessExponent:e("core/math/parsenode/dotaccessexponent"),OrderedPair:e("core/math/parsenode/orderedpair"),MovablePoint:e("core/math/parsenode/movablepoint"),OrderedPairAccess:e("core/math/parsenode/orderedpairaccess"),Polygon:e("core/math/parsenode/polygon"),BaseComparator:e("core/math/parsenode/basecomparator"),Comparator:e("core/math/parsenode/comparator"),DoubleInequality:e("core/math/parsenode/doubleinequality"),RepeatedOperator:e("core/math/parsenode/repeatedoperator"),Sum:e("core/math/parsenode/sum"),Product:e("core/math/parsenode/product"),Integral:e("core/math/parsenode/integral"),FunctionCall:e("core/math/parsenode/functioncall"),SeededFunctionCall:e("core/math/parsenode/seededfunctioncall"),FunctionExponent:e("core/math/parsenode/functionexponent"),FunctionFactorial:e("core/math/parsenode/functionfactorial"),Prime:e("core/math/parsenode/prime"),Piecewise:e("core/math/parsenode/piecewise"),Derivative:e("core/math/parsenode/derivative"),BuiltInFunction:e("core/math/parsenode/builtinfunction"),NativeFunction:e("core/math/parsenode/nativefunction"),TypedFunction:e("core/math/parsenode/typedfunction"),ReducerFunction:e("core/math/parsenode/reducerfunction"),ParametrizedReducerFunction:e("core/math/parsenode/parametrizedreducerfunction"),DoubleReducerFunction:e("core/math/parsenode/doublereducerfunction"),TopLevelFunction:e("core/math/parsenode/toplevelfunction"),Distribution:e("core/math/parsenode/distribution"),Histogram:e("core/math/parsenode/histogram"),Object3D:e("core/math/parsenode/object3d"),DotPlot:e("core/math/parsenode/dotplot"),BoxPlot:e("core/math/parsenode/boxplot"),TTest:e("core/math/parsenode/ttest"),IndependentTTest:e("core/math/parsenode/independent-ttest"),Stats:e("core/math/parsenode/stats"),Assignment:e("core/math/parsenode/assignment"),FunctionDefinition:e("core/math/parsenode/functiondefinition"),Equation:e("core/math/parsenode/equation"),Regression:e("core/math/parsenode/regression"),Image:e("core/math/parsenode/image"),Slider:e("core/math/parsenode/slider"),Table:e("core/math/parsenode/table"),TableColumn:e("core/math/parsenode/tablecolumn"),SolvedEquation:e("core/math/parsenode/solvedequation"),OptimizedRegression:e("core/math/parsenode/optimizedregression"),Seed:e("core/math/parsenode/seed"),ExtendSeed:e("core/math/parsenode/extendseed")};for(var n in t)r[n]=t[n];for(var i in r)r.hasOwnProperty(i)&&"Comparator"!==i&&"BuiltInFunction"!==i&&(r[i].prototype.type=i);for(var a in r.Comparator)r.Comparator.hasOwnProperty(a)&&(r.Comparator[a].prototype.type="Comparator['"+a+"']");for(var o in r.BuiltInFunction)r.BuiltInFunction.hasOwnProperty(o)&&(r.BuiltInFunction[o].prototype.type="BuiltInFunction['"+o+"']");return r}),define("core/math/parser/char-codes",["require","exports"],function(e,t){"use strict";function r(e){return 48<=e&&e<=57}function n(e){return 97<=e&&e<=122}function i(e){return 65<=e&&e<=90}function a(e){return n(e)||i(e)}function o(e){return 92===e}function s(e){return 46===e}function u(e){return 39===e}function c(e){if(9<=e&&e<=13)return!0;if(8192<=e&&e<=8202)return!0;switch(e){case 32:case 160:case 5760:case 8232:case 8233:case 8239:case 8287:case 12288:case 65279:return!0;default:return!1}}Object.defineProperty(t,"__esModule",{value:!0}),t.isDigit=r,t.isLowerCaseLetter=n,t.isUpperCaseLetter=i,t.isLetter=a,t.isBackslash=o,t.isDot=s,t.isSingleQuote=u,t.isWhitespace=c}),define("core/math/parser/latex-lexer",["require","exports","./char-codes","./input-span"],function(e,t,r,n){"use strict";function i(e,t){return n.joinSpans(e.token.span,t.prevSpan)}function a(e,t,r){return{type:e,span:t,val:r}}function o(e,t,r,n){return{input:e,prevSpan:t,pos:r,token:n}}function s(e){return u(e,0,n.emptySpanAt(e,0))}function u(e,t,n){for(;r.isWhitespace(e.charCodeAt(t));)t+=1;return o(e,n,t,d(e,t))}function c(e){return u(e.input,e.token.span.end,e.token.span)}function l(e){return e.token}function p(e,t){if(l(e).type!==t)throw"Parse Error: expected "+t+".";return c(e)}function f(e,t){return l(e).type===t}function h(e){return e.pos>=e.input.length}function d(e,t){var i=t;if(t>=e.length)return a("End",n.emptySpanAt(e,t),"");var o=e.charCodeAt(t);if(r.isDigit(o)){var s=n.Span(e,i,t+1);return a("Digit",s,e.charAt(i))}if(r.isLetter(o)){var s=n.Span(e,i,t+1);return a("Letter",s,e.charAt(i))}if(r.isBackslash(o)){if(t+=1,r.isLetter(e.charCodeAt(t))){for(;r.isLetter(e.charCodeAt(t));)t+=1;var s=n.Span(e,i,t),u=n.slice(s),c=m[u]||"Cmd";return a(c,s,u)}t+=1;var s=n.Span(e,i,t),u=n.slice(s);return a("EscapedSymbol",s,u)}if(r.isSingleQuote(o)){
for(t+=1;r.isSingleQuote(e.charCodeAt(t));)t+=1;if("^"===e.charAt(t)){t+=1;var s=n.Span(e,i,t),u=n.slice(s);return a("Primes^",s,u)}var s=n.Span(e,i,t),u=n.slice(s);return a("Primes",s,u)}var s=n.Span(e,i,t+1),u=e.charAt(i),c=y[u]||"Symbol";return a(c,s,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.spanStates=i,t.LatexToken=a,t.lex=s,t.advance=c,t.peek=l,t.eat=p,t.isAt=f,t.isDone=h;var m={"\\\\left":"Left","\\\\right":"Right","\\\\sqrt":"Sqrt","\\\\frac":"Frac","\\\\operatorname":"OperatorName"},y={"[":"[","]":"]","{":"{","}":"}","^":"^",_:"_"}}),define("core/math/parser/latex-node",["require","exports"],function(e,t){"use strict";function r(e,t){return{type:"Group",span:e,args:t}}function n(e,t,r){return{type:"Sqrt",span:e,optArg:t,arg:r}}function i(e,t,r){return{type:"Frac",span:e,num:t,den:r}}function a(e,t,r,n){return{type:"SupSub",span:e,sup:t,sub:r,nprimes:n}}function o(e,t,r,n){return{type:"LeftRight",span:e,left:t,right:r,arg:n}}function s(e,t){return{type:"OperatorName",span:e,arg:t}}function u(e,t){return{type:"Symbol",span:e,val:t}}Object.defineProperty(t,"__esModule",{value:!0}),t.Group=r,t.Sqrt=n,t.Frac=i,t.SupSub=a,t.LeftRight=o,t.OperatorName=s,t.Symbol=u}),define("core/math/parser/latex-parser",["require","exports","./latex-lexer","./input-span","./latex-node"],function(e,t,r,n,i){"use strict";function a(e){switch(e){case"Frac":return 2;case"^":case"_":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":return 1;default:return 0}}function o(e){var t=u(r.lex(e),!1),i=t.state,a=t.tree;if(!r.isDone(i))throw"Parse error: unexpected "+n.slice(r.peek(i).span)+".";return a}function s(e,t){return{state:e,tree:t}}function u(e,t){var n,a=e,o=[];e:for(;!r.isDone(e);){var u=r.peek(e);switch(u.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":case"[":case"{":case"^":case"_":case"Primes":case"Primes^":case"Left":case"Frac":case"Sqrt":case"OperatorName":case"]":if("]"===u.type&&t)break e;var l=void 0;if(n=c(e),e=n.state,l=n.tree,"Group"===l.type)for(var p=0,f=l.args;p<f.length;p++){var h=f[p];o.push(h)}else o.push(l);break;case"}":case"Right":case"End":break e;default:var d=u.type;throw"Unexpected token type "+d+"."}}var m=r.spanStates(a,e);return s(e,i.Group(m,o))}function c(e){var t,n=r.peek(e);switch(n.type){case"Cmd":case"EscapedSymbol":case"Letter":case"Digit":case"Symbol":return e=r.advance(e),s(e,n);case"[":case"]":return e=r.advance(e),s(e,i.Symbol(n.span,n.val));case"{":e=r.advance(e);var a=void 0;return t=u(e,!1),e=t.state,a=t.tree,e=r.eat(e,"}"),s(e,a);case"^":case"_":case"Primes":case"Primes^":return d(e);case"Left":return h(e);case"Frac":return f(e);case"Sqrt":return p(e);case"OperatorName":return l(e);case"}":case"Right":throw"Parse Error: unexpected "+n.val+".";case"End":throw"Parse Error: unexpected end.";default:throw"Unexpected token type "+n.type+"."}}function l(e){var t,n=e,a=r.peek(e);e=r.eat(e,"OperatorName");var o;t=m(e,a),e=t.state,o=t.tree;var u=r.spanStates(n,e);return s(e,i.OperatorName(u,o))}function p(e){var t,n,a=e,o=r.peek(e);e=r.eat(e,"Sqrt");var u;r.isAt(e,"[")&&(t=y(e),e=t.state,u=t.tree);var c;n=m(e,o),e=n.state,c=n.tree;var l=r.spanStates(a,e);return s(e,i.Sqrt(l,u,c))}function f(e){var t,n,a=e,o=r.peek(e);e=r.eat(e,"Frac");var u;t=m(e,o),e=t.state,u=t.tree;var c;n=m(e,o),e=n.state,c=n.tree;var l=r.spanStates(a,e);return s(e,i.Frac(l,u,c))}function h(e){var t,n=e;e=r.eat(e,"Left");var a=r.peek(e);e=r.advance(e);var o;t=u(e,!1),e=t.state,o=t.tree,e=r.eat(e,"Right");var c=r.peek(e);e=r.advance(e);var l=r.spanStates(n,e);return s(e,i.LeftRight(l,a,c,o))}function d(e){var t,n,a,o,u,c=e,l=0;e:for(;!r.isDone(e);){var p=r.peek(e);switch(p.type){case"^":if(e=r.advance(e),o)throw"Parse Error: double superscript.";t=m(e,p),e=t.state,o=t.tree;break;case"_":if(e=r.advance(e),u)throw"Parse Error: double subscript.";n=m(e,p),e=n.state,u=n.tree;break;case"Primes":if(e=r.advance(e),l>0)throw"Parse Error: double primes.";l=p.val.length;break;case"Primes^":if(e=r.advance(e),l>0)throw"Parse Error: double primes.";if(o)throw"Parse Error: double superscript";l=p.val.length-1,a=m(e,p),e=a.state,o=a.tree;break;default:break e}}var f=r.spanStates(c,e);return s(e,i.SupSub(f,o,u,l))}function m(e,t){var o,u,l=a(t.type);if(l<=0)throw new Error("Programming Error: greediness must be greater than 0.");var p=a(r.peek(e).type);if(p>0&&p<=l){var f=n.slice(t.span);throw"Parse Error: can't use "+n.slice(r.peek(e).span)+" as argument of "+f+". Use {}."}return o=c(e),e=o.state,u=o.tree,"Group"!==u.type&&(u=i.Group(u.span,[u])),s(e,u)}function y(e){var t;e=r.eat(e,"[");var n;return t=u(e,!0),e=t.state,n=t.tree,e=r.eat(e,"]"),s(e,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=o}),define("core/math/parser/command-aliases",["require","exports","./char-codes"],function(e,t,r){"use strict";function n(e){for(var t=0;r.isBackslash(e.charCodeAt(t));)t+=1;return t>0&&(e=e.slice(t)),i[e]||e}Object.defineProperty(t,"__esModule",{value:!0});var i={mcd:"gcd",gcf:"gcd",mcm:"lcm",signum:"sign",stdDevP:"stdevp",stddevp:"stdevp",stdDev:"stdev",stddev:"stdev",variance:"var",TTest:"ttest",TScore:"tscore",IndependentTTest:"ittest",iTTest:"ittest",inverseCdf:"quantile",inversecdf:"quantile"};t.translateCmd=n}),define("core/math/parser/surface-node",["require","exports","./command-aliases"],function(e,t,r){"use strict";function n(e,t){return{type:"Equals",span:e,args:t}}function i(e,t,r){return{type:"Inequality",span:e,symbol:t,args:r}}function a(e,t,r){return{type:"TrailingInequalityPiece",span:e,symbol:t,args:r}}function o(e,t,r){return{type:"InequalityChain",span:e,first:t,chain:r}}function s(e,t){return{type:"Tilde",span:e,args:t}}function u(e,t){return{type:"Pos",span:e,args:t}}function c(e,t){return{type:"Neg",span:e,args:t}}function l(e,t){return{type:"Add",span:e,args:t}}function p(e,t){return{type:"Sub",span:e,args:t}}function f(e,t){return{type:"Mul",span:e,args:t}}function h(e,t){return{type:"Div",span:e,args:t}}function d(e,t){return{type:"Bang",span:e,args:t}}function m(e,t){return{type:"Call",span:e,args:t}}function y(e,t){return{type:"ImplicitCall",span:e,args:t}}function g(e,t){return{type:"Index",span:e,args:t}}function v(e,t){return{type:"Paren",span:e,args:t}}function b(e,t){return{type:"List",span:e,args:t}}function x(e,t){return{type:"Pipes",span:e,args:t}}function _(e,t){return{type:"Subscript",span:e,args:t}}function S(e,t){return{type:"Superscript",span:e,args:t}}function M(e,t,r){return{type:"Prime",span:e,nprimes:t,args:r}}function E(e,t){return{type:"Seq",span:e,args:t}}function D(e,t){return{type:"Sqrt",span:e,args:t}}function w(e,t){return{type:"Nthroot",span:e,args:t}}function T(e,t){return{type:"Frac",span:e,args:t}}function P(e,t){return{type:"Derivative",span:e,args:t}}function I(e,t){return{type:"Integral",span:e,args:t}}function C(e,t){return{type:"EmptyIntegral",span:e,args:t}}function O(e,t){return{type:"Sum",span:e,args:t}}function A(e,t){return{type:"Product",span:e,args:t}}function L(e,t){return{type:"Piecewise",span:e,args:t}}function N(e){return{type:"EmptyPiecewise",span:e}}function q(e,t){return{type:"Colon",span:e,args:t}}function F(e,t){return{type:"Ellipsis",span:e,args:t}}function R(e,t){return{type:"Dot",span:e,args:t}}function V(e,t){return{type:"PercentOf",span:e,args:t}}function k(e,t){return{type:"Juxt",span:e,args:t}}function B(e,t){return{type:"Letter",span:e,val:t}}function j(e,t){return{type:"Decimal",span:e,val:t}}function z(e,t){return{type:"Cmd",span:e,val:r.translateCmd(t)}}function G(e,t){return{type:"Alphanumeric",span:e,val:t}}function U(e,t,r,n){return{type:"MixedNumber",span:e,whole:t,num:r,den:n}}function W(e){if("Subscript"===e.type){if("Alphanumeric"!==e.args[1].type)return!1;e=e.args[0]}switch(e.type){case"Cmd":case"Letter":return!0;default:return!1}}function Y(e){return"Superscript"===e.type&&W(e.args[0])}function X(e,t){if("Letter"!==e.type||"d"!==e.val)return!1;if("Juxt"!==t.type)return!1;var r=t.args,n=r[0],i=r[1];return"Letter"===n.type&&"d"===n.val&&W(i)}function H(e){return"Seq"===e.type?e.args:[e]}Object.defineProperty(t,"__esModule",{value:!0}),t.Equals=n,t.Inequality=i,t.TrailingInequalityPiece=a,t.InequalityChain=o,t.Tilde=s,t.Pos=u,t.Neg=c,t.Add=l,t.Sub=p,t.Mul=f,t.Div=h,t.Bang=d,t.Call=m,t.ImplicitCall=y,t.Index=g,t.Paren=v,t.List=b,t.Pipes=x,t.Subscript=_,t.Superscript=S,t.Prime=M,t.Seq=E,t.Sqrt=D,t.Nthroot=w,t.Frac=T,t.Derivative=P,t.Integral=I,t.EmptyIntegral=C,t.Sum=O,t.Product=A,t.Piecewise=L,t.EmptyPiecewise=N,t.Colon=q,t.Ellipsis=F,t.Dot=R,t.PercentOf=V,t.Juxt=k,t.Letter=B,t.Decimal=j,t.Cmd=z,t.Alphanumeric=G,t.MixedNumber=U,t.isIdentifier=W,t.isSuperscriptedIdentifier=Y,t.isDerivative=X,t.unwrapSeq=H}),define("core/math/parser/surface-node-error",["require","exports"],function(e,t){"use strict";function r(e,t){return{type:"Err",span:e,error:t}}function n(){return{type:"UnexpectedParseError"}}function i(){return{type:"EmptyInput"}}function a(){return{type:"EmptyGroup"}}function o(){return{type:"EmptySubscript"}}function s(){return{type:"EmptySuperscript"}}function u(){return{type:"EmptyRadical"}}function c(){return{type:"EmptySquareBracket"}}function l(){return{type:"EmptyPipe"}}function p(){return{type:"EmptyRadicalIndex"}}function f(){return{type:"UnexpectedEnd"}}function h(e){return{type:"BinaryOperatorMissingRight",val:e}}function d(e){return{type:"BinaryOperatorMissingLeft",val:e}}function m(e){return{type:"UnaryOperatorMissingRight",val:e}}function y(e){return{type:"UnaryOperatorMissingLeft",val:e}}function g(e,t){return{type:"MissingCloseDelimiter",open:e,close:t}}function v(e,t){return{type:"UnexpectedCloseDelimiter",open:e,close:t}}function b(){return{type:"UnexpectedDifferential"}}function x(e){return{type:"UnrecognizedSymbol",val:e}}function _(e){return{type:"InvalidOperatorName",val:e}}function S(e){return{type:"InvalidSubscript",val:e}}function M(e){return{type:"UnexpectedSubscript",base:e}}function E(e){return{type:"FunctionMissingArgument",val:e}}function D(){return{type:"PercentMissingOf"}}function w(){return{type:"PrimeWithoutParen"}}function T(){return{type:"SuperscriptWithPrime"}}function P(){return{type:"UnexpectedPrime"}}function I(){return{type:"SumMissingBound"}}function C(){return{type:"ProductMissingBound"}}function O(){return{type:"MissingBound"}}function A(){return{type:"IntegralMissingBound"}}function L(){return{type:"SumMissingBody"}}function N(){return{type:"ProductMissingBody"}}function q(){return{type:"IntegralMissingBody"}}function F(){return{type:"DerivativeMissingBody"}}function R(){return{type:"IntegralMissingDifferential"}}function V(){return{type:"DifferentialWithSuperscript"}}function k(){return{type:"FractionMissingNumerator"}}function B(){return{type:"FractionMissingDenominator"}}function j(){return{type:"FractionEmpty"}}function z(e){return{type:"AdjacentNumbers",args:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Err=r,t.UnexpectedParseError=n,t.EmptyInput=i,t.EmptyGroup=a,t.EmptySubscript=o,t.EmptySuperscript=s,t.EmptyRadical=u,t.EmptySquareBracket=c,t.EmptyPipe=l,t.EmptyRadicalIndex=p,t.UnexpectedEnd=f,t.BinaryOperatorMissingRight=h,t.BinaryOperatorMissingLeft=d,t.UnaryOperatorMissingRight=m,t.UnaryOperatorMissingLeft=y,t.MissingCloseDelimiter=g,t.UnexpectedCloseDelimiter=v,t.UnexpectedDifferential=b,t.UnrecognizedSymbol=x,t.InvalidOperatorName=_,t.InvalidSubscript=S,t.UnexpectedSubscript=M,t.FunctionMissingArgument=E,t.PercentMissingOf=D,t.PrimeWithoutParen=w,t.SuperscriptWithPrime=T,t.UnexpectedPrime=P,t.SumMissingBound=I,t.ProductMissingBound=C,t.MissingBound=O,t.IntegralMissingBound=A,t.SumMissingBody=L,t.ProductMissingBody=N,t.IntegralMissingBody=q,t.DerivativeMissingBody=F,t.IntegralMissingDifferential=R,t.DifferentialWithSuperscript=V,t.FractionMissingNumerator=k,t.FractionMissingDenominator=B,t.FractionEmpty=j,t.AdjacentNumbers=z}),define("core/math/parser/expression-token-tables",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={"+":!0,"-":!0,"*":!0,"/":!0,"!":!0,"(":!0,")":!0,"\\\\{":!0,"\\\\}":!0,"(|":!0,"|)":!0,"[":!0,"]":!0,",":!0,"...":!0,":":!0,"=":!0,">":!0,"<":!0,">=":!0,"<=":!0,"~":!0,"%":!0,".":!0,Letter:!0,Decimal:!0,Cmd:!0,Differential:!0,End:!0,Trig:!0,Ln:!0,Log:!0,Int:!0,Sum:!0,Prod:!0,Err:!0};t.commandTable={"\\\\lt":"<","\\\\gt":">","\\\\le":"<=","\\\\ge":">=","\\\\ldots":"...","\\\\sim":"~","\\\\cdot":"*","\\\\times":"*","\\\\div":"/","\\\\ln":"Ln","\\\\log":"Log","\\\\int":"Int","\\\\sum":"Sum","\\\\prod":"Prod","\\\\backslash":"Err"};for(var n=["sin","cos","tan","cot","sec","csc"],i=0,a=n;i<a.length;i++){var o=a[i];t.commandTable["\\\\"+o]="Trig",t.commandTable["\\\\"+o+"h"]="Trig",t.commandTable["\\\\arc"+o]="Trig",t.commandTable["\\\\arc"+o+"h"]="Trig"}t.symbolTable={"+":"+","-":"-","*":"*","/":"/","!":"!","(":"(",")":")","[":"[","]":"]",",":",","...":"...",":":":","=":"=",">=":">=","<=":"<=",">":">","<":"<","~":"~",".":"."},t.escapedSymbolTable={"\\\\{":"\\\\{","\\\\}":"\\\\}","\\\\%":"%"},t.leftTable={"|":"(|","\\\\{":"\\\\{","[":"[","(":"("},t.rightTable={"|":"|)","\\\\}":"\\\\}","]":"]",")":")"},t.allTokenTypes=Object.keys(r)}),define("core/math/parser/expression-lexer",["require","exports","./expression-token-tables","./input-span","./input-span","./surface-node"],function(e,t,r,n,i,a){"use strict";function o(e,t,r,n,i,a,o,s){return{opts:e,input:t,prevSpan:r,startIndex:n,endIndex:i,token:a,mode:o,parent:s}}function s(e,t){return n.joinSpans(e.token.span,t.prevSpan)}function u(e,t){return n.joinSpans(e,t.prevSpan)}function c(e){return n.emptySpanAt(e.token.span.input,e.token.span.start)}function l(e,t){return{type:"Differential",span:e,val:t}}function p(e,t,r){return{type:e,span:t,val:r}}function f(e,t){return h(t,e,0,n.emptySpanAt(e.span.input,e.span.start),void 0,void 0)}function h(e,t,n,i,a,s){var u=t.args;if(n>u.length&&s)return m(s,i);n=P(u,n);var c=M(t,n,a),l=c.token,f=c.endIndex;if("End"===l.type&&s){var h=s.input.args[s.startIndex];if("LeftRight"===h.type){var d=h.right;return o(e,t,i,n,f,p(r.rightTable[d.val]||"Err",d.span,d.val),a,s)}}else"Int"===l.type?a=g(a):"Differential"===l.type&&(a=v(a));return o(e,t,i,n,f,l,a,s)}function d(e){var t=e.input.args[e.startIndex],r=e.token.span;return t&&"LeftRight"===t.type?h(e.opts,t.arg,0,r,e.mode,e):m(e,r)}function m(e,t){var r=e.input,n=e.endIndex,i=e.mode,a=e.parent;return h(e.opts,r,n+1,t,i,a)}function y(e){return e.token}function g(e){return{type:"integral",parent:e}}function v(e){if(!e||"integral"!==e.type)throw new Error("Programming Error: expected lexer to be in integral mode.");return e.parent}function b(e,t){return y(e).type===t}function x(e){return e.startIndex>=e.input.args.length}function _(e,t){return t.token.span.start>e.token.span.start}function S(e,t){return{token:t,endIndex:e}}function M(e,t,i){if(t>=e.args.length)return S(t,p("End",n.emptySpanAt(e.span.input,e.span.end),""));var a=e.args[t];switch(a.type){case"Sqrt":case"Frac":case"SupSub":return S(t,a);case"Letter":if(!i||"integral"!==i.type)return S(t,a);if("d"!=a.val)return S(t,a);var o=M(e,t+1,i),s=o.endIndex,u=o.token;if("Letter"===u.type||"Cmd"===u.type){return S(s,l(n.joinSpans(a.span,u.span),u.val))}return S(t,a);case"LeftRight":var c=a.left;return S(t,p(r.leftTable[c.val]||"Err",n.joinSpans(a.span,c.span),c.val));case"OperatorName":for(var f=[],h=0,d=a.arg.args;h<d.length;h++){var m=d[h];if("Letter"!==m.type)return S(t,p("Err",a.span,n.slice(a.arg.span)));f.push(m.val)}var y="\\\\"+f.join("");return S(t,p(r.commandTable[y]||"Cmd",a.span,y));case"Cmd":return S(t,p(r.commandTable[a.val]||"Cmd",a.span,a.val));case"EscapedSymbol":return S(t,p(r.escapedSymbolTable[a.val]||"Err",a.span,a.val));case"Symbol":if(I(a))return E(e,t);return S(t,p(r.symbolTable[a.val]||"Err",a.span,a.val));case"Digit":return D(e,t);default:throw"Unexpected atom "+a.type+"."}}function E(e,t){var i=e.args[t];if("Symbol"!==i.type||"."!==i.val)throw new Error("Programming Error: expected '.'");if(t+2<e.args.length&&I(e.args[t+1])&&I(e.args[t+2])){var a=n.joinSpans(i.span,e.args[t+2].span);return S(t+2,p("...",a,n.slice(a)))}var o=P(e.args,t+1);return o<e.args.length&&"Digit"===e.args[o].type?D(e,t):S(t,p(r.symbolTable[i.val]||"Err",i.span,i.val))}function D(e,t){var r=w(e,t);if(r)return r;for(var i=e.args,a=e.args[t].span,o=[],s=!1,u=!1;t<i.length;t++){var c=P(i,t);if(c>=i.length)break;var l=i[c];if("Digit"===l.type)t=c,s=!0,o.push(l.val);else{if(u||!I(l))break;if(c+1<i.length&&I(e.args[c+1]))break;t=c,u=!0,o.push(".")}}if(!s)throw new Error("Programming Error: decimals must have at least one digit.");return S(t-1,p("Decimal",n.joinSpans(a,e.args[t-1].span),o.join("")))}function w(e,t){for(var r=e.args,i=r[t].span,o=[];t<r.length;t++){var s=P(r,t);if(s>=r.length)break;var u=r[s];if("Digit"!==u.type)break;t=s,o.push(u.val)}if(!((t=P(r,t))>=r.length)){var c=r[t];if("Frac"===c.type){for(var l=[],p=[],f=0,h=c.num.args;f<h.length;f++){var u=h[f];if(!T(u)){if("Digit"!==u.type)return;l.push(u.val)}}for(var d=0,m=c.den.args;d<m.length;d++){var u=m[d];if(!T(u)){if("Digit"!==u.type)return;p.push(u.val)}}var y=n.joinSpans(i,c.span);return S(t,a.MixedNumber(y,o.join(""),l.join(""),p.join("")))}}}function T(e){switch(e.type){case"Sqrt":case"Frac":case"SupSub":case"LeftRight":case"OperatorName":case"Symbol":case"Letter":case"Digit":return!1;case"Cmd":return"\\\\space"===e.val;case"EscapedSymbol":return"\\\\ "===e.val||"\\\\:"===e.val||"\\\\,"===e.val||"\\\\;"===e.val;default:throw"Unexpected atom "+e.type+"."}}function P(e,t){for(;t<e.length&&T(e[t]);)t+=1;return t}function I(e){return"Symbol"===e.type&&"."===e.val}Object.defineProperty(t,"__esModule",{value:!0}),t.Span=i.Span,t.spanStates=s,t.joinState=u,t.emptySpanAtState=c,t.lex=f,t.lexAt=h,t.advance=d,t.peek=y,t.beginIntegral=g,t.endIntegral=v,t.isAt=b,t.isDone=x,t.didAdvance=_}),define("core/math/parser/precspec",["require","exports","./expression-token-tables"],function(e,t,r){"use strict";function n(e){return{type:"initial",tokenType:e}}function i(e){return{type:"l",tokenType:e}}function a(e){return{type:"r",tokenType:e}}function o(e){return{type:"la",tokenType:e}}function s(e){return{type:"ra",tokenType:e}}function u(e,t){for(var n=0,i=r.allTokenTypes;n<i.length;n++){var a=i[n];if(void 0===t[a])throw new Error("Programming Error: token "+a+" must be a assigned a "+e+" precedence")}}function c(e,t,r,n){if(void 0!==t[r])throw new Error("Programming Error: duplicate "+e+" entry for token "+r+".");t[r]=n}function l(e){function t(e){return o[e]}function r(e){return a[e]}function n(e){var r=i[e];return void 0===r?t(e):r}for(var i={},a={},o={},s=0;s<e.length;s++)for(var l=e[s],p=0,f=l;p<f.length;p++){var h=f[p],d=h.type,m=h.tokenType;switch(d){case"initial":c("initial",i,m,s);break;case"l":c("left",a,m,s);break;case"r":c("right",o,m,s);break;case"la":c("left",a,m,s),c("right",o,m,s);break;case"ra":c("left",a,m,s),c("right",o,m,s-1)}}return u("left",a),u("right",o),{rightPrec:t,leftPrec:r,initialPrec:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.initial=n,t.l=i,t.r=a,t.la=o,t.ra=s,t.precSpec=l}),define("core/math/parser/expression-parser",["require","exports","tslib","./surface-node","./surface-node-error","./input-span","./expression-lexer","./precspec"],function(e,t,r,n,i,a,o,s){"use strict";function u(e,t){var n=t?r.__assign(r.__assign({},A),t):A,a=c(e,n);return"Err"===a.type&&"EmptyGroup"===a.error.type?i.Err(a.span,i.EmptyInput()):a}function c(e,t){var r=o.lex(e,t);if(o.isDone(r))return i.Err(o.spanStates(r,r),i.EmptyGroup());var n=p(r,0),a=n.state,s=n.tree;return"Err"===s.type||o.isDone(a)?s:D(a).tree}function l(e,t){return{state:e,tree:t}}function p(e,t){var r,n,i,a=e;if(r=h(e),e=r.state,i=r.tree,"Err"===i.type)return l(e,i);if(!o.didAdvance(a,e))throw new Error("Programming Error: parseInitial did not advance state.");for(;!o.isDone(e);){var s=void 0;if(s=o.isAt(e,"(")&&!m(i)?C("("):I(o.peek(e).type),t>=s)break;var u=e;if(n=d(e,i),e=n.state,i=n.tree,"Err"===i.type)return l(e,i);if(!o.didAdvance(u,e))throw new Error("Programming Error: parseSuccessor did not advance state.")}return l(e,i)}function f(e){return"UnexpectedDifferential"===e.type||"UnexpectedCloseDelimiter"===e.type||"UnexpectedEnd"===e.type||"BinaryOperatorMissingLeft"===e.type}function h(e){var t,r,a,s,u,h,d,m,y,g,b,w,T,P,C,A,L,N,q,F=e,R=o.peek(e),V=O(R.type);switch(R.type){case"+":if(e=o.advance(e),t=p(e,V),e=t.state,q=t.tree,"Err"===q.type){if(!f(q.error))return l(e,q);var k=o.spanStates(F,e),B=i.Err(k,i.UnaryOperatorMissingRight(R.val));return l(e,B)}return l(e,n.Pos(o.spanStates(F,e),[q]));case"-":if(e=o.advance(e),r=p(e,V),e=r.state,q=r.tree,"Err"===q.type){if(!f(q.error))return l(e,q);var k=o.spanStates(F,e),B=i.Err(k,i.UnaryOperatorMissingRight(R.val));return l(e,B)}return l(e,n.Neg(o.spanStates(F,e),[q]));case"(":return S(e);case"\\\\{":return e=o.advance(e),o.isAt(e,"\\\\}")?(e=o.advance(e),l(e,n.EmptyPiecewise(o.spanStates(F,e)))):(a=p(e,V),e=a.state,q=a.tree,s=E(F,e,q,"\\\\{","\\\\}"),e=s.state,q=s.tree,"Err"===q.type?l(e,q):l(e,n.Piecewise(o.spanStates(F,e),[q])));case"[":if(e=o.advance(e),o.isAt(e,"]")){e=o.advance(e);var k=o.spanStates(F,e);return l(e,i.Err(k,i.EmptySquareBracket()))}return u=p(e,V),e=u.state,q=u.tree,h=E(F,e,q,"[","]"),e=h.state,q=h.tree,"Err"===q.type?l(e,q):l(e,n.List(o.spanStates(F,e),[q]));case"(|":if(e=o.advance(e),o.isAt(e,"|)")){e=o.advance(e);var k=o.spanStates(F,e);return l(e,i.Err(k,i.EmptyPipe()))}return d=p(e,V),e=d.state,q=d.tree,m=E(F,e,q,"(|","|)"),e=m.state,q=m.tree,"Err"===q.type?l(e,q):l(e,n.Pipes(o.spanStates(F,e),[q]));case"Frac":e=o.advance(e);var j=c(R.num,e.opts),z=c(R.den,e.opts);if("Err"===j.type&&"EmptyGroup"===j.error.type&&"Err"===z.type&&"EmptyGroup"===z.error.type){var k=o.spanStates(F,e),B=i.Err(k,i.FractionEmpty());return l(e,B)}if("Err"===j.type&&"EmptyGroup"===j.error.type){var k=o.spanStates(F,e),B=i.Err(k,i.FractionMissingNumerator());return l(e,B)}if("Err"===z.type&&"EmptyGroup"===z.error.type){var k=o.spanStates(F,e),B=i.Err(k,i.FractionMissingDenominator());return l(e,B)}if("Err"===j.type)return l(e,j);if("Err"===z.type)return l(e,z);if(n.isDerivative(j,z)&&"Juxt"===z.type){var G=z.args[1],U=void 0;if(y=p(e,I("*")-1),e=y.state,U=y.tree,"Err"===U.type){if(f(U.error)){var k=o.spanStates(F,e);return l(e,i.Err(k,i.DerivativeMissingBody()))}return l(e,U)}return l(e,n.Derivative(o.spanStates(F,e),[G,U]))}return l(e,n.Frac(o.spanStates(F,e),[j,z]));case"Sqrt":if(e=o.advance(e),R.optArg){var W=c(R.optArg,e.opts);if("Err"===W.type)return"EmptyGroup"===W.error.type?l(e,i.Err(W.span,i.EmptyRadicalIndex())):l(e,W);var Y=c(R.arg,e.opts);return"Err"===Y.type?"EmptyGroup"===Y.error.type?l(e,i.Err(Y.span,i.EmptyRadical())):l(e,Y):l(e,n.Nthroot(o.spanStates(F,e),[W,Y]))}var Y=c(R.arg,e.opts);return"Err"===Y.type?"EmptyGroup"===Y.error.type?l(e,i.Err(Y.span,i.EmptyRadical())):l(e,Y):l(e,n.Sqrt(o.spanStates(F,e),[Y]));case"Trig":case"Ln":e=o.advance(e);var X=n.Cmd(o.spanStates(F,e),R.val),H=0,Q=o.peek(e);if("SupSub"===Q.type){if(e=o.advance(e),Q.sub){var k=o.spanStates(F,e),B=i.Err(k,i.UnexpectedSubscript(X.val));return l(e,B)}var J=x(Q,e.opts);if(J){if("Err"===J.type)return l(e,J);X=n.Superscript(o.spanStates(F,e),[X,J])}H=Q.nprimes}var Z=o.isAt(e,"(");if(Z){if(g=S(e),e=g.state,q=g.tree,"Err"===q.type)return l(e,q);q=n.Call(o.spanStates(F,e),[X,q.args[0]])}else{if(b=p(e,V-1),e=b.state,q=b.tree,"Err"===q.type)return f(q.error)?l(e,i.Err(o.spanStates(F,e),i.FunctionMissingArgument(R.val))):l(e,q);q=n.ImplicitCall(o.spanStates(F,e),[X,q])}if(H>0){var k=o.spanStates(F,e);if(!Z){var B=i.Err(k,i.PrimeWithoutParen());return l(e,B)}q=n.Prime(k,H,[q])}return l(e,q);case"Log":e=o.advance(e);var X=n.Cmd(o.spanStates(F,e),R.val),H=0,K=void 0,J=void 0,Q=o.peek(e);if("SupSub"===Q.type&&(e=o.advance(e),K=v(Q,e.opts),J=x(Q,e.opts),H=Q.nprimes),K&&"Err"===K.type)return l(e,K);if(J&&"Err"===J.type)return l(e,J);var Z=o.isAt(e,"(");if(Z){if(w=S(e),e=w.state,q=w.tree,"Err"===q.type)return l(e,q);q=q.args[0]}else if(T=p(e,V-1),e=T.state,q=T.tree,"Err"===q.type)return f(q.error)?l(e,i.Err(o.spanStates(F,e),i.FunctionMissingArgument(R.val))):l(e,q);var $=K?n.Seq(o.spanStates(F,e),n.unwrapSeq(q).concat(K)):q,ee=K?n.Cmd(o.spanStates(F,e),"\\\\logbase"):X;if(J&&(ee=n.Superscript(o.spanStates(F,e),[ee,J])),q=Z?n.Call(o.spanStates(F,e),[ee,$]):n.ImplicitCall(o.spanStates(F,e),[ee,$]),H>0){var k=o.spanStates(F,e);if(!Z){var B=i.Err(k,i.PrimeWithoutParen());return l(e,B)}q=n.Prime(k,H,[q])}return l(e,q);case"Int":e=o.advance(e);var Q=o.peek(e);e=o.advance(e);var te=_(Q,F,e);if("Err"===te.type)return"MissingBound"===te.error.type?l(e,i.Err(te.span,i.IntegralMissingBound())):l(e,te);var J=te.sup,K=te.sub,G=void 0;if(o.isAt(e,"Differential"))return P=M(e),e=P.state,G=P.tree,"Err"===G.type?l(e,G):l(e,n.EmptyIntegral(o.spanStates(F,e),[G,K,J]));if(C=p(e,V),e=C.state,q=C.tree,"Err"===q.type)return f(q.error)?l(e,i.Err(q.span,i.IntegralMissingBody())):l(e,q);var re=q;return o.isAt(e,"Differential")?(A=M(e),e=A.state,G=A.tree,"Err"===G.type?l(e,G):l(e,n.Integral(o.spanStates(F,e),[G,K,J,re]))):l(e,i.Err(o.spanStates(F,e),i.IntegralMissingDifferential()));case"Sum":e=o.advance(e);var Q=o.peek(e);e=o.advance(e);var te=_(Q,F,e);if("Err"===te.type)return"MissingBound"===te.error.type?l(e,i.Err(te.span,i.SumMissingBound())):l(e,te);var J=te.sup,K=te.sub;return L=p(e,V),e=L.state,q=L.tree,"Err"===q.type?f(q.error)?l(e,i.Err(q.span,i.SumMissingBody())):l(e,q):l(e,n.Sum(o.spanStates(F,e),[q,K,J]));case"Prod":e=o.advance(e);var Q=o.peek(e);e=o.advance(e);var te=_(Q,F,e);if("Err"===te.type)return"MissingBound"===te.error.type?l(e,i.Err(te.span,i.ProductMissingBound())):l(e,te);var J=te.sup,K=te.sub;return N=p(e,V),e=N.state,q=N.tree,"Err"===q.type?f(q.error)?l(e,i.Err(q.span,i.ProductMissingBody())):l(e,q):l(e,n.Product(o.spanStates(F,e),[q,K,J]));case"Cmd":return e=o.advance(e),q=n.Cmd(o.spanStates(F,e),R.val),l(e,q);case"Letter":return e=o.advance(e),q=n.Letter(o.spanStates(F,e),R.val),l(e,q);case"Decimal":e=o.advance(e);var ne=n.Decimal(o.spanStates(F,e),R.val),Q=e.token;if("Decimal"===Q.type||"MixedNumber"===Q.type){var ie=e;e=o.advance(e);var k=o.spanStates(F,e),ae="MixedNumber"===Q.type?Q:n.Decimal(o.spanStates(ie,e),Q.val);return l(e,i.Err(k,i.AdjacentNumbers([ne,ae])))}return l(e,ne);case"MixedNumber":return e=o.advance(e),l(e,R);case"*":case"/":case",":case"=":case">":case"<":case">=":case"<=":case"~":case":":case"...":case"%":case".":e=o.advance(e);var k=o.spanStates(F,e),B=i.Err(k,i.BinaryOperatorMissingLeft(R.val));return l(e,B);case"!":e=o.advance(e);var k=o.spanStates(F,e),B=i.Err(k,i.UnaryOperatorMissingLeft(R.val));return l(e,B);case"SupSub":e=o.advance(e);var oe="supsub";R.sub?oe="subscript":R.sup?oe="superscript":R.nprimes>0&&(oe="prime");var k=o.spanStates(F,e),B=i.Err(k,i.UnaryOperatorMissingLeft(oe));return l(e,B);case")":case"\\\\}":case"]":case"|)":case"Differential":return D(e);case"Err":e=o.advance(e);var k=o.spanStates(F,e),B=i.Err(k,i.UnrecognizedSymbol(R.val));return l(e,B);case"End":var k=o.spanStates(F,e),B=i.Err(k,i.UnexpectedEnd());return l(e,B);default:throw"Unexpected token type "+R.type+"."}}function d(e,t){var r,a,s,u,c,h,d,m,v,_,M,T,P,I,O,A=o.peek(e),L=C(A.type);switch(A.type){case"+":case"-":case"*":case"/":case"=":case"~":case":":case".":if(e=o.advance(e),r=p(e,L),e=r.state,O=r.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}return l(e,y(A.type,o.joinState(t.span,e),[t,O]));case"%":e=o.advance(e);var F=o.peek(e);if("Cmd"!==F.type||"of"!==F.val&&"\\\\of"!==F.val){var q=i.Err(A.span,i.PercentMissingOf());return l(e,q)}if(e=o.advance(e),a=p(e,L),e=a.state,O=a.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}return l(e,n.PercentOf(o.joinState(t.span,e),[t,O]));case">=":case"<=":case">":case"<":var R=A.type;if(e=o.advance(e),s=g(e,R),e=s.state,R=s.symbol,u=p(e,L),e=u.state,O=u.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}for(var V=n.Inequality(o.joinState(t.span,e),R,[t,O]),k=[],B=o.peek(e).type;">="===B||"<="===B||">"===B||"<"===B;){var j=e;if(R=B,e=o.advance(e),c=g(e,R),e=c.state,R=c.symbol,h=p(e,L),e=h.state,O=h.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}k.push(n.TrailingInequalityPiece(o.spanStates(j,e),R,[O])),B=o.peek(e).type}return k.length?l(e,n.InequalityChain(o.joinState(t.span,e),V,k)):l(e,V);case"!":return e=o.advance(e),l(e,n.Bang(o.joinState(t.span,e),[t]));case"[":var j=e;if(e=o.advance(e),o.isAt(e,"]")){e=o.advance(e);var N=o.spanStates(j,e);return l(e,i.Err(N,i.EmptySquareBracket()))}return d=p(e,L),e=d.state,O=d.tree,m=E(j,e,O,"[","]"),e=m.state,O=m.tree,"Err"===O.type?l(e,O):l(e,n.Index(o.joinState(t.span,e),[t,O]));case"Sqrt":case"Frac":case"Letter":case"Cmd":case"Trig":case"Ln":case"Log":case"Sum":case"Int":case"Prod":case"Decimal":case"MixedNumber":case"\\\\{":case"(|":return v=p(e,L),e=v.state,O=v.tree,"Err"===O.type?l(e,O):l(e,n.Juxt(o.joinState(t.span,e),[t,O]));case"(":if(n.isIdentifier(t)){if(_=S(e),e=_.state,O=_.tree,"Err"===O.type)return l(e,O);var N=o.joinState(t.span,e);return l(e,n.Call(N,[t,O.args[0]]))}if("Prime"===t.type&&n.isIdentifier(t.args[0])){if(M=S(e),e=M.state,O=M.tree,"Err"===O.type)return l(e,O);var N=o.joinState(t.span,e);return l(e,n.Prime(N,t.nprimes,[n.Call(N,[t.args[0],O.args[0]])]))}return T=p(e,L),e=T.state,O=T.tree,"Err"===O.type?l(e,O):l(e,n.Juxt(o.joinState(t.span,e),[t,O]));case"SupSub":e=o.advance(e);var z=b(A),G=x(A,e.opts);if(z&&"Err"===z.type)return l(e,z);if(G&&"Err"===G.type)return l(e,G);if(z&&(t=n.Subscript(o.joinState(t.span,e),[t,z])),G&&(t=n.Superscript(o.joinState(t.span,e),[t,G])),A.nprimes>0){var N=o.joinState(t.span,e);if(!n.isIdentifier(t)){var q=i.Err(N,i.UnexpectedPrime());return l(e,q)}t=n.Prime(N,A.nprimes,[t])}return l(e,t);case",":for(var U=[t];o.isAt(e,",")&&(e=o.advance(e),!o.isAt(e,"..."))&&(!e.opts.trailingComma||!w(e));){if(P=p(e,L),e=P.state,O=P.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}U.push(O)}return l(e,n.Seq(o.joinState(t.span,e),U));case"...":if(e=o.advance(e),o.isAt(e,",")&&(e=o.advance(e)),I=p(e,L),e=I.state,O=I.tree,"Err"===O.type){if(f(O.error)){var N=o.joinState(t.span,e),q=i.Err(N,i.BinaryOperatorMissingRight(A.val));return l(e,q)}return l(e,O)}return l(e,n.Ellipsis(o.joinState(t.span,e),[t,O]));case"]":case")":case"\\\\}":case"|)":case"Differential":return D(e);case"Err":return p(e,L);case"End":var N=o.spanStates(e,e),q=i.Err(N,i.UnexpectedEnd());return l(e,q);default:throw"Unexpected token type "+A.type+"."}}function m(e){return!!n.isIdentifier(e)||!("Prime"!==e.type||!n.isIdentifier(e.args[0]))}function y(e,t,r){switch(e){case"+":return n.Add(t,r);case"-":return n.Sub(t,r);case"*":return n.Mul(t,r);case"/":return n.Div(t,r);case"=":return n.Equals(t,r);case"~":return n.Tilde(t,r);case":":return n.Colon(t,r);case".":return n.Dot(t,r);default:throw"Unexpected token type "+e+"."}}function g(e,t){if(!o.isAt(e,"="))return{state:e,symbol:t};switch(t){case">":e=o.advance(e),t=">=";break;case"<":e=o.advance(e),t="<="}return{state:e,symbol:t}}function v(e,t){if(e.sub){var r=e.sub,n=c(r,t);return"Err"===n.type&&"EmptyGroup"===n.error.type?i.Err(n.span,i.EmptySubscript()):n}}function b(e){if(e.sub){var t=e.sub;if(0===t.args.length)return i.Err(t.span,i.EmptySubscript());for(var r=[],o=0,s=t.args;o<s.length;o++){var u=s[o];if("Digit"!==u.type&&"Letter"!==u.type){var c=u.span;return i.Err(c,i.InvalidSubscript(a.slice(c)))}r.push(u.val)}return n.Alphanumeric(t.span,r.join(""))}}function x(e,t){if(e.sup){var r=c(e.sup,t);return"Err"===r.type?"EmptyGroup"===r.error.type?i.Err(r.span,i.EmptySuperscript()):r:e.nprimes>0?i.Err(e.span,i.SuperscriptWithPrime()):r}}function _(e,t,r){if("SupSub"!==e.type){var n=o.spanStates(t,r)
;return i.Err(n,i.MissingBound())}if(e.nprimes>0){var n=o.spanStates(t,r);return i.Err(n,i.UnexpectedPrime())}var a=v(e,r.opts),s=x(e,r.opts);if(!a||"Err"===a.type&&"EmptySubscript"===a.error.type||!s||"Err"===s.type&&"EmptySuperscript"===s.error.type){var n=o.spanStates(t,r);return i.Err(n,i.MissingBound())}return"Err"===a.type?a:"Err"===s.type?s:{type:"Bounds",sup:s,sub:a}}function S(e){var t,r,i=e,a=o.peek(e),s=O(a.type);if(!o.isAt(e,"("))throw new Error("Programming Error: expected '(' at start of parseParen.");if(e=o.advance(e),o.isAt(e,")")){var u=n.Seq(o.emptySpanAtState(e),[]);e=o.advance(e);var c=o.spanStates(i,e);return l(e,n.Paren(c,[u]))}var f;return t=p(e,s),e=t.state,f=t.tree,r=E(i,e,f,"(",")"),e=r.state,f=r.tree,"Err"===f.type?l(e,f):l(e,n.Paren(o.spanStates(i,e),[f]))}function M(e){var t=e,r=o.peek(e);if("Differential"!==r.type)throw new Error("Programming Error: expected differential");e=o.advance(e);var a=n.Cmd(r.span,r.val),s=o.peek(e);if("SupSub"===s.type){e=o.advance(e);var u=o.spanStates(t,e),c=b(s);if(c){if("Err"===c.type)return l(e,c);a=n.Subscript(u,[a,c])}if(s.sup)return l(e,i.Err(u,i.DifferentialWithSuperscript()));if(s.nprimes>0)return l(e,i.Err(u,i.UnexpectedPrime()))}return l(e,a)}function E(e,t,r,n,a){if("Err"===r.type&&"UnexpectedEnd"!==r.error.type)return l(t,r);if("Err"===r.type||!o.isAt(t,a)){var s=o.spanStates(e,t);return l(t,i.Err(s,i.MissingCloseDelimiter(n,a)))}return t=o.advance(t),l(t,r)}function D(e){var t=e;switch(o.peek(e).type){case")":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("(",")")));case"]":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("[","]")));case"\\\\}":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("\\\\{","\\\\}")));case"|)":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedCloseDelimiter("|","|")));case"Differential":e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedDifferential()));default:e=o.advance(e);var r=o.spanStates(t,e);return l(e,i.Err(r,i.UnexpectedParseError()))}}function w(e){return o.isAt(e,")")||o.isAt(e,"]")||o.isAt(e,"\\\\}")}Object.defineProperty(t,"__esModule",{value:!0});var T=[[s.initial("("),s.la(")"),s.initial("\\\\{"),s.la("\\\\}"),s.r("["),s.la("]"),s.initial("(|"),s.la("|)"),s.la("Differential"),s.la("End")],[s.ra("...")],[s.la(",")],[s.ra(":")],[s.la("="),s.la(">"),s.la("<"),s.la(">="),s.la("<="),s.la("~")],[s.la("+"),s.la("-")],[s.la("*"),s.la("/"),s.la("Decimal"),s.la("MixedNumber"),s.la("Letter"),s.la("Cmd"),s.la("%"),s.r("("),s.la("\\\\{"),s.la("(|"),s.la("Frac"),s.la("Sqrt"),s.la("Trig"),s.la("Ln"),s.la("Log"),s.ra("Int"),s.ra("Sum"),s.ra("Prod")],[s.initial("+"),s.initial("-")],[s.la("!")],[s.la("SupSub")],[s.l("["),s.la(".")],[s.l("(")],[s.la("Err")]],P=s.precSpec(T),I=P.leftPrec,C=P.rightPrec,O=P.initialPrec,A={trailingComma:!1};t.parse=u}),define("core/math/inverses",[],function(){"use strict";var e={};return["sin","cos","tan","cot","sec","csc","sinh","cosh","tanh","coth","sech","csch"].forEach(function(t){e[t]="arc"+t,e["arc"+t]=t}),e}),define("core/math/parser/lower",["require","exports","core/math/inverses","core/math/errormsg","tslib","./input-span","./surface-node","../maybe-rational"],function(e,t,r,n,i,a,o,s){"use strict";function u(e,t){return l(e,t)}function c(e,t){for(var r=[],n=0;n<t.length;n++)r.push(h(e,t[n]));return r}function l(e,t){return e.setInput(p(e,t),t.span)}function p(e,t){var r=e.nodes;switch(t.type){case"Equals":var i=t.args,a=i[0],s=i[1];if("Call"===a.type){var u=a.args,l=u[0],p=u[1],m=o.unwrapSeq(p);if(o.isIdentifier(l)&&m.every(o.isIdentifier))return r.FunctionDefinition(h(e,l),c(e,m),h(e,s))}else if(o.isIdentifier(a))return r.Assignment(h(e,a),h(e,s));return r.Equation(h(e,a),h(e,s));case"Tilde":var y=c(e,t.args),a=y[0],s=y[1];return r.Regression(a,s);case"Inequality":return S(e,t);case"InequalityChain":if(t.chain.length>1)throw n.inequalityChainTooLong();var g=t.first,v=g.symbol,b=g.args,x=b[0],_=b[1],M=t.chain[0],E=M.symbol,D=M.args[0];return o.isIdentifier(_)?r.DoubleInequality([h(e,x),v,h(e,_),E,h(e,D)]):S(e,t);case"Seq":if(!t.args.every(f))throw n.malformedPoint();return r.List(c(e,t.args));case"Call":var w=t.args,T=w[0],P=w[1];if("Cmd"===T.type)switch(T.val){case"polygon":return r.Polygon(c(e,o.unwrapSeq(P)));case"histogram":return r.Histogram(c(e,o.unwrapSeq(P)));case"cube":case"sphere":case"cone":case"dodecahedron":case"octahedron":case"tetrahedron":return r.Object3D(c(e,o.unwrapSeq(P)),T.val);case"dotplot":return r.DotPlot(c(e,o.unwrapSeq(P)));case"boxplot":return r.BoxPlot(c(e,o.unwrapSeq(P)));case"ttest":return r.TTest(c(e,o.unwrapSeq(P)));case"ittest":return r.IndependentTTest(c(e,o.unwrapSeq(P)));case"stats":return r.Stats(c(e,o.unwrapSeq(P)));default:return d(e,t)}return d(e,t);default:return d(e,t)}}function f(e){if("Paren"!==e.type)return!1;var t=e.args[0];return"Seq"===t.type&&2===t.args.length}function h(e,t){return e.setInput(d(e,t),t.span)}function d(e,t){var r=e.nodes;switch(t.type){case"Pos":return d(e,t.args[0]);case"Neg":for(var i=-1,u=t.args[0];;)if("Pos"===u.type||"Paren"===u.type)u=u.args[0];else{if("Neg"!==u.type)break;u=u.args[0],i*=-1}switch(u.type){case"Decimal":var l=E(u);return r.Constant(-1===i?s.neg(l):l);case"MixedNumber":var l=D(u);return r.MixedNumber(-1===i?s.neg(l):l);default:return-1===i?r.Negative([h(e,u)]):d(e,u)}case"Add":return r.Add(c(e,t.args));case"Sub":return r.Subtract(c(e,t.args));case"Mul":return r.Multiply(c(e,t.args));case"Div":return r.Divide(c(e,t.args));case"Bang":var p=t.args[0];return"Call"===p.type?r.FunctionFactorial(c(e,p.args)):r.FunctionCall("\\\\factorial",c(e,t.args));case"PercentOf":return r.PercentOf(c(e,t.args));case"Call":return b(e,t);case"ImplicitCall":return M(t),b(e,t);case"Dot":var f=t.args[1],m=c(e,t.args),y=m[0],g=m[1];if("Cmd"===f.type&&"random"===f.val){var v=a.emptySpanAt(f.span.input,f.span.end),_=e.setInput(I(e),v);g=e.setInput(r.SeededFunctionCall(g,[_]),f.span)}return r.DotAccess([y,g]);case"Prime":var S=t.args[0];if("Call"===S.type){var P=S.args,O=P[0],A=P[1],L=o.unwrapSeq(A).length;if("Cmd"===O.type&&"logbase"===O.val){if(2!==L)throw n.primedFunctionArity()}else if(1!==L)throw n.primedFunctionArity();return r.Prime(t.nprimes,c(e,t.args))}throw"ImplicitCall"===S.type?n.primeWithoutParen():n.unexpectedPrime();case"Index":return r.ListAccess(c(e,t.args));case"Paren":var N=t.args[0];return"Seq"===N.type?r.OrderedPair(c(e,N.args)):d(e,N);case"List":var q=t.args[0];if("Ellipsis"===q.type){var F=q.args,R=F[0],V=F[1];return r.Range([r.List(c(e,o.unwrapSeq(R))),r.List(c(e,o.unwrapSeq(V)))])}return r.List(c(e,o.unwrapSeq(q)));case"Pipes":return r.FunctionCall("\\\\abs",c(e,t.args));case"Subscript":var k=t.args,B=k[0],j=k[1];if(0===j.val.length)throw n.emptySubscript();var z=void 0;switch(B.type){case"Letter":case"Cmd":z=B.val;break;default:throw n.unexpectedSubscript()}return r.Identifier(z+"_"+j.val);case"Superscript":var G=t.args,B=G[0],U=G[1];return"Call"!==B.type||"Seq"===B.args[1].type||w(B)?"Dot"===B.type?r.DotAccessExponent(c(e,[B.args[0],B.args[1],U])):r.Exponent(c(e,t.args)):r.FunctionExponent(c(e,[B.args[0],B.args[1],U]));case"Sqrt":return r.FunctionCall("sqrt",c(e,t.args));case"Nthroot":return r.FunctionCall("nthroot",c(e,[t.args[1],t.args[0]]));case"Frac":return r.Divide(c(e,t.args));case"Derivative":var W=c(e,t.args);if(!o.isIdentifier(t.args[0]))throw n.parseError();return r.Derivative(W[0],[W[1]]);case"Integral":var Y=t.args,X=Y[0],H=Y[1],Q=Y[2],J=Y[3],W=c(e,[X,H,Q,J]);return r.Integral(W);case"EmptyIntegral":var Z=c(e,t.args),X=Z[0],K=Z[1],Q=Z[2],J=r.Constant(s.maybeRational(1,1));return r.Integral([X,K,Q,J]);case"Sum":var $=t.args,ee=$[0],te=$[1],Q=$[2];if("Equals"!=te.type)throw n.incorrectSumLowerBound();if(!o.isIdentifier(te.args[0]))throw n.incorrectSumLowerBound();var W=c(e,[te.args[0],te.args[1],Q]),re=h(C(e,W[0]),ee);return r.Sum(W.concat(re));case"Product":var ne=t.args,ee=ne[0],ie=ne[1],Q=ne[2];if("Equals"!=ie.type)throw n.incorrectProductLowerBound();if(!o.isIdentifier(ie.args[0]))throw n.incorrectProductLowerBound();var W=c(e,[ie.args[0],ie.args[1],Q]),re=h(C(e,W[0]),ee);return r.Product(W.concat(re));case"Juxt":return r.Multiply(c(e,t.args));case"Letter":return r.Identifier(t.val);case"Cmd":var ae=t.val;if("ans"===ae){if(void 0===e.currentIndex)throw n.badAnsContext();return r.Ans("ans_{"+(e.currentIndex-1)+"}")}if("approx"===ae)throw n.unrecognizedSymbol(ae);return r.Identifier(ae);case"Decimal":return r.Constant(E(t));case"MixedNumber":return r.MixedNumber(D(t));case"Piecewise":return x(e,t);case"EmptyPiecewise":if(!r.Piecewise.empty)throw n.featureUnavailable();return r.Piecewise.empty();case"Equals":throw n.unexpectedSymbol("=");case"Inequality":case"InequalityChain":throw n.unexpectedInequality();case"Tilde":throw n.unexpectedSymbol("~");case"Seq":throw n.unexpectedSymbol(",");case"Colon":throw n.unexpectedSymbol(":");case"Ellipsis":throw n.unexpectedSymbol("...");case"Err":throw T(t.error);default:throw"Unexpected surface node "+t.type+"."}}function m(e){return r.hasOwnProperty(e)}function y(e){return"ln"===e||"log"===e||"logbase"===e}function g(e){return"Decimal"===e.type&&"2"===e.val}function v(e){return"Neg"===e.type&&(e=e.args[0],"Decimal"===e.type&&"1"===e.val)}function b(e,t){var i=e.nodes,s=t.args,u=s[0],l=s[1],p=h(e,u),f=o.unwrapSeq(l),d=c(e,f);if("Cmd"===u.type&&"random"===u.val){var b=a.emptySpanAt(l.span.input,l.span.start),x=e.setInput(I(e),b);return i.SeededFunctionCall(p,[x].concat(d))}if(o.isIdentifier(u))return i.FunctionCall(p,d);if("Superscript"===u.type){var _=u.args,S=_[0],M=_[1];if("Cmd"===S.type){var E=S.val;if(m(E)||y(E)){if(g(M))return i.Exponent([i.FunctionCall(E,d),h(e,M)]);if(v(M)&&void 0!==r[E])return i.FunctionCall(r[E],d);throw m(E)?n.badTrigExponent(E):n.badLogExponent("logbase"===E?"log":E)}}}return i.Multiply([p,h(e,l)])}function x(e,t){var r,i=e.nodes,a=t.args[0],u=o.unwrapSeq(a),c=[];e:for(r=0;r<u.length;r++){var l=u[r];switch(l.type){case"Colon":var p=l.args,f=p[0],d=p[1];if(!_(f))throw n.colonMissingCondition();c.push({condition:S(e,f),if_expr:h(e,d)});break;case"Equals":case"Inequality":case"InequalityChain":c.push({condition:S(e,l),if_expr:i.Constant(s.maybeRational(1,1))});break;default:break e}}if(0===r)throw n.piecewiseMissingCondition();if(r<u.length-1)throw n.piecewisePartMissingCondition();if(r===u.length-1&&c.push({condition:i.Constant(!0),if_expr:h(e,u[r])}),!i.Piecewise.chain)throw n.featureUnavailable();return i.Piecewise.chain(c)}function _(e){return"Equals"===e.type||"Inequality"===e.type||"InequalityChain"===e.type}function S(e,t){var r=e.nodes;switch(t.type){case"Equals":return r.Comparator["="](c(e,t.args));case"Inequality":return r.Comparator[t.symbol](c(e,t.args));case"InequalityChain":if(t.chain.length>1)throw n.inequalityChainTooLong();var i=t.first,s=i.symbol,u=i.args,l=u[0],p=u[1],f=t.chain[0],h=f.symbol,d=f.args[0],m=a.emptySpanAt(t.span.input,t.span.start);return r.And([S(e,o.Inequality(m,s,[l,p])),S(e,o.Inequality(m,h,[p,d]))]);default:throw n.parseError()}}function M(e){var t=e.args,r=t[0],i=t[1];if("Superscript"===r.type&&(r=r.args[0]),"Cmd"===r.type&&"logbase"===r.val&&"Seq"===i.type&&2===i.args.length){if(!P(i.args[0]))throw n.badImplicitCall("log")}else if(!P(i)){if("Cmd"===r.type)throw n.badImplicitCall(r.val);throw n.parseError()}}function E(e){return s.fromDecimalString(e.val)}function D(e){var t=s.fromDecimalString(e.whole),r=s.fromDecimalString(e.num),n=s.fromDecimalString(e.den);return s.add(t,s.div(r,n))}function w(e){if("Call"!==e.type)return!1;for(var t=e.args[0];"Superscript"===t.type||"Subscript"===t.type||"Prime"===t.type;)t=t.args[0];return"Cmd"===t.type&&(m(t.val)||y(t.val))}function T(e){switch(e.type){case"UnexpectedParseError":case"MissingBound":case"EmptyGroup":case"UnexpectedDifferential":case"UnexpectedEnd":return n.parseError();case"InvalidOperatorName":return n.invalidOperatorName();case"UnexpectedCloseDelimiter":case"MissingCloseDelimiter":return n.mismatchedBraces(e.open,e.close);case"UnrecognizedSymbol":return"."===e.val?n.unexpectedSymbol(e.val):n.unrecognizedSymbol(e.val);case"EmptyInput":return n.blankExpression();case"BinaryOperatorMissingRight":case"BinaryOperatorMissingLeft":return n.binaryOperatorMissingOperand("%"===e.val?"% of":e.val);case"UnaryOperatorMissingLeft":return n.unaryOperatorMissingLeft(e.val);case"UnaryOperatorMissingRight":return n.unaryOperatorMissingRight(e.val);case"UnexpectedSubscript":return n.cannotSubscript(e.base);case"PercentMissingOf":return n.percentMissingOf();case"SumMissingBound":return n.sumMissingBound();case"ProductMissingBound":return n.productMissingBound();case"IntegralMissingBound":return n.integralMissingBound();case"SumMissingBody":return n.sumMissingBody();case"ProductMissingBody":return n.productMissingBody();case"IntegralMissingBody":return n.integralMissingBody();case"DerivativeMissingBody":return n.derivativeMissingBody();case"IntegralMissingDifferential":return n.integralMissingDifferential();case"DifferentialWithSuperscript":return n.differentialWithSuperscript();case"FractionMissingNumerator":return n.fractionMissingNumerator();case"FractionMissingDenominator":return n.fractionMissingDenominator();case"FractionEmpty":return n.fractionEmpty();case"EmptySuperscript":return n.emptySuperscript();case"EmptySubscript":return n.emptySubscript();case"InvalidSubscript":return n.invalidSubscript(e.val);case"SuperscriptWithPrime":return n.superscriptWithPrime();case"PrimeWithoutParen":return n.primeWithoutParen();case"UnexpectedPrime":return n.unexpectedPrime();case"EmptyRadical":return n.emptyRadical();case"EmptyRadicalIndex":return n.emptyRadicalIndex();case"EmptySquareBracket":return n.emptySquareBracket();case"EmptyPipe":return n.emptyPipe();case"FunctionMissingArgument":return n.wrongArity(e.val,1,0);case"AdjacentNumbers":var t=e.args[0].val,r=void 0;switch(e.args[1].type){case"Decimal":r=e.args[1].val;break;case"MixedNumber":r=e.args[1].whole+" "+e.args[1].num+"/"+e.args[1].den;break;default:throw"Unexpected type "+e.args[1].type+" as right member of AdjacentNumbers."}return n.adjacentNumbers(t,r);default:throw"Unexpected surface node "+e.type+"."}}function P(e){switch(e.type){case"Letter":case"Decimal":case"MixedNumber":case"Cmd":case"EmptyPiecewise":return!0;case"Neg":for(var t=e.args[0];;)if("Pos"===t.type||"Paren"===t.type)t=t.args[0];else{if("Neg"!==t.type)break;t=t.args[0]}return"Decimal"===t.type||"MixedNumber"===t.type;case"Pos":case"Paren":return P(e.args[0]);case"Juxt":case"Mul":case"Div":return P(e.args[0])&&P(e.args[1]);case"Subscript":return P(e.args[0]);case"Superscript":case"Frac":case"Add":case"Sub":return P(e.args[0])&&P(e.args[1]);case"Piecewise":var t=e.args[0];return"Equals"===t.type||"Inequality"===t.type||"InequalityChain"===t.type;case"Call":var r=e.args,n=r[0],i=r[1];return!o.isIdentifier(n)&&!o.isSuperscriptedIdentifier(n)&&(P(n)&&P(i));case"Derivative":case"Sqrt":case"Nthroot":case"Pipes":case"Bang":return!1;case"Neg":case"Equals":case"Inequality":case"InequalityChain":case"Tilde":case"ImplicitCall":case"Index":case"List":case"Seq":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Colon":case"Ellipsis":case"Dot":case"PercentOf":case"Prime":return!1;default:throw"Unexpected surface node "+e.type+"."}}function I(e){var t=e.nodes.ExtendSeed("",[e.nodes.Identifier("globalRandomSeed"),e.nodes.Seed(e.nextSeed())]);if(!e.seedExtensions)return t;for(var r=0,n=e.seedExtensions;r<n.length;r++){var i=n[r];t=e.nodes.ExtendSeed("ro",[t,i])}return t}function C(e,t){var r=e.seedExtensions||[];return i.__assign(i.__assign({},e),{seedExtensions:r.concat(t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.lower=u}),define("core/math/baseparser",["require","exports","core/math/errormsg","parsenodes","core/math/parser/latex-parser","core/math/parser/expression-parser","core/math/parser/lower"],function(e,t,r,n,i,a,o){"use strict";function s(){throw r.featureUnavailable()}function u(e,t){return e.setInputSpan(t),e}function c(e,t){var c=typeof e;if("string"!==c)throw new Error("Type Error: parse can only be called with strings, got "+JSON.stringify(e)+" of type "+c);t=t||{};var l=n;if(t.disabledFeatures){l=Object.create(l);for(var p=0,f=t.disabledFeatures;p<f.length;p++){var h=f[p];if(!l[h])throw new Error("Programming Error: "+h+" cannot be disabled because it is not a parsenode.");l[h]=s}}var d=void 0===t.seedPrefix?"":t.seedPrefix,m=0,y=function(){var e=d+"::vc"+m;return m+=1,e},g={nodes:l,currentIndex:t.index,setInput:u,nextSeed:y},v=void 0!==t.trailingComma?{trailingComma:t.trailingComma}:{};try{var b=i.parse(e),x=a.parse(b,v);return o.lower(g,x)}catch(e){return e instanceof n.Error?e:"string"==typeof e?n.Error(e):r.parseError()}}Object.defineProperty(t,"__esModule",{value:!0}),t.parse=c}),define("core/math/rational-arithmetic-sequence",["require","core/math/distance","core/math/builtin"],function(e){"use strict";function t(e,t){var i=n.toFraction(e),a=n.toFraction(t);if(r.approx(i.n/i.d,e)&&r.approx(a.n/a.d,t)){var o=n.lcm(i.d,a.d),s=i.n*(o/i.d);return{nstart:s,nstep:a.n*(o/a.d)-s,lcm:o}}}var r=e("core/math/distance"),n=e("core/math/builtin");return t}),define("core/math/sliders",["require","exports"],function(e,t){"use strict";function r(e,t){var r=Math.round(1e6*e)/1e6;return Math.abs(r-e)<t?r:e}function n(e){var t=!0,r=!0,n=!0;if(void 0!==e.hardMin&&e.target<e.hardMin&&(t=!1),void 0!==e.hardMax&&e.target>e.hardMax&&(r=!1),e.step){i({target:e.target,step:e.step,hardMin:t?e.hardMin:void 0,hardMax:r?e.hardMax:void 0})!==e.target&&(n=!1)}return{min:t,max:r,step:n}}function i(e){var t=e.target,n=e.hardMin,i=e.hardMax,a=e.step,o=1e-10;if(void 0!==n&&void 0!==i&&(o=Math.min(o,Math.abs(i-n)/1e3)),a&&(o=Math.min(o,a/10)),void 0!==n&&(n=r(n,o)),void 0!==i&&(i=r(i,o)),n>i)return n;if(t<=n)return n;if(t>=i)return i;if(a){var s=void 0!==n?n:0;t=a*Math.round((t-s)/a)+s}var u=r(t,o);return a?t=u:n===u?t=u:i===u&&(t=u),t<=n?n:t>=i?i:t}Object.defineProperty(t,"__esModule",{value:!0}),t.roundToReasonableDecimal=r,t.determineWhichLimitsAreCompatibleWithValue=n,t.constrainSliderValueLikeEvaluator=i}),define("core/math/features/getConcreteTree",["require","parsenodes","core/math/errormsg","core/math/types","core/lib/label","core/math/distance","core/math/maybe-rational","core/math/rational-arithmetic-sequence","core/math/sliders"],function(e){"use strict";function t(e,t,r,n){for(var i=[],a=0;a<e.length;a++)i.push(e[a].getConcreteTree(t,r,n));return i}function r(){return this.getDependencies().concat([this._symbol])}function n(e){return e===d.Distribution||d.isList(e)}function i(e,t,r,i){var a=i.length-1,o=e[t];if(!o)throw h.unexpectedSymbol(".");if(o.isError)throw o;if(!o.isFunction)throw h.unexpectedSymbol(".");if(!o.allowDotCalls)throw h.illegalDotCall(r);var s,u="random"===t;if(s=u?i[1].valueType:i[0].valueType,!n(s))throw h.dotLHSTypeError("."+r,d.prettyPrint(s));if(a<o.dotMinArity){if(u)throw h.randomArity();throw h.wrongArity("."+r,o.dotMinArity,a)}if(a>o.dotMaxArity){if(u)throw h.randomArity();throw h.wrongArity("."+r,o.dotMaxArity,a)}}function a(e,r,n,a,o,s){var u=t(n,a,o,s);return i(o,e,r,u),o[e].getConcreteInvocationTree(a,o,u,r,s)}function o(e,t){return e.isError?e:-1===t.indexOf(e.valueType)?h.parseError():e}function s(e,t,r){if(!t)return void(r.valids[e]=!0);var n=t.getDependencies();if(t.isError)r.errors[e]=!0;else if(n.length>0){r.errors[e]=!0;for(var i=0;i<n.length;i++)n[i]===r.exportedSymbol?r.errors.cycle=!0:r.missingVars.push(n[i])}else r.values[e]=t.asValue();r.valids[e]=isFinite(r.values[e]),r.valids[e]||(r.values[e]=void 0)}function u(e,t,r,n,i,a){if(n<t.length&&!y.approx(a,t.elementAt(e,n).asValue(),10))throw h.nonArithmeticRange();if(i-n<=r.length&&i-n>1&&!y.approx(a,r.elementAt(e,r.length-i+n).asValue(),10))throw h.nonArithmeticRange()}function c(e,t){for(var r=!1,n=!1,i=0;i<e.length;i++){var a=e[i];(a.isList||a.isBroadcast)&&(n=!0);for(var o=a.getDependencies(),s=0;s<o.length;s++)if(-1!==t.indexOf(o[s])){if(a.isList||a.isBroadcast)return"list"}else r=!0}return n?r?"broadcast":"list":"none"}function l(e){var t,r=[],n=[],i=[];for(t=0;t<e.length;t++){var a,o=e[t];if(o.isList){for(var s=!1,u=0;u<i.length;u++)if(o===i[u]){s=!0,a=f.DummyIndex(n[u]),a.valueType=d.elementType(o.valueType),r.push(a);break}if(!s){var c=f.Base.prototype.tmpVar();n.push(c),i.push(o),a=f.DummyIndex(c),a.valueType=d.elementType(o.valueType),r.push(a)}}else o.isBroadcast?(Array.prototype.push.apply(n,o._replacedSymbols),Array.prototype.push.apply(i,o._lists),r.push(o._expression)):r.push(o)}return{replacedArgs:i,concreteArgs:r,replacedSymbols:n}}function p(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(!t[this._symbol])throw h.functionUnsupported(this._symbol);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});if(n.length>0){if(1===n.length&&n.push(f.Constant(1)),n[1].getDependencies().length)throw h.illegalBinWidth(this._symbol).setDependencies(n[1].getDependencies());if(n[1].valueType!==d.Number)throw h.illegalBinWidth(this._symbol);var i=n[1].asValue();if(!isFinite(i)||i<=0)throw h.illegalBinWidth(this._symbol)}return this.typeCheck(e,n),new this.constructor(n)}var f=e("parsenodes"),h=e("core/math/errormsg"),d=e("core/math/types"),m=e("core/lib/label"),y=e("core/math/distance"),g=e("core/math/maybe-rational"),v=g.maybeRational,b=e("core/math/rational-arithmetic-sequence"),x=f.List,_=f.OrderedPair,S=f.ScalarExpression,M=f.Constant,E=f.ExtendSeed,D=f.Multiply,w=f.Identifier,T=f.DummyIndex,P=f.BuiltInFunction,I=e("core/math/sliders");f.Base.prototype.tryGetConcreteTree=function(){var e;try{e=this.getConcreteTree.apply(this,arguments)}catch(t){e=t instanceof f.Base?t:h.parseError()}return e},f.Base.prototype.getConcreteTree=function(e,t,r){if(r)return this._getConcreteTree(e,t,r);if(this.isConcreteTreeCacheValid(t))return this.__cachedConcreteTree.value;for(var n=this._getConcreteTree(e,t,r),i={},a=this.getCacheKeys().slice();;){if(!a.length)break;var o=a.pop();if(!i.hasOwnProperty(o)){var s=t[o];i[o]=s,s&&Array.prototype.push.apply(a,s.getCacheKeys())}}return this.__cachedConcreteTree={keys:i,value:n},n},f.Base.prototype.getCacheKeys=function(){return this.getDependencies()},f.Histogram.prototype.getCacheKeys=r,f.Object3D.prototype.getCacheKeys=r,f.DotPlot.prototype.getCacheKeys=r,f.BoxPlot.prototype.getCacheKeys=r,f.TTest.prototype.getCacheKeys=r,f.IndependentTTest.prototype.getCacheKeys=r,f.Base.prototype.isConcreteTreeCacheValid=function(e){if(!this.__cachedConcreteTree)return!1;for(var t in this.__cachedConcreteTree.keys)if(this.__cachedConcreteTree.keys.hasOwnProperty(t)&&e[t]!==this.__cachedConcreteTree.keys[t])return!1;return!0},f.PercentOf.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):f.Divide([f.Multiply(this.args),f.Constant(v(100,1))]).getConcreteTree(e,t,r)},f.Assignment.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):this._expression.getConcreteTree(e,t,r)},f.Identifier.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=m.latexToIdentifier(this.getInputString()),i=t[this._symbol];if(i){if(i.isError)throw i;if(i.isFunction)throw h.identifierAsFunction(n);return i.getConcreteTree(e,t,r)}if(P.hasOwnProperty(this._symbol))throw h.functionUnsupported(n);return f.FreeVariable(this._symbol)},f.Ans.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(void 0===t[this._symbol])throw h.ansUndefined();return w.prototype._getConcreteTree.call(this,e,t,r)},f.Equation.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):this.asComparator().getConcreteTree(e,t,r)},f.Constant.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor(this._constantValue)},f.Seed.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor(this._stringValue)},f.Derivative.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n;if(t[this._symbol]){var i=Object.create(t);i[this._symbol]=f.FreeVariable(this._symbol);var a=t[this._symbol].getConcreteTree(e,t,r);if(a.valueType!==d.Number&&a.valueType!==d.ListOfNumber)throw h.derivativeVariableTypeError(this._symbol,[d.prettyPrint(a.valueType)]);var o={};return o[this._symbol]=a,n=this.args[0].getConcreteTree(e,i,r),this.typeCheck(e,[n]),n.takeDerivative(this._symbol).substitute(o).getConcreteTree(e,t,r)}return n=this.args[0].getConcreteTree(e,t,r),this.typeCheck(e,[n]),n.takeDerivative(this._symbol).getConcreteTree(e,t,r)},f.DoubleInequality.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor([f.Piecewise([this._indicator,this._expressions[0],M(NaN)]).getConcreteTree(e,t,r),this._operators[0],w(this._symbol),this._operators[1],f.Piecewise([this._indicator,this._expressions[1],M(NaN)]).getConcreteTree(e,t,r)])},f.Expression.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);var i=t(this.args,e,r,n);return this.typeCheck(e,i),this._constantCollapsedCopy(e,i)},f.Error.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):this},f.FreeVariable.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):this},f.FunctionCall.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);var i="logbase"===this._symbol?"log":m.latexToIdentifier(this._identifier.getInputString()),a=r[this._symbol];if(a&&a.isError)throw a;if(!a||!a.isFunction){if(P.hasOwnProperty(this._symbol))throw"logbase"===this._symbol&&r.ln&&r.log?h.logbaseUnsupported():h.functionUnsupported(i);if(a&&a.getConcreteTree(e,r,n).valueType===d.Distribution)throw h.distributionAsFunction(a._symbol);if(1==this.args.length){var o=[w(this._symbol),this.args[0]];return D(o).getConcreteTree(e,r,n)}if(a)throw h.variableAsFunction(i);throw h.functionNotDefined(i)}var s=t(this.args,e,r,n);return a.getConcreteInvocationTree(e,r,s,i,n)},f.DotAccess.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n,i,o=this.args[0],s=this.args[1];if(s instanceof f.Identifier)return"x"===s._symbol?f.OrderedPairAccess([o,f.Constant(1)]).getConcreteTree(e,t,r):"y"===s._symbol?f.OrderedPairAccess([o,f.Constant(2)]).getConcreteTree(e,t,r):(i=m.latexToIdentifier(s.getInputString()),n=[o],a(s._symbol,i,n,e,t,r));if(s instanceof f.SeededFunctionCall)return i=m.latexToIdentifier(s._identifier.getInputString()),n=[s.seed,o].concat(s.args.slice(1)),a(s._symbol,i,n,e,t,r);if(s instanceof f.FunctionCall)return"x"===s._symbol&&1===s.args.length?f.Multiply([f.OrderedPairAccess([o,f.Constant(1)]),s.args[0]]).getConcreteTree(e,t,r):"y"===s._symbol&&1===s.args.length?f.Multiply([f.OrderedPairAccess([o,f.Constant(2)]),s.args[0]]).getConcreteTree(e,t,r):(i=m.latexToIdentifier(s._identifier.getInputString()),n=[o].concat(s.args),a(s._symbol,i,n,e,t,r));throw h.unexpectedSymbol(".")},f.DotAccessExponent.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):"FunctionCall"!==this.args[1].type||1!==this.args[1].args.length||t[this.args[1]._symbol]&&t[this.args[1]._symbol].isFunction?f.Exponent([f.DotAccess([this.args[0],this.args[1]]),this.args[2]]).getConcreteTree(e,t,r):f.Multiply([f.DotAccess([this.args[0],f.Identifier(this.args[1]._symbol)]),f.Exponent([this.args[1].args[0],this.args[2]])]).getConcreteTree(e,t,r)},f.FunctionExponent.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args[0]._symbol;return t[n]&&t[n].isFunction?f.Exponent([f.FunctionCall(n,[this.args[1]]),this.args[2]]).getConcreteTree(e,t,r):D([this.args[0],f.Exponent([this.args[1],this.args[2]])]).getConcreteTree(e,t,r)},f.FunctionFactorial.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args[0]._symbol;return t[n]&&t[n].isFunction?f.FunctionCall("\\\\factorial",[f.FunctionCall(n,[this.args[1]])]).getConcreteTree(e,t,r):D([this.args[0],f.FunctionCall("\\\\factorial",[this.args[1]])]).getConcreteTree(e,t,r)},f.FunctionDefinition.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);for(var n=0;n<this._argSymbols.length;n++){if(t[this._argSymbols[n]])throw h.parameterAlreadyDefined(this._argSymbols[n]);if(this._argSymbols[n]===this._symbol)throw h.parameterAlreadyDefined(this._argSymbols[n])}return this._expression.getConcreteTree(e,t,r)},f.Image.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.center.tryGetConcreteTree(e,t,r),i=this.radianAngle.tryGetConcreteTree(e,t,r),a=this.width.tryGetConcreteTree(e,t,r),s=this.height.tryGetConcreteTree(e,t,r),u=this.opacity.tryGetConcreteTree(e,t,r),c=[d.Point,d.ListOfPoint],l=[d.Number,d.ListOfNumber];return n=o(n,c),i=o(i,l),a=o(a,l),s=o(s,l),u=o(u,l),f.Image({center:n,radianAngle:i,width:a,height:s,opacity:u},this.moveStrategy)},f.Slider.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this._expression.getConcreteTree(e,t,r),i=this.sliderMin&&this.sliderMin.tryGetConcreteTree(e,t,r),a=this.sliderMax&&this.sliderMax.tryGetConcreteTree(e,t,r),o=this.sliderStep&&this.sliderStep.tryGetConcreteTree(e,t,r),u={exportedSymbol:this._symbol,errors:{},values:{},valids:{},missingVars:[],errMsg:void 0};if(s("min",i,u),s("max",a,u),s("step",o,u),o&&u.valids.step&&(0===u.values.step?delete u.values.step:u.values.step=Math.abs(u.values.step)),u.errors.cycle?n=h.sliderLimitReferencesExport(u.exportedSymbol):(u.errors.min||!u.valids.min?u.errMsg=h.sliderMinInvalid():u.errors.max||!u.valids.max?u.errMsg=h.sliderMaxInvalid():!u.errors.step&&u.valids.step||(u.errMsg=h.sliderStepInvalid()),u.values.min>u.values.max&&(u.valids.min=!1,u.valids.max=!1,u.errMsg||(u.errMsg=h.sliderMaxLessThanMin()))),n.isConstant){var c=I.constrainSliderValueLikeEvaluator({target:n.asValue(),hardMin:u.values.min,hardMax:u.values.max,step:u.values.step}),l=g.fromDecimalString(c.toString()),p=isFinite(g.asFloat(l))?l:c;n=M(p)}return n.sliderInfo=u,n},f.Integral.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(t[this._differential._symbol])throw h.shadowedIntegrationVariable(this._differential._symbol);var n=this.args[0],i=this.args[1].getConcreteTree(e,t),a=this.args[2].getConcreteTree(e,t);if(i.dependsOn(n._symbol)||a.dependsOn(n._symbol))throw h.badIntegralBoundDependency(n._symbol);var o=Object.create(t);return o[this._differential._symbol]=T(this._differential._symbol),S.prototype._getConcreteTree.call(this,e,o,r)},f.ListAccess.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.index.getConcreteTree(e,t,r),i=this.list.getConcreteTree(e,t,r),a=[i,n];return this.typeCheck(e,a),this._constantCollapsedCopy(e,a)},f.List.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);var i=t(this.args,e,r,n);return this.typeCheck(e,i),new this.constructor(i)},f.ParametrizedReducerFunction.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);if(this.args[0]instanceof f.List&&this.args[0].valueType===d.ListOfDistribution)return f.List(f.List.mapArgs(e,[this.args[0]],function(t){return this.copyWithArgs([t[0],this.args[1]]).getConcreteTree(e,r,n)}.bind(this)));if(this.args[0]instanceof f.Distribution)return this.args[0][this._symbol](this.args.slice(1)).getConcreteTree(e,r,n);var i=t(this.args,e,r,n);switch(c([i[1]],this.getDummyDependencies())){case"none":
return this.typeCheck(e,i),this._constantCollapsedCopy(e,i);case"list":return f.List(f.List.mapArgs(e,[i[1]],function(t){return t=[i[0]].concat(t),this.typeCheck(e,t),this._constantCollapsedCopy(e,t)}.bind(this)));case"broadcast":var a=l([i[1]]),o=[i[0]].concat(a.concreteArgs);return this.typeCheck(e,o),f.Broadcast(a.replacedSymbols,[this.copyWithArgs(o)].concat(a.replacedArgs))}},f.Prime.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args[0],i=n.args[0];if(!t[n._symbol])throw h.functionNotDefined(n._symbol);var a,o=this.tmpVar();if("logbase"===n._symbol){if(2!==n.args.length)throw h.primedFunctionArity();a=[w(o),n.args[1]]}else{if(1!==n.args.length)throw h.primedFunctionArity();a=[w(o)]}for(var s=n.copyWithArgs(a).getConcreteTree(e,t,r),u=0;u<this.order;u++)s=s.takeDerivative(o);var c={};return c[o]=i,s.substitute(c).getConcreteTree(e,t,r)},f.Range.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.beginning.getConcreteTree(e,t,r),i=this.end.getConcreteTree(e,t,r);if(n.getDependencies().length)throw h.variableRange(n.getDependencies());if(i.getDependencies().length)throw h.variableRange(i.getDependencies());if(!n.isList||!i.isList)throw new Error("Programming Error: range bounds must be List nodes.");var a,o,s=n.elementAt(e,0).asValue(),c=i.elementAt(e,i.length-1).asValue(),l=c-s;if(1===n.length)a=l>=0?1:-1;else{var p=n.elementAt(e,1).asValue();o=b(s,p),a=n.elementAt(e,1).asValue()-s}var f=Math.round(l/a)+1;if(!isFinite(f)||f<n.length||f<i.length)throw h.nonArithmeticRange();var d,m,y=[];if(o){var g=o.nstart;for(d=0;d<f;d++)u(e,n,i,d,f,g/o.lcm),y.push(M(v(g,o.lcm))),g+=o.nstep}else for(y.push(M(s)),d=1;d<f;d++)m=s+d*a,u(e,n,i,d,f,m),y.push(M(v(m,1)));return x(y)},f.ReducerFunction.prototype._getConcreteTree=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);if(this.args[0]instanceof f.List&&this.args[0].valueType===d.ListOfDistribution&&"length"!==this._symbol)return f.List(f.List.mapArgs(e,this.args,function(t){return this.copyWithArgs(t).getConcreteTree(e,r,n)}.bind(this)));if(this.args[0]instanceof f.Distribution&&"length"!==this._symbol)return this.args[0][this._symbol]().getConcreteTree(e,r,n);var i=t(this.args,e,r,n);if(1===this.args.length)return i=[f.List.wrap(i[0])],this.typeCheck(e,i),this._constantCollapsedCopy(e,i);switch(c(i,this.getDummyDependencies())){case"none":return i=[f.List(i)],this.typeCheck(e,i),this._constantCollapsedCopy(e,i);case"list":return f.List(f.List.mapArgs(e,i,function(t){return t=[f.List(t)],this.typeCheck(e,t),this._constantCollapsedCopy(e,t)}.bind(this)));case"broadcast":var a=l(i);return i=[f.List(a.concreteArgs)],this.typeCheck(e,i),f.Broadcast(a.replacedSymbols,[this.copyWithArgs(i)].concat(a.replacedArgs))}},f.RepeatedOperator.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(t[this._index._symbol])throw h.shadowedIndex(this._index._symbol);var n=this.args[1].getConcreteTree(e,t),i=this.args[2].getConcreteTree(e,t);if(n.dependsOn(this._index._symbol)||i.dependsOn(this._index._symbol))throw this instanceof f.Sum?h.badSumBoundDependency(this._index._symbol):this instanceof f.Product?h.badProductBoundDependency(this._index._symbol):h.parseError();var a=Object.create(t);return a[this._index._symbol]=T(this._index._symbol),S.prototype._getConcreteTree.call(this,e,a,r)};var C=function(e,r,n){if(n&&n[this.type])return n[this.type].call(this,e,r,n);var i=t(this.args,e,r,n);switch(c(i,this.getDummyDependencies())){case"none":return this.typeCheck(e,i),this._constantCollapsedCopy(e,i);case"list":return f.List(f.List.mapArgs(e,i,function(t){return this.typeCheck(e,t),this._constantCollapsedCopy(e,t)}.bind(this)));case"broadcast":var a=l(i);return this.typeCheck(e,a.concreteArgs),f.Broadcast(a.replacedSymbols,[this.copyWithArgs(a.concreteArgs)].concat(a.replacedArgs))}};f.ScalarExpression.prototype._getConcreteTree=C,f.Object3D.prototype._getConcreteTree=C,f.Regression.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor(this._lhs,this._rhs)},f.Polygon.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,n),1===n.length&&n[0].valueType===d.ListOfPoint?new this.constructor(n):n.every(function(e){return e.valueType===d.Point})?new this.constructor([x(n)]):2===n.length?new this.constructor([_(this.args).getConcreteTree(e,t)]):h.parseError()},f.Histogram.prototype._getConcreteTree=p,f.DotPlot.prototype._getConcreteTree=p,f.BoxPlot.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(!t[this._symbol])throw h.functionUnsupported(this._symbol);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,n),1===n.length&&n[0].valueType===d.ListOfNumber?new this.constructor(n):h.parseError()},f.TTest.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(!t[this._symbol])throw h.functionUnsupported(this._symbol);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,n),new this.constructor(n)},f.IndependentTTest.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(!t[this._symbol])throw h.functionUnsupported(this._symbol);var n=this.args.map(function(r){return r.getConcreteTree(e,t)});return this.typeCheck(e,n),new this.constructor(n)},f.SolvedEquation.prototype._getConcreteTree=function(e,t,r){return r&&r[this.type]?r[this.type].call(this,e,t,r):new this.constructor(this._symbol,this._expression.getConcreteTree(e,t,r))},f.Table.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);for(var n=[],i=Object.create(t),a=0;a<this.columns.length;a++){var o=this.columns[a].getConcreteTree(e,i,t,r);o.isIndependent&&this.columns[a].exportToLocal(o,i),n.push(o)}return new this.constructor(n)},f.TableColumn.prototype._getConcreteTree=function(e,t,r){var n,i,a=this.header.getConcreteTree(e,t);if(a.isFreeVariable){n=[];for(var o=0;o<this.values.length;o++)if(this.values[o].tableError())n.push(h.invalidTableEntry(this.values[o].tableError()));else{var s=this.values[o].tryGetConcreteTree(e,t);s.isError?n.push(s):s.tableError()?n.push(h.invalidTableEntry(s.tableError())):s.valueType===d.Number?n.push(s):n.push(h.tableEntryTypeError([d.prettyPrint(s.valueType)]))}return i=new this.constructor(a,this.length,n),i.isIndependent=!0,i}if(a.isConstant){for(var u=[],c=0;c<this.length;c++)u.push(a);n=u}else n=a.isList?a.args.slice():[];return a=this.header.getConcreteTree(e,r),a.isError||a.valueType===d.Number||a.valueType===d.ListOfNumber||(a=h.tableHeaderTypeError([d.prettyPrint(a.valueType)])),i=new this.constructor(a,this.length,n)},f.BuiltInFunction.pdf.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);if(this.args[0]instanceof x)return f.List(f.List.mapArgs(e,this.args,function(n){return this.copyWithArgs(n).getConcreteTree(e,t,r)}.bind(this)));if(this.typeCheck(e,this.args),!(this.args[0]instanceof f.Distribution))throw h.functionTypeError(this._symbol,[d.prettyPrint(this.args[0].valueType)]);return this.args[0].pdf([this.args[1]]).getConcreteTree(e,t,r)},f.BuiltInFunction.cdf.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args;if(2===n.length&&(n=[n[0],f.Constant(-1/0),n[1]]),n[0]instanceof f.List)return f.List(f.List.mapArgs(e,n,function(n){return this.copyWithArgs(n).getConcreteTree(e,t,r)}.bind(this)));if(this.typeCheck(e,n),!(n[0]instanceof f.Distribution))throw h.functionTypeError(this._symbol,[d.prettyPrint(n[0].valueType)]);return n[0].cdf(n.slice(1)).getConcreteTree(e,t,r)},f.BuiltInFunction.random.prototype._getConcreteTree=function(e,t,r){if(r&&r[this.type])return r[this.type].call(this,e,t,r);var n=this.args;(n.length<=1||!(n[1]instanceof f.Distribution)&&!(n[1]instanceof f.List)&&n.length<4)&&(n=[n[0],P.uniformdist([])].concat(n.slice(1)));var i=n[0],a=n[1],o=n[2],s=n[3];if(this.typeCheck(e,n.slice(1)),o&&o.getDependencies().length)throw h.variableSampleSize(o.getDependencies());if(s&&s.getDependencies().length)throw h.variableSeed(s.getDependencies());if(s&&(i=E("us",[i,s])),o){var u=o.asValue();if(u<1)throw h.badSampleSize();u=Math.round(u);for(var c,l=[],p=0;p<u;p++)c=E("lc",[i,M(v(p,1))]),l.push(a.sample([c]).getConcreteTree(e,t,r));return x(l)}return a.sample([i]).getConcreteTree(e,t,r)}}),define("core/math/features/getValueType",["require","parsenodes","core/math/types"],function(e){"use strict";function t(){return s.Number}function r(){return s.Bool}function n(){return s.Point}function i(){return s.Distribution}function a(){return s.Any}var o=e("parsenodes"),s=e("core/math/types"),u={Add:t,Multiply:t,Divide:t,Subtract:t,Exponent:t,Negative:t,And:r,Piecewise:function(e){return e[1].valueType},BaseComparator:r,RepeatedOperator:t,List:function(e){if(0===e.length)return s.ListOfAny;for(var t=e[0].valueType,r=1;r<e.length;r++)if(e[r].valueType!==t)return s.ListOfAny;return s.hasListType(t)?s.listType(t):s.ListOfAny},ListAccess:function(e){return s.elementType(e[0].valueType)},Broadcast:function(e){return s.listType(e[0].valueType)},Seed:function(e){return s.SeedType},ExtendSeed:function(e){return s.SeedType},OrderedPairAccess:t,OrderedPair:n,NativeFunction:t,ReducerFunction:t,DoubleReducerFunction:t,ParametrizedReducerFunction:t,Distribution:i,DummyIndex:t,FreeVariable:t,TypedFunction:function(){return this._outputType},Derivative:t,Integral:t,Identifier:a};for(var c in u)o[c].prototype._getValueType=u[c]}),define("core/math/features/typeCheck",["require","parsenodes","core/math/types","core/math/errormsg"],function(e){"use strict";function t(e){for(var t=[],r=0;r<e.length;r++)t.push(a.prettyPrint(e[r].valueType));return t}function r(e,r){return function(n,i){for(var a=0;a<i.length;a++)if(i[a].valueType!==e[a])throw r(t(i))}}function n(e,t){var r=t.length;if(r<2)throw o.methodRequiresList(this._symbol);if(t[0].valueType!==a.ListOfNumber)throw o.methodRequiresList(this._symbol);if(r>2)throw o.tooManyArguments(this._symbol,2)}var i=e("parsenodes"),a=e("core/math/types"),o=e("core/math/errormsg"),s={Add:r([a.Number,a.Number],o.addTypeError),Multiply:r([a.Number,a.Number],o.multiplyTypeError),Divide:r([a.Number,a.Number],o.divideTypeError),Subtract:r([a.Number,a.Number],o.subtractTypeError),Exponent:r([a.Number,a.Number],o.exponentTypeError),Negative:r([a.Number],o.negativeTypeError),BaseComparator:r([a.Number,a.Number],o.comparatorTypeError),And:r([a.Bool,a.Bool],o.andTypeError),ExtendSeed:function(e,t){if(2!==t.length||t[0].valueType!==a.SeedType||t[1].valueType!==a.SeedType&&t[1].valueType!==a.Number)throw o.functionUnsupported("random")},List:function(e,t){if(0!==t.length){var r=t[0].valueType;if(!a.hasListType(r))throw o.listTypeError([a.prettyPrint(r)]);for(var n=0;n<t.length;n++){var i=t[n].valueType;if(!a.hasListType(i))throw o.listTypeError([a.prettyPrint(i)]);if(i!==r)throw o.heterogeneousList()}}},Broadcast:function(e,t){},Distribution:function(e,t){},OrderedPair:function(e,t){if(0===t.length)throw o.emptyParen();if(e.dimensions&&t.length!==e.dimensions())throw o.badTupleDimensions(e.dimensions());for(var r=0;r<t.length;r++){var n=t[r].valueType;if(n!==a.Number)throw o.pointTypeError(a.prettyPrint(n))}},Piecewise:function(e,r){if(r[0].valueType!==a.Bool)throw o.piecewiseConditionTypeError(t(r));if(r[1].valueType!==a.Number)throw o.piecewiseBranchTypeError([a.prettyPrint(r[1].valueType)]);if(r[2].valueType!==a.Number)throw o.piecewiseBranchTypeError([a.prettyPrint(r[2].valueType)])},ListAccess:function(e,r){if(!a.isList(r[0].valueType)||r[1].valueType!==a.Number)throw o.indexTypeError(t(r))},OrderedPairAccess:r([a.Point,a.Number],o.orderedPairAccessTypeError),Sum:function(e,t){if(t[1].valueType!==a.Number)throw o.sumLowerBoundTypeError([a.prettyPrint(t[1].valueType)]);if(t[2].valueType!==a.Number)throw o.sumUpperBoundTypeError([a.prettyPrint(t[2].valueType)]);if(t[3].valueType!==a.Number)throw o.sumArgumentTypeError([a.prettyPrint(t[3].valueType)])},Product:function(e,t){if(t[1].valueType!==a.Number)throw o.productLowerBoundTypeError([a.prettyPrint(t[1].valueType)]);if(t[2].valueType!==a.Number)throw o.productUpperBoundTypeError([a.prettyPrint(t[2].valueType)]);if(t[3].valueType!==a.Number)throw o.productArgumentTypeError([a.prettyPrint(t[3].valueType)])},Integral:function(e,t){if(t[1].valueType!==a.Number)throw o.integralLowerBoundTypeError([a.prettyPrint(t[1].valueType)]);if(t[2].valueType!==a.Number)throw o.integralUpperBoundTypeError([a.prettyPrint(t[2].valueType)]);if(t[3].valueType!==a.Number)throw o.integralArgumentTypeError([a.prettyPrint(t[3].valueType)])},NativeFunction:function(e,r){var n=this._errorSymbol,i=r.length,s="logbase"===this._symbol?1:0;if(i<this._requiredArity)throw o.wrongArity(n,this._requiredArity-s,i-s);if(i>this._maxArity)throw o.wrongArity(n,this._maxArity-s,i-s);for(var u=0;u<r.length;u++){if(r[u].valueType!==a.Number)throw o.functionTypeError(n,t(r))}},ReducerFunction:function(e,r){if(r[0].valueType!==a.ListOfNumber)throw o.functionTypeError(this._symbol,t(r))},DoubleReducerFunction:function(e,r){if(!a.isList(r[0].valueType)||!a.isList(r[1].valueType))throw o.nonListDoubleReducer(this._symbol);if(r[0].valueType!==a.ListOfNumber||r[1].valueType!==a.ListOfNumber)throw o.functionTypeError(this._symbol,t(r))},ParametrizedReducerFunction:function(e,r){if(r[0].valueType!==a.ListOfNumber)throw o.nonListParametrizedReducer(this._symbol);if(r[1].valueType!==a.Number)throw o.functionTypeError(this._symbol,t(r))},TypedFunction:function(e,r){var n=this._errorSymbol,i=r.length,a="pdf"===this._symbol,s="cdf"===this._symbol;if(i<this._requiredArity){if(a)throw o.pdfWrongArity();if(s)throw o.cdfRequiresArguments();throw o.wrongArity(n,this._requiredArity,i)}if(i>this._maxArity){if(a)throw o.pdfWrongArity();if(s)throw o.cdfTooManyArguments();throw o.wrongArity(n,this._maxArity,i)}for(var u=0;u<r.length;u++){var c=r[u].valueType,l=this._inputTypes[u],p=Array.isArray(l);if(!p&&c!==l||p&&-1===l.indexOf(c))throw o.functionTypeError(n,t(r))}},Derivative:function(e,r){if(r[0].valueType!==a.Number&&r[0].valueType!==a.ListOfNumber)throw o.derivativeTypeError(t(r))},Regression:function(e,r){if(r[0].valueType!==a.Number&&r[0].valueType!==a.ListOfNumber||r[1].valueType!==a.Number&&r[1].valueType!==a.ListOfNumber)throw o.regressionTypeError(t(r))},Polygon:function(e,r){if(1===r.length&&r[0].valueType!==a.ListOfPoint)throw o.polygonListTypeError(t(r));if(2===r.length&&r[0].valueType===a.Number&&r[1].valueType===a.Number)throw o.polygonTwoNumbersError();if(r.length>2&&!r.every(function(e){return e.valueType===a.Point}))throw o.polygonPointArgsError()},Object3D:function(e,t){if(t.length<3)throw o.wrongArity(this._symbol,3,t.length)},Histogram:n,DotPlot:n,BoxPlot:function(e,t){var r=t.length,n=t[0];if(0===r)throw o.methodRequiresList(this._symbol);if(n.valueType!==a.ListOfNumber)throw o.methodRequiresList(this._symbol);if(r>1)throw o.methodRequiresList(this._symbol)},TTest:function(e,r){var n=this._symbol;if(0===r.length)throw o.methodRequiresList(n);if(r[0].valueType!==a.ListOfNumber)throw o.methodRequiresList(n);if(r.length>2)throw o.tooManyArguments(n,2);if(r[0].length<2)throw o.ttestListTooShort(n);if(r[1]&&r[1].valueType!==a.Number)throw o.functionTypeError(n,t(r))},IndependentTTest:function(e,r){var n=this._symbol;if(2!==r.length)throw o.wrongDoubleReducerArity(n);if(!a.isList(r[0].valueType)||!a.isList(r[1].valueType))throw o.nonListDoubleReducer(n);if(r[0].valueType!==a.ListOfNumber||r[1].valueType!==a.ListOfNumber)throw o.functionTypeError(n,t(r));if(r[0].args.length<2||r[1].args.length<2)throw o.ttestListTooShort("ittest")},Stats:function(e,t){var r=t.length,n=t[0];if(0===r)throw o.methodRequiresList(this._symbol);if(n.valueType!==a.ListOfNumber)throw o.methodRequiresList(this._symbol);if(r>1)throw o.methodRequiresList(this._symbol)}};for(var u in s)i[u].prototype.typeCheck=s[u];i.BuiltInFunction.random.prototype.typeCheck=function(e,t){var r=t.length,n=t[0],s=t[1],u=t[2];if(r>3)throw o.randomArity();if(!n)throw o.randomArity();if(!(n instanceof i.Distribution||n instanceof i.List))throw o.randomArity();if(n instanceof i.Distribution&&n.args&&(n.args[0]instanceof i.List||n.args[1]instanceof i.List))throw o.randomFromBroadcastDistribution();if(s&&s.valueType!==a.Number)throw o.randomArity();if(u&&u.valueType!==a.Number)throw o.randomArity()},i.BuiltInFunction.length.prototype.typeCheck=function(e,t){if(1!==t.length||!a.isList(t[0].valueType))throw o.parseError()}}),define("core/math/features/repr",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes"),r=function(e,t,r){r=r||0;var n=Array(r+1).join("  "),i=n+"  ";return"[\\n"+i+e.map(function(e){return e.repr(t,r+1)}).join(",\\n"+i)+"\\n"+n+"]"},n=function(e,t){return""+(t=t||"")+e};t.Expression.prototype.repr=function(e,t){return n(this.type,e)+"("+r(this.args,e,t)+")"},t.DoubleInequality.prototype.repr=function(e,t){t=t||0;var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"([\\n"+i+this.args[0].repr(e,t+1)+",\\n"+i+"'"+this.args[1]+"',\\n"+i+this.args[2].repr(e,t+1)+",\\n"+i+"'"+this.args[3]+"',\\n"+i+this.args[4].repr(e,t+1)+"\\n"+r+"])"},t.Identifier.prototype.repr=t.FreeVariable.prototype.repr=function(e){return n(this.type,e)+"('"+this._symbol+"')"},t.Constant.prototype.repr=function(e){return n(this.type,e)+"("+this.asValue()+")"},t.ExtendSeed.prototype.repr=function(e,t){return n(this.type,e)+"('"+this.tag+"', "+r(this.args,e,t)+")"},t.Seed.prototype.repr=function(e){return n(this.type,e)+"("+this.asValue()+")"},t.FunctionCall.prototype.repr=function(e,t){return n(this.type,e)+"('"+this._symbol+"', "+r(this.args,e,t)+")"},t.Assignment.prototype.repr=function(e,r){return n(this.type,e)+"("+t.Identifier(this._symbol).repr(e,r)+", "+this._expression.repr(e,r)+")"},t.Regression.prototype.repr=t.Equation.prototype.repr=function(e,t){return n(this.type,e)+"("+this._lhs.repr(e,t)+", "+this._rhs.repr(e,t)+")"},t.FunctionDefinition.prototype.repr=function(e,i){return n(this.type,e)+"("+t.Identifier(this._symbol).repr(e,i)+", "+r(this._argSymbols.map(function(e){return t.Identifier(e)}),e,i)+", "+this._expression.repr(e,i)+")"},t.Error.prototype.repr=function(e,t){return n(this.type,e)+"('"+this._msg+"')"},t.Derivative.prototype.repr=function(e,t){return n(this.type,e)+"('"+this._symbol+"', "+r(this.args,e,t)+")"},t.SolvedEquation.prototype.repr=function(e,t){return n(this.type,e)+"('"+this._symbol+"', "+this._expression.repr(e,t)+")"},t.OptimizedRegression.prototype.repr=function(e,t){return n(this.type,e)+"("+JSON.stringify(this.parameters)+", "+JSON.stringify(this.residuals)+", "+JSON.stringify(this.statistics)+", "+this.model.repr(e,t+1)+", "+JSON.stringify({isModelValid:this.isModelValid,residualVariable:this.residualVariable,residualSuggestionId:this.residualSuggestionId,shouldSuggestLogMode:this.shouldSuggestLogMode})+")"},t.Table.prototype.repr=function(e,t){return n(this.type,e)+"("+r(this.columns,e,t)+")"},t.TableColumn.prototype.repr=function(e,t){return n(this.type,e)+"("+this.header.repr(e,t)+", "+this.length+", "+r(this.values,e,t)+")"},t.Image.prototype.repr=function(e,t){var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"({\\n"+i+"center: "+this.center.repr(e,t+1)+",\\n"+i+"radianAngle: "+this.radianAngle.repr(e,t+1)+",\\n"+i+"width: "+this.width.repr(e,t+1)+",\\n"+i+"height: "+this.height.repr(e,t+1)+"},\\n"+i+"opacity: "+this.opacity.repr(e,t+1)+",\\n"+i+JSON.stringify(this.moveStrategy)+"\\n"+r+")"},t.Slider.prototype.repr=function(e,t){var r=Array(t+1).join("  "),i=r+"  ";return n(this.type,e)+"({\\n"+i+"sliderAssignment: "+this.sliderAssignment.repr(e,t+1)+",\\n"+i+"sliderMin: "+(this.sliderMin&&this.sliderMin.repr(e,t+1))+",\\n"+i+"sliderMax: "+(this.sliderMax&&this.sliderMax.repr(e,t+1))+",\\n"+i+"sliderStep: "+(this.sliderStep&&this.sliderStep.repr(e,t+1))+"},\\n"+r+")"},t.Broadcast.prototype.repr=function(e,t){return n(this.type,e)+"(['"+this._replacedSymbols.join("', ")+"'], "+r(this.args,e,t)+")"}}),define("core/math/features/scalarEvalExpression",["require","parsenodes","core/math/functions"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/functions"),n={Add:function(e){return"("+e.join("+")+")"},Multiply:function(e){return"("+e.join("*")+")"},Divide:function(e){return"("+e.join("/")+")"},Subtract:function(e){return"("+e.join("-")+")"},Exponent:function(e){return"BuiltIn.pow("+e.join(",")+")"},RawExponent:function(e){return"Math.pow("+e.join(",")+")"},Negative:function(e){return"(-"+e[0]+")"},And:function(e){return e.join("&&")},Piecewise:function(e){return"("+e[0]+"?"+e[1]+":"+e[2]+")"}},i={Add:2,Multiply:2,Divide:2,Subtract:2,Exponent:2,RawExponent:2,Negative:1,And:2,Piecewise:3};for(var a in n){var o=t[a].prototype;o.scalarEvalExpression=n[a],o.evaluate=r.createEvaluateFunction(o.scalarEvalExpression,i[a])}}),define("core/math/reconstitute-node",["require","parsenodes","core/math/types"],function(e){"use strict";function t(e,i){if(n.isList(e)){for(var a=[],o=0;o<i.length;o++)a.push(t(n.elementType(e),i[o]));var s=r.List(a);return s.valueType=e,s}switch(e){case n.Number:case n.Bool:return r.Constant(i);case n.Point:return r.OrderedPair([r.Constant(i[0]),r.Constant(i[1])]);default:throw new Error("Cannot reconstitute value of a "+n.prettyPrint(e)+".")}}var r=e("parsenodes"),n=e("core/math/types");return t}),define("core/math/features/constantcollapsedcopy",["require","parsenodes","core/math/reconstitute-node","core/math/maybe-rational","core/math/errormsg"],function(e){"use strict";function t(e){if(!e.isConstant)return!1;var t=e.asValue();return"number"==typeof t&&!isFinite(t)}var r=e("parsenodes"),n=r.Constant,i=r.Multiply,a=r.Subtract,o=r.RawExponent,s=r.Seed,u=r.BuiltInFunction,c=e("core/math/reconstitute-node"),l=e("core/math/maybe-rational"),p=e("core/math/errormsg"),f={Expression:function(e,t){return this.copyWithArgs(t)},FreeVariable:function(e,t){return this},ScalarExpression:function(e,t){for(var r=[],i=0;i<t.length;i++){if(!t[i].isConstant&&!t[i].isString)return this.copyWithArgs(t);r.push(t[i].asValue())}return n(this.evaluate(r))},OrderedPair:function(e,t){return this.copyWithArgs(t)},Distribution:function(e,t){return this.copyWithArgs(t)},Add:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.add(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):0===t[0].asValue()?t[1]:0===t[1].asValue()?t[0]:this.copyWithArgs(t)},Multiply:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.mul(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):1===t[0].asValue()?t[1]:1===t[1].asValue()?t[0]:this.copyWithArgs(t)},Subtract:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.sub(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):0===t[0].asValue()?r.Negative([t[1]]):0===t[1].asValue()?t[0]:this.copyWithArgs(t)},Divide:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.div(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):1===t[1].asValue()?t[0]:this.copyWithArgs(t)},Exponent:function(e,t){if(t[0].isConstant&&t[1].isConstant)return n(l.pow(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue()));if(t[0].isConstant){if(t[0].asValue()===Math.E)return u.exp([t[1]]);if(t[0].asValue()>0)return o(t)}if(t[1].isConstant){var r=t[1].asValue();if(1===r)return t[0];if(r===Math.floor(r))return o(t);var a=t[1].asMaybeRationalValue();return l.isRational(a)?a.d%2==1?i([a.n%2==0?n(l.maybeRational(1,1)):u.sign([t[0]]),o([u.abs([t[0]]),t[1]])]):o(t):this.copyWithArgs(t)}return this.copyWithArgs(t)},RawExponent:function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.pow(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):this.copyWithArgs(t)},Negative:function(e,t){return t[0].isConstant?n(l.neg(t[0].asMaybeRationalValue())):t[0]instanceof r.Negative?t[0].args[0]:this.copyWithArgs(t)},And:function(e,t){return t[0].isConstant&&t[1].isConstant?n(t[0].asValue()&&t[1].asValue()):t[0].isConstant&&!0===t[0]?t[1]:t[0].isConstant&&!1===t[0]?n(!1):t[1].isConstant&&!0===t[1]?t[0]:t[1].isConstant&&!1===t[1]?n(!1):this.copyWithArgs(t)},Piecewise:function(e,t){return t[0].isConstant&&!0===t[0].asValue()?t[1]:t[0].isConstant&&!1===t[0].asValue()?t[2]:this.copyWithArgs(t)},Integral:function(e,r){var o=r[0],s=r[1],u=r[2],c=r[3];if(t(s)||t(u))throw p.integralInfiniteBoundError();var l=c.getDependencies();if(s.isConstant&&u.isConstant){var f=u.asValue()-s.asValue();if(c.isConstant)return n(c.asValue()*f);if(!c.dependsOn(o._symbol))return i([c,n(f)]);if(1===l.length&&l[0]===o._symbol)return n(this.evaluate(s.asValue(),u.asValue(),c))}else if(!c.dependsOn(o._symbol))return i([c,a([u,s])]);return this.copyWithArgs(r)},ListAccess:function(e,t){return t[1].isConstant?t[0].elementAt(e,t[1].asValue()-1):this.copyWithArgs(t)},OrderedPairAccess:function(e,t){return t[1].isConstant&&t[0]instanceof r.OrderedPair?t[0].elementAt(e,t[1].asValue()-1):this.copyWithArgs(t)},Broadcast:function(e,t){var r,n=t[0].getDependencies();for(r=0;r<n.length;r++)if(-1===this._replacedSymbols.indexOf(n[r]))return this.copyWithArgs(t);for(r=1;r<t.length;r++)if(0!==t[r].getDependencies().length)return this.copyWithArgs(t);var i=t[0].getCompiledFunction(this._replacedSymbols).fn,a=t.slice(1).map(function(e){return e.asValue()}),o=[];for(r=0;r<this.length;r++){for(var s=[],u=0;u<a.length;u++)s.push(a[u][r]);o.push(i.apply(void 0,s))}return c(this.valueType,o)},ReducerFunction:function(e,t){return 0===t[0].getDependencies().length?c(this.valueType,this.evaluate([t[0].asValue()])):this.copyWithArgs(t)},DoubleReducerFunction:function(e,t){if(0===t[0].getDependencies().length&&0===t[1].getDependencies().length){var r=Math.min(t[0].length,t[1].length);return c(this.valueType,this.evaluate([t[0].asValue().slice(0,r),t[1].asValue().slice(0,r)]))}return this.copyWithArgs(t)},ParametrizedReducerFunction:function(e,t){var r=t[0],n=t[1];return n.isConstant&&0===r.getDependencies().length?c(this.valueType,this.evaluate([r.asValue(),n.asValue()])):this.copyWithArgs(t)},RepeatedOperator:function(e,r){var i=r[1],a=r[2];if(t(i)||t(a))switch(this.type){case"Sum":throw p.sumInfiniteBoundError();case"Product":throw p.productInfiniteBoundError();default:throw p.parseError()}if(i.isConstant&&a.isConstant){var o=i.asValue(),s=a.asValue(),u=r[3];if(u.isConstant)return n(this.evaluateConstant([o,s,u.asValue()]));var c=u.getDependencies();if(0===c.length||1===c.length&&c[0]===r[0]._symbol)return n(this.evaluate(o,s,u))}return this.copyWithArgs(r)},ExtendSeed:function(e,t){var r=t[0],n=t[1];return 0===r.getDependencies().length&&0===n.getDependencies().length?s(r.asValue()+"::"+this.tag+n.asValue()):this.copyWithArgs(t)}};for(var h in f)r[h].prototype._constantCollapsedCopy=f[h];u.mod.prototype._constantCollapsedCopy=function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.mod(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):this.copyWithArgs(t)},u.sqrt.prototype._constantCollapsedCopy=function(e,t){return t[0].isConstant?n(l.sqrt(t[0].asMaybeRationalValue())):this.copyWithArgs(t)},u.nthroot.prototype._constantCollapsedCopy=function(e,t){return t[0].isConstant&&t[1].isConstant?n(l.nthroot(t[0].asMaybeRationalValue(),t[1].asMaybeRationalValue())):this.copyWithArgs(t)},u.abs.prototype._constantCollapsedCopy=function(e,t){return t[0].isConstant?n(l.abs(t[0].asMaybeRationalValue())):this.copyWithArgs(t)},u.total.prototype._constantCollapsedCopy=function(e,t){if(!t[0].isList)return this.copyWithArgs(t);for(var r=t[0].args,i=0;i<r.length;i++)if(!r[i].isConstant)return this.copyWithArgs(t);return n(l.total(t[0].asMaybeRationalValue()))},u.distance.prototype._constantCollapsedCopy=function(e,t){return 0===t[0].getDependencies().length&&0===t[1].getDependencies().length?n(this.evaluate([t[0].asArray(),t[1].asArray()])):this.copyWithArgs(t)},u.midpoint.prototype._constantCollapsedCopy=function(e,t){if(0===t[0].getDependencies().length&&0===t[1].getDependencies().length){var i=this.evaluate([t[0].asArray(),t[1].asArray()]);return r.OrderedPair([n(i[0]),n(i[1])])}return this.copyWithArgs(t)}}),define("core/math/features/polynomialorder",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes"),r={Expression:"this.dependsOn(symbol) ? Infinity : 0",FreeVariable:"(symbol === this._symbol ? 1 : 0)",Constant:"0",Add:"Math.max(order0, order1)",Subtract:"Math.max(order0, order1)",Multiply:"order0 + order1",Negative:"order0",Divide:"order1 > 0 ? Infinity : order0"};for(var n in r){var i=r[n];t[n].prototype.polynomialOrder=function(e){return e=e.replace("order0","this.args[0].polynomialOrder(symbol)"),e=e.replace("order1","this.args[1].polynomialOrder(symbol)"),new Function(["symbol"],"return "+e)}(i)}t.Exponent.prototype.polynomialOrder=function(e){var t=this.args[0].polynomialOrder(e),r=this.args[1].polynomialOrder(e);if(0===t&&0===r)return 0;var n=this.args[1];return n.isConstant&&n.asValue()===Math.round(n.asValue())&&n.asValue()>0?t*n.asValue():1/0},t.Piecewise.prototype.polynomialOrder=function(e){return this.dependsOn(e)?this.args[2].isConstant&&this.args[2].isNaN()?this.args[1].polynomialOrder(e):1/0:0},t.List.prototype.polynomialOrder=function(e){return 1/0}}),define("core/math/features/polynomialcoefficients",["require","parsenodes","core/math/maybe-rational"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/maybe-rational").maybeRational,n=t.Constant(r(0,1)),i=t.Constant(r(1,1));t.FreeVariable.prototype.getPolynomialCoefficients=function(e){return e===this._symbol?[n,i]:[this]},t.Constant.prototype.getPolynomialCoefficients=function(e){return[this]},t.Add.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,o=[],s=0;s<=Math.max(i,a);s++)i>=s&&a>=s?o.push(t.Add([r[s],n[s]])):o.push(i>a?r[s]:n[s]);return o},t.Subtract.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,o=[],s=0;s<=Math.max(i,a);s++)i>=s&&a>=s?o.push(t.Subtract([r[s],n[s]])):o.push(i>a?r[s]:t.Negative([n[s]]));return o},t.Negative.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=[],i=0;i<r.length;i++)n.push(t.Negative([r[i]]));return n},t.Exponent.prototype.getPolynomialCoefficients=function(e){var r=this.args[0].getPolynomialCoefficients(e),i=this.args[1].getPolynomialCoefficients(e),a=r.length-1;if(i.length-1>0)throw"can't solve for variable in exponent";if(0===a)return[t.Exponent([r[0],i[0]])];if(this.args[1].isConstant){switch(this.args[1].asValue()){case 0:return[n];case 1:return r;case 2:return t.Multiply([this.args[0],this.args[0]]).getPolynomialCoefficients(e)}}throw"Unable to compile polynomial representation"},t.Multiply.prototype.getPolynomialCoefficients=function(e){for(var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=r.length-1,a=n.length-1,o=[],s=0;s<=i;s++)for(var u=0;u<=a;u++){var c=t.Multiply([r[s],n[u]]),l=o[s+u];o[s+u]=void 0===l?c:t.Add([l,c])}return o},t.Divide.prototype.getPolynomialCoefficients=function(e){var r=this.args[0].getPolynomialCoefficients(e),n=this.args[1].getPolynomialCoefficients(e),i=n.length-1,a=[];if(i>0)throw"Can't solve for variable in denominator";for(var o=0;o<r.length;o++)a.push(t.Divide([r[o],n[0]]));return a},t.Expression.prototype.getPolynomialCoefficients=function(e){if(this.dependsOn(e))throw"Unimplemented polynomialCoefficient call";return[this]},t.Piecewise.prototype.getPolynomialCoefficients=function(e){
return this.dependsOn(e)?this.args[1].getPolynomialCoefficients(e):[this]}}),define("core/math/features/extractconditions",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes");t.Expression.prototype.extractConditions=function(e,t){if(!this.dependsOn(e))return t;for(var r=0;r<this.args.length;r++){t=this.args[r].extractConditions(e,t)}return t},t.Piecewise.prototype.extractConditions=function(e,r){if(!this.dependsOn(e))return r;if(!this.args[0].dependsOn(e))return r=this.args[1].extractConditions(e,r),r=this.args[2].extractConditions(e,r);var n={};return n[e]=r,t.Piecewise([this.args[0].substitute(n),r,t.Constant(NaN)])}}),define("core/math/features/piecewiseDependsOn",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes");t.Expression.prototype.piecewiseDependsOn=function(e){if(!this.dependsOn(e))return!1;for(var t=0;t<this.args.length;t++){if(this.args[t].piecewiseDependsOn(e))return!0}return!1},t.Piecewise.prototype.piecewiseDependsOn=function(e){return this.dependsOn(e)}}),define("core/math/builtinconstants",["require","core/math/parsenode/constant","core/math/maybe-rational"],function(e){"use strict";var t=e("core/math/parsenode/constant"),r=e("core/math/maybe-rational").maybeRational;return{pi:t(Math.PI),tau:t(2*Math.PI),e:t(Math.E),trigAngleMultiplier:t(r(1,1)),infty:t(1/0)}}),define("core/math/builtinframe",["require","core/math/builtinconstants","core/math/parsenode/builtinfunction"],function(e){"use strict";var t,r=e("core/math/builtinconstants"),n=e("core/math/parsenode/builtinfunction"),i={};for(t in r)r.hasOwnProperty(t)&&(i[t]=r[t]);for(t in n)n.hasOwnProperty(t)&&(i[t]=n[t]);return i}),define("core/math/features/bounddomain",["require","parsenodes","core/math/builtinframe","core/math/domaintypes","core/math/comparators","core/math/maybe-rational","core/math/policy"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/builtinframe"),n=e("core/math/domaintypes"),i=e("core/math/comparators").table,a=e("core/math/maybe-rational").maybeRational,o=e("core/math/policy").defaultPolicy,s=t.Constant(a(0,1));t.Base.prototype.boundDomain=function(e){return n.unknownDomain()},t.List.prototype.boundDomain=function(e){if(!this.dependsOn(e))return n.allReals();if(!this.args.length)return n.allReals();var t=this.args[0].boundDomain(e);if("known"!==t.type)return n.unknownDomain();for(var r=0;r<this.args.length;r++){var i=this.args[r].boundDomain(e);if("known"!==i.type)return n.unknownDomain();if(i.bounds[0]!==t.bounds[0]||i.bounds[1]!==t.bounds[1])return n.unknownDomain()}return t},t.Expression.prototype.boundDomain=function(e){for(var t=n.allReals(),r=0;r<this.args.length;r++)t=n.intersectDomains(t,this.args[r].boundDomain(e));return t},t.Constant.prototype.boundDomain=function(e){return this.isNaN()?n.emptyDomain():n.allReals()},t.Piecewise.prototype.boundDomain=function(e){return this.args[2].isConstant&&isNaN(this.args[2].asValue())?n.intersectDomains(this.args[0].boundDomain(e),this.args[1].boundDomain(e)):n.unknownDomain()},t.OrderedPair.prototype.boundDomain=function(e){return n.intersectDomains(this.args[0].boundDomain(e),this.args[1].boundDomain(e))},t.BaseComparator.prototype.boundDomain=function(e){if(!this.dependsOn(e))return n.allReals();if("="===this.operator)return n.unknownDomain();var t=this._difference,a=this._difference.boundDomain(e);if(t.polynomialOrder(e)>1)return n.unknownDomain();var u=t.getPolynomialCoefficients(e),c=u[1]?u[1].getConcreteTree(o,r):s,l=u[0]?u[0].getConcreteTree(o,r):s;if(!c.isConstant||!l.isConstant)return n.unknownDomain();if(isNaN(c.asValue())||isNaN(l.asValue()))return n.emptyDomain();if(0===c.asValue())return i[this.operator].inclusive?l.asValue()>=0?a:n.emptyDomain():l.asValue()>0?a:n.emptyDomain();var p=-l.asValue()/c.asValue(),f=c.asValue()<0?[-1/0,p]:[p,1/0];return n.intersectDomains(a,n.knownDomain(f))}}),define("core/math/policyGraphing",["require","exports","./builtinframe","core/types/graphmode"],function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.dimensions=function(){return 2},e.prototype.assignmentForbidden=function(e){return"x"===e||"y"===e||"theta"===e||"tmp"===e.slice(0,3)||r.hasOwnProperty(e)},e.prototype.isValidSlider=function(e){return"x"===e||"y"===e||"ans"!==e.slice(0,3)&&!this.assignmentForbidden(e)},e.prototype.sliderVariables=function(e){var t=this;return-1!==e.indexOf("theta")&&(e=e.filter(function(e){return"r"!==e})),e.filter(function(e){return!t.assignmentForbidden(e)&&"ans"!==e.slice(0,3)})},e.prototype.graphingEnabled=function(){return!0},e.prototype.ansEnabled=function(){return!1},e.prototype.validRegressionParameter=function(e){return"x"!==e&&"y"!==e},e.prototype.validLHS=function(e){return"theta"!==e},e.prototype.unplottablePolarFunction=function(e,t){return"theta"===e&&-1!==t.indexOf("r")},e.prototype.validDoubleInequalitySymbol=function(e){return"x"===e||"y"===e},e.prototype.validDoubleInequalityVariables=function(e){return!(e.length>2)&&e.every(this.validDoubleInequalitySymbol)},e.prototype.validExpressionVariables=function(e){return 1===e.length&&"x"===e[0]},e.prototype.validSolvedVariable=function(e){return"x"===e||"y"===e||"r"===e},e.prototype.validImplicitVariables=function(e){switch(e.length){case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return"x"===e[0]&&"y"===e[1]||"y"===e[0]&&"x"===e[1]||"r"===e[0]&&"theta"===e[1]||"theta"===e[0]&&"r"===e[1];default:return!1}},e.prototype.graphableListVariables=function(e,t){return"x"===e||"y"===e||"r"===e||"x"===t||"y"===t},e.prototype.validParametricVariable=function(e){return"t"===e},e.prototype.validParametricVariables=function(e){return 1===e.length&&this.validParametricVariable(e[0])},e.prototype.validInequalityVariables=function(e){switch(e.length){case 1:return"x"===e[0]||"y"===e[0]||"r"===e[0];case 2:return this.validImplicitVariables(e);default:return!1}},e.prototype.validFirstColumnVariable=function(e){return"y"!==e&&"r"!==e&&"theta"!==e&&!e.match(/y_(\\d+)/)},e.prototype.complicatedPolarImplicit=function(e,t){return"theta"===e||"r"===e&&1!==t},e.prototype.constantGraphMode=function(e){return"x"===e?n.X:"r"===e?n.POLAR:n.Y},e.prototype.graphMode=function(e,t){var r=t[0];return"y"===r?n.X:"x"===e?n.X:"r"===e&&"theta"===r?n.POLAR:n.Y},e.prototype.tableableAsConstant=function(e){return"x"!==e&&("r"!==e&&"theta"!==e)},e.prototype.implicitIndependent=function(e){return"x"},e.prototype.implicitDependency=function(e){return 1!==e.length?"y":"y"===e[0]?"x":"theta"===e[0]?"r":"y"},e.prototype.graphableAsConstant=function(e){return"y"===e||"x"===e||"r"===e},e.prototype.disabledFeatures=function(){return[]},e}(),a=function(){function e(){}return e.prototype.dimensions=function(){return 3},e.prototype.assignmentForbidden=function(e){return"x"===e||"y"===e||"z"===e||"tmp"===e.slice(0,3)||r.hasOwnProperty(e)},e.prototype.isValidSlider=function(e){return"x"===e||"y"===e||"z"===e||"ans"!==e.slice(0,3)&&!this.assignmentForbidden(e)},e.prototype.sliderVariables=function(e){var t=this;return e.filter(function(e){return!t.assignmentForbidden(e)&&"ans"!==e.slice(0,3)})},e.prototype.graphingEnabled=function(){return!0},e.prototype.ansEnabled=function(){return!1},e.prototype.validRegressionParameter=function(e){return!1},e.prototype.validLHS=function(e){return!0},e.prototype.unplottablePolarFunction=function(e,t){return!1},e.prototype.validDoubleInequalitySymbol=function(e){return!1},e.prototype.validDoubleInequalityVariables=function(e){return!1},e.prototype.validExpressionVariables=function(e){var t=e.join("");return"x"===t||"y"===t||"xy"===t||"yx"===t},e.prototype.validSolvedVariable=function(e){return"x"===e||"y"===e||"z"===e},e.prototype.validImplicitVariables=function(e){return!1},e.prototype.graphableListVariables=function(e,t){return"x"===e||"y"===e||"x"===t||"y"===t},e.prototype.validParametricVariable=function(e){return"t"===e},e.prototype.validParametricVariables=function(e){return 1===e.length&&this.validParametricVariable(e[0])},e.prototype.validInequalityVariables=function(e){return!1},e.prototype.validFirstColumnVariable=function(e){return!1},e.prototype.complicatedPolarImplicit=function(e,t){return!1},e.prototype.constantGraphMode=function(e){return n.Z_3D},e.prototype.graphMode=function(e,t){return"z"===e&&this.validExpressionVariables(t)?n.Z_3D:n.NONE},e.prototype.tableableAsConstant=function(e){return"x"!==e&&"r"!==e},e.prototype.implicitIndependent=function(e){return"x"},e.prototype.implicitDependency=function(e){if(2!==e.length)return"z";var t=e[0]<e[1]?e[0]+e[1]:e[1]+e[0];return"xy"===t?"z":"xz"===t?"y":"yz"===t?"x":"z"},e.prototype.graphableAsConstant=function(e){return"z"===e},e.prototype.disabledFeatures=function(){return[]},e}();t.PolicyGraphing=new i,t.PolicyGraphing3D=new a}),define("core/math/features/derivative",["require","parsenodes","core/math/baseparser","core/math/builtinframe","core/math/parsenode/builtinfunction","core/math/maybe-rational","core/math/policy","core/math/policyGraphing"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/baseparser"),n=e("core/math/builtinframe"),i=e("core/math/parsenode/builtinfunction"),a=e("core/math/maybe-rational").maybeRational,o=e("core/math/policy").defaultPolicy,s=e("core/math/policyGraphing").PolicyGraphing,u=t.Constant(a(0,1)),c=t.Constant(a(1,1)),l=t.Constant(a(2,1)),p={FreeVariable:function(e){return e===this._symbol?c:u},Constant:function(e){return isFinite(this.asValue())?u:t.Constant(this.asValue())},Negative:function(e){return t.Negative([this.args[0].takeDerivative(e)])},Add:function(e){return t.Add([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},Subtract:function(e){return t.Subtract([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},Multiply:function(e){return t.Add([g(e,this.args[0],t.Multiply([this.args[0].takeDerivative(e),this.args[1]])),g(e,this.args[1],t.Multiply([this.args[0],this.args[1].takeDerivative(e)]))])},Divide:function(e){return t.Subtract([g(e,this.args[0],t.Divide([this.args[0].takeDerivative(e),this.args[1]])),g(e,this.args[1],t.Divide([t.Multiply([this.args[0],this.args[1].takeDerivative(e)]),t.Exponent([this.args[1],l])]))])},Exponent:function(e){return t.Add([g(e,this.args[0],t.Multiply([t.Multiply([this.args[1],t.Exponent([this.args[0],t.Subtract([this.args[1],c])])]),this.args[0].takeDerivative(e)])),g(e,this.args[1],t.Multiply([t.Piecewise([t.Comparator["="]([this.args[0],u]),t.Piecewise([t.Comparator[">"]([this.args[1],u]),u,t.Constant(NaN)]),t.Multiply([t.FunctionCall("\\\\ln",[this.args[0]]),t.Exponent([this.args[0],this.args[1]])])]),this.args[1].takeDerivative(e)]))]).getConcreteTree(o,n)},Sum:function(e){return this.copyWithArgs([this.args[0],this.args[1],this.args[2],this.args[3].takeDerivative(e)])},Product:function(e){var r=t.Sum([this.args[0],this.args[1],this.args[2],t.Piecewise([t.Comparator["="]([u,this.args[3]]),c,u])]),n=t.Multiply([t.Sum([this.args[0],this.args[1],this.args[2],t.Divide([this.args[3].takeDerivative(e),this.args[3]])]),t.Product(this.args)]),i=t.Product([this.args[0],this.args[1],this.args[2],t.Piecewise([t.Comparator["="]([u,this.args[3]]),this.args[3].takeDerivative(e),this.args[3]])]);return t.Piecewise([t.Comparator["="]([u,r]),n,t.Piecewise([t.Comparator["="]([c,r]),i,u])])},Piecewise:function(e){return 2===this.args.length?t.Piecewise([this.args[0],this.args[1].takeDerivative(e)]):3===this.args.length?t.Piecewise([this.args[0],this.args[1].takeDerivative(e),this.args[2].takeDerivative(e)]):void 0},List:function(e){return t.List(this.args.map(function(t){return t.takeDerivative(e)}))},ListAccess:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1]])},OrderedPair:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1].takeDerivative(e)])},OrderedPairAccess:function(e){return new this.constructor([this.args[0].takeDerivative(e),this.args[1]])},Integral:function(e){var r=this.args[0],n=this.args[1],i=this.args[2],a=this.args[3],o={};o[r._symbol]=i;var s={};return s[r._symbol]=n,t.Add([g(e,a,this.copyWithArgs([r,n,i,a.takeDerivative(e)])),t.Subtract([g(e,i,t.Multiply([a.substitute(o),i.takeDerivative(e)])),g(e,n,t.Multiply([a.substitute(s),n.takeDerivative(e)]))])])},SolvedEquation:function(e){return this._expression.takeDerivative(e)},OptimizedRegression:function(e){return this.model.takeDerivative(e)},Broadcast:function(e){for(var r=this._replacedSymbols.slice(),n=this.args.slice(1),i=this._expression.takeDerivative(e),a=0;a<this._replacedSymbols.length;a++){var o=this._replacedSymbols[a],s=this.args[a+1];if(s.dependsOn(e)){var u=this.tmpVar(),c=t.DummyIndex(u);r.push(u),n.push(s.takeDerivative(e)),i=t.Add([i,t.Multiply([this._expression.takeDerivative(o),c])])}}return t.Broadcast(r,[i].concat(n))},Seed:function(e){return t.Constant(NaN)}},f={exp:"\\\\exp(x)*x_1",ln:"\\\\{x >= 0: x_1/x \\\\}",log:"\\\\{ x >= 0: x_1/(x*\\\\ln(10)) \\\\}",sqrt:"x_1/(2*\\\\sqrt{x})",rtxsqpone:"x*x_1/\\\\rtxsqpone(x)",rtxsqmone:"x*x_1/\\\\rtxsqmone(x)",sin:"\\\\cos(x)*x_1",cos:"-\\\\sin(x)*x_1",tan:"\\\\sec(x)^2*x_1",arcsin:"x_1/\\\\sqrt{1 - x^2}",arccos:"-x_1/\\\\sqrt{1 - x^2}",sinh:"\\\\cosh(x)*x_1",cosh:"\\\\sinh(x)*x_1",tanh:"(\\\\sech(x))^2*x_1",arcsinh:"x_1/\\\\sqrt{x^2 + 1}",arccosh:"\\\\{ x > 0: x_1/\\\\rtxsqmone(x) \\\\}",arctanh:"\\\\{ \\\\abs(x) < 1: x_1/(1 - x^2) \\\\}",csc:"-\\\\cot(x)*\\\\csc(x)*x_1",sec:"\\\\tan(x)*\\\\sec(x)*x_1",cot:"-\\\\csc(x)^2*x_1",arccsc:"-x_1/(\\\\abs(x)*\\\\rtxsqmone(x))",arcsec:"x_1/(\\\\abs(x)*\\\\rtxsqmone(x))",arccot:"-x_1/(1+x^2)",csch:"-\\\\coth(x)*\\\\csch(x)*x_1",sech:"-\\\\tanh(x)*\\\\sech(x)*x_1",coth:"-(\\\\csch(x))^2*x_1",arccsch:"-x_1/(\\\\abs(x)*\\\\rtxsqpone(x))",arcsech:"\\\\{ x >= 0: -x_1/(x*\\\\sqrt{1 - x^2}) \\\\}",arccoth:"\\\\{ \\\\abs(x) > 1 : x_1/(1 - x^2) \\\\}",factorial:"(x)!*\\\\polyGamma(0, x + 1)*x_1",floor:"\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}",ceil:"\\\\{ \\\\mod(x, 1) > 0: 0*x_1 \\\\}",abs:"\\\\{ \\\\abs(x) > 0: \\\\sign(x)*x_1 \\\\}",sign:"\\\\{ \\\\abs(x) > 0: 0*x_1 \\\\}",mean:"\\\\mean(x_1)",total:"\\\\total(x_1)",length:"0",var:"2*\\\\cov(x, x_1)",varp:"2*\\\\cov(x, x_1)*(\\\\length(x)-1)/\\\\length(x)",stdev:"\\\\cov(x, x_1)/\\\\stdev(x)",stdevp:"\\\\covp(x, x_1)/\\\\stdevp(x)",mad:"\\\\mean(\\\\sign(x-\\\\mean(x))*(x_1 - \\\\mean(x_1)))",min:"x_1[\\\\argmin(x)]",max:"x_1[\\\\argmax(x)]",median:"0.5*(x_1[\\\\lowerQuantileIndex(x, 0.5)] + x_1[\\\\upperQuantileIndex(x, 0.5)])",argmin:"0/0",argmax:"0/0",gcd:"0/0",lcm:"0/0",erf:"\\\\frac{2x_1}{\\\\sqrt{\\\\pi }}e^{-x^2}",invNorm:"\\\\frac{x_1}{\\\\pdf(\\\\normaldist(0,1),\\\\invNorm(x))}"},h={logbase:["\\\\{x > 0: \\\\frac{x_1}{x*\\\\ln(y)}\\\\}","\\\\frac{-\\\\log_{y}(x)*y_1}{y*\\\\ln(y)}"],nthroot:["x^{1/y - 1}/y*x_1","-\\\\frac{x^{1/y}*\\\\ln(x)*y_1}{y^2}"],polyGamma:["0/0","\\\\polyGamma(1 + x, y)*y_1"],mod:["\\\\{ \\\\abs(\\\\mod(x, y)) > 0: x_1 \\\\}","\\\\{ \\\\mod(x/y, 1) > 0: -\\\\floor(x/y)*y_1 \\\\}"],round:["\\\\{ \\\\abs(\\\\mod(x, 1) - 0.5) > 0: 0*x_1 \\\\}","0/0"],cov:["\\\\cov(x_1, y)","\\\\cov(x, y_1)"],covp:["\\\\covp(x_1, y)","\\\\covp(x, y_1)"],corr:["(\\\\cov(x_1, y) - (\\\\cov(x, y)*\\\\cov(x, x_1)/\\\\var(x)))/(\\\\stdevp(x)\\\\stdevp(y))","(\\\\cov(x, y_1) - (\\\\cov(x, y)*\\\\cov(y, y_1)/\\\\var(y)))/(\\\\stdevp(x)\\\\stdevp(y))"],spearman:["0/0","0/0"],quantile:["\\\\{ \\\\floor(y*(\\\\length(x)-1)) = y*(\\\\length(x)-1) :   x_1[\\\\upperQuantileIndex(x, y)],  (\\\\ceil(y*(\\\\length(x)-1)) - y*(\\\\length(x)-1))*x_1[\\\\lowerQuantileIndex(x, y)] +   (y*(\\\\length(x)-1) - \\\\floor(y*(\\\\length(x)-1)))*x_1[\\\\upperQuantileIndex(x, y)]\\\\}","\\\\{ \\\\floor(y*(\\\\length(x)-1)) < y*(\\\\length(x)-1) :   (x[\\\\upperQuantileIndex(x, y)] - x[\\\\lowerQuantileIndex(x, y)])*y_1\\\\}"],quartile:["0.5*(x_1[\\\\lowerQuartileIndex(x, y)] + x_1[\\\\upperQuartileIndex(x, y)])","0/0"],tscore:["\\\\frac{\\\\sqrt{\\\\length(x)}(\\\\stdev(x)*\\\\mean(x_1)-(\\\\mean(x)-y)*\\\\frac{\\\\cov(x,x_1)}{\\\\stdev(x)})}{\\\\stdev(x)^2}","-y_1*\\\\sqrt{\\\\length(x)}/\\\\stdev(x)"],quartileIndex:["0/0","0/0"],upperQuartileIndex:["0/0","0/0"],lowerQuartileIndex:["0/0","0/0"],upperQuantileIndex:["0/0","0/0"],lowerQuantileIndex:["0/0","0/0"],nCr:["0/0","0/0"],nPr:["0/0","0/0"],arctan:["x_1*y/(y^2+x^2)","-y_1*x/(y^2+x^2)"],poissonpdf:["0/0","y_1\\\\frac{e^{-y}(\\\\floor(x)-y)y^{(\\\\floor(x)-1)}}{\\\\floor(x)!}"],invPoisson:["0/0","0/0"],tpdf:["x_1*\\\\pdf(\\\\tdist(y),x)*\\\\frac{-(y+1)*x}{y+x^2}","y_1*\\\\frac{1}{2}\\\\pdf(\\\\tdist(y),x)(  \\\\frac{x^2-1}{y + x^2} + \\\\ln(\\\\frac{y}{y + x^2}) +   \\\\polyGamma(0, \\\\frac{1+y}{2}) - \\\\polyGamma(0, y/2))"],invT:["x_1/\\\\pdf(\\\\tdist(y),\\\\invT(x, y))","0/0"]},d={tcdf:["-x_1*\\\\pdf(\\\\tdist(z),x)","y_1*\\\\pdf(\\\\tdist(z),y)","0/0"],poissoncdf:["0/0","0/0","z_1\\\\sum _{n=\\\\max(0,\\\\floor(\\\\min(x,y)))}^{\\\\floor(\\\\max(x,y))}\\\\frac{e^{-z}(n-z)z^{(n-1)}}{n!}"],normalpdf:["-x_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","y_1*\\\\frac{x-y}{z^2} \\\\pdf(\\\\normaldist(y,z),x)","z_1*(\\\\frac{(x-y-z)*(x-y+z)}{z^3}) \\\\pdf(\\\\normaldist(y,z),x)"],binompdf:["0/0","0/0","\\\\{0<=z<=1: z_1*\\\\pdf(\\\\binomialdist(y,z),x)*(\\\\frac{\\\\round(x)}{z}-\\\\frac{\\\\round(y)-\\\\round(x)}{1-z}), 0 \\\\}"],invBinom:["0/0","0/0","0/0"],uniformpdf:["0","\\\\{y<=x: \\\\frac{y_1}{(z-y)^2}, 0\\\\}","\\\\{z>=x: -\\\\frac{z_1}{(z-y)^2}, 0\\\\}"],invUniform:["\\\\{y<=x<=z: x_1*(z-y), 0\\\\}","\\\\{y<=x<=z: y_1*(1-x), 0\\\\}","\\\\{y<=x<=z: z_1*x, 0\\\\}"]},m={normalcdf:["-x_1\\\\pdf(\\\\normaldist(z,u), x)","y_1\\\\pdf(\\\\normaldist(z,u), y)","-z_1*(\\\\pdf(\\\\normaldist(z,u), y) - \\\\pdf(\\\\normaldist(z,u), x))","u_1*(  \\\\{\\\\abs(y)=1/0:0,\\\\frac{z-y}{u}\\\\pdf(\\\\normaldist(z,u),y)\\\\} -   \\\\{\\\\abs(x)=1/0:0,\\\\frac{z-x}{u}\\\\pdf(\\\\normaldist(z,u),x)\\\\})"],binomcdf:["0/0","0/0","0/0","\\\\{0<=u<=1: u_1*\\\\sum _{n=\\\\max(0,\\\\round(\\\\min(x,y)))}^{\\\\round(\\\\max(x,y))}(  \\\\pdf(\\\\binomialdist(z,u),n)*(\\\\frac{n}{u}-\\\\frac{\\\\round(z)-n}{1-u})), 0 \\\\}"],uniformcdf:["\\\\{z>u: 0/0, -x_1\\\\pdf(\\\\uniformdist(z,u), x)\\\\}","\\\\{z>u: 0/0, y_1\\\\pdf(\\\\uniformdist(z,u), y)\\\\}","\\\\{z>u: 0/0, z_1*(\\\\frac{\\\\{z<x<u:u-x,0\\\\} + \\\\{z<y<u:y-u,0\\\\}}{(u-z)^2})\\\\}","\\\\{z>u: 0/0, u_1*(\\\\frac{\\\\{z<x<u:x-z,0\\\\} + \\\\{z<y<u:z-y,0\\\\}}{(u-z)^2})\\\\}"]};for(var y in f)i[y].prototype.takeDerivative=function(e){return function(t){var r=this.args,i={x:r[0],x_1:r[0].takeDerivative(t)};return g(t,r[0],e.substitute(i)).getConcreteTree(o,n)}}(r.parse(f[y]));for(y in h)i[y].prototype.takeDerivative=function(e,r){return function(i){var a=this.args,s={x:a[0],x_1:a[0].takeDerivative(i),y:a[1],y_1:a[1].takeDerivative(i)};return t.Add([g(i,a[0],e.substitute(s)),g(i,a[1],r.substitute(s))]).getConcreteTree(o,n)}}(r.parse(h[y][0]),r.parse(h[y][1]));for(y in d)i[y].prototype.takeDerivative=function(e,r,i){return function(a){var s=this.args,u={x:s[0],x_1:s[0].takeDerivative(a),y:s[1],y_1:s[1].takeDerivative(a),z:s[2],z_1:s[2].takeDerivative(a)};return t.Add([t.Add([g(a,s[0],e.substitute(u)),g(a,s[1],r.substitute(u))]),g(a,s[2],i.substitute(u))]).getConcreteTree(o,n)}}(r.parse(d[y][0]),r.parse(d[y][1]),r.parse(d[y][2]));for(y in m)i[y].prototype.takeDerivative=function(e,r,i,a){return function(s){var u=this.args,c={x:u[0],x_1:u[0].takeDerivative(s),y:u[1],y_1:u[1].takeDerivative(s),z:u[2],z_1:u[2].takeDerivative(s),u:u[3],u_1:u[3].takeDerivative(s)};return t.Add([t.Add([g(s,u[0],e.substitute(c)),g(s,u[1],r.substitute(c))]),t.Add([g(s,u[2],i.substitute(c)),g(s,u[3],a.substitute(c))])]).getConcreteTree(o,n)}}(r.parse(m[y][0]),r.parse(m[y][1]),r.parse(m[y][2]),r.parse(m[y][3]));i.distance.prototype.takeDerivative=function(e){var r=this.args[0],a=this.args[1],o=t.OrderedPairAccess([r,c]),u=t.OrderedPairAccess([r,l]),p=t.OrderedPairAccess([a,c]),f=t.OrderedPairAccess([a,l]),h=g(e,o,o.takeDerivative(e)),d=g(e,u,u.takeDerivative(e)),m=g(e,p,p.takeDerivative(e)),y=g(e,f,f.takeDerivative(e));return g(e,this,t.Divide([t.Add([t.Add([t.Subtract([t.Multiply([h,o]),t.Multiply([h,p])]),t.Subtract([t.Multiply([m,p]),t.Multiply([m,o])])]),t.Add([t.Subtract([t.Multiply([d,u]),t.Multiply([d,f])]),t.Subtract([t.Multiply([y,f]),t.Multiply([y,u])])])]),i.distance([this.args[0],this.args[1]])])).getConcreteTree(s,n)},i.midpoint.prototype.takeDerivative=function(e){var r=this.args[0],a=this.args[1],o=t.OrderedPairAccess([r,c]),u=t.OrderedPairAccess([r,l]),p=t.OrderedPairAccess([a,c]),f=t.OrderedPairAccess([a,l]),h=g(e,o,o.takeDerivative(e)),d=g(e,u,u.takeDerivative(e)),m=g(e,p,p.takeDerivative(e)),y=g(e,f,f.takeDerivative(e));return t.OrderedPair([i.mean([h,m]),i.mean([d,y])]).getConcreteTree(s,n)};var g=function(e,t,r){return t.dependsOn(e)?r:u};for(var v in p){var b=p[v];t[v].prototype.takeDerivative=b}["tSample","poissonSample","uniformSample","normalSample","binomSample"].forEach(function(e){i[e].prototype.takeDerivative=function(e){for(var r=0;r<this.args.length;r++)if(this.args[r].dependsOn(e))return t.Constant(NaN);return u}})}),define("core/math/features/substitute",["require","parsenodes"],function(e){"use strict";var t=e("parsenodes"),r={Identifier:function(e){return e[this._symbol]?e[this._symbol]:this},FreeVariable:function(e){return e[this._symbol]?e[this._symbol]:this},Constant:function(e){return this},Expression:function(e){return this.copyWithArgs(this.args.map(function(t){return t.substitute(e)}))},List:function(e){return t.List(this.args.map(function(t){return t.substitute(e)}))},SolvedEquation:function(e){return new this.constructor(this._symbol,this._expression.substitute(e))},OptimizedRegression:function(e){return new this.constructor(this.model.substitute(e),this.parameters,this.residualVariables,this.residuals,this.statistics)}};for(var n in r)t[n].prototype.substitute=r[n]}),define("core/math/features/isImplicit",["require","parsenodes"],function(e){"use strict";function t(e){return!(e[0]instanceof r.FreeVariable)||e[1].dependsOn(e[0]._symbol)}var r=e("parsenodes");r.Base.prototype.isImplicit=function(){return!1},r.Equation.prototype.isImplicit=function(){return t(this.args)},r.BaseComparator.prototype.isImplicit=function(){return t(this.args)},r.Broadcast.prototype.isImplicit=function(){return this._expression.isImplicit()}}),define("core/math/features/solve",["require","core/math/baseparser","parsenodes","core/math/errormsg","core/math/builtinframe","core/math/workerconfig","core/math/maybe-rational","core/math/policy"],function(e){"use strict";function t(e){var t=Object.create(m);return t.a=e[2]?e[2].tryGetConcreteTree(v,m):b,t.b=e[1]?e[1].tryGetConcreteTree(v,m):b,t.c=e[0]?e[0].tryGetConcreteTree(v,m):b,t}function r(e){return 0===e.a.asValue()?0===e.b.asValue()?0:1:2}function n(e,n,i,a){for(var o,s,u=[],c=[],l=0;l<i.length;l++){var p=i[l],f=0;h.eachArgs(e,[n],function(e){var t=e[0];f=Math.max(f,t.polynomialOrder(p))});var d=f>2,m=i.length>1&&!e.validSolvedVariable(p),y=a&&n.piecewiseDependsOn(p);d||m||y?(c[l]={},u[l]=1/0):(c[l]=[],u[l]=0,h.eachArgs(e,[n],function(e){var n=e[0];s=t(n.getPolynomialCoefficients(p)),c[l].push(s),u[l]=Math.max(u[l],r(s))}))}var g;if(1===i.length)s=c[0],o=i[0],g=u[0];else{var v;v=0===u[0]?1:0===u[1]?0:u[0]<u[1]?0:1,s=c[v],o=i[v],g=u[v]}return{localFrame:s,variableOfInterest:o,effectiveOrder:g}}function i(e,t){return t?P.inequality:P.generalEquation}function a(e){e.f=x.getConcreteTree(v,e),e.g=_.getConcreteTree(v,e),e.p=S.getConcreteTree(v,e),e.q=M.getConcreteTree(v,e),e.m=c(g(1e305,1))}var o=e("core/math/baseparser"),s=e("parsenodes"),u=s.Base,c=s.Constant,l=s.Equation,p=s.SolvedEquation,f=s.BaseComparator,h=s.List,d=e("core/math/errormsg"),m=e("core/math/builtinframe"),y=e("core/math/workerconfig"),g=e("core/math/maybe-rational").maybeRational,v=e("core/math/policy").defaultPolicy,b=c(g(0,1)),x=o.parse("b*b"),_=o.parse("4*a*c"),S=o.parse("(-b+\\\\sqrt{b*b-4*a*c})/(2*a)"),M=o.parse("(-b-\\\\sqrt{b*b-4*a*c})/(2*a)"),E=o.parse("[\\\\{\\\\abs(b)>0:-c/b\\\\}]"),D=o.parse("[\\\\{\\\\abs(a)>0:-b/(2*a)\\\\}]"),w=o.parse("[\\\\{a=0:\\\\{b<0:-c/b\\\\},q\\\\},\\\\{a=0:\\\\{b>0:-c/b\\\\},p\\\\}]"),T=o.parse("[\\\\{a=0:\\\\{b<0:-c/b\\\\},a>0:q\\\\},\\\\{a=0:\\\\{b=0:\\\\{c>0:-m\\\\}\\\\},a>0:\\\\{f<g:-m\\\\},p\\\\},\\\\{a=0:\\\\{b=0:\\\\{c>0:m\\\\}\\\\},a>0:\\\\{f<g:m\\\\},q\\\\},\\\\{a=0:\\\\{b>0:-c/b\\\\},a>0:p\\\\}]"),P={inequality:function(e){return a(e),T.getConcreteTree(v,e)},generalEquation:function(e){return a(e),e.a.isConstant&&0===e.a.asValue()?E.getConcreteTree(v,e):e.f.isConstant&&e.g.isConstant&&e.f.asValue()-e.g.asValue()==0?D.getConcreteTree(v,e):w.getConcreteTree(v,e)}};u.prototype.trySolve=function(e,t){try{return this.solve(e,t)}catch(e){if(e instanceof s.Error)return e;throw e}},l.prototype.solve=function(e,t){return this.asComparator().solve(e,t)},f.prototype.solve=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return r;if(r.isConstant)return r;var a="="!==this.getOperator();if(!y.plotImplicits&&r.isImplicit())throw new d.implicitsDisabled;var o=this._difference.tryGetConcreteTree(e,t);o.isBroadcast&&(o=h(o.mapElements(e,function(e){return e})));var s=o.getDependencies();if(0===s.length)return o.isList?h(o.args.map(function(e){return c(0===e.asValue())})):c(0===o.asValue());if(1===s.length&&o.isList&&!a)return o;if(1===s.length&&!a&&!y.plotSingleVariableImplicitEquations)return d.singleVariableImplicitEquationsDisabled();var u=h.wrap(o);if(s.length>2)return d.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(s);if(a&&!e.validInequalityVariables(s))return d.invalidInequalityVariables().setDependencies(s);var l=n(e,u,s,a),f=l.localFrame,m=l.effectiveOrder,g=l.variableOfInterest;if(e.complicatedPolarImplicit(g,m))return d.complicatedPolarImplicit().setDependencies(s);if(!e.validImplicitVariables(s))return d.invalidImplicitVariables();if(m>2)return o;for(var v=i(s,a),b=[],x=0;x<f.length;x++){var _=v(f[x]);if(_.isError)return _;if(_.isConstant)b.push(_);else for(var S=0;S<_.args.length;S++){var M=_.args[S],E=u.args[x].extractConditions(g,M).getConcreteTree(e,t);b.push(E)}}return p(g,h(b))}}),define("core/math/distribution-spec",["require","exports","core/math/baseparser","tslib"],function(e,t,r,n){"use strict";function i(e){return a(r.parse(e,{trailingComma:!0}))}function a(e){var r=e,i=o[r.type];if(!i)switch("Assignment"===r.type&&(r=r._expression),r.type){case"FunctionCall":i=t.DistributionParameterDefaultsMap[r._symbol];break;default:return}if(i){for(var a={},s=i.params,u=r.args,c=0;c<s.length;c++){var l=u[c];a[s[c]]=l&&l.getInputString()||""}return n.__assign(n.__assign({},i),{span:r.getInputSpan(),values:a})}}Object.defineProperty(t,"__esModule",{value:!0}),t.DistributionParameterDefaultsMap={normaldist:{type:"distribution",symbol:"normaldist",params:["mean","stdev"],defaults:["0","1"],discrete:!1},tdist:{type:"distribution",symbol:"tdist",params:["dof"],defaults:[void 0],discrete:!1},binomialdist:{type:"distribution",symbol:"binomialdist",params:["trials","probsuccess"],defaults:[void 0,"0.5"],discrete:!0},poissondist:{type:"distribution",symbol:"poissondist",params:["mean"],defaults:[void 0],discrete:!0},uniformdist:{type:"distribution",symbol:"uniformdist",params:["min","max"],defaults:["0","1"],discrete:!1}};var o={Histogram:{type:"visualization",symbol:"histogram",params:["data","binwidth"],defaults:[void 0,"1"]},DotPlot:{type:"visualization",symbol:"dotplot",params:["data","binwidth"],defaults:[void 0,"1"]},BoxPlot:{type:"visualization",symbol:"boxplot",params:["data"],defaults:[void 0]}};t.parseToplevelFunction=i,t.getFunctionSpecFromTree=a}),define("core/math/evaluationstate",["require","core/types/graphmode","parsenodes","core/lib/label","core/math/types","core/math/distribution-spec"],function(e){"use strict";function t(e){return e.isError?e.getError():void 0===e.asValue()?"":+e.asValue()}function r(e,r,n){for(var i=[],a=0;a<r.columns.length;a++){var o=n.columns[a],s={dependent:!o.isIndependent,discrete:o.isIndependent};o.isError?(s.error=o.getError(),s.values=[]):s.values=o.values.map(t),i.push(s)}return{column_data:i}}function n(e,t,r){var n={variables:[],errorMap:{},dimensions:{}};return r.center.isError&&(n.errorMap.center=!0),r.radianAngle.isError&&(n.errorMap.angle=!0),r.width.isError&&(n.errorMap.width=!0),r.height.isError&&(n.errorMap.height=!0),r.opacity.isError&&(n.errorMap.opacity=!0),r.center.isError||r.radianAngle.isError||r.width.isError||r.height.isError||r.opacity.isError?(n.variables=t.getSliderVariables(e,r),n):(n.dimensions.x=[],n.dimensions.y=[],n.dimensions.radianAngle=[],n.dimensions.width=[],n.dimensions.height=[],n.dimensions.opacity=[],a.List.eachArgs(e,[r.center,r.radianAngle,r.width,r.height,r.opacity],function(e){var t=e[0].asValue();n.dimensions.x.push(+t[0]),n.dimensions.y.push(+t[1]),n.dimensions.radianAngle.push(+e[1].asValue()),n.dimensions.width.push(+e[2].asValue()),n.dimensions.height.push(+e[3].asValue()),n.dimensions.opacity.push(Math.max(0,Math.min(1,e[4].asValue())))}),(e.graphingEnabled()?t.getGraphMode(e,r):i.NONE)!==i.NONE&&(n.is_graphable=!0),r.moveStrategy&&(n.move_strategy=r.moveStrategy),n)}var i=e("core/types/graphmode"),a=e("parsenodes"),o=e("core/lib/label"),s=e("core/math/types"),u=e("core/math/distribution-spec").getFunctionSpecFromTree,c=function(){return{operator:"=",variables:[]}},l=function(e,t,l){if(t.isTable)return r(e,t,l);if(t.isImage)return n(e,t,l);var p=c();if(l.isError&&(!(t instanceof a.FunctionDefinition)||l.blocksExport))return p.error=l.getError(),p.variables=t.getSliderVariables(e,l),p.is_single_identifier=t instanceof a.Identifier,p;l.moveStrategy&&(p.move_strategy=l.moveStrategy,p.default_drag_mode=l.defaultDragMode),t.isInequality()&&(p.is_inequality=!0),p.operator=t.getOperator(),l instanceof a.SolvedEquation?!0!==l._expression.asValue()&&!1!==l._expression.asValue()&&(p.assignment=l._symbol):t instanceof a.Assignment&&(p.assignment=t._symbol);var f=e.graphingEnabled()?t.getGraphMode(e,l):i.NONE;if(f!==i.NONE){p.is_graphable=!0,p.expression_type=t.getExpressionType(f,l.valueType),l.isShadeBetween()&&(p.is_shade_between=!0);var h=t.tableInfo(e,l);h&&(p.is_tableable=!0,p.table_info=h)}s.isList(l.valueType)&&(p.is_concrete_list=!0),p.variables=p.is_graphable?[]:t.getSliderVariables(e,l),p.is_single_identifier=t instanceof a.Identifier,l.isConstant&&(p.constant_value=l.asValue());var d=l.getEvaluationInfo();if(!d||"="!==p.operator||t.isConstant||t.isFunction||(p.is_evaluable=!0,p.zero_values=d),l instanceof a.OptimizedRegression){var m={};for(var y in l.parameters)l.parameters.hasOwnProperty(y)&&(m[o.identifierToLatex(y)]=+l.parameters[y].asValue());p.is_regression=!0,p.regression={parameters:m,residualVariable:o.identifierToLatex(l.residualVariable),residualSuggestionId:l.residualSuggestionId,shouldSuggestLogMode:l.shouldSuggestLogMode,statistics:l.statistics}}var g=u(t);return g&&g.discrete&&(p.is_discrete_distribution=!0),p};return l.default=c,l}),define("core/math/statementanalysis",["require","core/math/evaluationstate","pjs","core/types/graphmode","core/math/workerconfig"],function(e){"use strict";var t=e("core/math/evaluationstate"),r=e("pjs"),n=e("core/types/graphmode"),i=e("core/math/workerconfig");return r(function(e){e.init=function(e,r,n){this.policy=e,this.rawTree=r,this.concreteTree=n,this.evaluationState=t(e,r,n)},e.exportTo=function(e,t){this.rawTree.exportTo(e,this.concreteTree,t)},e.graph=function(e){return this.rawTree.graph(this.policy,this.concreteTree,e)},e.getGraphMode=function(){return this.rawTree.getGraphMode(this.policy,this.concreteTree)},e.getGraphInfo=function(){return this.rawTree.getGraphInfo(this.policy,this.concreteTree)},e.shouldIntersect=function(){if(!this.evaluationState.is_graphable)return!1;if(!this.rawTree.userData.shouldGraph)return!1;if(!i.pointsOfInterest)return!1;var e=this.getGraphMode();return e===n.X||e===n.Y}})}),define("core/math/expression-types",["require","exports"],function(e,t){"use strict";function r(e,r){if(void 0===e)return{points:!1,lines:!1,fill:!1};var n=t.EXPRESSION_PROP_DEFAULTS[e];switch(e){case i.SINGLE_POINT:return{points:!0,lines:!1,fill:!1};case i.POINT_LIST:case i.DOTPLOT:return{points:void 0===r.points?n.points:r.points,lines:void 0===r.lines?n.lines:r.lines,fill:!1};case i.PARAMETRIC:case i.POLYGON:case i.X_OR_Y:case i.POLAR:case i.IMPLICIT:case i.HISTOGRAM:case i.BOXPLOT:case i.TTEST:case i.STATS:case i.CUBE:case i.SPHERE:return{points:!1,lines:void 0===r.lines?n.lines:r.lines,fill:void 0===r.fill?n.fill:r.fill};default:return e}}function n(e){if(void 0===e)return!1;switch(e){case i.SINGLE_POINT:case i.POINT_LIST:
case i.PARAMETRIC:case i.POLYGON:case i.X_OR_Y:case i.POLAR:case i.IMPLICIT:return!0;case i.HISTOGRAM:case i.BOXPLOT:case i.DOTPLOT:case i.TTEST:case i.STATS:case i.CUBE:case i.SPHERE:return!1;default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e.X_OR_Y="X_OR_Y",e.SINGLE_POINT="SINGLE_POINT",e.POINT_LIST="POINT_LIST",e.PARAMETRIC="PARAMETRIC",e.POLAR="POLAR",e.IMPLICIT="IMPLICIT",e.POLYGON="POLYGON",e.HISTOGRAM="HISTOGRAM",e.DOTPLOT="DOTPLOT",e.BOXPLOT="BOXPLOT",e.TTEST="TTEST",e.STATS="STATS",e.CUBE="CUBE",e.SPHERE="SPHERE"}(i=t.ExpressionType||(t.ExpressionType={})),t.EXPRESSION_PROP_DEFAULTS={X_OR_Y:{points:!1,lines:!0,fill:!1},SINGLE_POINT:{points:!0,lines:!1,fill:!1},POINT_LIST:{points:!0,lines:!1,fill:!1},PARAMETRIC:{points:!1,lines:!0,fill:!1},POLAR:{points:!1,lines:!0,fill:!1},IMPLICIT:{points:!1,lines:!0,fill:!1},POLYGON:{points:!1,lines:!0,fill:!0},HISTOGRAM:{points:!1,lines:!0,fill:!0},DOTPLOT:{points:!0,lines:!1,fill:!1},BOXPLOT:{points:!1,lines:!0,fill:!1},TTEST:{points:!1,lines:!1,fill:!1},STATS:{points:!1,lines:!1,fill:!1},CUBE:{points:!1,lines:!1,fill:!0},SPHERE:{points:!1,lines:!1,fill:!0}},t.getReconciledExpressionProps=r,t.isClickableExpressionType=n}),define("core/math/features/analyze",["require","underscore","parsenodes","core/math/statementanalysis","core/math/builtin","core/math/builtinframe","core/math/parsenode/builtinfunction","core/math/errormsg","core/math/comparators","core/math/types","core/types/graphmode","core/math/expression-types","core/math/distribution-spec","core/math/workerconfig"],function(e){"use strict";function t(e,t,r,n){if(n.isError)return u(e,r,n);var i=n.getDependencies();switch(n.valueType){case d.Distribution:case d.ListOfDistribution:return u(e,r,n);case d.Point:case d.ListOfPoint:return i.length?e.validParametricVariables(i)?u(e,r,n):u(e,r,f.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(i)):u(e,r,n);case d.Number:case d.ListOfNumber:return 0===i.length?u(e,r,n):i.length<=e.dimensions()-1?e.validExpressionVariables(i)?u(e,r,n):u(e,r,f.equationRequired(e.implicitDependency(i)).setDependencies(i)):e.validImplicitVariables(i)?u(e,r,f.equationRequired().setDependencies(i)):u(e,r,f.tooManyVariables(r.getSliderVariables(e,n)).setDependencies(i));default:return u(e,r,f.parseError())}}function r(e){return p.pdf([e,s.FreeVariable("x")])}function n(e,t){var r=this.tryGetConcreteTree(e,t),n=r.getDependencies();return n.length?u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):u(e,this,this.tryGetConcreteTree(e,t))}function i(e){return function(t,r){var n=this.tryGetConcreteTree(t,r),i=n.getDependencies();if(i.length)return u(t,this,f.tooManyVariables(this.getSliderVariables(t,n)).setDependencies(i));var a=u(t,this,this.tryGetConcreteTree(t,r));if(!n.isError){a.evaluationState.expression_type=y.TTEST;var o=n.args.map(function(e){return e.asValue()});a.evaluationState.ttest_results=e.apply(null,o)}return a}}function a(e,t){return e.filter(function(e){return!t[e]})}var o=e("underscore"),s=e("parsenodes"),u=e("core/math/statementanalysis"),c=e("core/math/builtin"),l=e("core/math/builtinframe"),p=e("core/math/parsenode/builtinfunction"),f=e("core/math/errormsg"),h=e("core/math/comparators"),d=e("core/math/types"),m=e("core/types/graphmode"),y=e("core/math/expression-types").ExpressionType,g=e("core/math/distribution-spec").DistributionParameterDefaultsMap,v=e("core/math/workerconfig");s.Base.prototype.analyze=function(e,t){return u(e,this,this.tryGetConcreteTree(e,t))},s.FunctionCall.prototype.analyze=function(e,n){var i=this.tryGetConcreteTree(e,n);return!i.isError&&g[this._symbol]&&0===i.getDependencies().length&&(i=r(i).tryGetConcreteTree(e,n)),t(e,n,this,i)},s.Expression.prototype.analyze=function(e,r){return t(e,r,this,this.tryGetConcreteTree(e,r))},s.FunctionDefinition.prototype.analyze=function(e,t){if(l[this._symbol])return this.asEquation().analyze(e,t);var r=this._symbol.split("_")[0];if(p[r])return u(e,this,f.cannotRedefine(this._symbol,r));var n=this.tryGetConcreteTree(e,t);if(n.isError)return u(e,this,n);var i=this._argSymbols,a=n.getDependencies();if(-1!==a.indexOf(this._symbol))return u(e,this,f.selfReferentialFunction(this._symbol));var o=a.filter(function(e){return-1===i.indexOf(e)});return e.unplottablePolarFunction(this._symbol,a)?u(e,this,f.unplottablePolarFunction()):o.some(e.assignmentForbidden)?u(e,this,f.addArgumentsToDefinition(o,this._symbol,i).setDependencies(a)):o.length?u(e,this,f.tooManyVariables(this.getSliderVariables(e,n)).setDependencies(a)):u(e,this,n)},s.Assignment.prototype.analyze=function(e,t,n){var i=this._symbol;if(!e.validLHS(i))return u(e,this,f.invalidLHS(i));if(l[i])return this.asEquation().analyze(e,t);var a=this.tryGetConcreteTree(e,t);if(!a.isError&&this._expression instanceof s.FunctionCall&&g[this._expression._symbol]&&0===a.getDependencies().length&&(a=r(a).tryGetConcreteTree(e,t)),a.isError)return u(e,this,a);var o=a.getDependencies();if(this.isEquation(a))return this.asEquation().analyze(e,t);if(o.length>1){var c=this.getSliderVariables(e,a);return c.length?u(e,this,f.tooManyVariables(c).allowExport().setDependencies(o)):u(e,this,a)}var p=this.getMoveStrategy(e,t,a,n);if(p){var h=this.getDefaultDragMode(p);return u(e,this,s.MovablePoint(a.args,p,h))}return u(e,this,a)},s.Regression.prototype.analyze=function(e,t,r,n,i){return u(e,this,this.tryOptimize(e,t,r,n,i))},s.Polygon.prototype.analyze=n,s.Histogram.prototype.analyze=n,s.Object3D.prototype.analyze=n,s.DotPlot.prototype.analyze=n,s.BoxPlot.prototype.analyze=n,s.TTest.prototype.analyze=i(c.ttest),s.IndependentTTest.prototype.analyze=i(c.ittest),s.Stats.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(e,t),n=r.getDependencies();if(n.length)return u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n));var i=u(e,this,this.tryGetConcreteTree(e,t));if(!r.isError){i.evaluationState.expression_type=y.STATS;var a=r.args.map(function(e){return e.asValue()});i.evaluationState.stats_results=c.stats.apply(null,a)}return i},s.Equation.prototype.analyze=s.BaseComparator.prototype.analyze=function(e,t){var r="="!==this.getOperator();if(!v.plotInequalities&&r)return u(e,this,f.inequalitiesDisabled());var n=this.trySolve(e,t);if(n.isError)return u(e,this,n);if(n instanceof s.SolvedEquation&&n.getDependencies().length){var i=n.getDependencies().concat(n._symbol);if(!e.validImplicitVariables(i))return u(e,this,f.invalidImplicitVariables().setDependencies(i))}return this.getGraphMode(e,n)!==m.IMPLICIT||e.validImplicitVariables(n.getDependencies())?u(e,this,n):u(e,this,f.invalidImplicitVariables().setDependencies(n.getDependencies()))},s.DoubleInequality.prototype.analyze=function(e,t){if(!v.plotInequalities)return u(e,this,f.inequalitiesDisabled());var r=this.tryGetConcreteTree(e,t);if(r.isError)return u(e,this,r);var n=r.getDependencies();return h.table[this._operators[0]].direction!==h.table[this._operators[1]].direction?u(e,this,f.mismatchedDoubleInequality()):e.validDoubleInequalitySymbol(r._symbol)&&e.validDoubleInequalityVariables(n)?n.length>2?u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):-1!==r._expressions[0].getDependencies().indexOf(r._symbol)||-1!==r._expressions[1].getDependencies().indexOf(r._symbol)?u(e,this,f.complicatedDoubleInequality().setDependencies(n)):u(e,this,r):u(e,this,f.invalidDoubleInequalityVariables().setDependencies(n))},s.And.prototype.analyze=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return u(e,this,r);var n=r.getDependencies();return n.length?e.validDoubleInequalityVariables(n)?u(e,this,f.complicatedDoubleInequality().setDependencies(n)):u(e,this,f.tooManyVariables(this.getSliderVariables(e,r)).setDependencies(n)):u(e,this,r)},s.OrderedPair.prototype.analyze=function(e,r,n){var i=this.tryGetConcreteTree(e,r);if(i.isError)return u(e,this,i);var a=this.getMoveStrategy(e,r,i,n);if(a){var o=this.getDefaultDragMode(a);return u(e,this,s.MovablePoint(i.args,a,o))}return t(e,r,this,i)},s.Table.prototype.analyze=function(e,t){for(var r=Object.create(t),n=[],i=0;i<this.columns.length;i++){var o=this.columns[i].analyze(e,r,t);if(0===i&&(o.concreteTree.isIndependent?e.validFirstColumnVariable(o.concreteTree.header._symbol)?o.concreteTree.header._symbol:o=u(e,this.columns[i],f.invalidFirstTableColumn()):o=u(e,this.columns[i],f.invalidDependentFirstTableColumn())),o.concreteTree.isIndependent)o.rawTree.exportToLocal(o.concreteTree,r);else if(!o.concreteTree.isError){var c=o.concreteTree.header.getDependencies(),l=a(c,r);l.length&&(o=u(e,this.columns[i],f.tooManyVariables(l).setDependencies(l)))}n.push(o.concreteTree)}var p=s.Table(n),h=u(e,this,p);return h.evaluationState.is_graphable=!0,h},s.TableColumn.prototype.analyze=function(e,t,r){var n=this.header.tableError();if(n)return u(e,this,f.invalidTableHeader(n));var i=this.tryGetConcreteTree(e,t,r);if(i.isError)return u(e,this,i);if(i.header.isError)return u(e,this,i.header);if(i.values.isError)return u(e,this,i.values);for(var a=0;a<i.values.length;a++)if(!i.values[a].isError){var o=this.values[a]&&this.values[a].tableError();if(o)i.values[a]=f.invalidTableEntry(o);else{var s=i.values[a].getDependencies();s.length&&(i.values[a]=f.tooManyVariables(s).setDependencies(s))}}return u(e,this,i)},s.Image.prototype.analyze=function(e,t,r){var n=this.tryGetConcreteTree(e,t);if(n.radianAngle.isError||n.center.isError||n.width.isError||n.height.isError||n.opacity.isError)return u(e,this,n);var i=n.center.getDependencies(),a=n.radianAngle.getDependencies(),o=n.width.getDependencies(),c=n.height.getDependencies(),l=n.opacity.getDependencies();return i.length||a.length||o.length||c.length||l.length?u(e,this,s.Image({center:i.length?f.tooManyVariables(a).setDependencies(i):n.center,radianAngle:a.length?f.tooManyVariables(a).setDependencies(a):n.radianAngle,width:o.length?f.tooManyVariables(o).setDependencies(o):n.width,height:c.length?f.tooManyVariables(c).setDependencies(c):n.height,opacity:l.length?f.tooManyVariables(l).setDependencies(l):n.opacity})):(n.moveStrategy=this.getMoveStrategy(e,t,n,r),u(e,this,n))},s.Slider.prototype.analyze=function(e,t){var r,n=this.tryGetConcreteTree(e,t),i=n.sliderInfo;if(i.missingVars.length){var a=o.unique(i.missingVars);r=u(e,this,f.tooManyVariables(e.sliderVariables(a)).setDependencies(a).allowExport())}else r=u(e,this,n);var s=r.evaluationState;if(v.sliders){s.assignment=i.exportedSymbol,s.slider_min_number=i.values.min,s.slider_max_number=i.values.max,s.slider_step_number=i.values.step,s.slider_min_valid=i.valids.min,s.slider_max_valid=i.valids.max,s.slider_step_valid=i.valids.step;var c=s.slider_min_valid&&s.slider_max_valid&&s.slider_step_valid;s.is_slider=!0,s.raw_slider_latex=this.getInputString(),s.is_slidable=c,s.is_animatable=s.is_slidable&&!s.is_graphable,i.errMsg&&(s.error=i.errMsg.getError())}return delete s.is_evaluable,delete s.zero_values,r}}),define("core/math/features/analyzeFourFunction",["require","parsenodes","core/math/statementanalysis","core/math/errormsg","core/math/parsenode/builtinfunction","core/math/builtinconstants"],function(e){"use strict";function t(e,t){return n(e,this,i.inequalitiesUnsupported())}var r=e("parsenodes"),n=e("core/math/statementanalysis"),i=e("core/math/errormsg"),a=e("core/math/parsenode/builtinfunction"),o=e("core/math/builtinconstants");r.Base.prototype.analyzeFourFunction=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):n(e,this,i.parseError())},r.Expression.prototype.analyzeFourFunction=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return n(e,this,r);var s=r.getDependencies();if(s.length>0){var u,c=s[0];return u=a.hasOwnProperty(c)?i.functionUnsupported(c):o.hasOwnProperty(c)?i.constantUnsupported(c):i.variablesUnsupported(c),n(e,this,u)}return n(e,this,r)},r.Assignment.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.assignmentsUnsupported())},r.FunctionDefinition.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.functionDefinitionsUnsupported())},r.Equation.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.equationsUnsupported())},r.And.prototype.analyzeFourFunction=t,r.DoubleInequality.prototype.analyzeFourFunction=t,r.BaseComparator.prototype.analyzeFourFunction=t,r.Regression.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.regressionsUnsupported())},r.OrderedPair.prototype.analyzeFourFunction=function(e,t){return n(e,this,i.pointsUnsupported())}}),define("core/math/features/analyzeScientific",["require","parsenodes","core/math/statementanalysis","core/math/errormsg","core/math/builtinframe"],function(e){"use strict";function t(e,t){return n(e,this,i.inequalitiesUnsupported())}var r=e("parsenodes"),n=e("core/math/statementanalysis"),i=e("core/math/errormsg"),a=e("core/math/builtinframe");r.Base.prototype.analyzeScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):n(e,this,i.parseError())},r.Expression.prototype.analyzeScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return n(e,this,r);var a=r.getDependencies();return a.length>0?n(e,this,i.tooManyVariables(a)):n(e,this,r)},r.Assignment.prototype.analyzeScientific=function(e,t){var r=this._symbol;if(a[r])return n(e,this,i.cannotRedefine(r));var o=this.tryGetConcreteTree(e,t);if(o.isError)return n(e,this,o);var s=o.getDependencies();return this.isEquation(o)?n(e,this,i.equationsUnsupported()):s.length>0?n(e,this,i.tooManyVariables(s)):n(e,this,o)},r.FunctionDefinition.prototype.analyzeScientific=function(e,t){if(a[this._symbol])return n(e,this,i.cannotRedefine(this._symbol));var r=this.tryGetConcreteTree(e,t);if(r.isError)return n(e,this,r);var o=this._argSymbols,s=r.getDependencies();if(-1!==s.indexOf(this._symbol))return n(e,this,i.selfReferentialFunction(this._symbol));var u=s.filter(function(e){return-1===o.indexOf(e)});return u.length?n(e,this,i.addArgumentsToDefinition(u,this._symbol,o)):n(e,this,r)},r.Equation.prototype.analyzeScientific=function(e,t){return n(e,this,i.equationsUnsupported())},r.And.prototype.analyzeScientific=t,r.DoubleInequality.prototype.analyzeScientific=t,r.BaseComparator.prototype.analyzeScientific=t,r.Regression.prototype.analyzeScientific=function(e,t){return n(e,this,i.regressionsUnsupported())},r.OrderedPair.prototype.analyzeScientific=function(e,t){return n(e,this,i.pointsUnsupported())}}),define("core/math/features/analyzeSingleExpressionScientific",["require","parsenodes","core/math/statementanalysis","core/math/errormsg","core/math/parsenode/builtinfunction","core/math/builtinconstants"],function(e){"use strict";function t(e,t){return n(e,this,i.inequalitiesUnsupported())}var r=e("parsenodes"),n=e("core/math/statementanalysis"),i=e("core/math/errormsg"),a=e("core/math/parsenode/builtinfunction"),o=e("core/math/builtinconstants");r.Base.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);return r.isError?n(e,this,r):n(e,this,i.parseError())},r.Expression.prototype.analyzeSingleExpressionScientific=function(e,t){var r=this.tryGetConcreteTree(e,t);if(r.isError)return n(e,this,r);var s=r.getDependencies();if(s.length>0){var u,c=s[0];return u=a.hasOwnProperty(c)?i.functionUnsupported(c):o.hasOwnProperty(c)?i.constantUnsupported(c):i.variablesUnsupported(c),n(e,this,u)}return n(e,this,r)},r.Assignment.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.assignmentsUnsupported())},r.FunctionDefinition.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.functionDefinitionsUnsupported())},r.Equation.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.equationsUnsupported())},r.And.prototype.analyzeSingleExpressionScientific=t,r.DoubleInequality.prototype.analyzeSingleExpressionScientific=t,r.BaseComparator.prototype.analyzeSingleExpressionScientific=t,r.Regression.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.regressionsUnsupported())},r.OrderedPair.prototype.analyzeSingleExpressionScientific=function(e,t){return n(e,this,i.pointsUnsupported())}}),define("core/lib/dragmode",["require","exports"],function(e,t){"use strict";function r(e){return e?"none"===e[0].type&&"none"===e[1].type?i.NONE:"none"===e[1].type?i.X:"none"===e[0].type?i.Y:i.XY:i.NONE}function n(e,t){var n=r(t);switch(e){case i.NONE:return i.NONE;case i.AUTO:case i.XY:return n;case i.X:return n===i.X||n===i.XY?i.X:i.NONE;case i.Y:return n===i.Y||n===i.XY?i.Y:i.NONE;default:return i.NONE}}Object.defineProperty(t,"__esModule",{value:!0});var i;!function(e){e.NONE="NONE",e.X="X",e.Y="Y",e.XY="XY",e.AUTO="AUTO"}(i=t.DragMode||(t.DragMode={})),t.reconcileDragMode=n}),define("core/math/features/getgraphmode",["require","parsenodes","core/types/graphmode","core/lib/dragmode","core/lib/dragmode","core/math/types"],function(e){"use strict";function t(e,t){var r;return r=e&&e.hasOwnProperty("dragMode")?e.dragMode===u.AUTO?t.defaultDragMode:e.dragMode:t.defaultDragMode,s(r,t.moveStrategy)}function r(e,r){var n=r.getDependencies();switch(r.valueType){case c.Point:case c.ListOfPoint:return r.isMovablePoint&&t(this.userData,r)!==u.NONE?o.XYPOINT_MOVABLE:0===n.length?o.XYPOINT:e.validParametricVariables(n)?2===e.dimensions()?o.PARAMETRIC:o.PARAMETRIC_CURVE_3D:o.NONE;case c.Number:case c.ListOfNumber:return 2===e.dimensions()&&1===n.length?o.Y:3===e.dimensions()&&2===n.length?o.Z_3D:o.NONE;default:return o.NONE}}function n(e,t){var r=t._expression.getDependencies();if(r.length>1)return o.NONE;if(t._expression.valueType!==c.Number&&t._expression.valueType!==c.ListOfNumber)return o.NONE;var n=t._symbol;return e.graphMode(n,r)}function i(e,t){return t.isError?o.NONE:o.VISUALIZATION}var a=e("parsenodes"),o=e("core/types/graphmode"),s=e("core/lib/dragmode").reconcileDragMode,u=e("core/lib/dragmode").DragMode,c=e("core/math/types");a.Base.prototype.getGraphMode=function(e,t){return o.NONE},a.Expression.prototype.getGraphMode=r,a.Equation.prototype.getGraphMode=a.BaseComparator.prototype.getGraphMode=function(e,t){var r=t.getDependencies();return t.isConstant?o.NONE:t instanceof a.SolvedEquation?0===r.length?e.graphableAsConstant(t._symbol)?e.constantGraphMode(t._symbol):o.NONE:n(e,t):r.length<=2?o.IMPLICIT:o.NONE},a.DoubleInequality.prototype.getGraphMode=function(e,t){return e.constantGraphMode(t._symbol)},a.Assignment.prototype.getGraphMode=function(e,t){if(t instanceof a.SolvedEquation)return n(e,t);if(this.isEquation(t))return this.asEquation().getGraphMode(e,t);var i=t.getDependencies();switch(t.valueType){case c.Number:case c.ListOfNumber:switch(i.length){case 0:return e.graphableAsConstant(this._symbol)?e.constantGraphMode(this._symbol):o.NONE;case 1:return t.valueType!==c.ListOfNumber||e.graphableListVariables(this._symbol,i[0])?this.isSlider?o.NONE:e.graphMode(this._symbol,i):o.NONE;case 2:return 3===e.dimensions()&&"z"===this._symbol?o.Z_3D:o.NONE;default:return o.NONE}break;default:return r.call(this,e,t)}},a.FunctionDefinition.prototype.getGraphMode=function(e,t){if(1!==this._argSymbols.length)return o.NONE;var r=e.graphMode(this._symbol,this._argSymbols),n=t.getDependencies();switch(t.valueType){case c.Number:case c.ListOfNumber:switch(n.length){case 0:return r;case 1:return n[0]!==this._argSymbols[0]?o.NONE:r;default:return o.NONE}break;default:return o.NONE}},a.Regression.prototype.getGraphMode=function(e,t){return this.isLhsSimple&&t.isModelValid?1!==t.model.getDependencies().length?o.NONE:o.Y:o.NONE},a.Polygon.prototype.getGraphMode=function(e,t){return t.isError?o.NONE:o.POLYGONFILL},a.Object3D.prototype.getGraphMode=function(e,t){return t.isError?o.NONE:o.OBJECT3D},a.Histogram.prototype.getGraphMode=i,a.DotPlot.prototype.getGraphMode=i,a.BoxPlot.prototype.getGraphMode=i,a.Image.prototype.getGraphMode=function(e,t){return this.userData.showPoints?this.center.isError||this.radianAngle.isError||this.width.isError||this.height.isError||this.opacity.isError?o.NONE:o.XYPOINT:o.NONE}}),define("core/math/features/getgraphinfo",["require","parsenodes","core/math/builtinframe","core/math/domaintypes","core/math/policy"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/builtinframe"),n=e("core/math/domaintypes"),i=e("core/math/policy").defaultPolicy;t.Base.prototype.getGraphInfo=function(e,t){var r,i,a=t.getDependencies();switch(a.length){case 0:r=t.getLinearCoefficients(),i=t.boundDomain("x");break;case 1:i=t.boundDomain(a[0]),"known"===i.type&&(r=t.getLinearCoefficients());break;case 2:i=n.unknownDomain()}return{graphMode:this.getGraphMode(e,t),color:this.userData.color,pointStyle:this.userData.pointStyle,lineStyle:this.userData.lineStyle,operator:this.getOperator(),isLinear:!!r,linearCoefficients:r,domainBound:i}},t.Base.prototype.getLinearCoefficients=function(){var e=this.getDependencies();switch(e.length){case 0:return[+this.asValue(),0];case 1:if(this.polynomialOrder(e[0])>1)return;var t=this.getPolynomialCoefficients(e[0]);return[t[0]?+t[0].tryGetConcreteTree(i,r).asValue():0,t[1]?+t[1].tryGetConcreteTree(i,r).asValue():0];default:return}},t.OrderedPair.prototype.getLinearCoefficients=function(){var e=this.args[0].getLinearCoefficients(),t=this.args[1].getLinearCoefficients();if(e&&t)return[e,t]}}),define("core/math/features/getMoveStrategy",["require","parsenodes","core/math/types","core/math/maybe-rational","core/math/builtinframe","core/math/functions"],function(e){"use strict";function t(e){return{type:"none",inputString:e}}function r(e){return{type:"updateCoordinate",inputString:e}}function n(e,t,r){return{type:"updateSlider",inputString:e,id:t,coefficients:r}}function i(e,t,r,n){return{type:"updateSliderNonlinear",inputString:e,id:t,initialValue:r.constant_value,min:r.slider_min_number,max:r.slider_max_number,compiled:n}}function a(e,t,r,n,i,a){for(var o=t.getDependencies(),s=0;s<o.length;s++)if(i[o[s]])return!1;for(var u=o.length-1;u>=0;u--){var c=o[u];if(!a[c]){var l=n[c];if(void 0!==l){var p=r[c];if(1===p.order){var f=p.tree,d=f.getPolynomialCoefficients(c),y=d[1]?d[1].getConcreteTree(e,h):m,g=d[0]?d[0].getConcreteTree(e,h):m;if(g.isConstant&&y.isConstant&&isFinite(g.asValue())&&isFinite(y.asValue())&&0!==y.asValue()){return{symbol:c,id:l,coefficients:[-g.asValue()/y.asValue(),1/y.asValue()]}}}}}}return!1}function o(e){for(var t={},r=0;r<e.length;r++)t[e[r]]=!0;return t}function s(e,t){var r=o(e),n={};for(var i in t){var a=t[i].evaluationState.assignment;t[i].evaluationState.is_slidable&&r[a]&&(n[a]=i)}return n}function u(e,t,r,n){for(var i=[],a=0;a<r.length;a++){var o=r[a],s={};i.push(s);for(var u=0;u<n.length;u++){var c=n[u],p=Object.create(t);p[c]=l.FreeVariable(c);var f=o.tryGetConcreteTree(e,p);f.isError?s[c]={tree:f,order:1/0}:s[c]={tree:f,order:f.polynomialOrder(c)}}}return i}function c(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];0!==t[i].order&&(r[i]=!0)}}var l=e("parsenodes"),p=e("core/math/types"),f=e("core/math/maybe-rational").maybeRational,h=e("core/math/builtinframe"),d=e("core/math/functions"),m=l.Constant(f(0,1));l.Base.prototype.getMoveStrategy=function(){},l.Assignment.prototype.getMoveStrategy=function(e,t,r,n){if(this._expression instanceof l.OrderedPair)return this._expression.getMoveStrategy(e,t,r,n)},l.OrderedPair.prototype.getMoveStrategy=function(e,o,f,h){if(f.valueType===p.Point&&0===f.getDependencies().length){for(var m=this.getDependencies(),y=s(m,h),g=Object.keys(y),v=this.args,b=u(e,o,v,g),x=[],_={},S={},M=0;M<2;M++){var E=v[M],D=E.getInputString();if(E.isConstant)x[M]=r(D);else{var w=a(e,E,b[M],y,_,S);w&&(x[M]=n(D,w.id,w.coefficients),_[w.symbol]=!0,c(g,b[M],S)),x[M]||(x[M]=t(D))}}if("none"!==x[0].type||"none"!==x[1].type)return x;if(1===g.length){var T,P=g[0],I=y[P];try{T=l.OrderedPair([b[0][P].tree,b[1][P].tree]).getCompiledFunction()}catch(e){return}return d.dehydrateCompiledFunction(T),[i(v[0].getInputString(),I,h[I].evaluationState,T),t(v[1].getInputString())]}}},l.Image.prototype.getMoveStrategy=function(e,i,o,l){if((!this.userData||!1!==this.userData.shouldGraph)&&"OrderedPair"===o.center.type&&o.center.args[0].isConstant&&o.center.args[1].isConstant&&o.width.isConstant&&o.height.isConstant&&o.radianAngle.isConstant&&o.opacity.isConstant){var p=this.getDependencies(),f=s(p,l),h=Object.keys(f),d=[this.width,this.height];"OrderedPair"===this.center.type&&d.push(this.center.args[0],this.center.args[1]);for(var m=[],y={},g={},v=u(e,i,d,h),b=[2,3,0,1],x=0;x<b.length;x++){var _=b[x],S=d[_];if(S){var M=S.getInputString();if(S.isConstant)m[_]=r(M);else{var E=a(e,S,v[_],f,y,g);E&&(m[_]=n(M,E.id,E.coefficients),y[E.symbol]=!0,c(h,v[_],g)),m[_]||(m[_]=t(M))}}else m[_]=t("")}if("none"!==m[0].type||"none"!==m[1].type||"none"!==m[2].type||"none"!==m[3].type)return m}}}),define("core/math/features/getDefaultDragMode",["require","parsenodes","core/lib/dragmode"],function(e){"use strict";var t=e("parsenodes"),r=e("core/lib/dragmode").DragMode;t.Base.prototype.getMoveStrategy=function(){return r.NONE},t.Assignment.prototype.getDefaultDragMode=function(e){return"none"!==e[0].type&&"none"!==e[1].type?r.XY:"none"!==e[0].type?r.X:"none"!==e[1].type?r.Y:r.NONE},t.OrderedPair.prototype.getDefaultDragMode=function(e){return"updateSlider"===e[0].type&&"updateSlider"===e[1].type?r.XY:"updateSlider"===e[0].type?r.X:"updateSlider"===e[1].type?r.Y:r.NONE}}),define("core/math/features/tableinfo",["require","parsenodes","core/math/types","core/lib/label","core/math/distribution-spec"],function(e){"use strict";var t=e("parsenodes"),r=t.List,n=e("core/math/types"),i=e("core/lib/label"),a=e("core/math/distribution-spec").getFunctionSpecFromTree;t.Base.prototype.tableInfo=function(e,t){return!1},t.Identifier.prototype.tableInfo=function(e,t){return!!e.validFirstColumnVariable(this._symbol)&&{independent_variable:this._symbol,dependent_column:this.getInputString(),by_reference:!1}},t.Expression.prototype.tableInfo=function(e,t){var i=t.getDependencies();if(a(this))return!1;switch(t.valueType){case n.Point:case n.ListOfPoint:if(0!==i.length)return!1;if(t.isMovablePoint&&("updateSlider"===t.moveStrategy[0].type||"updateSlider"===t.moveStrategy[1].type))return!1;return{independent_variable:"x",dependent_column:"y",by_reference:!1,values:r.wrap(t).mapElements(e,function(e){return e.asArray()})};case n.Number:if(1!==i.length)return!1;var o=i[0];return!!e.validFirstColumnVariable(o)&&{independent_variable:o,dependent_column:this.getInputString(),by_reference:!1};default:return!1}},t.Assignment.prototype.tableInfo=function(e,r){if(r instanceof t.SolvedEquation)return!1;if(!this.getInputString().length)return!1;if(a(this))return!1;var n=r.getDependencies();if(n.length>1)return!1;var o;if(0===n.length){if(!e.tableableAsConstant(this._symbol))return!1;o=e.implicitIndependent(this._symbol)}else o=n[0];return!!e.validFirstColumnVariable(o)&&{independent_variable:o,dependent_column:e.assignmentForbidden(this._symbol)?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!e.assignmentForbidden(this._symbol)}},t.FunctionDefinition.prototype.tableInfo=function(e,t){if(1!==this._argSymbols.length)return!1;if(!this.getInputString().length)return!1;if(t.getDependencies().length>1)return!1;var r=this._argSymbols[0];if(!e.validFirstColumnVariable(r))return!1;var n=e.assignmentForbidden(this._symbol);return{independent_variable:r,dependent_column:n?i.trimLatex(this.getInputString().replace(/[^=]*=/,"")):i.trimLatex(this.getInputString().split("=")[0]),by_reference:!n}},t.BaseComparator.prototype.tableInfo=function(e,t){return!1},t.DoubleInequality.prototype.tableInfo=function(e,t){return!1},t.Equation.prototype.tableInfo=function(e,t){return!1}}),define("core/math/features/tableerror",["require","parsenodes","core/lib/worker-i18n"],function(e){"use strict";var t=e("parsenodes"),r=e("core/lib/worker-i18n");t.Base.prototype.tableError=function(){return this.isInequality()?r.t("Inequalities are not allowed."):!(this instanceof t.Expression)&&r.t("This type of expression is not allowed.")},t.List.prototype.tableError=function(){return r.t("Lists are not allowed.")},t.Equation.prototype.tableError=t.Assignment.prototype.tableError=function(){return r.t("Equations are not allowed.")},t.FunctionDefinition.prototype.tableError=function(){return r.t("Function definitions are not allowed.")},t.Regression.prototype.tableError=function(){return r.t("Regressions are not allowed.")}}),define("core/lib/deepCopy",["require","exports"],function(e,t){"use strict";function r(e){var t=e;if(t&&"function"==typeof t.toJSON&&(t=t.toJSON()),!t)return t;if("object"!=typeof t)return t;if(Array.isArray(t))return t.map(r);var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=r(t[i]));return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r}),define("core/types/styles",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.POINT="POINT",e.OPEN="OPEN",e.CROSS="CROSS"}(t.PointStyle||(t.PointStyle={}));!function(e){e.SOLID="SOLID",e.DASHED="DASHED",e.DOTTED="DOTTED"}(t.LineStyle||(t.LineStyle={}))}),define("core/math/cdf-branches",["require","exports","tslib","core/lib/deepCopy","core/math/plotter","core/math/domaintypes","core/types/styles"],function(e,t,r,n,i,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(e,t){var n=e.segments,i=t.segments,a=r.__spreadArrays(n,i);return r.__assign(r.__assign({},e),{segments:a})},u=function(e){var t=e.viewState,r=e.graphInfo,s=e.compiled,u=e.derivative,c=e.bounds,l=e.included,p=e.discrete,f=n.default(r),h=a.intersectDomains(r.domainBound,a.knownDomain(c));if("known"===h.type)return f.domainBound=h,p?f.pointStyle=l?o.PointStyle.POINT:o.PointStyle.OPEN:f.lineStyle=o.LineStyle.SOLID,i.default.computeGraphData({graphInfo:f,viewState:t,compiled:s,derivative:u,discrete:p})};t.makeCDFTopBranches=function(e){var t,r=e.viewState,n=e.graphInfo,a=e.compiled,o=e.derivative,c=e.bounds,l=e.discrete,p=e.maxOverride,f=c[0],h=c[1],d=[];if(l){f=Math.ceil(f),h=Math.floor(h);var m=void 0!==p?p:1/0;if(f===-1/0&&h>=m)t=u({bounds:[f,m],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),d.push(t);else if(f===-1/0&&h<1/0)t=u({bounds:[f,h],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),d.push(t),d.push(u({bounds:[h+1,m],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}));else if(f>-1/0&&h>=m)t=u({bounds:[f,m],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),d.push(u({bounds:[-1/0,f-1],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l})),d.push(t);else{t=u({bounds:[f,h],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l});var y=u({bounds:[-1/0,f-1],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),g=u({bounds:[h+1,m],included:!1,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l});d.push(t);var v=void 0;y&&g&&(v=s(y,g),d.push(v))}}else t=u({bounds:[f,h],included:!0,viewState:r,graphInfo:n,compiled:a,derivative:o,discrete:l}),d.push(i.default.computeGraphData({viewState:r,graphInfo:n,compiled:a,derivative:o}));return{cdfTopBranch:t,topBranches:d}}}),define("core/math/copy-defined-pois",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){for(var t=[],r=[],n=e.length,i=0;i<n;i++)t.push(e[i][0]),r.push(e[i][1]);return{defined:{x:t,y:r}}};t.default=r}),define("core/types/opacity",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOW=.2,t.DEFAULT=.4,t.HIGH=.8}),define("core/types/slider-loop-modes",["require","exports"],function(e,t){"use strict";function r(e){switch(e){case n.LOOP_FORWARD:return"dcg-icon-arrow-one-way";case n.LOOP_FORWARD_REVERSE:return"dcg-icon-arrow-two-way";case n.PLAY_ONCE:return"dcg-icon-arrow-once";case n.PLAY_INDEFINITELY:return"dcg-icon-arrow-infinite"}}
Object.defineProperty(t,"__esModule",{value:!0});var n;!function(e){e.LOOP_FORWARD_REVERSE="LOOP_FORWARD_REVERSE",e.LOOP_FORWARD="LOOP_FORWARD",e.PLAY_ONCE="PLAY_ONCE",e.PLAY_INDEFINITELY="PLAY_INDEFINITELY"}(n=t.SliderLoopMode||(t.SliderLoopMode={})),t.getSliderIcon=r}),define("core/types/label-sizes",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(t.LabelSize||(t.LabelSize={}))}),define("core/types/label-orientations",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});!function(e){e.DEFAULT="default",e.LEFT="left",e.RIGHT="right",e.ABOVE="above",e.BELOW="below"}(t.LabelOrientation||(t.LabelOrientation={}))}),define("core/lib/default-spec",["require","exports","underscore","core/lib/deepCopy"],function(e,t,r,n){"use strict";function i(e,t){var n={};for(var i in t)t.hasOwnProperty(i)&&(r.isEqual(e[i],t[i])||(n[i]=t[i]));return n}function a(e,t){var n=void 0,i={};for(var a in t)t.hasOwnProperty(a)&&(r.isEqual(e[a],t[a])||(i[a]=t[a],n=i));return n}function o(e,t){t||(t={});var r={};for(var i in e)e.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(r[i]=n.default(e[i]));for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);return r}Object.defineProperty(t,"__esModule",{value:!0}),t.stripDefaults=i,t.stripDefaultsAndMaybeReturnUndefined=a,t.populateDefaults=o}),define("core/graphing-calc/json/expression",["require","exports","tslib","core/types/opacity","core/types/styles","core/lib/dragmode","core/types/slider-loop-modes","core/types/label-sizes","core/types/label-orientations","core/lib/default-spec"],function(e,t,r,n,i,a,o,s,u,c){"use strict";function l(e){return r.__assign(r.__assign(r.__assign({},t.DEFAULTS),e),{slider:r.__assign(r.__assign({},t.SLIDER_DEFAULTS),e.slider),cdf:r.__assign(r.__assign({},t.CDF_DEFAULTS),e.cdf),vizProps:r.__assign(r.__assign({},t.VIZ_DEFAULTS),e.vizProps),clickableInfo:r.__assign(r.__assign({},t.CLICKABLEINFO_DEFAULTS),e.clickableInfo)})}function p(e){var n=c.stripDefaults(t.DEFAULTS,r.__assign(r.__assign({},e),{slider:c.stripDefaults(t.SLIDER_DEFAULTS,e.slider)})),i=c.stripDefaultsAndMaybeReturnUndefined(t.CDF_DEFAULTS,e.cdf);void 0===i?delete n.cdf:n.cdf=i;var a=c.stripDefaultsAndMaybeReturnUndefined(t.VIZ_DEFAULTS,e.vizProps);void 0===a?delete n.vizProps:n.vizProps=a;var o=c.stripDefaultsAndMaybeReturnUndefined(t.CLICKABLEINFO_DEFAULTS,e.clickableInfo);return void 0===o?delete n.clickableInfo:n.clickableInfo=o,n}function f(e){return{type:"statement",id:e.id,latex:e.latex,label:e.label,color:e.color,fill:e.fill,fillOpacity:e.fillOpacity,lineWidth:e.lineWidth,points:e.points,lines:e.lines,pointStyle:e.pointStyle,lineStyle:e.lineStyle,dragMode:e.dragMode,labelSize:e.labelSize,labelOrientation:e.labelOrientation,verticalLabel:e.verticalLabel,suppressTextOutline:e.suppressTextOutline,interactiveLabel:e.interactiveLabel,editableLabelMode:e.editableLabelMode,residualVariable:e.residualVariable,regressionParameters:e.regressionParameters,isLogModeRegression:e.isLogModeRegression,showLabel:e.showLabel,shouldGraph:e.hidden,slider:{min:e.slider.hardMin?e.slider.min:"",max:e.slider.hardMax?e.slider.max:"",step:e.slider.step},parametricDomain:e.parametricDomain,polarDomain:e.polarDomain,cdf:e.cdf,vizProps:e.vizProps,clickableInfo:e.clickableInfo}}Object.defineProperty(t,"__esModule",{value:!0}),t.CDF_DEFAULTS={show:!1,min:"",max:""},t.VIZ_DEFAULTS={breadth:"",axisOffset:"",alignedAxis:"x",binAlignment:"center",dotplotXMode:"exact",dotplotSize:"medium",histogramMode:""},t.CLICKABLEINFO_DEFAULTS={enabled:!1,description:"",assignment:"",expression:""};var h;!function(e){e.None="NONE",e.Math="MATH",e.Text="TEXT"}(h=t.EditableLabelMode||(t.EditableLabelMode={})),t.DEFAULT_SLIDER_PERIOD=4e3,t.DEFAULTS={folderId:"",latex:"",color:"",showLabel:!1,label:"",cdf:t.CDF_DEFAULTS,vizProps:t.VIZ_DEFAULTS,clickableInfo:t.CLICKABLEINFO_DEFAULTS,hidden:!1,secret:!1,dragMode:a.DragMode.AUTO,labelSize:s.LabelSize.MEDIUM,labelOrientation:u.LabelOrientation.DEFAULT,verticalLabel:!1,suppressTextOutline:!1,interactiveLabel:!1,editableLabelMode:h.None,residualVariable:"",isLogModeRegression:!1,pointStyle:i.PointStyle.POINT,lineStyle:i.LineStyle.SOLID,fillOpacity:""+n.DEFAULT,lineWidth:"",regressionParameters:{},displayEvaluationAsFraction:!1,slider:{},polarDomain:{min:"",max:""},parametricDomain:{min:"",max:""},points:void 0,lines:void 0,fill:void 0},t.SLIDER_DEFAULTS={hardMin:!1,hardMax:!1,animationPeriod:t.DEFAULT_SLIDER_PERIOD,loopMode:o.SliderLoopMode.LOOP_FORWARD_REVERSE,playDirection:1,isPlaying:!1,min:"-10",max:"10",step:""},t.inflateDefaults=l,t.stripDefaults=p,t.computeParsableState=f}),define("core/math/features/graph",["require","underscore","parsenodes","core/math/plotter","core/types/graphmode","core/math/comparators","core/lib/dragmode","core/math/expression-types","core/math/types","core/math/builtin","core/math/cdf-branches","core/math/copy-defined-pois","core/math/distribution-spec","core/graphing-calc/json/expression"],function(e){"use strict";function t(e,t){for(var r=1/0,n=-1/0,i=1/0,a=-1/0,o=0;o<t.length;o++)for(var s=t[o],u=0;u<s.length;u+=2){var c=s[u],l=s[u+1];c<r&&(r=c),c>n&&(n=c),l<i&&(i=l),l>a&&(a=l)}if(isFinite(r)&&isFinite(i))return{type:e,xmin:r,ymin:i,xmax:n,ymax:a}}function r(e,t,r){var n={};r-=.5*t;for(var i=e.length-1;i>=0;i--){var a=e[i],o=Math.floor((a-r)/t);n[o]?n[o].data.push(a):n[o]={id:o,data:[a],min:o*t+r,max:o*t+r+t,center:o*t+r+t/2}}return n}function n(e){return Array.prototype.concat.apply([],e)}function i(e,t,r){return!!e&&(0===t&&0===r?"none"!==e[2].type||"none"!==e[3].type:0!==t&&0!==r?"none"!==e[0].type&&"none"!==e[1].type:0!==t?"none"!==e[0].type:0!==r&&"none"!==e[1].type)}var a=e("underscore"),o=e("parsenodes"),s=e("core/math/plotter").default,u=e("core/types/graphmode"),c=e("core/math/comparators"),l=e("core/lib/dragmode").DragMode,p=e("core/math/expression-types").getReconciledExpressionProps,f=e("core/math/types"),h=o.List,d=e("core/math/builtin"),m=e("core/math/cdf-branches").makeCDFTopBranches,y=e("core/math/copy-defined-pois").default,g=e("core/math/distribution-spec").getFunctionSpecFromTree,v=e("core/graphing-calc/json/expression").EditableLabelMode;o.Base.prototype._graph=function(e,t,r,i){function c(e,t){if(e){var r,n,i,a,o,s,u,c,l=e.discrete?"discreteDistribution":"continuousDistribution";if("binomialdist"===e.symbol)return n=t.args[1].asValue(),i=t.args.length>2?t.args[2].asValue():.5,r=d.binompdf(i*n,n,i),{type:l,xmin:0,xmax:n,ymin:0,ymax:r};if("poissondist"===e.symbol)return a=t.args[1].asValue(),r=Math.max(d.poissonpdf(Math.floor(a),a),d.poissonpdf(Math.ceil(a),a)),{type:l,xmin:0,xmax:2.5*a,ymin:0,ymax:r};if("normaldist"===e.symbol)return a=t.args.length>1?t.args[1].asValue():0,o=t.args.length>2?t.args[2].asValue():1,r=d.normalpdf(a,a,o),{type:l,xmin:a-2*Math.abs(o),xmax:a+2*Math.abs(o),ymin:0,ymax:r};if("uniformdist"===e.symbol)return s=t.args.length>1?t.args[1].asValue():0,u=t.args.length>2?t.args[2].asValue():1,a=(s+u)/2,c=u-s,r=d.uniformpdf(a,s,u),{type:l,xmin:s-c/3,xmax:u+c/3,ymin:0,ymax:r};if("tdist"===e.symbol){var p=t.args[1].asValue();return r=d.tpdf(0,p),{type:l,xmin:-3,xmax:3,ymin:0,ymax:r}}}}function l(e){var t=e.editableLabelMode;return t===v.Text||t===v.Math}if(t instanceof o.SolvedEquation)return this._graph(e,t._expression,r,i);var b,x,_,S,M,E=this,D=t.getExpressionType(i.graphMode,t.valueType),w=p(D,{points:this.userData.points,lines:this.userData.lines,fill:this.userData.fill});switch(i.graphMode){case u.XYPOINT_MOVABLE:return b=[t.asArray()],_=this.userData.shouldGraph&&w.points,M=this.userData.showLabel&&!_,_?[{segments:[b],graphMode:i.graphMode,color:this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,labelSize:this.userData.labelSize,labelOrientation:this.userData.labelOrientation,verticalLabel:this.userData.verticalLabel,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:l(this.userData),labels:this.computedLabels||[],poi:y(b)}]:M?[{segments:[b],graphMode:u.XYPOINT,color:this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,nakedLabel:!0,labelSize:this.userData.labelSize,labelOrientation:this.userData.labelOrientation,verticalLabel:this.userData.verticalLabel,suppressTextOutline:this.userData.suppressTextOutline,editableLabel:l(this.userData),labels:this.computedLabels||[],poi:y(b)}]:[];case u.XYPOINT:return x=[],b=h.wrap(t).mapElements(e,function(e){return e.asArray()}),_=this.userData.shouldGraph&&w.points,S=this.userData.shouldGraph&&w.lines,M=this.userData.showLabel&&!_&&!S,(this.userData.showLabel||_)&&x.push({segments:[b],graphMode:i.graphMode,color:this.userData.color,style:this.userData.pointStyle,showLabel:!!this.userData.showLabel,showPoint:_,labelSize:this.userData.labelSize,labelOrientation:this.userData.labelOrientation,verticalLabel:this.userData.verticalLabel,suppressTextOutline:this.userData.suppressTextOutline,interactiveLabel:!!this.userData.interactiveLabel,editableLabel:l(this.userData),nakedLabel:M,labels:this.computedLabels||[],poi:y(b)}),S&&x.push({segments:[b].map(n),graphMode:u.PARAMETRIC,color:this.userData.color,style:this.userData.lineStyle,lineWidth:this.metaData.computedLineWidth,poi:[]}),x;case u.PARAMETRIC:case u.PARAMETRIC_CURVE_3D:var T=this.userData,P=[];if(x=h.wrap(t).mapElements(e,function(t){if(0===t.getDependencies().length)return b=[t.asArray()],{segments:[b],graphMode:u.XYPOINT,color:T.color,style:T.lineStyle,lineWidth:E.metaData.computedLineWidth,poi:y(b)};var n=t.getCompiledFunction(),a=E.getGraphInfo(e,t);return a.graphMode=i.graphMode,a.domain={min:E.metaData.evaluatedDomainMin,max:E.metaData.evaluatedDomainMax},a.style=E.userData.lineStyle,a.lineWidth=E.metaData.computedLineWidth,s.computeGraphData({viewState:r,graphInfo:a,compiled:n})}),w.fill){if(x.forEach(function(e){P.push({segments:e.segments,color:T.color,fillOpacity:E.metaData.computedFillOpacity,graphMode:u.POLYGONFILL,poi:[]})}),!w.lines)return P;x=x.concat(P)}return x;case u.X:case u.Y:case u.IMPLICIT:case u.POLAR:case u.Z_3D:x=[];var I=t.valueType===f.Number;return h.wrap(t).eachElement(e,function(t){var n,o=i.graphMode===u.IMPLICIT||i.graphMode===u.Z_3D?t.getCompiledFunction(["x","y"]):t.getCompiledFunction(),l=g(E),p=l&&l.discrete,f=c(l,t);try{n=t.getCompiledDerivative()}catch(e){}var h=E.getGraphInfo(e,t);h.graphMode=i.graphMode,h.style=E.userData.lineStyle,h.lineWidth=E.metaData.computedLineWidth,i.graphMode===u.POLAR&&(h.domain={min:E.metaData.evaluatedDomainMin,max:E.metaData.evaluatedDomainMax,isExplicit:E.metaData.isExplicitDomain});var d=E.metaData.evaluatedCDFMin,v=E.metaData.evaluatedCDFMax;if(isNaN(d)||isNaN(v)||!I){var b={viewState:r,graphInfo:h,compiled:o,derivative:n,discrete:p};l&&"binomialdist"===l.symbol&&(b.maxOverride=t.args[1].asValue());var _=s.computeGraphData(b);f&&(_.boundingBox=f),_.fillSegments?x.push(a.omit(_,"fillSegments")):p?x.push({graphMode:u.XYPOINT,segments:[_.segments],showPoint:E.userData.shouldGraph,color:E.userData.color,style:_.style,boundingBox:f,poi:y(_.segments)}):x.push(_),h.graphMode===u.IMPLICIT&&"="!==h.operator&&x.push({graphMode:u.POLYGONFILL,segments:_.fillSegments,poi:{}})}else{var S={viewState:r,graphInfo:h,compiled:o,derivative:n,bounds:[d,v],discrete:p};l&&"binomialdist"===l.symbol&&(S.maxOverride=t.args[1].asValue());var M=m(S),D=M.cdfTopBranch,w=a.each(M.topBranches,function(e){e&&(e.boundingBox=f)});if(a.every(w,function(e){return void 0!==e}))if(p){if(x=w.map(function(e){return{graphMode:u.XYPOINT,segments:[e.segments],showPoint:E.userData.shouldGraph,color:E.userData.color,style:e.style,poi:y(e.segments),boundingBox:f}}),D&&D.segments.length){var T=[];D.segments.forEach(function(e){T.push([e[0],0,e[0],e[1]])}),x.push({graphMode:u.PARAMETRIC,segments:T,boundingBox:f,poi:{}})}}else if(x=w,D&&D.segments.length){var P,C,O,A;for(P=0;P<D.segments.length;P++)if(C=D.segments[P],C.length>=4){O=C[0];break}for(P=D.segments.length-1;P>=0;P--)if(C=D.segments[P],C.length>=4){A=C[C.length-2];break}if(isFinite(O)&&isFinite(A)){var L=s.polygonsFromSegments(D.segments,[[O,0,A,0]],D.graphMode);x.push({graphMode:u.POLYGONFILL,segments:L,poi:{}})}}}}),x;default:return!1}},o.Base.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t,r,n)},o.BaseComparator.prototype.graph=function(e,t,r){var n=this,i=this.getGraphInfo(e,t),a=i.graphMode;if(a===u.IMPLICIT)return this._graph(e,t,r,i);if(a===u.NONE)return!1;if(!(t instanceof o.SolvedEquation))return!1;var l=this.getOperator(),p=[],f=[],h=!0;t._expression.eachElement(e,function(e){p.push(e.getCompiledFunction());try{f.push(e.getCompiledDerivative())}catch(e){h=!1}}),h||(f=void 0);var d,m,y=[],g=[-1,0,0,1],v=p.length;for(m=0;m<v;m++){var b=this.getGraphInfo(e,t._expression.args[m]);b.graphMode=a,b.style=n.userData.lineStyle,i.graphMode===u.POLAR&&(b.domain={min:n.metaData.evaluatedDomainMin,max:n.metaData.evaluatedDomainMax,isExplicit:n.metaData.isExplicitDomain}),d=s.computeGraphData({viewState:r,graphInfo:b,compiled:p[m],derivative:f?f[m]:void 0}),d.operator=c.get(c.table[l].inclusive,g[m%4]),y.push(d)}for(m=0;m<v;m+=4){var x=s.polygonsFromSegments(y[m+1].segments,y[m+2].segments,a);y.push({graphMode:u.POLYGONFILL,segments:x,poi:{}})}return y},o.DoubleInequality.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);if(n.graphMode===u.NONE)return!1;var i=[],a=c.get(c.table[this._operators[0]].inclusive,0),o=c.get(c.table[this._operators[1]].inclusive,0),l=this.userData,p=this.metaData,f=this;return h.eachArgs(e,t._expressions,function(t){var c,h;t[0].userData=t[1].userData=l,t[0].metaData=t[1].metaData=p,c=f._graph(e,t[0],r,n)[0],c.operator=a,i.push(c),h=f._graph(e,t[1],r,n)[0],h.operator=o,i.push(h);var d=s.polygonsFromSegments(c.segments,h.segments,c.graphMode);i.push({graphMode:u.POLYGONFILL,segments:d,poi:{}})}),i},o.Regression.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return this._graph(e,t.model,r,n)},o.Polygon.prototype.graph=function(e,t,r){for(var i=this.getGraphInfo(e,t),a=t.args[0].asValue(),o=[],s=void 0===this.userData.lines||this.userData.lines,c=void 0===this.userData.fill||this.userData.fill,l=[],p=[],f=0;f<a.length;f++){var h=a[f][0],d=a[f][1];isFinite(h)&&isFinite(d)?(s||c)&&p.push([h,d]):(s||c)&&(p.length>1&&l.push(p),p=[])}if(l.length||p.length){p.push([a[0][0],a[0][1]]),l.push(p);var m=l.map(n);c&&o.push({segments:m,graphMode:u.POLYGONFILL,poi:[],color:i.color,fillOpacity:this.metaData.computedFillOpacity,style:i.style}),s&&o.push({segments:m,graphMode:u.PARAMETRIC,poi:[],color:i.color,style:this.userData.lineStyle,lineWidth:this.metaData.computedLineWidth})}return o};var b=function(e,t){var r=[];return h.wrap(t).eachElement(e,function(e){r.push(e.args.map(function(e){return e.asValue()}))}),r};o.Object3D.prototype.graph=function(e,t,r){var n=this.getGraphInfo(e,t);return[{segments:[b(e,t)],color:n.color,objectName:this._symbol,poi:[],graphMode:u.OBJECT3D}]},o.Histogram.prototype.graph=function(e,n,i){var a=this.getGraphInfo(e,n),o=n.args[0].asValue(),s=n.args[1].asValue(),c=this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?s/2:0,l=r(o,s,c),p=1;this.userData.vizProps&&"density"===this.userData.vizProps.histogramMode?p=1/(o.length*s):this.userData.vizProps&&"relative"===this.userData.vizProps.histogramMode&&(p=1/o.length);var f=[],h=[];for(var d in l){var m=l[d],y=m.data.length;h.push([m.min,0*p,m.min,y*p,m.max,y*p,m.max,0*p]);var g=0;l[m.id+1]&&(g=l[m.id+1].data.length);var v=[m.min,0*p,m.min,y*p,m.max,y*p];g<y&&v.push(m.max,g*p),f.push(v)}var b=t("histogram",h);return b&&s&&(b.binWidth=s),[{segments:h,graphMode:u.POLYGONFILL,boundingBox:b,poi:[],color:a.color,fillOpacity:.4},{segments:f,graphMode:u.Y,poi:{zeros:{x:[],y:[]},extrema:{x:[],y:[]},intercept:{x:[],y:[]}},color:a.color}]},o.DotPlot.prototype.graph=function(e,n,i){var a,o,s,c,l=this.getGraphInfo(e,n),p=n.args[1].asValue(),f=this.userData.vizProps&&"left"===this.userData.vizProps.binAlignment?p/2:0,h=r(n.args[0].asValue(),p,f),d=!1,m=[];for(o in h){s=h[o];for(var g=s.data.length-1;g>=0;g--)s.center!==s.data[g]&&(d=!0)}if(this.userData.vizProps&&"exact"===this.userData.vizProps.dotplotXMode)for(o in h)for(s=h[o],c=s.data,c.reverse(),a=0;a<c.length;a++)m.push([c[a],a+1]);else for(o in h)for(s=h[o],c=s.data,a=0;a<c.length;a++)m.push([s.center,a+1]);var v=t("dotplot",m);return v&&p&&(v.ymin=0,v.xmin-=.5*p,v.xmax+=.5*p,v.binWidth=p),[{segments:[m],graphMode:u.XYPOINT,boundingBox:v,poi:y(m),color:l.color,style:this.userData.pointStyle,pointSize:this.userData.vizProps&&this.userData.vizProps.dotplotSize,showPoint:!0,needsDotplotXMode:d}]},o.BoxPlot.prototype.graph=function(e,r,n){var i=this.getGraphInfo(e,r),a=this.metaData.evaluatedAxisOffset,o=this.metaData.evaluatedBreadth,s=r.args[0].asValue();if(isNaN(o)||isNaN(a))return{};var c=Math.min.apply(null,s),l=Math.max.apply(null,s),p=d.quartile(s,1),f=d.quartile(s,2),h=d.quartile(s,3),m=a,y=m-o/2,g=m+o/2,v=o/10,b=[[p,y,h,y,h,g,p,g,p,y],[f,y,f,g],[p,m,c,m],[h,m,l,m],[c,m-v,c,m+v],[l,m-v,l,m+v]];if(this.userData.vizProps&&"y"===this.userData.vizProps.alignedAxis)for(var x=0;x<b.length;x++)for(var _=b[x],S=0;S<_.length;S+=2){var M=_[S];_[S]=_[S+1],_[S+1]=M}return[{segments:b,graphMode:u.PARAMETRIC,boundingBox:t("boxplot",b),poi:[],color:i.color}]},o.Table.prototype.isValueDraggable=function(e,t,r){if(!e.columns[t].isIndependent)return!1;var n=this.columns[t],i=n.values,a=i&&i[r];return!(!a||!isFinite(a.asValue())||0!==a._dependencies.length)},o.Table.prototype.graph=function(e,t,r){var i=[];if(t.columns[0].isError)return i;for(var a=t.columns[0],o=a.values,s=1;s<this.columns.length;s++){var c=t.columns[s];if(!c.isError){var p=this.columns[s].header.userData;if(!p.hidden){for(var f=p.dragMode,h=f===l.X||f===l.XY,d=f===l.Y||f===l.XY,m=!!p.points,g=!!p.lines,v=c.isDiscrete(a),b=g&&v,x=g&&!v,_=[],S=[],M=[],E=[],D=[],w=[],T=1/0,P=-1/0,I=1/0,C=-1/0,O=0;O<o.length;O++){var A=o[O],L=c.values[O];if(A&&L&&isFinite(A.asValue())&&isFinite(L.asValue())){var N=A.asValue(),q=L.asValue();if(m){var F=h&&this.isValueDraggable(t,0,O),R=d&&this.isValueDraggable(t,s,O);F||R?(M.push([N,q]),E.push({index:O,dragX:F,dragY:R})):S.push([N,q])}b&&w.push([N,q]),N<T&&(T=N),N>P&&(P=N),q<I&&(I=q),q>C&&(C=q)}else b&&(w.length>1&&D.push(w),w=[])}var V={type:"table",xmin:T,xmax:P,ymin:I,ymax:C};if(M.length&&_.push({graphMode:u.XYPOINT_MOVABLE,segments:[M],color:p.color,tableId:p.tableId,poi:y(M),movablePointInfo:E,boundingBox:V}),S.length&&_.push({segments:[S],graphMode:u.XYPOINT,showPoint:!0,poi:y(S),color:p.color,style:p.pointStyle,tableId:p.tableId,boundingBox:V}),(D.length||w.length)&&(D.push(w),_.push({segments:D.map(n),graphMode:u.PARAMETRIC,poi:[],color:p.color,style:p.lineStyle,tableId:p.tableId,boundingBox:V})),x){var k=this.columns[s].header.graph(e,t.columns[s].header,r);k.length&&Array.prototype.push.apply(_,k)}_.length&&(i[p.id]=_)}}}return i},o.Image.prototype.graph=function(e,t,r){var n=[];if(!("OrderedPair"===t.center.type&&t.center.args[0].isConstant&&t.center.args[1].isConstant&&t.radianAngle.isConstant&&t.width.isConstant&&t.height.isConstant&&t.opacity.isConstant))return n;for(var a=[],o=[],s=t.width.asValue()/2,c=t.height.asValue()/2,l=t.radianAngle.asValue(),p=-1;p<=1;p++)for(var f=-1;f<=1;f++){var h=[t.center.args[0].asValue()+p*s*Math.cos(l)+f*c*Math.sin(l),t.center.args[1].asValue()-p*s*Math.sin(l)+f*c*Math.cos(l)],d=i(t.moveStrategy,p,f);d&&(a.push(h),o.push([p,f]))}return n.push({segments:[a],scaleFactors:[o],graphMode:u.XYPOINT_MOVABLE,color:this.userData.color,style:this.userData.style,poi:y(a)}),n}}),define("core/math/features/elementAt",["require","parsenodes","core/math/builtinframe"],function(e){"use strict";function t(e,t){for(var r=0;r<this.length;r++)t(this.elementAt(e,r))}function r(e,t){for(var r=[],n=0;n<this.length;n++)r.push(t(this.elementAt(e,n)));return r}var n=e("parsenodes"),i=e("core/math/builtinframe");n.List.prototype.elementAt=function(e,t){return t=Math.floor(t),t>=0&&t<this.args.length?this.args[t]:n.Constant(NaN)},n.Broadcast.prototype.elementAt=function(e,t){if((t=Math.floor(t))<0||t>=this.length)return n.Constant(NaN);for(var r={},a=0;a<this._replacedSymbols.length;a++)r[this._replacedSymbols[a]]=this._lists[a].elementAt(e,t);return this._expression.substitute(r).getConcreteTree(e,i)},n.List.prototype.eachElement=t,n.Broadcast.prototype.eachElement=t,n.List.prototype.mapElements=r,n.Broadcast.prototype.mapElements=r,n.OrderedPair.prototype.elementAt=function(e,t){switch(t){case 0:return this.args[0];case 1:return this.args[1];default:return n.Constant(NaN)}}}),define("core/lib/number-to-latex",["require","exports"],function(e,t){"use strict";function r(e){if("string"==typeof e)return e;if(void 0===e)return"";var t=e+"";return t=t.replace(/1e\\+?([-\\d]+)/,"10^{$1}"),t=t.replace(/([-\\d\\.]+)e\\+?([-\\d]+)/,"$1\\\\cdot 10^{$2}")}function n(e){var t=e+"";if(/\\d+\\.?\\d*e[\\+\\-]*\\d+/i.test(t)){var r=String(t).toLowerCase().split("e"),n=parseFloat(r[0]),i=parseInt(r[1],10),a=Math.abs(i),o=Math.abs(n).toString().split(".");if(i<0)t="0."+new Array(a).join("0")+o.join("");else{var s=o[1];s&&(a-=s.length),t=o.join("")+new Array(a+1).join("0")}n<0&&(t="-"+t)}return t}function i(e,t){void 0===t&&(t=2);var r=n(e),i=r.indexOf(".");if(-1===i)return r;for(var a,o=i+1;o<r.length;o++)if(a){if(r[o]!==a)break}else{if("0"!==r[o]&&"9"!==r[o])break;a=r[o]}return r.substr(0,Math.max(i+5,o+t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.numberToDecimalString=n,t.numberToStatsConfidenceLatex=i}),define("core/math/features/printLatex",["require","parsenodes","core/lib/label","core/lib/number-to-latex"],function(e){"use strict";function t(){return u.identifierToLatex(this._symbol)+" "}function r(e){switch(e){case">":return"\\\\gt ";case"<":return"\\\\lt ";case">=":return"\\\\ge ";case"<=":return"\\\\le ";case"=":return"="}}function n(e){return e.printLatex()}function i(){switch(this._symbol){case"sqrt":return"\\\\sqrt{"+this.args[0].printLatex()+"}";case"nthroot":return"\\\\sqrt["+this.args[1].printLatex()+"]{"+this.args[0].printLatex()+"}";case"logbase":return"\\\\log_{"+this.args[1].printLatex()+"}\\\\left("+this.args[0].printLatex()+"\\\\right)";default:return u.identifierToLatex(this._symbol)+"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"}}function a(e){return e.isConstant&&!0===e.asValue()}function o(e){return e.isConstant&&e.isNaN()}var s=e("parsenodes"),u=e("core/lib/label"),c=e("core/lib/number-to-latex").default;s.Identifier.prototype.printLatex=t,s.FreeVariable.prototype.printLatex=t,s.Constant.prototype.printLatex=function(){return c(this.asValue())},s.Negative.prototype.printLatex=function(){return"-\\\\left("+this.args[0].printLatex()+"\\\\right)"},s.Add.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)+\\\\left("+this.args[1].printLatex()+"\\\\right)"},s.PercentOf.prototype.printLatex=function(){return this.args[0].printLatex()+" \\\\% \\\\operatorname{of} "+this.args[1].printLatex()},s.Subtract.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)-\\\\left("+this.args[1].printLatex()+"\\\\right)"},s.Multiply.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)*\\\\left("+this.args[1].printLatex()+"\\\\right)"},s.Divide.prototype.printLatex=function(){return"\\\\frac{"+this.args[0].printLatex()+"}{"+this.args[1].printLatex()+"}"},s.Exponent.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)^{"+this.args[1].printLatex()+"}"},s.Assignment.prototype.printLatex=function(){return u.identifierToLatex(this._symbol)+"="+this._expression.printLatex()},s.Equation.prototype.printLatex=function(){return this._lhs.printLatex()+"="+this._rhs.printLatex()},s.BaseComparator.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+r(this.operator)+"\\\\left("+this.args[1].printLatex()+"\\\\right)"},s.DoubleInequality.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)"+r(this.args[1])+this.args[2].printLatex()+r(this.args[3])+"\\\\left("+this.args[4].printLatex()+"\\\\right)"},s.And.prototype.printLatex=function(){if(!(this.args[0]instanceof s.BaseComparator&&this.args[1]instanceof s.BaseComparator))throw new Error("Not implemented");if(this.args[0].args[1].printLatex()!==this.args[1].args[0].printLatex())throw new Error("Not implemented");return"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)"+r(this.args[0].operator)+"\\\\left("+this.args[0].args[1].printLatex()+"\\\\right)"+r(this.args[1].operator)+"\\\\left("+this.args[1].args[1].printLatex()+"\\\\right)"},s.NativeFunction.prototype.printLatex=i,s.TypedFunction.prototype.printLatex=i,s.ReducerFunction.prototype.printLatex=i,s.ParametrizedReducerFunction.prototype.printLatex=i,s.DoubleReducerFunction.prototype.printLatex=i,s.FunctionCall.prototype.printLatex=i,s.Distribution.prototype.printLatex=i,s.SeededFunctionCall.prototype.printLatex=function(){return u.identifierToLatex(this._symbol)+"\\\\left("+this.args.slice(1).map(n).join(", ")+"\\\\right)"},s.DotAccess.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")"},s.DotAccessExponent.prototype.printLatex=function(){return"("+this.args[0].printLatex()+").("+this.args[1].printLatex()+")^{"+this.args[2].printLatex()+"}"},s.Prime.prototype.printLatex=function(){switch(this.args[0]._symbol){case"logbase":return"\\\\log_{"+this.args[0].args[1].printLatex()+"}"+Array(this.order+1).join("'")+"\\\\left("+this.args[0].args[0].printLatex()+"\\\\right)";default:return u.identifierToLatex(this.args[0]._symbol)+Array(this.order+1).join("'")+"\\\\left("+this.args[0].args.map(n).join(", ")+"\\\\right)"}},s.List.prototype.printLatex=function(){return"\\\\left["+this.args.map(n).join(", ")+"\\\\right]"},s.Range.prototype.printLatex=function(){return"\\\\left["+this.args[0].args.map(n).join(", ")+" ... "+this.args[1].args.map(n).join(", ")+"\\\\right]"},s.ListAccess.prototype.printLatex=function(){return"\\\\left("+this.args[0].printLatex()+"\\\\right)\\\\left["+this.args[1].printLatex()+"\\\\right]"},s.OrderedPair.prototype.printLatex=function(){return"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.Sum.prototype.printLatex=function(){return"\\\\sum_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},s.Product.prototype.printLatex=function(){return"\\\\prod_{"+this.args[0].printLatex()+"="+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)"},s.Integral.prototype.printLatex=function(){return"\\\\int_{"+this.args[1].printLatex()+"}^{"+this.args[2].printLatex()+"}\\\\left("+this.args[3].printLatex()+"\\\\right)d"+this.args[0].printLatex()},s.FunctionExponent.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)^{"+this.args[2].printLatex()+"}"},s.FunctionFactorial.prototype.printLatex=function(){return this.args[0].printLatex()+"\\\\left("+this.args[1].printLatex()+"\\\\right)!"},s.Piecewise.prototype.printLatex=function(){var e=this;if(a(e.args[0]))return e.args[1].printLatex();for(var t=["\\\\left\\\\{"];;){if(a(e.args[0])){t.push(e.args[1].printLatex());break}if(t.push(e.args[0].printLatex(),": "),o(e.args[2])){t.push(e.args[1].printLatex());break}if(t.push(e.args[1].printLatex(),", "),!(e.args[2]instanceof s.Piecewise)){t.push(e.args[2].printLatex());break}e=e.args[2]}return t.push("\\\\right\\\\}"),t.join("")},s.FunctionDefinition.prototype.printLatex=function(){return u.identifierToLatex(this._symbol)+"\\\\left("+this._argSymbols.map(u.identifierToLatex).join(", ")+"\\\\right) = "+this._expression.printLatex()},s.Derivative.prototype.printLatex=function(){return"\\\\frac{d}{d"+u.identifierToLatex(this._symbol)+"}\\\\left("+this.args[0].printLatex()+"\\\\right)"},s.Regression.prototype.printLatex=function(){return"\\\\left("+this._lhs.printLatex()+"\\\\right)\\\\sim\\\\left("+this._rhs.printLatex()+"\\\\right)"},s.Polygon.prototype.printLatex=function(){return"\\\\polygon\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.Histogram.prototype.printLatex=function(){return"\\\\histogram\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.Object3D.prototype.printLatex=function(){return"\\\\"+this._symbol+"\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.DotPlot.prototype.printLatex=function(){return"\\\\dotplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.BoxPlot.prototype.printLatex=function(){return"\\\\boxplot\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.TTest.prototype.printLatex=function(){return"\\\\TTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.IndependentTTest.prototype.printLatex=function(){return"\\\\IndependentTTest\\\\left("+this.args.map(n).join(", ")+"\\\\right)"},s.Stats.prototype.printLatex=function(){return"\\\\Stats\\\\left("+this.args.map(n).join(", ")+"\\\\right)"}}),define("core/math/features/statistics",["require","parsenodes","core/math/maybe-rational"],function(e){"use strict";var t=e("parsenodes"),r=t.BuiltInFunction,n=e("core/math/maybe-rational").maybeRational,i=t.Constant(n(0,1)),a=t.Constant(n(1,1)),o=t.Constant(n(2,1)),s=t.Constant(n(1,2)),u=t.Constant(-1/0);r.normaldist.prototype.pdf=function(e){return r.normalpdf([e[0],this.args[0],this.args[1]])},r.normaldist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.normalcdf([t,n,this.args[0],this.args[1]])},r.normaldist.prototype.mean=function(){return this.args[0]},r.normaldist.prototype.median=function(){return this.args[0]},r.normaldist.prototype.stdev=function(){return r.abs([this.args[1]])},r.normaldist.prototype.var=function(){return t.Exponent([this.args[1],o])},r.normaldist.prototype.quantile=function(e){return t.Add([t.Multiply([r.invNorm(e),this.stdev()]),this.mean()])},r.normaldist.prototype.sample=function(e){return r.normalSample([e[0],this.args[0],this.args[1]])},r.tdist.prototype.pdf=function(e){return r.tpdf([e[0],this.args[0]])},r.tdist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.tcdf([t,n,this.args[0]])},r.tdist.prototype.mean=function(){return i},r.tdist.prototype.median=function(){return i},r.tdist.prototype.quantile=function(e){return r.invT([e[0],this.args[0]])},r.tdist.prototype.sample=function(e){return r.tSample([e[0],this.args[0]])},r.tdist.prototype.stdev=function(){return r.sqrt([this.var()])},r.tdist.prototype.var=function(){var e=this.args[0];return t.Piecewise([t.Comparator[">="]([e,o]),t.Divide([e,t.Subtract([e,o])]),t.Constant(NaN)])},r.poissondist.prototype.pdf=function(e){return r.poissonpdf([e[0],this.args[0]])},r.poissondist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.poissoncdf([t,n,this.args[0]])},r.poissondist.prototype.mean=function(){return this.args[0]},r.poissondist.prototype.median=function(){return r.invPoisson([s,this.args[0]])},r.poissondist.prototype.stdev=function(){return r.sqrt([this.args[0]])},r.poissondist.prototype.var=function(){return this.args[0]},r.poissondist.prototype.quantile=function(e){return r.invPoisson([e[0],this.args[0]])},r.poissondist.prototype.sample=function(e){return r.poissonSample([e[0],this.args[0]])},r.binomialdist.prototype.pdf=function(e){return r.binompdf([e[0],this.args[0],this.args[1]])},r.binomialdist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.binomcdf([t,n,this.args[0],this.args[1]])},r.binomialdist.prototype.mean=function(){return t.Multiply([this.args[0],this.args[1]])},r.binomialdist.prototype.median=function(){return r.invBinom([s,this.args[0],this.args[1]])},r.binomialdist.prototype.stdev=function(){return r.sqrt([this.var()])},r.binomialdist.prototype.var=function(){var e=this.args[0],r=this.args[1];return t.Multiply([e,t.Multiply([r,t.Subtract([a,r])])])},r.binomialdist.prototype.quantile=function(e){return r.invBinom([e[0],this.args[0],this.args[1]])},
r.binomialdist.prototype.sample=function(e){return r.binomSample([e[0],this.args[0],this.args[1]])},r.uniformdist.prototype.pdf=function(e){return r.uniformpdf([e[0],this.args[0],this.args[1]])},r.uniformdist.prototype.cdf=function(e){var t,n;return 1===e.length?(t=u,n=e[0]):(t=e[0],n=e[1]),r.uniformcdf([t,n,this.args[0],this.args[1]])},r.uniformdist.prototype.mean=function(){return t.Divide([t.Add([this.args[0],this.args[1]]),o])},r.uniformdist.prototype.median=function(){return t.Divide([t.Add([this.args[0],this.args[1]]),o])},r.uniformdist.prototype.stdev=function(){return r.sqrt([this.var()])},r.uniformdist.prototype.var=function(){return t.Divide([t.Exponent([t.Subtract([this.args[1],this.args[0]]),o]),t.Constant(n(12,1))])},r.uniformdist.prototype.quantile=function(e){return r.invUniform([e[0],this.args[0],this.args[1]])},r.uniformdist.prototype.sample=function(e){return r.uniformSample([e[0],this.args[0],this.args[1]])},t.List.prototype.sample=function(e){return t.ListAccess([this,t.Add([r.floor([t.Multiply([r.uniformSample([e[0],i,a]),t.Constant(n(this.length,1))])]),a])])}}),define("core/math/features/getExpressionType",["require","parsenodes","core/types/graphmode","core/math/expression-types","core/math/types"],function(e){"use strict";var t=e("parsenodes"),r=e("core/types/graphmode"),n=e("core/math/expression-types").ExpressionType,i=e("core/math/types");t.Base.prototype.getExpressionType=function(e,t){return e===r.X||e===r.Y?n.X_OR_Y:e===r.XYPOINT||e===r.XYPOINT_MOVABLE?t===i.Point?n.SINGLE_POINT:n.POINT_LIST:e===r.PARAMETRIC?n.PARAMETRIC:e===r.PARAMETRIC_CURVE_3D?n.PARAMETRIC:e===r.POLAR?n.POLAR:e===r.IMPLICIT?n.IMPLICIT:n.X_OR_Y},t.Polygon.prototype.getExpressionType=function(e,t){return n.POLYGON},t.Histogram.prototype.getExpressionType=function(e,t){return n.HISTOGRAM},t.Object3D.prototype.getExpressionType=function(e,t){return n.CUBE},t.DotPlot.prototype.getExpressionType=function(e,t){return n.DOTPLOT},t.BoxPlot.prototype.getExpressionType=function(e,t){return n.BOXPLOT}}),define("core/math/features/findLinearSubset",["require","parsenodes","core/math/maybe-rational"],function(e){"use strict";var t=e("parsenodes"),r=e("core/math/maybe-rational").maybeRational,n=t.Constant(r(0,1)),i=t.Constant(r(-1,0));t.Expression.prototype.findLinearSubset=function(e){for(var t=[],r=0;r<e.length;r++)t.push(!this.dependsOn(e[r]));return t},t.FreeVariable.prototype.findLinearSubset=function(e){for(var t=[],r=0;r<e.length;r++)t.push(!0);return t},t.Add.prototype.findLinearSubset=function(e){for(var t=[],r=this.args[0].findLinearSubset(e),n=this.args[1].findLinearSubset(e),i=0;i<e.length;i++)t.push(r[i]&&n[i]);return t},t.Subtract.prototype.findLinearSubset=t.Add.prototype.findLinearSubset,t.Negative.prototype.findLinearSubset=function(e){return this.args[0].findLinearSubset(e)},t.Multiply.prototype.findLinearSubset=function(e){for(var t=this.args[0].findLinearSubset(e).slice(),r=this.args[1].findLinearSubset(e).slice(),n=0,i=0,a=0;a<e.length;a++)t[a]=t[a]&&!this.args[1].dependsOn(e[a]),t[a]&&(n+=1),r[a]=r[a]&&!this.args[0].dependsOn(e[a]),r[a]&&(i+=1);return n>=i?t:r},t.Divide.prototype.findLinearSubset=function(e){for(var t=this.args[0].findLinearSubset(e),r=[],n=0;n<e.length;n++)r.push(t[n]&&!this.args[1].dependsOn(e[n]));return r},t.List.prototype.findLinearSubset=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(!0);for(var n=0;n<this.args.length;n++){var i=this.args[n].findLinearSubset(e);for(t=0;t<e.length;t++)r[t]=r[t]&&i[t]}return r},t.Broadcast.prototype.findLinearSubset=function(e){for(var r=this._replacedSymbols,a=this._expression,o=this._lists,s={},u=0;u<o.length;u++){for(var c=o[u].findLinearSubset(e),l=n,p=0;p<e.length;p++)c[p]?o[u].dependsOn(e[p])&&(l=t.Add([l,t.FreeVariable(e[p])])):l=t.Add([l,t.Exponent([t.FreeVariable(e[p]),i])]);s[r[u]]=l}return a.substitute(s).findLinearSubset(e)},t.Piecewise.prototype.findLinearSubset=function(e){for(var t=this.args[0],r=this.args[1].findLinearSubset(e),n=this.args[2].findLinearSubset(e),i=[],a=0;a<e.length;a++)i.push(!t.dependsOn(e[a])&&r[a]&&n[a]);return i}}),define("core/math/features/deriveRegressionRestrictions",["require","parsenodes","core/math/types","core/math/domaintypes"],function(e){"use strict";function t(e){for(var t=1/0,r=-1/0,n=e.length,i=0;i<e.length;i++)t=Math.min(t,e[i]),r=Math.max(r,e[i]);return{min:t,max:r,length:n}}function r(e,t,r){if("known"!==r.type)return e;var n=i.And([i.Comparator["<="]([i.Constant(r.bounds[0]),i.FreeVariable(t)]),i.Comparator["<="]([i.FreeVariable(t),i.Constant(r.bounds[1])])]);return i.Multiply([e,i.Piecewise([n,i.Constant(1),i.Constant(NaN)])])}function n(e){for(var t,r=this.args[0],n=this.getDependencies(),a={},o=0;o<n.length;o++)if(e.listStatistics.hasOwnProperty(n[o])){if(void 0!==t)return{};t=n[o]}if(void 0===t)return{};if(1!==r.polynomialOrder(t))return{};var s=r.getPolynomialCoefficients(t),u=s[1],c=s[1].getDependencies();if(1!==c.length)return{};var l=c[0];if(1!==u.polynomialOrder(l))return{};var p=e.listStatistics[t],f=(p.max-p.min)/Math.min(p.length-1,31),h=Math.PI/f;return isFinite(h)?h<=0?{}:(a[l]=i.Piecewise([i.And([i.Comparator["<="]([i.Constant(0),u]),i.Comparator["<"]([u,i.Constant(h)])]),i.Constant(1),i.Constant(NaN)]).boundDomain(l),a):{}}var i=e("parsenodes"),a=e("core/math/types"),o=e("core/math/domaintypes");i.Base.prototype.deriveRegressionRestrictions=function(){return this},i.Broadcast.prototype.deriveRegressionRestrictions=function(){for(var e=this._replacedSymbols,n=this._expression,o=this._lists,s={},u=0;u<e.length;u++)0===o[u].getDependencies().length&&o[u].valueType===a.ListOfNumber&&(s[e[u]]=t(o[u].asValue()));var c,l=n._deriveRegressionRestrictions({listStatistics:s});for(c in l)if("known"!==l[c].type)return this;var p=n;for(c in l)p=r(p,c,l[c]);return i.Broadcast(e,[p].concat(o))},i.Base.prototype._deriveRegressionRestrictions=function(e){return{}},i.Expression.prototype._deriveRegressionRestrictions=function(e){for(var t={},r=0;r<this.args.length;r++){var n=this.args[r]._deriveRegressionRestrictions(e);for(var i in n)t[i]=t[i]?o.intersectDomains(t[i],n[i]):n[i]}return t},i.BuiltInFunction.sin.prototype._deriveRegressionRestrictions=n,i.BuiltInFunction.cos.prototype._deriveRegressionRestrictions=n,i.Exponent.prototype._deriveRegressionRestrictions=function(e){for(var t=this.args[0],r=this.args[1],n=t.getDependencies(),a=r.getDependencies(),o={},s=!1,u=0;u<a.length;u++)if(e.listStatistics.hasOwnProperty(a[u])){s=!0;break}if(!s)return{};if(1!==n.length)return{};var c=n[0];return e.listStatistics.hasOwnProperty(c)?{}:1!==t.polynomialOrder(c)?{}:(o[c]=i.Piecewise([i.Comparator[">="]([t,i.Constant(0)]),i.Constant(1),i.Constant(NaN)]).boundDomain(c),o)},i.Piecewise.prototype._deriveRegressionRestrictions=function(e){for(var t={},r=this.getDependencies(),n=0;n<r.length;n++)t[r[n]]=o.unknownDomain();return t}}),define("parser",["require","core/math/baseparser","core/math/features/getConcreteTree","core/math/features/getValueType","core/math/features/typeCheck","core/math/features/repr","core/math/features/scalarEvalExpression","core/math/features/constantcollapsedcopy","core/math/features/polynomialorder","core/math/features/polynomialcoefficients","core/math/features/extractconditions","core/math/features/piecewiseDependsOn","core/math/features/bounddomain","core/math/features/derivative","core/math/features/substitute","core/math/features/isImplicit","core/math/features/solve","core/math/features/analyze","core/math/features/analyzeFourFunction","core/math/features/analyzeScientific","core/math/features/analyzeSingleExpressionScientific","core/math/features/getgraphmode","core/math/features/getgraphinfo","core/math/features/getMoveStrategy","core/math/features/getDefaultDragMode","core/math/features/tableinfo","core/math/features/tableerror","core/math/features/graph","core/math/features/elementAt","core/math/features/printLatex","core/math/features/statistics","core/math/features/getExpressionType","core/math/features/findLinearSubset","core/math/features/deriveRegressionRestrictions"],function(e){"use strict";var t=e("core/math/baseparser");return e("core/math/features/getConcreteTree"),e("core/math/features/getValueType"),e("core/math/features/typeCheck"),e("core/math/features/repr"),e("core/math/features/scalarEvalExpression"),e("core/math/features/constantcollapsedcopy"),e("core/math/features/polynomialorder"),e("core/math/features/polynomialcoefficients"),e("core/math/features/extractconditions"),e("core/math/features/piecewiseDependsOn"),e("core/math/features/bounddomain"),e("core/math/features/derivative"),e("core/math/features/substitute"),e("core/math/features/isImplicit"),e("core/math/features/solve"),e("core/math/features/analyze"),e("core/math/features/analyzeFourFunction"),e("core/math/features/analyzeScientific"),e("core/math/features/analyzeSingleExpressionScientific"),e("core/math/features/getgraphmode"),e("core/math/features/getgraphinfo"),e("core/math/features/getMoveStrategy"),e("core/math/features/getDefaultDragMode"),e("core/math/features/tableinfo"),e("core/math/features/tableerror"),e("core/math/features/graph"),e("core/math/features/elementAt"),e("core/math/features/printLatex"),e("core/math/features/statistics"),e("core/math/features/getExpressionType"),e("core/math/features/findLinearSubset"),e("core/math/features/deriveRegressionRestrictions"),t}),define("core/math/finddependencyorder",["require","core/math/builtinframe","underscore"],function(e){"use strict";function t(e,t,i){function a(e){g[e]=g[e]||{};var r,n=g[e];n.id=e,n.index=v,n.lowlink=v,b.push(n),n.instack=!0,v++;for(var i=t[e].getDependencies(),u=0;u<i.length;u++){var c=i[u];if(d.hasOwnProperty(c))for(var l=d[c],p=0;p<l.length;p++){var f=l[p];g.hasOwnProperty(f)?(r=g[f],r.instack&&(n.lowlink=Math.min(n.lowlink,r.index))):(a(f),r=g[f],n.lowlink=Math.min(n.lowlink,r.lowlink))}}if(n.lowlink===n.index)if(r=b.pop(),r.instack=!1,r===n)o(n);else{for(var h=[r];;)if(r=b.pop(),r.instack=!1,h.push(r),r===n)break;s(h)}}function o(e){x.push(e.id)}function s(r){var i,a,o=[];for(a=r.length-1;a>=0;a--){i=r[a];var s=t[i.id].getLegalExports(e);Array.prototype.push.apply(o,s),o.push(s[0]),x.push(i.id)}for(o=n.unique(o),o.sort(),a=0;a<o.length;a++)y[o[a]]=o}var u,c,l,p,f,h=[],d={},m={},y={},g={},v=0,b=[],x=[];if(!i){i=[];for(u in t)t.hasOwnProperty(u)&&i.push(u)}for(u in t)if(t.hasOwnProperty(u)){for(f=t[u].exportPenalty||0;h.length<f+1;)h.push([]);h[f].push(u)}for(f=0;f<h.length;f++){var _={};for(c=0;c<h[f].length;c++){u=h[f][c];var S=t[u].getLegalExports(e);for(l=0;l<S.length;l++)p=S[l],r[p]||d[p]||(_[p]=_[p]||[],_[p].push(u),_[p].length>1&&(m[p]=!0))}for(p in _)d[p]=_[p]}for(c=0;c<i.length;c++)g.hasOwnProperty(i[c])||a(i[c]);return{resolved:x,multiplyDefined:m,cyclicallyDefined:y}}var r=e("core/math/builtinframe"),n=e("underscore");return t}),define("core/math/findIntersections",["require","core/types/graphmode","./plotter","parsenodes","core/math/distance"],function(e){"use strict";function t(e){for(var t=[],r=0;r<e;r++)t[r]={x:[],y:[],intersects:[]};return t}function r(e,t,r,n){return r===l.X&&n===l.X||r===l.Y&&n===l.Y?function(r){return t(r)-e(r)}:(r===l.X&&n===l.Y||r===l.Y&&n===l.X)&&function(r){return r-t(e(r))}}function n(e,t){t instanceof f.SolvedEquation?t=t._expression:t instanceof f.OptimizedRegression&&(t=t.model);var r=[],n=[];return t instanceof f.DoubleInequality?f.List.eachArgs(e,t._expressions,function(e){r.push(e[0].getCompiledFunction()),n.push(e[0].isConstant&&e[1].isNaN()),r.push(e[1].getCompiledFunction()),n.push(e[1].isConstant&&e[1].isNaN())}):f.List.wrap(t).eachElement(e,function(e){r.push(e.getCompiledFunction()),n.push(e.isConstant&&e.isNaN())}),{functions:r,skipIntersecting:n}}function i(e,t){var r=[];for(var i in e)if(e.hasOwnProperty(i)&&String(i)!==String(t)&&e[i].shouldIntersect()){var a=e[i],o=n(a.policy,a.concreteTree);r.push({id:i,graphMode:a.getGraphMode(),functions:o.functions,skipIntersecting:o.skipIntersecting})}return r}function a(e,t){e.intersects=Array(e.x.length);for(var r=0;r<e.x.length;r++)e.intersects[r]=t}function o(e,t){if(t===l.X){var r=e.y;e.y=e.x,e.x=r}}function s(e,t){Array.prototype.push.apply(e.x,t.x),Array.prototype.push.apply(e.y,t.y),Array.prototype.push.apply(e.intersects,t.intersects)}function u(e,t,r){var n=p.sampleXY(e,t),i=n.poi.zeros,a=n.poi.extrema,o=[],s=0,u=0;for(s=0;s<i.x.length;s++){for(;u<a.x.length&&a.x[u]<i.x[s];u++)h.approx(a.y[u],0)&&o.push(a.x[u]);o.push(i.x[s])}for(;u<a.x.length;u++)h.approx(a.y[u],0)&&o.push(a.x[u]);return{x:o,y:o.map(r)}}function c(e,c,l){var f=e[l],h=f.getGraphInfo(),m=f.getGraphMode(),y=n(f.policy,f.concreteTree),g=t(y.functions.length),v=i(e,l);if(!v)return g;for(var b=0,x=0;x<v.length;x++)for(var _=v[x],S=0;S<y.functions.length;S++)if(!y.skipIntersecting[S])for(var M=y.functions[S].fn,E=p.computeDomain(c,h,M),D=0;D<_.functions.length;D++)if(!v[x].skipIntersecting[D]){var w=_.functions[D].fn,T=r(M,w,m,_.graphMode);if(T){var P=u(T,E,M);if((b+=P.x.length)>d)return t(y.functions.length);a(P,_.id),o(P,m),s(g[S],P)}}return g}var l=e("core/types/graphmode"),p=e("./plotter").default,f=e("parsenodes"),h=e("core/math/distance"),d=100;return{findIntersections:c,findIndicatorZeros:u}}),define("core/math/interpolatedlabel",["require","exports","parsenodes","core/math/types","core/lib/label","./policy"],function(e,t,r,n,i,a){"use strict";function o(e){return!(e.length<2)&&("\`"===e[0]&&"\`"===e[e.length-1])}function s(e){for(var t,r=["[a-zA-Z][0-9]*","[a-zA-Z]_[a-zA-Z0-9]+","[a-zA-Z]_\\\\{[a-zA-Z0-9]+\\\\}"],n="\\\\$({"+r.join("})|\\\\$({")+"})",i=new RegExp(n,"g"),a=[],o=0,s=0;t=i.exec(e);){s=t.index,s>o&&a.push(e.substr(o,s-o));var u=t[0],c=u.replace(/[{}\\$]/g,"").replace(/^([a-zA-Z])([0-9]+)$/,"$1_$2");a.push({symbol:c,str:u}),o=t.index+u.length}return o<e.length&&a.push(e.substr(o)),{raw:e,parts:a}}function u(e,t){return t?"{"+i.truncatedLatexLabel(e,{bigCutoff:1e7,digits:8})+"}":i.truncatedPlainmathLabel(e,{bigCutoff:1e7,digits:8})}function c(e,t,i){for(var s=[],c=o(e.raw),l=0,p=e.parts;l<p.length;l++){var f=p[l];if("string"==typeof f)s.push(f);else{var h=r.Identifier(f.symbol).tryGetConcreteTree(a.defaultPolicy,t);if(h.valueType===n.Number){var d=h.asValue();if("number"==typeof d){s.push(u(d,c));continue}}else if(h.valueType===n.ListOfNumber&&h.args[i]){var d=h.args[i].asValue();if("number"==typeof d){s.push(u(d,c));continue}}c?s.push("{?}"):s.push("?")}}return s.join("")}Object.defineProperty(t,"__esModule",{value:!0}),t.isMathLabel=o,t.parse=s,t.interpolate=c}),define("core/math/getCLSymbolMap",["require","exports","underscore","core/lib/label"],function(e,t,r,n){"use strict";function i(){var e={},t={},i={},a=[];for(var o in this.statements)if(this.statements.hasOwnProperty(o)){var s=this.statements[o];switch(s.type){case"Error":break;case"Regression":i[o]=[],a.push(o);break;default:var u=s.getLegalExports(this.policy);if(u){for(var c=0,l=u;c<l.length;c++){var p=l[c];s.exportPenalty>0?t[p]=o:e[p]=o}i[o]=r.difference(s.getDependencies(),s.getDummyDependencies(),u)}}}for(var f=0,h=a;f<h.length;f++){var o=h[f],s=this.statements[o],d=n.latexToIdentifier(s.userData.residualVariable);d&&(t[d]=o);for(var m=s.getDependencies().slice(),y={},p=void 0;p=m.pop();)if(!y[p]){y[p]=!0;var g=e[p]||t[p];g?(m.push.apply(m,i[g]),i[o].push(p)):t[p]=o}}return{exportMap:e,weakExportMap:t,dependencyMap:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCLSymbolMap=i}),define("core/types/line-width",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.THIN=1,t.DEFAULT=2.5,t.THICK=5}),define("core/math/policyFourFunction",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.singleExpression=e.singleExpression}return e.prototype.assignmentForbidden=function(e){return"ans"!==e.slice(0,3)},e.prototype.isValidSlider=function(e){return!1},e.prototype.sliderVariables=function(){return[]},e.prototype.graphingEnabled=function(){return!1},e.prototype.ansEnabled=function(){return!this.singleExpression},e.prototype.disabledFeatures=function(){return["Sum","Product","Integral","List","Derivative","Piecewise","Exponent","PercentOf"]},e}();t.PolicyFourFunction=new r({singleExpression:!1}),t.PolicySingleExpressionFourFunction=new r({singleExpression:!0})}),define("core/math/policyScientific",["require","exports"],function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.singleExpression=e.singleExpression}return e.prototype.assignmentForbidden=function(e){return this.singleExpression?"ans"!==e.slice(0,3):"tmp"===e.slice(0,3)},e.prototype.isValidSlider=function(e){return!1},e.prototype.sliderVariables=function(){return[]},e.prototype.graphingEnabled=function(){return!1},e.prototype.ansEnabled=function(){return!this.singleExpression},e.prototype.disabledFeatures=function(){return this.singleExpression?["Sum","Product","Integral","Derivative","Piecewise","PercentOf"]:["Sum","Product","Integral","Derivative","Piecewise"]},e}();t.PolicyScientific=new r({singleExpression:!1}),t.PolicySingleExpressionScientific=new r({singleExpression:!0})}),define("core/math/frameFourFunction",["require","core/math/parsenode/builtinfunction"],function(e){"use strict";function t(e){var t={};return e.additionalFunctions&&-1!==e.additionalFunctions.indexOf("sqrt")&&(t.sqrt=r.sqrt),t}var r=e("core/math/parsenode/builtinfunction");return{getFrame:t}}),define("core/math/frameScientific",["require","core/math/builtinconstants","core/math/parsenode/builtinfunction"],function(e){"use strict";function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key '"+n+"' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e){var t={};return a.forEach(function(e){t[e]=n[e]}),o.forEach(function(r){e.replaceRoundWithReciprocal&&"round"===r||(t[r]=i[r])}),e.trigAngleMultiplier&&(t.trigAngleMultiplier=e.trigAngleMultiplier),t}var n=e("core/math/builtinconstants"),i=e("core/math/parsenode/builtinfunction"),a=["pi","e","trigAngleMultiplier"],o=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","mean","round","stdev","stdevp","nCr","nPr","exp","factorial"];return t(a,n),t(o,i),{getFrame:r}}),define("core/math/frameSingleExpressionScientific",["require","core/math/builtinconstants","core/math/parsenode/builtinfunction"],function(e){"use strict";function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key '"+n+"' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e){var t={};return a.forEach(function(e){t[e]=n[e]}),o.forEach(function(e){t[e]=i[e]}),e.trigAngleMultiplier&&(t.trigAngleMultiplier=e.trigAngleMultiplier),t}var n=e("core/math/builtinconstants"),i=e("core/math/parsenode/builtinfunction"),a=["pi","e","trigAngleMultiplier"],o=["sqrt","nthroot","abs","ln","sin","cos","tan","log","arcsin","arccos","arctan","exp","factorial"];return t(a,n),t(o,i),{getFrame:r}}),define("core/math/frameGraphing",["require","core/math/builtinconstants","core/math/parsenode/builtinfunction"],function(e){"use strict";function t(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!t.hasOwnProperty(n))throw new Error("Programming Error: key '"+n+"' does not exist in table. Must be one of:\\n"+Object.keys(t).join("\\n"))}}function r(e){var t,r={};for(t in n)n.hasOwnProperty(t)&&(r[t]=n[t]);for(t in i)i.hasOwnProperty(t)&&(!0===e.restrictedFunctions&&-1!==a.indexOf(t)||!1===e.distributions&&-1!==o.indexOf(t)||(r[t]=i[t]));return e.trigAngleMultiplier&&(r.trigAngleMultiplier=e.trigAngleMultiplier),e.globalRandomSeed&&(r.globalRandomSeed=e.globalRandomSeed),r}var n=e("core/math/builtinconstants"),i=e("core/math/parsenode/builtinfunction"),a=["csc","sec","cot","arccsc","arcsec","arccot","csch","sech","coth","arccsch","arcsech","arccoth","mad","cov","distance","midpoint"],o=["erf","ttest","tscore","ittest","normaldist","tdist","poissondist","binomialdist","pdf","cdf","random","histogram","dotplot","boxplot"];return t(a,i),t(o,i),{getFrame:r}}),define("core/math/context",["require","pjs","underscore","./plotter","parser","core/math/parsenode/constant","core/math/parsenode/seed","core/math/parsenode/functioncall","core/math/parsenode/image","core/math/parsenode/slider","core/math/parsenode/table","core/math/parsenode/tablecolumn","core/math/parsenode/freevariable","core/math/finddependencyorder","core/math/errormsg","core/types/graphmode","core/math/workerconfig","./findIntersections","./interpolatedlabel","core/math/types","core/math/expression-types","core/math/expression-types","core/math/getCLSymbolMap","core/math/distribution-spec","core/math/maybe-rational","core/lib/number-to-latex","core/lib/label","core/math/functions","core/types/line-width","core/math/policyFourFunction","core/math/policyScientific","core/math/policyScientific","core/math/policyFourFunction","core/math/policyGraphing","core/math/policyGraphing","core/math/frameFourFunction","core/math/frameFourFunction","core/math/frameScientific","core/math/frameSingleExpressionScientific","core/math/frameGraphing","core/math/frameGraphing"],function(e){"use strict";function t(e){var t=e.rawTree.userData,r=e.rawTree.metaData;return t.cdf&&t.cdf.show&&r.distributionSpec}function r(e){var t=e.evaluationState.expression_type,r=e.rawTree.userData;return!(!r.clickableInfo||!r.clickableInfo.enabled)&&(!!e.rawTree.isImage||e.getGraphMode()!==v.XYPOINT_MOVABLE&&E(t))}function n(e,t){var r="id"+e;t=t||[];for(var n,i,a,o=0,s=t.length;o<s;o++)n=t[o],i=n[0],a=n[1],r+="::"+i+a;return r}var i=e("pjs"),a=e("underscore"),o=e("./plotter").default,s=e("parser"),u=e("core/math/parsenode/constant"),c=e("core/math/parsenode/seed"),l=e("core/math/parsenode/functioncall"),p=e("core/math/parsenode/image"),f=e("core/math/parsenode/slider"),h=e("core/math/parsenode/table"),d=e("core/math/parsenode/tablecolumn"),m=e("core/math/parsenode/freevariable"),y=e("core/math/finddependencyorder"),g=e("core/math/errormsg"),v=e("core/types/graphmode"),b=e("core/math/workerconfig"),x=e("./findIntersections").findIntersections,_=e("./interpolatedlabel"),S=e("core/math/types"),M=e("core/math/expression-types").ExpressionType,E=e("core/math/expression-types").isClickableExpressionType,D=e("core/math/getCLSymbolMap").getCLSymbolMap,w=e("core/math/distribution-spec"),T=e("core/math/maybe-rational").maybeRational,P=e("core/lib/number-to-latex").default,I=e("core/lib/label"),C=e("core/math/functions"),O=e("core/types/line-width"),A={fourFunction:e("core/math/policyFourFunction").PolicyFourFunction,scientific:e("core/math/policyScientific").PolicyScientific,singleExpressionScientific:e("core/math/policyScientific").PolicySingleExpressionScientific,singleExpressionFourFunction:e("core/math/policyFourFunction").PolicySingleExpressionFourFunction,graphing:e("core/math/policyGraphing").PolicyGraphing,graphing_3d:e("core/math/policyGraphing").PolicyGraphing3D},L={fourFunction:e("core/math/frameFourFunction"),singleExpressionFourFunction:e("core/math/frameFourFunction"),scientific:e("core/math/frameScientific"),singleExpressionScientific:e("core/math/frameSingleExpressionScientific"),graphing:e("core/math/frameGraphing"),graphing_3d:e("core/math/frameGraphing")};return i(function(e){function i(e,t){return e?"0"===e?W:"1"===e?Y:s.parse(e,t):X}function E(e,t){if(e)return s.parse(e,t)}function N(e){return"ans"!==e.slice(0,3)}function q(e,t){var r,n=e.multiplyDefined,i=e.cyclicallyDefined;for(r in n)n.hasOwnProperty(r)&&(t[r]=g.multiplyDefined(r));for(r in i)i.hasOwnProperty(r)&&(t[r]=g.cycle(i[r].filter(N)))}function F(e,t,r){for(var n=0;n<r.length;n++){var i=r[n];e[i]||(e[i]=[]),e[i].push(t)}}function R(e,t,r){var n=e.variables;if(n&&n.length){for(var i={},a=0;a<n.length;a++)i[n[a]]=!0;for(var o in r)i[o]=!0;r=i}e.variables=t.sliderVariables(Object.keys(r))}function V(e,t,r){var n,i,a=e.evaluationState,o=e.rawTree,s=o.metaData.cdfMin,c=o.metaData.cdfMax,p=NaN,f=NaN,h={},d="Assignment"===o.type?o._expression:o,m=d&&d.metaData&&d.metaData.distributionSpec;if(s){var y=s.tryGetConcreteTree(t,r);for(y.isConstant&&(p=y.asValue()),n=y.getDependencies(),i=0;i<n.length;i++)h[n[i]]=!0}else p=-1/0;if(c){var v=c.tryGetConcreteTree(t,r);for(v.isConstant&&(f=v.asValue()),n=v.getDependencies(),i=0;i<n.length;i++)h[n[i]]=!0}else f=1/0;var b=!0,x=!0;if(isNaN(p)&&(b=!1,p=NaN),isNaN(f)&&(x=!1,f=NaN),b?x?p>f&&(b=!1,x=!1,a.error=g.cdfMaxLessThanMin().getError()):a.error=g.cdfMaxInvalid().getError():a.error=g.cdfMinInvalid().getError(),b&&x){var _=l("cdf",[d,u(p),u(f)]);a.cdf_evaluation=+_.tryGetConcreteTree(t,r).asValue()}var S=-1/0,M=1/0;if(m&&(m.discrete&&(S=0),"binomialdist"===m.symbol&&d.args&&d.args[0])){var E=d.args[0].asValue();isFinite(E)&&(M=E)}o.metaData.evaluatedCDFMin=p,o.metaData.evaluatedCDFMax=f,a.cdf_min_valid=b,a.cdf_max_valid=x,a.cdf_min_default=S,a.cdf_max_default=M,a.is_single_identifier=!1,R(a,t,h)}function k(e,t,r){var n,i=e.evaluationState,a=e.rawTree.metaData.fillOpacity,o={},s=!0;if(a){var u=a.tryGetConcreteTree(t,r);n=u.asValue();for(var c=u.getDependencies(),l=0;l<c.length;l++)o[c[l]]=!0}isFinite(n)||(s=!1,n=NaN),a||(s=!0),e.rawTree.metaData.computedFillOpacity=n,i.fill_opacity_valid=s,R(i,t,o)}function B(e,t,r){var n,i=e.evaluationState,a=e.rawTree.metaData.lineWidth,o={},s=!0;if(a){var u=a.tryGetConcreteTree(t,r);n=u.asValue();for(var c=u.getDependencies(),l=0;l<c.length;l++)o[c[l]]=!0}isFinite(n)||(s=!1,n=NaN),a||(s=!0,n=O.DEFAULT),e.rawTree.metaData.computedLineWidth=n,i.line_width_valid=s,R(i,t,o)}function j(e,t,r){var n,i,a,o,s=e.evaluationState,u=e.rawTree,c=u.metaData.clickableAssignment,l=u.metaData.clickableExpression,p={};if(c&&"Identifier"===c.type){var f=r[c._symbol],h=f&&f.type;"Slider"!==h&&"Assignment"!==h||(a=c._symbol)}if(l){var d=l.tryGetConcreteTree(t,r);if(d.valueType===S.Number){var m=d.asValue();isNaN(m)||(o=P(m))}else if(d.valueType===S.ListOfNumber){var y=[],g=!0;for(i=0;i<d.args.length;i++){var v=d.args[i];if(v.valueType!==S.Number)return!1;var b=v.asValue();y.push(P(b)),isNaN(b)&&(g=!1)}g&&(o="\\\\left["+y.join(",")+"\\\\right]")}for(n=d.getDependencies(),i=0;i<n.length;i++)p[n[i]]=!0}a&&o&&(s.clickableinfo_identifier=a,s.clickableinfo_latex=I.identifierToLatex(a)+"="+o),s.clickableinfo_identifier_valid=!!a,s.clickableinfo_expression_valid=!!o,R(s,t,p)}function z(e,t,r){var n,i,a=e.evaluationState,o=e.rawTree,s=a.expression_type===M.POLAR?o.metaData.polarDomainMin:o.metaData.parametricDomainMin,u=a.expression_type===M.POLAR?o.metaData.polarDomainMax:o.metaData.parametricDomainMax,c=NaN,l=NaN,p=!1,f={};if(s){p=!0;var h=s.tryGetConcreteTree(t,r);for(h.isConstant&&(c=h.asValue()),n=h.getDependencies(),i=0;i<n.length;i++)f[n[i]]=!0}else c=0;if(u){p=!0;var d=u.tryGetConcreteTree(t,r);for(d.isConstant&&(l=d.asValue()),n=d.getDependencies(),i=0;i<n.length;i++)f[n[i]]=!0}else a.expression_type===M.PARAMETRIC?l=1:a.expression_type===M.POLAR&&(l=12*Math.PI/r.trigAngleMultiplier.asValue());var m=!0,y=!0;isFinite(c)||(m=!1,c=NaN),isFinite(l)||(y=!1,l=NaN),m?y?c>l&&(m=!1,y=!1,a.error=g.domainMaxLessThanMin().getError()):a.error=g.domainMaxInvalid().getError():a.error=g.domainMinInvalid().getError(),o.metaData.evaluatedDomainMin=c,o.metaData.evaluatedDomainMax=l,a.expression_type===M.POLAR&&(o.metaData.isExplicitDomain=p),a.domain_min_number=c,a.domain_max_number=l,a.domain_min_valid=m,a.domain_max_valid=y,a.expression_type===M.PARAMETRIC&&(delete f.t,R(a,t,f))}function G(e,t,r){var n,i,a=e.evaluationState,o=e.rawTree,s=o.metaData.vizAxisOffset,u=o.metaData.vizBreadth,c=NaN,l=NaN,p={};if(s){var f=s.tryGetConcreteTree(t,r);for(f.isConstant&&(c=f.asValue()),n=f.getDependencies(),i=0;i<n.length;i++)p[n[i]]=!0}else c=1;if(u){var h=u.tryGetConcreteTree(t,r);for(h.isConstant&&(l=h.asValue()),n=h.getDependencies(),i=0;i<n.length;i++)p[n[i]]=!0}else l=1;var d=!0,m=!0;isFinite(c)||(d=!1,c=NaN),isFinite(l)||(m=!1,l=NaN),d?m||(a.error=g.boxplotBreadthInvalid().getError()):a.error=g.boxplotOffsetInvalid().getError(),o.metaData.evaluatedAxisOffset=c,o.metaData.evaluatedBreadth=l,a.viz_values={axisOffset:c,breadth:l},a.viz_valids={axisOffset:d,breadth:m},R(a,t,p)}function U(e){return e.globalRandomSeed||[]}e.init=function(){this.statements={},this.analysis={},this.currentStatus={},this.currentLabel={},this.unpublishedIds={},this.intersectId=void 0,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={},this.markedRegressionDirty=!1,this.setEvaluationMode("graphing"),this.setRestrictedFunctions(!1),this.setFunctionDefinition(!0),this.setReplaceRoundWithReciprocal(!1),this.invalidate()},e.getCLSymbolMap=D,e.processChangeSet=function(e){var t={intersections:{},graphs:{}};e.isCompleteState&&(this.invalidate(),this.statements={},this.currentLabel={}),e.viewState&&this.setViewState(e.viewState),e.hasOwnProperty("degreeMode")&&this.setDegreeMode(e.degreeMode),e.hasOwnProperty("globalRandomSeed")&&this.setGlobalRandomSeed(e.globalRandomSeed),e.hasOwnProperty("evaluationMode")&&this.setEvaluationMode(e.evaluationMode),e.hasOwnProperty("additionalFunctions")&&this.setAdditionalFunctions(e.additionalFunctions),e.hasOwnProperty("restrictedFunctions")&&this.setRestrictedFunctions(e.restrictedFunctions),e.hasOwnProperty("distributions")&&this.setDistributions(e.distributions),e.hasOwnProperty("functionDefinition")&&this.setFunctionDefinition(e.functionDefinition),e.hasOwnProperty("replaceRoundWithReciprocal")&&this.setReplaceRoundWithReciprocal(e.replaceRoundWithReciprocal),e.hasOwnProperty("pointsOfInterest")&&this.setWorkerConfigProperty("pointsOfInterest",e.pointsOfInterest),e.hasOwnProperty("plotSingleVariableImplicitEquations")&&this.setWorkerConfigProperty("plotSingleVariableImplicitEquations",e.plotSingleVariableImplicitEquations),e.hasOwnProperty("plotImplicits")&&this.setWorkerConfigProperty("plotImplicits",e.plotImplicits),e.hasOwnProperty("plotInequalities")&&this.setWorkerConfigProperty("plotInequalities",e.plotInequalities),e.hasOwnProperty("sliders")&&this.setWorkerConfigProperty("sliders",e.sliders),e.hasOwnProperty("intersectId")&&(this.intersectId=e.intersectId),this.processStatements(e,t),this.updateAnalysis(),e.hasOwnProperty("intersectId")&&this._updateIntersections(e.intersectId,t);var r=this._publishAllStatuses();return this._computeAllLabels(),this._graphAllChanged(t),this.unpublishedIds={},{syncId:e.syncId,isCompleteState:e.isCompleteState,intersectionChanges:t.intersections,statusChanges:r,graphChanges:t.graphs}},e.processStatements=function(e,t){var r;if(e.statements)for(var n in e.statements){var i=e.statements[n];if(null===i){if(!e.isCompleteState&&this.statements.hasOwnProperty(n)&&(r=this.statements[n].getAllIds()),this.removeStatement(n,t),!e.isCompleteState&&r)for(var a=0;a<r.length;a++)t.graphs[r[a]]=void 0}else this.addStatement(i,t)}},e.setViewState=function(e){if(!a.isEqual(e,this.viewState)){this.viewState=e;for(var t in this.statements)this.statements.hasOwnProperty(t)&&(this.unpublishedIds[t]=!0)}},e.getViewState=function(){if(this.viewState){var e=Object.create(this.viewState);return this.parent_frame&&this.parent_frame.trigAngleMultiplier?e.trigAngleMultiplier=this.parent_frame.trigAngleMultiplier.asValue():e.trigAngleMultiplier=1,e}},e.setDegreeMode=function(e){this.use_degrees=e,this.invalidate()},e.setGlobalRandomSeed=function(e){this.globalRandomSeedString=e,this.parent_frame.globalRandomSeed=c(e),this.dirtyExportedSymbolRoots.globalRandomSeed=!0},e.setEvaluationMode=function(e){this.evaluationMode=e,this.policy=A[e],this.invalidate()},e.setAdditionalFunctions=function(e){this.additionalFunctions=e,this.invalidate()},e.setRestrictedFunctions=function(e){this.restrictedFunctions=e,this.invalidate()},e.setDistributions=function(e){this.distributions=e,this.invalidate()},e.setFunctionDefinition=function(e){this.functionDefinition=e,this.invalidate()},e.setReplaceRoundWithReciprocal=function(e){
this.replaceRoundWithReciprocal=e,this.invalidate()},e.setWorkerConfigProperty=function(e,t){t!==b[e]&&(b[e]=t,this.invalidate())},e._publishAllStatuses=function(){var e={},t=this.currentStatus;this.currentStatus={};for(var r in this.unpublishedIds)if(this.analysis.hasOwnProperty(r)){var n=this.analysis[r].evaluationState;JSON.stringify(n)!==JSON.stringify(t[r])&&(e[r]=n),this.currentStatus[r]=n}return e},e._computeAllLabels=function(){for(var e in this.currentLabel){var t=this.statements[e];if(t){var r=t.tryGetConcreteTree(this.policy,this.frame),n=1;r.valueType===S.ListOfPoint&&(n=r.args.length);for(var i=[],o=0;o<n;o++)i.push(_.interpolate(this.currentLabel[e],this.frame,o));a.isEqual(i,t.computedLabels)||(t.computedLabels=i,this.unpublishedIds[e]=!0)}}},e._graphAllChanged=function(e){var t=this.getViewState(),r=!1;if(o.validateViewState(t)){for(var n in this.unpublishedIds)if(this.analysis.hasOwnProperty(n)){var i=this.analysis[n],s=i.evaluationState.expression_type,u=s===M.SINGLE_POINT||s===M.POINT_LIST;if(i.rawTree.isTable)for(var c=i.graph(t),l=i.rawTree.getAllIds(),p=0;p<l.length;p++)c[l[p]]?this._notifyGraphComputed(l[p],c[l[p]],e):this._notifyGraphRemoved(l[p],e);else i.evaluationState.is_graphable&&(i.rawTree.userData.shouldGraph||i.rawTree.userData.showLabel&&u)?(this._notifyGraphComputed(n,i.graph(t),e),this.intersectId===n&&(r=!0)):this._notifyGraphRemoved(n,e)}a.keys(this.unpublishedIds).length&&void 0!==this.intersectId&&(this.unpublishedIds.hasOwnProperty(this.intersectId)||(r=!0)),r&&this._updateIntersections(this.intersectId,e)}},e._notifyGraphRemoved=function(e,t){t.graphs[e]=void 0},e._notifyGraphComputed=function(e,t,r){C.dehydrateGraphData(t),r.graphs[e]=t},e._updateIntersections=function(e,t){if(this.viewState){if(!this.analysis[e]||!this.analysis[e].shouldIntersect())return void(t.intersections[e]=[]);var r=x(this.analysis,this.viewState,e);t.intersections[e]=r}},e.getDisabledFeatures=function(){var e,t=this.policy.disabledFeatures();e=!1===this.functionDefinition?t.concat("FunctionDefinition"):t;var r=this.additionalFunctions||[];return e=e.filter(function(e){return("Exponent"!==e||-1===r.indexOf("exponent"))&&("PercentOf"!==e||-1===r.indexOf("percent"))}.bind(this))};var W=u(T(0,1)),Y=u(T(1,1)),X=u(NaN);e.addStatement=function(e,t){if(e){var r=e.id;this.markExportsDirty(r),this.markAsDirtyRoot(r);var a={index:this.policy.ansEnabled()?e.index:void 0,disabledFeatures:this.getDisabledFeatures(),seedPrefix:n(r)},o={};switch(e.type){case"table":var c=[];this.statements.hasOwnProperty(r)&&(c=this.statements[r].getAllIds()),e.shouldGraph=!0;for(var l,m,y,g=e.columns,v=[],b=0,x=0;x<g.length;x++)b=Math.max(g[x].values.length,b);for(var S=0;S<g.length;S++){a.seedPrefix=n(r,[["tr",0],["tc",S]]),l=s.parse(g[S].latex,a),m=[];for(var M=-1,D=0;D<g[S].values.length;D++)g[S].values[D].replace(/\\\\space/g,"").match(/\\S/)?(a.seedPrefix=n(r,[["tr",D+1],["tc",S]]),m.push(s.parse(g[S].values[D],a)),M=D):m.push(u(NaN));m=m.slice(0,M+1),y=d(l,b,m),y.id=g[S].id,y.header&&(y.header.userData=g[S]),y.header&&(y.header.metaData={}),v.push(y)}this.statements[r]=h(v);var T=this,P=this.statements[r].getAllIds();c.forEach(function(e){-1===P.indexOf(e)&&T._notifyGraphRemoved(e,t)});break;case"image":var I="-\\\\trigAngleMultiplier*\\\\arctan(\\\\sin("+e.angle+"),\\\\cos("+e.angle+"))";a.seedPrefix=n(r,[["ic",r]]);var C=s.parse(e.center,a);a.seedPrefix=n(r,[["ia",r]]);var O=s.parse(I,a);a.seedPrefix=n(r,[["iw",r]]);var A=s.parse(e.width,a);a.seedPrefix=n(r,[["ih",r]]);var L=s.parse(e.height,a);a.seedPrefix=n(r,[["io",r]]);var N=s.parse(e.opacity,a);this.statements[r]=p({center:C,radianAngle:O,width:A,height:L,opacity:N});break;default:if(this.statements[r]=s.parse(e.latex,a),this.statements[r].shouldPromoteToSlider(this.policy)){var q=e.slider;a.seedPrefix=n(r,[["lm",r]]);var F=E(q&&q.min,a);a.seedPrefix=n(r,[["lM",r]]);var R=E(q&&q.max,a);a.seedPrefix=n(r,[["ls",r]]);var V=E(q&&q.step,a);e.lineWidth&&(a.seedPrefix=n(r,[["lw",r]]),o.lineWidth=E(e.lineWidth,a)),this.statements[r]=f(this.statements[r],{sliderMin:F,sliderMax:R,sliderStep:V})}else if(e.polarDomain&&e.polarDomain.min&&(a.seedPrefix=n(r,[["lm",r]]),o.polarDomainMin=i(e.polarDomain.min,a)),e.polarDomain&&e.polarDomain.max&&(a.seedPrefix=n(r,[["lM",r]]),o.polarDomainMax=i(e.polarDomain.max,a)),e.parametricDomain&&e.parametricDomain.min&&(a.seedPrefix=n(r,[["lm",r]]),o.parametricDomainMin=i(e.parametricDomain.min,a)),e.parametricDomain&&e.parametricDomain.max&&(a.seedPrefix=n(r,[["lM",r]]),o.parametricDomainMax=i(e.parametricDomain.max,a)),e.vizProps&&(e.vizProps.axisOffset&&(a.seedPrefix=n(r,[["vo",r]]),o.vizAxisOffset=i(e.vizProps.axisOffset,a)),e.vizProps.breadth&&(a.seedPrefix=n(r,[["vb",r]]),o.vizBreadth=i(e.vizProps.breadth,a))),e.lineWidth&&(a.seedPrefix=n(r,[["lw",r]]),o.lineWidth=E(e.lineWidth,a)),e.fillOpacity&&(a.seedPrefix=n(r,[["fo",r]]),o.fillOpacity=E(e.fillOpacity,a)),e.cdf&&e.cdf.show){var k=w.parseToplevelFunction(e.latex,a);k&&"distribution"===k.type&&(o.distributionSpec=k,a.seedPrefix=n(r,[["lm",r]]),o.cdfMin=E(e.cdf.min,a),a.seedPrefix=n(r,[["lM",r]]),o.cdfMax=E(e.cdf.max,a))}}if(e.clickableInfo&&e.clickableInfo.enabled&&(o.clickableAssignment=E(e.clickableInfo.assignment,a),o.clickableExpression=E(e.clickableInfo.expression,a)),this.statements[r].userData=e,this.statements[r].metaData=o,e.label){var B=this.currentLabel[r];B&&B.raw===e.label||(this.currentLabel[r]=_.parse(e.label))}else delete this.currentLabel[r]}},e.removeStatement=function(e,t){var r=this.statements[e];if(r){if(this.markExportsDirty(e),r.isTable){var n=this;r.getAllIds().forEach(function(e){n._notifyGraphRemoved(e,t)})}else this._notifyGraphRemoved(e,t);delete this.currentLabel[e],delete this.statements[e],delete this.analysis[e]}},e.invalidate=function(){for(var e in this.statements)this.statements.hasOwnProperty(e)&&this.markAsDirtyRoot(e);this.currentStatus={},this.analysis={},this.parent_frame=L[this.evaluationMode].getFrame({restrictedFunctions:this.restrictedFunctions,replaceRoundWithReciprocal:this.replaceRoundWithReciprocal,distributions:this.distributions,additionalFunctions:this.additionalFunctions,trigAngleMultiplier:u(this.use_degrees?Math.PI/180:T(1,1)),globalRandomSeed:c(this.globalRandomSeedString||"")}),this.frame=Object.create(this.parent_frame),this.lastFrame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)},e.markExportsDirty=function(e){if(this.statements[e]){this.statements[e].isRegression&&(this.markedRegressionDirty=!0);for(var t=this.statements[e].getLegalExports(this.policy),r=0;r<t.length;r++)this.dirtyExportedSymbolRoots[t[r]]=!0}},e.markAsDirtyRoot=function(e){this.dirtyStatementRoots[e]=!0},e.getFrame=function(){return this.updateAnalysis(),this.frame},e.getAnalysis=function(){return this.updateAnalysis(),this.analysis},e.getStatus=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].status},e.getEvaluationState=function(e){if(this.updateAnalysis(),this.analysis[e])return this.analysis[e].evaluationState},e._updateRegressions=function(e){var t,r=this.frame,n=this.lastFrame,i=this.regressionFrame,a=[];for(t in e)e.hasOwnProperty(t)&&e[t].isRegression&&a.push(t);var o=this;a.sort(function(e,t){var r=o.statements[e].userData&&o.statements[e].userData.residualVariable,n=o.statements[t].userData&&o.statements[t].userData.residualVariable;return r&&!n?-1:n&&!r?1:0});var s=y(this.policy,e,a);q(s,i);for(var u=s.resolved,c={},l=0;l<u.length;l++)if(t=u[l],this.statements[t].isRegression)this.analysis[t]=e[t].analyze(this.policy,i,r,n,c),this.analysis[t].exportTo(this.policy,r),delete e[t];else{var p=e[t].tryGetConcreteTree(this.policy,i);e[t].exportTo(this.policy,p,i),c[t]={rawTree:e[t],concreteTree:p}}},e.buildSymbolToExpressionDirtyMap=function(){var e={};for(var t in this.statements)if(this.statements.hasOwnProperty(t)){var r=this.statements[t],n=r.metaData;F(e,t,r.getDependencies()),F(e,t,r.getLegalExports(this.policy)),r.isRegression&&r.userData&&r.userData.residualVariable&&F(e,t,[I.latexToIdentifier(r.userData.residualVariable)]),n.polarDomainMin&&F(e,t,n.polarDomainMin.getDependencies()),n.polarDomainMax&&F(e,t,n.polarDomainMax.getDependencies()),n.parametricDomainMin&&F(e,t,n.parametricDomainMin.getDependencies()),n.parametricDomainMax&&F(e,t,n.parametricDomainMax.getDependencies()),n.vizBinWidth&&F(e,t,n.vizBinWidth.getDependencies()),n.vizBinCenter&&F(e,t,n.vizBinCenter.getDependencies()),n.vizAxisOffset&&F(e,t,n.vizAxisOffset.getDependencies()),n.vizBreadth&&F(e,t,n.vizBreadth.getDependencies()),n.cdfMin&&F(e,t,n.cdfMin.getDependencies()),n.cdfMax&&F(e,t,n.cdfMax.getDependencies()),n.lineWidth&&F(e,t,n.lineWidth.getDependencies()),n.fillOpacity&&F(e,t,n.fillOpacity.getDependencies()),n.clickableAssignment&&F(e,t,n.clickableAssignment.getDependencies()),n.clickableExpression&&F(e,t,n.clickableExpression.getDependencies())}return e},e.getDirtyIdsAndSymbols=function(e){var t,r,n,i={},a={},o=this.markedRegressionDirty,s=[],u=[];for(t in this.dirtyStatementRoots)this.dirtyStatementRoots[t]&&(a[t]=!0,s.push(t));for(n in this.dirtyExportedSymbolRoots)this.dirtyExportedSymbolRoots[n]&&(i[n]=!0,u.push(n));for(;s.length||u.length;){for(;s.length;){t=s.pop();var c=this.statements[t];if(c){c.isRegression&&(o=!0);var l=c.getLegalExports(this.policy);for(r=0;r<l.length;r++)n=l[r],i[n]||(i[n]=!0,u.push(n))}}for(;u.length;){n=u.pop();var p=e[n];if(p)for(r=0;r<p.length;r++)t=p[r],a[t]||(a[t]=!0,s.push(t))}}return{ids:a,symbols:i,hasDirtyRegression:o}},e.updateAnalysis=function(){var e,n,i,a=this.buildSymbolToExpressionDirtyMap(),o=this.getDirtyIdsAndSymbols(a);if(o.hasDirtyRegression){i={};for(e in this.statements)this.statements[e]&&(i[e]=this.statements[e]);this.frame=Object.create(this.parent_frame),this.regressionFrame=Object.create(this.parent_frame)}else{var s=o.ids;i={};for(e in s)this.statements[e]&&(i[e]=this.statements[e]);var u=o.symbols;for(n in u)u[n]&&(delete this.frame[n],delete this.regressionFrame[n])}for(e in i)i[e]&&(this.unpublishedIds[e]=!0);this.markedRegressionDirty=!1,this.dirtyExportedSymbolRoots={},this.dirtyStatementRoots={};var c=this.analysis,l=this.frame;"graphing"===this.evaluationMode&&this._updateRegressions(i);var p=y(this.policy,i);q(p,l);for(var f=p.resolved,h=0;h<f.length;h++)switch(e=f[h],this.evaluationMode){case"fourFunction":case"singleExpressionFourFunction":c[e]=this.statements[e].analyzeFourFunction(this.policy,l,c),c[e].exportTo(this.policy,l);break;case"scientific":c[e]=this.statements[e].analyzeScientific(this.policy,l,c),c[e].exportTo(this.policy,l);break;case"singleExpressionScientific":c[e]=this.statements[e].analyzeSingleExpressionScientific(this.policy,l,c),c[e].exportTo(this.policy,l);break;case"graphing":case"graphing_3d":if(l.r){var d=Object.create(l);if(d.r=m("r"),c[e]=this.statements[e].analyze(this.policy,d,c),c[e].getGraphMode()===v.POLAR){c[e].exportTo(this.policy,l);continue}}c[e]=this.statements[e].analyze(this.policy,l,c),c[e].exportTo(this.policy,l)}if("graphing"===this.evaluationMode||"graphing_3d"===this.evaluationMode)for(h=0;h<f.length;h++){e=f[h];var g=c[e],b=g.evaluationState.expression_type;B(g,this.policy,l),b!==M.POLYGON&&b!==M.PARAMETRIC||k(g,this.policy,l),r(g)&&j(g,this.policy,l),b===M.PARAMETRIC||b===M.POLAR?z(g,this.policy,l):b===M.BOXPLOT?G(g,this.policy,l):t(g)&&V(g,this.policy,l)}U(a).forEach(function(e){c[e].evaluationState.depends_on_random_seed=!0}),this.lastFrame=Object.create(this.parent_frame);for(n in l)l.hasOwnProperty(n)&&(this.lastFrame[n]=l[n])}})}),define("worker/workercore",["require","core/math/context"],function(e){"use strict";var t=e("core/math/context");return function(e){var r=t();return{processChangeSet:function(t){var n=r.processChangeSet(t);e("processChangeSet",n)}}}}),define("console",["require"],function(e){var t=function(){},r=["log","info","warn","error","assert","dir","clear","profile","profileEnd","time","timeEnd","group","groupCollapsed","groupEnd","trace"],n={},i=function(e){"undefined"!=typeof window&&window.console&&window.console[e]?n[e]=function(){Function.prototype.apply.call(window.console[e],window.console,arguments)}:n[e]=t};return r.forEach(i),n}),define("worker/worker",["require","worker/workercore","console"],function(e){"use strict";var t=e("worker/workercore"),r={};e("console").log=function(e){self.postMessage({log:JSON.stringify(e)})};var n=self;n.window=n,n.onmessage=function(e){var i=e.data&&e.data.connectionId;if(i)if("destroy"===e.data.originalMessage.type)delete r[i];else{var a=r[i];a||(a=t(function(e,t){n.postMessage({connectionId:i,originalMessage:{type:e,payload:t}})}),r[i]=a),a.processChangeSet(e.data.originalMessage)}},n.loadMessageQueue&&(n.loadMessageQueue.forEach(function(e){n.onmessage(e)}),delete n.loadMessageQueue)}),function(){"use strict";"undefined"==typeof window&&(void 0===requirejs&&(importScripts("../vendor/require.js"),importScripts("config.js")),self.loadMessageQueue=[],self.onmessage=function(e){self.loadMessageQueue.push(e)},requirejs(["worker/worker"]))}(),define("toplevel/worker",function(){});
`}),$("worker_src",["require","text!worker_src_underlying"],function(B){return B("text!worker_src_underlying")}),$("worker/create_worker_url",["require","worker_src"],function(B){var u=B("worker_src");return function(){if(!u.length)return"/assets/generated/combined/toplevel/worker.js";var w;try{w=new Blob([u],{type:"application/javascript"})}catch{try{var e=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,c=new e;c.append(u),w=c.getBlob("application/javascript")}catch{return null}}return(window.URL||window.webkitURL).createObjectURL(w)}}),$("worker/fakeworker",["require","worker/workercore"],function(B){var u=B("worker/workercore");return function(w){function e(a,l){w({type:a,payload:l})}var c={},t=u(e);return c.postMessage=function(a){setTimeout(function(){t.processChangeSet(a)},0)},c}}),$("worker/workerpool",["require","console","./create_worker_url","pjs","underscore_model","./fakeworker","underscore","lib/urlparser"],function(B){function u(g){return s?function(d){p=Math.max(Date.now(),p)+s,setTimeout(g,p-Date.now(),d)}:g}var w=B("console"),e=B("./create_worker_url"),c=B("pjs"),t=B("underscore_model").UnderscoreModel,a=B("./fakeworker"),l=B("underscore"),h=B("lib/urlparser"),o=h.getParameter(location.search,"workerThrottle"),s=parseInt(o,10),p=0;return c(t,function(g,d){g.init=function(i){d.init.call(this),this.workers=[],this.maxWorkers=i,this.workerURL=e()},g.allowedToSpawnWorker=function(){return this.workerURL&&this.workers.length<this.maxWorkers},g.killWorker=function(i){l.indexOf(this.workers,i)!==-1&&(i.terminate(),this.workers=l.without(this.workers,i),l.shuffle(l.values(i.__connections)).forEach(function(n){n&&n.onWorkerKilled&&n.onWorkerKilled()}))},g.spawnWorker=function(){try{var i=new Worker(this.workerURL);return i.__connections={},i.__isFake=!1,i.onerror=function(n){w.log(n)},i.addEventListener("message",u(function(n){var r=n.data;if((!r||!r.log)&&r&&r.connectionId){var m=i.__connections[r.connectionId];m&&m.onResponse(r.originalMessage)}})),this.workers.push(i),i}catch{return null}},g.spawnFakeWorker=function(){var i=a(u(function(n){var r=l.values(i.__connections)[0];r&&r.onResponse(n)}));return i.__isFake=!0,i.__connections={},i},g.findLeastUsedWorker=function(){var i=function(n){return l.size(n.__connections)};return l.sortBy(this.workers,i)[0]},g.allocateWorker=function(){var i=null;return this.allowedToSpawnWorker()&&(i=this.spawnWorker()),i||(i=this.findLeastUsedWorker()),i||(i=this.spawnFakeWorker()),i}})}),$("main/evaluator",["require","exports","worker/workerpoolconnection","worker/workerpool","core/lib/deepCopy","core/math/functions","underscore"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(){function h(o){this.listeners={processChangeSet:function(s){var p={},g={};for(var d in s.graphChanges){var i=s.graphChanges[d];i===void 0?g[d]=!0:(t.rehydrateGraphData(i),p[d]=i)}var n={};for(var d in s.intersectionChanges)g[d]||(n[d]=s.intersectionChanges[d]);this.onEvaluatorResults({evaluationStates:s.statusChanges,graphData:{addedGraphs:p,removedGraphs:g,intersections:n},renderSlowly:!!s.isCompleteState});for(var r=s.syncId;this.syncRequests.length&&r!==void 0&&this.syncRequests[0].id<=r;)this.syncRequests.shift().callback();this.markJobFinished(),this._processChangeSet()}},this.__state={},this.changeSet=null,this.cumulativeChangeSet={},this.syncId=1,this.syncRequests=[],o||(o=e()),this.workerPool=o,this.createWorkerPoolConnection()}return h.prototype.createWorkerPoolConnection=function(){var o=this;this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){}),this.workerPoolConnection=w(this.workerPool),this.markJobFinished(),this.workerPoolConnection.onResponse=function(s){o.shouldIgnoreWorkerMessage(s)?s.type==="processChangeSet"&&(o.markJobFinished(),o._processChangeSet()):o.listeners[s.type].call(o,s.payload)},this.workerPoolConnection.onWorkerKilled=function(){var s=o.hasJobInWorker();o.createWorkerPoolConnection(),s?(o.changeSet=c.default(o.cumulativeChangeSet),o.__state.changed=!0,o.__state.droppedMessage=!0):(o.changeSet=c.default(o.cumulativeChangeSet),o.__state.changed=!1),o.processChangeSet()}},h.prototype.destroy=function(){this.workerPoolConnection&&(this.workerPoolConnection.onResponse=function(){},this.workerPoolConnection.onWorkerKilled=function(){},this.workerPoolConnection.destroy())},h.prototype.shouldIgnoreWorkerMessage=function(o){return!!this.__suspendUntilSyncId&&(!o||!o.payload||!(o.payload.syncId>=this.__suspendUntilSyncId))},h.prototype.suspend=function(){var o=this;this.changeSet&&this.changeSet.syncId||(this.syncId++,this.applyToChangeSets(function(s){s.syncId=o.syncId})),this.__suspendUntilSyncId=this.changeSet.syncId},h.prototype.markJobFinished=function(){this.__state.droppedMessage=!1,this.__jobStartTime=-1,this.__suspendUntilSyncId=void 0},h.prototype.startJobTimer=function(){this.__jobStartTime=new Date().getTime()},h.prototype.hasJobInWorker=function(){return this.__jobStartTime!==-1},h.prototype.getJobElapsedTime=function(){return this.hasJobInWorker()?new Date().getTime()-this.__jobStartTime:NaN},h.prototype.tick=function(){this._processChangeSet()},h.prototype.processChangeSet=function(){this.__processChangeSetRequested=!0},h.prototype._processChangeSet=function(){if(this._syncEvaluatorConfig(),this.__processChangeSetRequested){var o=this.getJobElapsedTime()>=4e3;if(this.__state.droppedMessage&&o)return void this.workerPoolConnection.killWorker();if(this.__state.changed&&this.changeSet)if(this.changeSet.syncId||(this.syncId++,this.changeSet.syncId=this.syncId),this.hasJobInWorker())this.changeSet.isCompleteState&&o&&this.workerPoolConnection.killWorker();else{var s=this.changeSet;this.changeSet=null,this.__state.changed=!1,this.startJobTimer(),this.workerPoolConnection.sendMessage(s),this.__processChangeSetRequested=!1}}},h.prototype.notifyWhenSynced=function(o){var s=this;if(this._syncEvaluatorConfig(),!this.hasJobInWorker()&&!this.changeSet)return void setTimeout(o,0);this.syncId++,this.syncRequests.push({id:this.syncId,callback:o}),this.applyToChangeSets(function(p){p.syncId=s.syncId})},h.prototype.applyToChangeSets=function(o){this.__state.changed=!0,this.changeSet||(this.changeSet={}),this.cumulativeChangeSet||(this.cumulativeChangeSet={}),o(this.changeSet),o(this.cumulativeChangeSet),this.processChangeSet()},h.prototype.clearStatementsAndStartCompleteState=function(){this.hasJobInWorker()&&this.suspend(),this.applyToChangeSets(function(o){o.isCompleteState=!0,delete o.statements})},h.prototype.addStatement=function(o){this.applyToChangeSets(function(s){s.statements||(s.statements={}),s.statements[o.id]=c.default(o)})},h.prototype.removeStatement=function(o){this.applyToChangeSets(function(s){s.statements||(s.statements={}),s.statements[o]=null})},h.prototype._syncEvaluatorConfig=function(){if(this.readEvaluatorConfig){var o=this.readEvaluatorConfig();for(var s in o)this._applyIfChanged(o,s)}},h.prototype._applyIfChanged=function(o,s){var p=this.cumulativeChangeSet&&this.cumulativeChangeSet[s],g=o[s];a.isEqual(p,g)||this.applyToChangeSets(function(d){d[s]=g})},h}();u.Evaluator=l}),$("graphing/canvaslayer",["require","jquery","pjs","browser","lib/i18n"],function(B){var u=B("jquery"),w=B("pjs"),e=B("browser"),c=B("lib/i18n");return w(function(t){t.init=function(a){this.grapher=a,this.$=u("<div class='dcg-graph-outer' role='img'></div>").attr("aria-roledescription",this.t("graph paper")),this.canvas_node=u("<canvas class='dcg-graph-inner'></canvas>").css("position","relative").css("display","block"),this.devicePixelRatio=window.devicePixelRatio||1,this.ctx=this.canvas_node[0].getContext("2d"),this.resize(0,0),e.IS_IOS&&e.IS_IN_IFRAME&&(this.$.css("-webkit-transform","translate3d(0,-.25px,0)"),this.$.append('<div style="width:1px; height:.5px; pointer-events:none; opacity: 0;" aria-hidden="true">text</div>')),this.$.append(this.canvas_node)},t.resize=function(a,l,h){h=h||this.devicePixelRatio,a===this.width&&l===this.height||(this.width=a,this.height=l,this.canvas_node.css("width",a+"px").css("height",l+"px").attr("width",a*h).attr("height",l*h),this.ctx=this.canvas_node[0].getContext("2d"),this.ctx.scale(h,h))},t.t=function(a,l){return c.t(a,l,this.grapher.settings.language)},t.getAriaLabel=function(a){var l="";if(a===0)return this.t("Empty graph paper.");l=a===1?this.t("Graph paper showing 1 graph."):this.t("Graph paper showing __count__ graphs.",{count:a});var h=this.grapher.getAudioTrace();return h&&!h.getAudioTraceActive()&&h.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!1})!==void 0&&(e.IS_APPLE?l+=this.t(" Press OPTION+T for audio trace."):l+=this.t(" Press ALT+T for audio trace.")),l},t.updateAria=function(a,l){this.$.attr("aria-hidden",!a||!this.grapher.settings.config.graphpaper).attr("tabindex",a&&this.grapher.settings.config.graphpaper&&this.grapher.settings.config.enableTabindex&&l>0?0:-1).attr("aria-label",this.getAriaLabel(l))},t.redraw=function(){}})}),$("loadcss!poi",function(){}),$("graphing/constants",["require","exports"],function(B,u){Object.defineProperty(u,"__esModule",{value:!0}),u.ANIMATE_ZOOM_DURATION=500,u.DOUBLETAP_ZOOM=2,u.ZOOM_FACTOR=1.0625,u.MAX_DOTTED_SEGMENTS=1e3,u.FILL_ALPHA=.4,u.POINT_ALPHA=.9,u.HIGHLIGHTED_POINT_ALPHA=.6,u.POLAR_ALPHA=.2,u.POI_ALPHA=.01,u.OFFSCREEN_RENDER_MARGIN=20,u.LINE_WIDTH=2.5}),$("graphing/dasheddrawer",["require","./constants","core/math/distance"],function(B){function u(c,t,a){return this.pattern=a,this.replen=this.pattern[0]+this.pattern[1],t/this.replen>w.MAX_DOTTED_SEGMENTS&&(this.pattern[0]=t*this.pattern[0]/this.replen/w.MAX_DOTTED_SEGMENTS,this.pattern[1]=t*this.pattern[1]/this.replen/w.MAX_DOTTED_SEGMENTS),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null,this.ctx=c,this}var w=B("./constants"),e=B("core/math/distance");return u.getTotalSegmentLength=function(c){if(c.length<4)return 0;for(var t=0,a=0,l=c[0],h=c[1];isNaN(l)||isNaN(h);){if((a+=2)>=c.length)return 0;l=c[a],h=c[a+1]}var o,s;for(a+=2;a<c.length;a+=2)o=c[a],s=c[a+1],isNaN(o)||isNaN(s)||(t+=e.hypot(o-l,s-h),l=o,h=s);return t},u.prototype.start=function(c,t){this.ctx.desmos_batching||this.ctx.beginPath(),this.px=c,this.py=t},u.prototype.next=function(c,t){var a=this.pattern[this.pstate],l=Math.sqrt(Math.pow(c-this.px,2)+Math.pow(t-this.py,2));if(l>1e-5){for(;l+this.dstaccum>=a;){var h=c-this.px,o=t-this.py,s=a-this.dstaccum;h*=s/l,o*=s/l,this.pstate===0&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(this.px+h,this.py+o)),this.dstaccum=0,this.px+=h,this.py+=o,this.pstate=1-this.pstate,a=this.pattern[this.pstate],l-=s}this.pstate===0&&(this.ctx.moveTo(this.px,this.py),this.ctx.lineTo(c,t))}this.px=c,this.py=t,this.dstaccum+=l},u.prototype.close=function(){this.ctx.desmos_batching||this.ctx.stroke(),this.pstate=0,this.dstaccum=0,this.px=null,this.py=null},u.prototype.drawSegment=function(c){for(var t=0,a=c[0],l=c[1];isNaN(a)||isNaN(l);){if((t+=2)>=c.length)return;a=c[t],l=c[t+1]}this.start(a,l);var h,o;for(t+=2;t<c.length;t+=2)h=c[t],o=c[t+1],isNaN(h)||isNaN(o)||this.next(h,o);this.close()},u}),$("graphing/svg-classes",["require","exports"],function(B,u){function w(c,t){var a=c;a._dcgSaveClassName&&a._dcgSaveClassName(t)}function e(c){var t=c;t._dcgRestoreClassName&&t._dcgRestoreClassName()}Object.defineProperty(u,"__esModule",{value:!0}),u.save=w,u.restore=e}),$("graphing/draw-image-to-ctx",["require","exports","graphing-calc/models/list","./svg-classes"],function(B,u,w,e){function c(t,a,l){if(t.computed_x)for(var h=0;h<t.computed_x.length;h++){var o=t.computed_x[h],s=t.computed_y[h],p=t.computed_width[h],g=t.computed_height[h],d=t.computed_radian_angle[h];if(isFinite(o)&&isFinite(s)&&isFinite(p)&&isFinite(g)&&isFinite(d)){e.save(a,"dcg-svg-image"),a.save(),e.restore(a),a.globalAlpha=t.computed_opacity[h];var i=l.mapy(g)-l.mapy(0),n=l.mapx(p)-l.mapx(0),r=d===0?1:Math.abs(n/p*(g/i)),m=l.mapx(o),y=l.mapy(s),v=m-n/2,x=y+i*r/2,E=g<0?-1:1,b=p<0?-1:1,f=v*b,S=x*E,j=Math.abs(n),Q=Math.abs(i);d!==0&&(a.translate(m,y),a.scale(1,1/r),a.rotate(d),a.translate(-m,-y)),a.scale(b,E);var G=!1,q=!1,L=t.controller.getGrapher();L&&L.type==="2d"&&(G=L.clickableObjectsLayer.shouldDrawHovered(t.id),q=L.clickableObjectsLayer.shouldDrawPressed(t.id));var M=t.imageObj;q?t.depressedImageObj?M=t.depressedImageObj:S+=1:G&&(t.hoveredImageObj?M=t.hoveredImageObj:a.globalAlpha*=.8),a.drawImage(M,f,S,j,Q*r),w.isItemSelected(t)&&(a.beginPath(),a.rect(f,S,j,Q*r),a.restore(),a.save(),a.strokeStyle="#6993C7",a.lineWidth=2,a.stroke()),a.restore()}}}Object.defineProperty(u,"__esModule",{value:!0}),u.drawImageToCtx=c}),$("graphing/svg-groups",["require","exports"],function(B,u){function w(c,t){var a=c;a._dcgStartNamedGroup&&a._dcgStartNamedGroup(t)}function e(c){var t=c;t._dcgEndNamedGroup&&t._dcgEndNamedGroup()}Object.defineProperty(u,"__esModule",{value:!0}),u.save=w,u.restore=e}),$("graphing/graphslayer",["require","pjs","./clipping","./dasheddrawer","./constants","./viewport","core/types/graphmode","underscore","expressions/colors","core/types/styles","core/types/styles","./draw-image-to-ctx","./svg-groups","./svg-classes"],function(B){var u=B("pjs"),w=B("./clipping"),e=B("./dasheddrawer"),c=B("./constants"),t=B("./viewport").Viewport,a=B("core/types/graphmode"),l=B("underscore"),h=B("expressions/colors"),o=B("core/types/styles").PointStyle,s=B("core/types/styles").LineStyle,p=B("./draw-image-to-ctx").drawImageToCtx,g=B("./svg-groups"),d=B("./svg-classes"),i={},n=function(y){return new t(-3,y.width+3,-3,y.height+3)},r=function(y){return Math.round(y-.5)+.5},m=u(function(y){y.init=function(v){if(v.config.plaidMode)for(var x in h)h.hasOwnProperty(x)&&typeof h[x]=="string"&&(i[h[x]]=document.createElement("img"),i[h[x]].setAttribute("src","/assets/img/april-fools/"+x.toLowerCase()+".png"))},y.redrawToCtx=function(v,x,E,b,f,S,j){if(g.save(v,"expressions"),f===void 0)throw new Error("Programming Error: missing drawOrder argument to redrawToCtx");f.forEach(function(Q){var G=E[Q],q=b[Q];G!==void 0&&G.visible&&m.drawSketchToCtx(E[Q],v,x,S,j),q&&q.shouldGraph&&q.foreground&&p(q,v,x)}),g.restore(v)}});return m.eachSegment=function(y,v){for(var x=0;x<y.branches.length;x++)for(var E=y.branches[x],b=0;b<E.segments.length;b++){var f=E.segments[b];v(E,f)}},m.drawSketchToCtx=function(y,v,x,E,b){if(y.branches&&y.branches.length){var f=v.lineWidth,S=x.settings.globalCurveColor?x.settings.globalCurveColor:y.color,j=i[S];if(j&&j.complete&&j.naturalWidth>0){var Q=v.createPattern(j,"repeat");v.fillStyle=Q}else v.fillStyle=S;v.strokeStyle=S,v.lineJoin="round",v.lineCap="round";var G=!!x.settings.takingScreenshot,q=1;b.shouldDrawHovered(y.id)&&(q=1.2),b.shouldDrawPressed(y.id)&&(q=1.4);for(var L=0;L<y.branches.length;L++){var M=y.branches[L];if(M.graphMode!==a.XYPOINT&&M.graphMode!==a.XYPOINT_MOVABLE){M.graphMode!==a.POLAR&&(v.desmos_batching=!0,v.beginPath());for(var D=0;D<M.segments.length;D++){var V=M.segments[D],W=a.Y;if(M.flip&&(W=a.X),M.graphMode&&(W=M.graphMode),W!==a.POLYGONFILL||x.settings.disableFill){if(W!==a.IMPLICIT){var N=M.operator,re=!x.settings.disableFill&&(N=="<"||N==">"||N=="<="||N==">="||N=="\\leq"||N=="\\le"||N=="\\geq"||N=="\\ge"),Y=N=="<="||N=="<"||N=="\\leq"||N=="\\le";re&&m.fillGraphStrokeToCtx(v,x,V,Y,W)}}else m.fillPolygonToCtx(v,x,V,M.fillOpacity*q)}v.globalAlpha=this._clampedOpacity(M.fillOpacity*q),M.graphMode!==a.POLAR&&(v.fill(),v.desmos_batching=!1),v.globalAlpha=1}}m.eachSegment(y,(function(O,ee){if(O.graphMode!==a.XYPOINT&&O.graphMode!==a.XYPOINT_MOVABLE){var oe=a.Y;O.flip&&(oe=a.X),O.graphMode&&(oe=O.graphMode);var H=O.lineWidth!==void 0,J=O.lineWidth,ie=c.LINE_WIDTH;if(!H||!(J<=0)&&isFinite(J)){v.lineWidth=H?J:ie;var de=x.settings.graphLineWidth/ie;v.lineWidth*=de;var fe=O.operator,Ee="default";fe=="<"||fe==">"||fe=="!="||y.style===s.DASHED||O.style===s.DASHED?Ee=s.DASHED:y.style!==s.DOTTED&&O.style!==s.DOTTED||(Ee=s.DOTTED,H&&(v.lineWidth*=2));var ye=b.shouldDrawPressed(y.id),_e=b.shouldDrawHovered(y.id);(ye||_e)&&(v.save(),v.lineWidth+=4.5,v.globalAlpha*=ye?.5:.3,m.drawGraphStrokeToCtx(v,x,ee,Ee,oe,fe),v.restore()),m.drawGraphStrokeToCtx(v,x,ee,Ee,oe,fe)}}}).bind(this)),v.lineWidth=f,m.eachSegment(y,(function(O,ee){if(O.graphMode===a.XYPOINT&&O.showPoint||O.graphMode===a.XYPOINT_MOVABLE&&G){var oe,H=[];if(O.interactiveLabel&&y.labels)for(var J=0,ie=y.labels.length;J<ie;J++){var de=y.labels[J],fe=E.isOpenPOI(de),Ee=E.getHoveredPOI()===de;H.push(fe||Ee),!fe&&Ee&&(oe=J)}var ye=1;O.pointSize==="medium"?ye=1.5:O.pointSize==="large"&&(ye=2.25);var _e=b.shouldDrawPressed(y.id),Fe=b.shouldDrawHovered(y.id),se=1;_e?se=.5:Fe&&(se=.3),se!==1&&(m.drawPointsToCtx(v,x,ee,O.style,H,oe,1.5*ye,se),v.restore()),m.drawPointsToCtx(v,x,ee,O.style,H,oe,ye,1)}}).bind(this))}},m.drawGraphStrokeToCtx=function(y,v,x,E,b,f){var S=w.getClippingGraphType(b,f!=="=",v.settings),j=w.mapSegmentToCanvas(x,v.viewport,v.screen,S),Q=w.clipStrokeEdges(j,n(v.screen));if(Q.length!==0){y.save(),d.save(y,"dcg-svg-curve"),y.globalAlpha*=v.settings.curveOpacity;var G,q;if(E==s.DASHED)q=new e(y,e.getTotalSegmentLength(Q),[11,7]),q.drawSegment(Q);else if(E==s.DOTTED)q=v.settings.config.projectorMode?new e(y,e.getTotalSegmentLength(Q),[.1,16]):new e(y,e.getTotalSegmentLength(Q),[.1,8]),q.drawSegment(Q);else if(E!==s.SOLID&&E!=="default"||y.lineWidth!==1){for(y.desmos_batching||y.beginPath(),y.moveTo(Q[0],Q[1]),G=0;G<Q.length;G+=2)y.lineTo(Q[G],Q[G+1]);y.desmos_batching||y.stroke()}else{y.desmos_batching||y.beginPath();var L=Q.length>4||Q[0]!==Q[2]&&Q[1]!==Q[3];if(L)for(y.moveTo(Q[0],Q[1]),G=0;G<Q.length;G+=2)y.lineTo(Q[G],Q[G+1]);else for(y.moveTo(r(Q[0]),r(Q[1])),G=0;G<Q.length;G+=2)y.lineTo(r(Q[G]),r(Q[G+1]));y.desmos_batching||y.stroke()}d.restore(y),y.restore()}},m.mapPointToScreen=function(y,v,x){var E=y.mapx(v)-.5;if(E<-20||E>y.screen.width+20)return null;var b=y.mapy(x)-.5;return b<-20||b>y.screen.height+20?null:{x:E,y:b}},m.drawPointToCtx=function(y,v,x,E,b,f,S,j,Q){var G,q=y.lineWidth,L=y.fillStyle,M=m.mapPointToScreen(v,x,E);if(!M)return!1;d.save(y,"dcg-svg-point"),y.globalAlpha=b||c.POINT_ALPHA,Q&&(y.globalAlpha*=Q),y.desmos_batching||y.beginPath();var D=v.settings.pointLineWidth;return S&&(D=v.settings.config.projectorMode?17:11,y.lineWidth=D),j&&(D*=j,y.lineWidth=D),f===o.CROSS?(G=.4*D,y.moveTo(M.x-G,M.y-G),y.lineTo(M.x+G,M.y+G),y.moveTo(M.x+G,M.y-G),y.lineTo(M.x-G,M.y+G),y.lineWidth=.3*D):f===o.OPEN?(G=.42*D,y.moveTo(M.x+G,M.y),y.arc(M.x,M.y,G,0,2*Math.PI,!0),y.closePath(),y.fillStyle="white",y.lineWidth=.25*D,y.fill()):(y.moveTo(M.x-.1,M.y-.1),y.lineTo(M.x-.1,M.y+.1),y.lineTo(M.x+.1,M.y+.1),y.lineTo(M.x+.1,M.y-.1)),y.desmos_batching||y.stroke(),y.globalAlpha=1,y.lineWidth=q,y.fillStyle=L,d.restore(y),!0},m.drawPointsToCtx=function(y,v,x,E,b,f,S,j){var Q=y.lineWidth;y.lineWidth=v.settings.pointLineWidth;for(var G=0;G<x.length;G++)m.drawPointToCtx(y,v,x[G][0],x[G][1],f===G&&c.HIGHLIGHTED_POINT_ALPHA,E,b[G],S,j);y.lineWidth=Q},m.fillGraphStrokeToCtx=function(y,v,x,E,b){y.globalAlpha=b===a.POLAR?c.POLAR_ALPHA:c.FILL_ALPHA;var f,S=null,j=null;if(b===a.POLAR){j=w.ALL;var Q=E?0:v.viewport.polarDiameter(),G=v.settings.degreeMode?180:2*Math.PI;S=w.computePolarFill(x,Q,G)}else b===a.Y?(j=w.Y,f=E?v.viewport.ymin:v.viewport.ymax,S=w.computeCartesianFill(x,f)):b===a.X&&(j=w.X,f=E?v.viewport.xmin:v.viewport.xmax,S=w.computeCartesianFill(x,f));for(var q=n(v.screen),L=0;L<S.length;L++){var M=w.getClippingGraphType(b,!0,v.settings),D=w.mapSegmentToCanvas(S[L],v.viewport,v.screen,M),V=w.clipFillEdges(D,q,j);if(V.length>=6){d.save(y,"dcg-svg-region"),y.desmos_batching||y.beginPath(),y.moveTo(V[0],V[1]);for(var W=2;W<V.length;W+=2)y.lineTo(V[W],V[W+1]);y.lineTo(V[0],V[1]),y.desmos_batching||y.fill(),d.restore(y)}}y.globalAlpha=1},m._clampedOpacity=function(y){return y<0?0:y>1?1:l.isFinite(y)?y:c.FILL_ALPHA},m.fillPolygonToCtx=function(y,v,x,E){var b=n(v.screen);y.globalAlpha=this._clampedOpacity(E);var f=w.mapSegmentToCanvas(x,v.viewport,v.screen,w.Y_EQUALS),S=w.clipFillEdges(f,b,w.ALL);if(S.length>=6){d.save(y,"dcg-svg-region"),y.desmos_batching||y.beginPath(),y.moveTo(S[0],S[1]);for(var j=2;j<S.length;j+=2)y.lineTo(S[j],S[j+1]);y.desmos_batching||y.fill(),d.restore(y)}y.globalAlpha=1},m}),$("graphing/poidotslayer",["require","loadcss!poi","pjs","./graphslayer","./constants"],function(B){B("loadcss!poi");var u=B("pjs"),w=B("./graphslayer"),e=B("./constants"),c=u(function(t){t.init=function(){this.savedPOI=[]},t.redrawToCtx=function(a,l,h,o,s){var p=[];for(var g in h){var d=h[g];if(d.visible){d.showHighlight&&c.drawSketchHighlight(d,a,l,o,s);var i=d.getPOI();(d.showPOI||i.length&&i[0].isAttachedToPlottedPoint())&&p.push.apply(p,c.drawPOIs(i,a,"#AAAAAA",l))}}this.savedPOI=p},t.getDrawnPOI=function(){return this.savedPOI}});return c.drawSketchHighlight=function(t,a,l,h,o){l.settings.setProperty("highlight",!0),w.drawSketchToCtx(t,a,l,h,o),l.settings.setProperty("highlight",!1)},c.drawPOIs=function(t,a,l,h){a.lineWidth=h.settings.pointLineWidth,a.strokeStyle=l||"#AAAAAA",a.fillStyle=l||"#AAAAAA",a.lineJoin="round",a.lineCap="round";var o=a.globalAlpha;a.globalAlpha=e.POI_ALPHA;var s,p,g=[],d=t.length;if(d&&t[0].isAttachedToPlottedPoint())for(s=0;s<d;s++)p=t[s],w.mapPointToScreen(h,p.x,p.y)&&g.push(p);else for(s=0;s<d;s++)p=t[s],w.drawPointToCtx(a,h,p.x,p.y)&&g.push(p);return a.globalAlpha=o,g},c}),$("graphing/stepnumber",["require","pjs","./svg-classes"],function(B){var u=B("pjs"),w=B("./svg-classes"),e=document.createElement("canvas").getContext("2d"),c=u(function(t){t.init=function(a,l){this._label=a,this._fontSize=l,this._layout=this._computeLayout(a,l)},t._computeLayout=function(a,l){var h={};return a.superscript?(h.mantissa_height=l,c.setCtxFontSize(e,h.mantissa_height),h.mantissa_width=e.measureText(a.mantissa).width,h.superscript_height=Math.round(.8*l),c.setCtxFontSize(e,h.superscript_height),h.superscript_width=e.measureText(a.superscript).width,h.mantissa_x=0,h.mantissa_y=l/5,h.superscript_x=h.mantissa_width/2+h.superscript_width/2,h.superscript_y=-l/4,h.top=h.superscript_y-h.superscript_height/2,h.bottom=h.mantissa_y+h.mantissa_height/2,h.left=h.mantissa_x-h.mantissa_width/2,h.right=h.superscript_x+h.superscript_width/2):(h.mantissa_height=l,c.setCtxFontSize(e,l),h.mantissa_width=e.measureText(a.string).width,h.mantissa_x=0,h.mantissa_y=0,h.top=h.mantissa_y-h.mantissa_height/2,h.bottom=h.mantissa_y+h.mantissa_height/2,h.left=h.mantissa_x-h.mantissa_width/2,h.right=h.mantissa_x+h.mantissa_width/2),h},t.getRect=function(){return this.getRectWhenCenteredAt({x:0,y:0})},t.getRectWhenCenteredAt=function(a){return{left:this._layout.left+a.x,right:this._layout.right+a.x,top:this._layout.top+a.y,bottom:this._layout.bottom+a.y}},t.getWidth=function(){return this._layout.right-this._layout.left},t.getHeight=function(){return this._layout.bottom-this._layout.top},t.clampBoundsWithinRect=function(a,l){var h={};return a.x+this._layout.left<l.left?h.x=l.left-this._layout.left:a.x+this._layout.right>l.right?h.x=l.right-this._layout.right:h.x=a.x,a.y+this._layout.top<l.top?h.y=l.top-this._layout.top:a.y+this._layout.bottom>l.bottom?h.y=l.bottom-this._layout.bottom:h.y=a.y,h},t.getValue=function(){return this._label.value},t.getMinusWidth=function(){return this.getValue()<0?(c.setCtxFontSize(e,this._fontSize),e.measureText("-1").width-e.measureText("1").width):0},t.getString=function(){return this._label.superscript?this._label.mantissa+"^"+this._label.superscript:this._label.string},t.drawCenteredAt=function(a,l,h){var o=l.x,s=c.computeBaselineFromCenter(l.y,this._fontSize);h&&w.save(a,h),a.save(),h&&w.restore(a),c.setCtxFontSize(a,this._fontSize),this._label.superscript?(a.strokeText(this._label.mantissa,this._layout.mantissa_x+o,this._layout.mantissa_y+s),a.strokeText(this._label.superscript,this._layout.superscript_x+o,this._layout.superscript_y+s),a.fillText(this._label.mantissa,this._layout.mantissa_x+o,this._layout.mantissa_y+s),a.fillText(this._label.superscript,this._layout.superscript_x+o,this._layout.superscript_y+s)):(a.strokeText(this._label.string,this._layout.mantissa_x+o,this._layout.mantissa_y+s),a.fillText(this._label.string,this._layout.mantissa_x+o,this._layout.mantissa_y+s)),a.restore()}});return c.computeBaselineFromCenter=function(t,a){return t+.272*a},c.setCtxFontSize=function(t,a){t.font=a+"px Arial",t.textAlign="center"},c}),$("graphing/computestepsizes",["require","./stepnumber","core/lib/label"],function(B){function u(a){return a?{base:10,major:[a,2*a,5*a],minor:[4,4,5]}:c.RATIONAL_STEPS}var w=B("./stepnumber"),e=B("core/lib/label"),c={},t=function(a,l,h,o){var s=Math.ceil(a/h),p=Math.floor(l/h),g=1/h;if(!(s>p||p-s>1e4))for(var d=s;d<=p;d++)o(d/g)};return c.RATIONAL_STEPS={base:10,major:[1,2,5],minor:[5,4,5]},c.PI_STEPS={base:10,major:[Math.PI,2*Math.PI,5*Math.PI],minor:[4,4,5]},c.PI_FRAC_STEPS={base:2,major:[Math.PI/3],minor:[3]},c.bestStep=function(a,l){for(var h,o,s,p,g=1/0,d=0;d<l.major.length;d++)h=l.major[d],s=Math.ceil(Math.log(a/h)/Math.log(l.base)),(p=h*Math.pow(l.base,s))<g&&(g=p,o=g/l.minor[d]);return{major:g,minor:o}},c.countStepsInRange=function(a,l,h){return 1+(l-a)/h},c.calculateSpaceBetweenRects=function(a,l){var h,o;return o=a.right<l.left?l.left-a.right:l.right<a.left?a.left-l.right:0,h=a.bottom<l.top?l.top-a.bottom:l.bottom<a.top?a.top-l.bottom:0,Math.max(h,o)},c.estimateMajors=function(a){var l=a.screen.width,h=a.screen.height,o=a.viewport.xmax-a.viewport.xmin,s=a.viewport.ymax-a.viewport.ymin,p=a.settings.pixelsPerLabel;return{majorStepX:p/l*o,majorStepY:p/h*s}},c.cartesian=function(a){var l,h={},o=Math.abs(a.settings.xAxisStep),s=Math.abs(a.settings.yAxisStep),p=a.viewport.xmax-a.viewport.xmin,g=a.viewport.ymax-a.viewport.ymin,d=e.value(o,p).string.indexOf("")>=0,i=e.value(s,g).string.indexOf("")>=0,n=c.countStepsInRange(a.viewport.xmin,a.viewport.xmax,o),r=c.countStepsInRange(a.viewport.ymin,a.viewport.ymax,s),m=c.estimateMajors(a),y=a.settings.labelSize;if(o&&o!==Math.PI&&n>=3&&n<100){var v=0;a.settings.xAxisNumbers&&t(a.viewport.xmin,a.viewport.xmax,o,function(Q){var G=w(e.value(Q,p),y);v=Math.max(G.getWidth(),v)}),l=v+10,a.settings.xAxisNumbers||(l=a.settings.xAxisMinorSubdivisions===1?8:20),n*l<=a.screen.width&&(h.majorStepX=o,h.minorStepX=o===3||o===5?1:o/4)}if(s&&s!==Math.PI&&r>=3&&r<100){var x=0;a.settings.yAxisNumbers&&t(a.viewport.ymin,a.viewport.ymax,s,function(Q){var G=w(e.value(Q,g),y);x=Math.max(G.getHeight(),x)}),l=x+10,a.settings.yAxisNumbers||(l=a.settings.yAxisMinorSubdivisions===1?8:20),r*l<=a.screen.height&&(h.majorStepY=s,h.minorStepY=s===3||s===5?1:s/4)}if(!h.majorStepX){var E;E=d?m.majorStepX>=1?c.PI_STEPS:c.PI_FRAC_STEPS:u(o);var b=c.bestStep(m.majorStepX,E);h.majorStepX=b.major,h.minorStepX=b.minor}if(!h.majorStepY){var f;f=i?m.majorStepY>=1?c.PI_STEPS:c.PI_FRAC_STEPS:u(s);var S=c.bestStep(m.majorStepY,f);h.majorStepY=S.major,h.minorStepY=S.minor}if(o===s){var j=a.screen.width/p/(a.screen.height/g);j>=1&&j<=2?(h.majorStepX=h.majorStepY,h.minorStepX=h.minorStepY):j<=1&&j>=.5&&(h.majorStepY=h.majorStepX,h.minorStepY=h.minorStepX)}return a.settings.xAxisMinorSubdivisions>0&&(h.minorStepX=h.majorStepX/a.settings.xAxisMinorSubdivisions),a.settings.yAxisMinorSubdivisions>0&&(h.minorStepY=h.majorStepY/a.settings.yAxisMinorSubdivisions),h},c.polar=function(a){var l=c.estimateMajors(a),h=c.bestStep(l.majorStepX,c.RATIONAL_STEPS),o=c.bestStep(l.majorStepY,c.RATIONAL_STEPS),s=h.major>o.major?h:o;return{majorStepR:s.major,minorStepR:s.minor}},c}),$("graphing/gridlayer",["require","pjs","./stepnumber","core/lib/label","./computestepsizes","core/graphing-calc/json/graph-settings","./svg-classes","./svg-groups"],function(B){var u=B("pjs"),w=B("./stepnumber"),e=B("core/lib/label"),c=B("./computestepsizes"),t=B("core/graphing-calc/json/graph-settings").AxisArrowModes,a=B("./svg-classes"),l=B("./svg-groups"),h=u(function(d){d.redrawToCtx=function(i,n,r){l.save(i,"graphpaper");var m,y,v=n.settings.showGrid;if(n.settings.polarMode&&v)m=c.polar(n),l.save(i,"grid"),this.drawPolarGrid(i,n,m),l.restore(i),l.save(i,"axis"),this.drawAxes(i,n,r),y=this.drawPolarStepNumbers(i,n,m),this.drawLabels(i,n,y),l.restore(i);else{m=c.cartesian(n),v&&(l.save(i,"grid"),this.drawCartesianGrid(i,n,m),l.restore(i));var x=!v;l.save(i,"axis"),this.drawAxes(i,n,r),y=this.drawCartesianStepNumbers(i,n,m,x),this.drawLabels(i,n,y),l.restore(i)}l.restore(i)},d.addTextShadow=function(i,n){i.strokeStyle=n.settings.getBackgroundColor(),i.lineWidth=3,i.miterLimit=2},d.drawPolarGrid=function(i,n,r){i.save();var m=n.settings.minorAxisOpacity,y=n.settings.majorAxisOpacity,v=1-(1-y)/(1-m),x=Math.round(n.mapx(0))-.5,E=Math.round(n.mapy(0))-.5,b=n.screen.height/(n.viewport.ymax-n.viewport.ymin),f=n.screen.width/(n.viewport.xmax-n.viewport.xmin),S=b/f,j=f/b,Q=E/S,G=n.viewport.smallestR(),q=n.viewport.largestR(),L=r.minorStepR*Math.max(1,Math.floor(G/r.minorStepR)),M=r.majorStepR*Math.max(1,Math.floor(G/r.majorStepR));i.lineWidth=1,i.strokeStyle="rgba(0, 0 , 0, "+m+")",o(L,q,r.minorStepR,function(D){a.save(i,"dcg-svg-minor-gridline"),i.beginPath(),a.restore(i),i.scale(1,S);var V=n.mapx(D)-x;i.moveTo(x+V,Q),i.arc(x,Q,V,0,2*Math.PI),i.scale(1,j),i.stroke()}),o(0,359,G>0?5:15,function(D){if((D!==0&&D!==180||!n.settings.showXAxis)&&(D!==90&&D!==270||!n.settings.showYAxis)){a.save(i,"dcg-svg-minor-gridline"),i.beginPath(),a.restore(i),i.moveTo(x,E);var V=n.mapx(q*Math.cos(D*Math.PI/180)),W=n.mapy(q*Math.sin(D*Math.PI/180));i.lineTo(Math.round(V)-.5,Math.round(W)-.5),i.stroke()}}),i.lineWidth=1,i.strokeStyle="rgba(0, 0 , 0, "+v+")",o(M,q,r.majorStepR,function(D){a.save(i,"dcg-svg-major-gridline"),i.beginPath(),a.restore(i),i.scale(1,S);var V=n.mapx(D)-x;i.moveTo(x+V,Q),i.arc(x,Q,V,0,2*Math.PI),i.scale(1,j),i.stroke()}),i.restore()},d.drawCartesianGrid=function(i,n,r){i.save();var m=n.viewport.xmin,y=n.viewport.ymin,v=n.viewport.xmax,x=n.viewport.ymax,E=n.screen.width,b=n.screen.height,f=b,S=0;n.settings.restrictGridToFirstQuadrant&&(m=0,y=0,f=n.mapy(0),S=n.mapx(0));var j=n.settings.minorAxisOpacity,Q=n.settings.majorAxisOpacity;i.lineWidth=1,i.strokeStyle="rgba(0, 0 , 0, "+j+")",a.save(i,"dcg-svg-minor-gridline"),o(m,v,r.minorStepX,function(q){if(q!==0||!n.settings.showYAxis){var L=Math.round(n.mapx(q));L!==E&&(i.beginPath(),i.moveTo(L-.5,0),i.lineTo(L-.5,f),i.stroke())}}),o(y,x,r.minorStepY,function(q){if(q!==0||!n.settings.showXAxis){var L=Math.round(n.mapy(q));L!==b&&(i.beginPath(),i.moveTo(S,L-.5),i.lineTo(E,L-.5),i.stroke())}}),a.restore(i);var G=1-(1-Q)/(1-j);i.strokeStyle="rgba(0, 0 , 0, "+G+")",a.save(i,"dcg-svg-major-gridline"),o(m,v,r.majorStepX,function(q){if(q!==0||!n.settings.showYAxis){var L=Math.round(n.mapx(q));L!==E&&(i.beginPath(),i.moveTo(L-.5,0),i.lineTo(L-.5,f),i.stroke())}}),o(y,x,r.majorStepY,function(q){if(q!==0||!n.settings.showXAxis){var L=Math.round(n.mapy(q));L!==b&&(i.beginPath(),i.moveTo(S,L-.5),i.lineTo(E,L-.5),i.stroke())}}),a.restore(i),i.restore()},d.drawAxes=function(i,n,r){function m(V,W,N){i.save();var re=Math.PI/12,Y=8*Math.max(i.lineWidth,1.5);i.lineJoin="round",i.fillStyle=E,i.strokeStyle=E,i.beginPath(),i.moveTo(V,W),i.lineTo(V+Math.cos(N-re)*Y,W+Math.sin(N-re)*Y),i.lineTo(V+Math.cos(N+re)*Y,W+Math.sin(N+re)*Y),i.lineTo(V,W),i.lineTo(V+Math.cos(N-re)*Y,W+Math.sin(N-re)*Y),i.stroke(),i.fill(),i.restore()}var y=n.settings.axisLineOffset,v=n.settings.axisOpacity.toString();a.save(i,"dcg-svg-axis-line");var x="rgba(127,205,230,"+v+")",E="rgba(0,0,0,"+v+")",b=n.settings.xAxisArrowMode,f=n.settings.yAxisArrowMode,S=n.settings.showXAxis,j=n.settings.showYAxis,Q=Math.round(n.mapx(0))-y,G=Math.round(n.mapy(0))-y,q=n.screen.height,L=n.screen.width,M=q,D=0;n.settings.restrictGridToFirstQuadrant&&(M=G,D=Q,b===t.BOTH&&(b=t.POSITIVE),f===t.BOTH&&(f=t.POSITIVE)),j&&(i.lineWidth=1*n.settings.axisLineWidth,i.strokeStyle=r==="y"?x:E,f===t.BOTH?(i.beginPath(),i.moveTo(Q,2*n.settings.axisLineWidth),i.lineTo(Q,q-2*n.settings.axisLineWidth),i.stroke(),m(Q,q-n.settings.axisLineWidth,3*Math.PI/2),m(Q,n.settings.axisLineWidth,Math.PI/2)):f===t.POSITIVE?(i.beginPath(),i.moveTo(Q,2*n.settings.axisLineWidth),i.lineTo(Q,M),i.stroke(),m(Q,n.settings.axisLineWidth,Math.PI/2)):(i.beginPath(),i.moveTo(Q,0),i.lineTo(Q,M),i.stroke())),S&&(i.lineWidth=1*n.settings.axisLineWidth,i.strokeStyle=r==="x"?x:E,b===t.BOTH?(i.beginPath(),i.moveTo(2*n.settings.axisLineWidth,G),i.lineTo(L-2*n.settings.axisLineWidth,G),i.stroke(),m(n.settings.axisLineWidth,G,0),m(L-n.settings.axisLineWidth,G,Math.PI)):b===t.POSITIVE?(i.beginPath(),i.lineTo(D,G),i.lineTo(L-2*n.settings.axisLineWidth,G),i.stroke(),m(L-n.settings.axisLineWidth,G,Math.PI)):(i.beginPath(),i.lineTo(D,G),i.lineTo(L,G),i.stroke())),a.restore(i)},d.drawPolarStepNumbers=function(i,n,r){function m(ke,T,Ie){var Ke=Math.sqrt(ke*ke-T*T);G<=Ke&&Ke<=q&&Ie.push({x:n.mapx(T),y:n.mapy(Ke)}),G<=-Ke&&-Ke<=q&&Ie.push({x:n.mapx(T),y:n.mapy(-Ke)})}function y(ke,T,Ie){var Ke=Math.sqrt(ke*ke-T*T);j<=Ke&&Ke<=Q&&Ie.push({x:n.mapx(Ke),y:n.mapy(T)}),j<=-Ke&&-Ke<=Q&&Ie.push({x:n.mapx(-Ke),y:n.mapy(T)})}i.save();var v=n.settings.showGrid,x=n.settings.xAxisNumbers&&n.settings.showXAxis,E=n.settings.yAxisNumbers&&n.settings.showYAxis,b=v&&n.settings.polarNumbers,f=n.viewport.largestR(),S=n.viewport.smallestR(),j=n.viewport.xmin,Q=n.viewport.xmax,G=n.viewport.ymin,q=n.viewport.ymax,L=n.screen.width,M=n.screen.height,D={left:3,right:L-3,top:3,bottom:M-3},V=n.settings.labelHangingColor,W=n.settings.getTextColor(),N=n.settings.labelSize,re=N;this.addTextShadow(i,n),i.fillStyle=W;var Y=n.mapx(0),O=n.mapy(0),ee=G<=0&&0<=q,oe=j<=0&&0<=Q,H=ee&&x,J=oe&&E,ie="";if(!H&&!J&&v){var de,fe,Ee,ye,_e=Math.abs(Y),Fe=Math.abs(Y-L),se=Math.abs(O),I=Math.abs(O-M);_e<=Fe?(de="left",Ee=_e):(de="right",Ee=Fe),se<=I?(fe="top",ye=se):(fe="bottom",ye=I),x&&E?ie=Ee<=ye?de:fe:E?ie=de:x&&(ie=fe)}var ne={left:0,right:L,top:O-1,bottom:O+1},pe={left:Y-1,right:Y+1,top:0,bottom:M};if(o(0,f,r.majorStepR,function(ke){var T=[],Ie=[],Ke=[],Ye=w(e.value(ke,f),N),bt=Ye.getRect();switch(ke>0?(J&&G<=ke&&ke<=q&&Ie.push({x:Y-bt.right-5,y:n.mapy(ke)}),J&&G<=-ke&&-ke<=q&&Ie.push({x:Y-bt.right-5,y:n.mapy(-ke)}),H&&j<=ke&&ke<=Q&&T.push({x:n.mapx(ke),y:O-bt.top+3}),H&&j<=-ke&&-ke<=Q&&T.push({x:n.mapx(-ke),y:O-bt.top+3})):J&&!x&&G<=ke&&ke<=q?Ie.push({x:Y-bt.right-5,y:n.mapy(ke)}):H&&!E&&j<=ke&&ke<=Q&&T.push({x:n.mapx(ke),y:O-bt.top+3}),ie){case"top":y(ke,q,Ke);break;case"bottom":y(ke,G,Ke);break;case"left":m(ke,j,Ke);break;case"right":m(ke,Q,Ke)}T.forEach(function(le){le=Ye.clampBoundsWithinRect(le,D),Ye.drawCenteredAt(i,le,"dcg-svg-axis-value"),p(ne,Ye.getRectWhenCenteredAt(le))}),Ie.forEach(function(le){le=Ye.clampBoundsWithinRect(le,D),Ye.drawCenteredAt(i,le,"dcg-svg-axis-value"),p(pe,Ye.getRectWhenCenteredAt(le))}),Ke.forEach(function(le){le=Ye.clampBoundsWithinRect(le,D),Ye.drawCenteredAt(i,le,"dcg-svg-axis-value")})}),b){var ge=Math.ceil(S/r.majorStepR),Be=Math.floor(f/r.majorStepR),Re=Math.ceil((ge+Be)/2),ve=Re*r.majorStepR;o(0,359,S>0?15:30,function(ke){var T;T=n.settings.degreeMode?ke.toString()+"":e.value(ke*Math.PI/180,2*Math.PI).string;var Ie=i.measureText(T).width/2,Ke=ve/1.05,Ye=Ke*Math.cos(ke*Math.PI/180),bt=Ke*Math.sin(ke*Math.PI/180);if(!(Ye<j||Ye>Q||bt<G||bt>q)){var le=n.mapx(Ye),Te=n.mapy(bt);ke===0||ke===180?Te-=re:ke!==90&&ke!==270||(le+=Ie+3);var Ce=s(le,3+Ie,L-3-Ie),xe=s(Te,3+re,M-3-re);xe=w.computeBaselineFromCenter(xe,N),a.save(i,"dcg-svg-polar-axis-value"),i.save(),a.restore(i),i.fillStyle=V,w.setCtxFontSize(i,N),i.strokeText(T,Ce,xe),i.fillText(T,Ce,xe),i.restore()}})}return i.restore(),{x:ne,y:pe}},d.drawLabels=function(i,n,r){var m=n.viewport.xmin,y=n.viewport.xmax,v=n.viewport.ymin,x=n.viewport.ymax,E=n.screen.width,b=n.screen.height,f=(y-m)/E,S=(x-v)/b,j=n.settings.getTextColor(),Q=n.mapx(0),G=n.mapy(0),q=n.settings.labelSize,L=n.settings.showXAxis&&n.settings.xAxisLabel,M=n.settings.showYAxis&&n.settings.yAxisLabel,D=r.x,V=r.y;if(L&&D){a.save(i,"dcg-svg-axis-label"),i.save(),a.restore(i),i.fillStyle=j;var W;if(i.__xLabelOffset&&n.settings.isViewportTransient&&g(i.__xLabelOffset.xscale,f)&&g(i.__xLabelOffset.yscale,S)&&(W={x:i.__xLabelOffset.x+Q,y:i.__xLabelOffset.y+G}),this._setAxisLabelFont(i,L,q,n),!W){var N=i.measureText(L).width,re=E-N-15,Y=q;W=D.bottom+Y<b?{x:re,y:D.bottom+Y}:{x:re,y:D.top-Y/2},i.__xLabelOffset={x:W.x-Q,y:W.y-G,xscale:f,yscale:S}}i.strokeText(L,W.x,W.y),i.fillText(L,W.x,W.y),i.restore()}else i.__xLabelPosition=null;if(M&&V){a.save(i,"dcg-svg-axis-label"),i.save(),a.restore(i),i.fillStyle=j;var O;if(i.__yLabelOffset&&n.settings.isViewportTransient&&g(i.__yLabelOffset.xscale,f)&&g(i.__yLabelOffset.yscale,S)&&(O={x:i.__yLabelOffset.x+Q,y:i.__yLabelOffset.y+G}),this._setAxisLabelFont(i,M,q,n),!O){var ee=i.measureText(M).width,oe=q,H=ee+5;if(!this._isShortMathyLabel(M)){var J=ee;ee=oe,oe=J,H=.5*ee}var ie=15+oe;O=V.left-ee>0?{x:V.left-H,y:ie}:{x:V.right+ee,y:ie},i.__yLabelOffset={x:O.x-Q,y:O.y-G,xscale:f,yscale:S}}i.translate(O.x,O.y),this._isShortMathyLabel(M)||i.rotate(-Math.PI/2),i.strokeText(M,0,0),i.fillText(M,0,0),i.restore()}else i.__yLabelPosition=null},d._isShortMathyLabel=function(i){return i.trim().match(/^([a-zA-Z]?)\(?([a-zA-Z]?)\)?$/)},d._setAxisLabelFont=function(i,n,r,m){this.addTextShadow(i,m),this._isShortMathyLabel(n)?i.font="italic "+Math.round(1.4*r.toString())+"px Times":i.font=Math.round(1.2*r.toString())+"px Arial"},d.drawCartesianStepNumbers=function(i,n,r,m){i.save();var y=n.settings.showXAxis,v=n.settings.showYAxis,x=y&&n.settings.xAxisNumbers,E=v&&n.settings.yAxisNumbers,b=n.viewport.xmin,f=n.viewport.xmax,S=n.viewport.ymin,j=n.viewport.ymax,Q=n.screen.width,G=n.screen.height,q={left:3,top:3,right:Q-3,bottom:G-3};n.settings.restrictGridToFirstQuadrant&&(b=0,S=0);var L=n.settings.labelHangingColor,M=n.settings.getTextColor(),D=n.mapx(0),V=n.mapy(0),W=n.settings.labelSize;this.addTextShadow(i,n);var N={left:0,right:Q,top:V-1,bottom:V+1},re={left:D-1,right:D+1,top:0,bottom:G},Y=!1;if(y&&v&&(x||E)){Y=!0,i.fillStyle=M;var O=w(e.value(0,1),W);O.drawCenteredAt(i,{x:D-O.getRect().right-5,y:V-O.getRect().top+5},"dcg-svg-axis-value")}var ee=[],oe=[];if(x&&o(b,f,r.majorStepX,function(ye){var _e=w(e.value(ye,f-b),W);_e.getString()==="0"&&Y||ee.push(_e)}),E&&o(S,j,r.majorStepY,function(ye){var _e=w(e.value(ye,j-S),W);_e.getString()==="0"&&Y||oe.push(_e)}),m){i.save(),a.save(i,"dcg-svg-tickmark");var H=n.settings.axisLineOffset,J=n.settings.axisOpacity.toString(),ie="rgba(0,0,0,"+J+")";i.lineWidth=n.settings.axisLineWidth,i.strokeStyle=ie;var de=Math.round(n.mapy(0))-H,fe=Math.round(n.mapx(0))-H,Ee=Math.round(2*i.lineWidth)-H;i.beginPath(),ee.forEach(function(ye){var _e=Math.round(n.mapx(ye.getValue()))-H;i.moveTo(_e,de-Ee),i.lineTo(_e,de+Ee)}),oe.forEach(function(ye){var _e=Math.round(n.mapy(ye.getValue()))-H;i.moveTo(fe-Ee,_e),i.lineTo(fe+Ee,_e)}),i.stroke(),a.restore(i),i.restore()}return ee.forEach(function(ye){var _e={x:n.mapx(ye.getValue())-.5*ye.getMinusWidth(),y:V-ye.getRect().top+5},Fe=ye.clampBoundsWithinRect(_e,q);i.fillStyle=_e.y===Fe.y?M:L;var se="dcg-svg-axis-value";_e.x!==Fe.x&&(se+=" dcg-svg-offcenter-axis-value"),ye.drawCenteredAt(i,Fe,se),p(N,ye.getRectWhenCenteredAt(Fe)),a.restore(i)}),oe.forEach(function(ye){var _e={x:D-5-ye.getRect().right,y:n.mapy(ye.getValue())},Fe=ye.clampBoundsWithinRect(_e,q);i.fillStyle=_e.x===Fe.x?M:L;var se="dcg-svg-axis-value";_e.y!==Fe.y&&(se+=" dcg-svg-offcenter-axis-value"),ye.drawCenteredAt(i,Fe,se),p(re,ye.getRectWhenCenteredAt(Fe)),a.restore(i)}),i.restore(),{x:N,y:re}}}),o=function(d,i,n,r){var m=Math.ceil(d/n),y=Math.floor(i/n);if(isFinite(y-m)&&!(y-m>1e4))for(var v=m;v<=y;v++)r(v*n)},s=function(d,i,n){return d<i?i:d>n?n:d},p=function(d,i){i.left<d.left&&(d.left=i.left),i.right>d.right&&(d.right=i.right),i.top<d.top&&(d.top=i.top),i.bottom>d.bottom&&(d.bottom=i.bottom)},g=function(d,i){var n=Math.abs(d),r=Math.abs(i);return Math.abs(n-r)<=1e-4*(n<r?r:n)};return h}),$("graphing/imagelayer",["require","pjs","underscore","./draw-image-to-ctx","./svg-groups"],function(B){var u=B("pjs"),w=B("underscore"),e=B("./draw-image-to-ctx").drawImageToCtx,c=B("./svg-groups");return u(function(t){t.redrawToCtx=function(a,l,h,o){c.save(a,"background-images"),(o===void 0||o.length<w.size(h))&&(o=w.keys(h));for(var s=0;s<o.length;s++){var p=h[o[s]];p&&p.shouldGraph&&!p.foreground&&e(p,a,l)}c.restore(a)}})}),$("core/math/recttransformation",["require","exports"],function(B,u){function w(c,t){var a=c-1;return 1+a*a*a==1?t*(1+a*(t-1)*(.5+1/6*a*(t-2))):(Math.pow(c,t)-1)/a}Object.defineProperty(u,"__esModule",{value:!0});var e=function(){function c(t,a,l,h){t===void 0&&(t=0),a===void 0&&(a=0),l===void 0&&(l=1),h===void 0&&(h=l),this.tx=t,this.ty=a,this.sx=l,this.sy=h}return c.prototype.toJSON=function(){return{tx:this.tx,ty:this.ty,sx:this.sx,sy:this.sy}},c.prototype.compose=function(t){return new c(this.sx*t.tx+this.tx,this.sy*t.ty+this.ty,this.sx*t.sx,this.sy*t.sy)},c.prototype.translate=function(t,a){var l=a===void 0?t.x:a.x-t.x,h=a===void 0?t.y:a.y-t.y;return new c(this.tx+l,this.ty+h,this.sx,this.sy)},c.prototype.scale=function(t,a){return c.scale(t,a).compose(this)},c.prototype.scaleAtPoint=function(t,a,l){return l===void 0&&(l=a),c.scaleAtPoint(t,a,l).compose(this)},c.prototype.inverse=function(){return new c(-this.tx/this.sx,-this.ty/this.sy,1/this.sx,1/this.sy)},c.prototype.div=function(t){return new c((this.tx*t.sx-this.sx*t.tx)/t.sx,(this.ty*t.sy-this.sy*t.ty)/t.sy,this.sx/t.sx,this.sy/t.sy)},c.prototype.conjugate=function(t){return new c(this.tx*t.sx+t.tx*(1-this.sx),this.ty*t.sy+t.ty*(1-this.sy),this.sx,this.sy)},c.prototype.pow=function(t){return new c(this.tx*w(this.sx,t),this.ty*w(this.sy,t),Math.pow(this.sx,t),Math.pow(this.sy,t))},c.prototype.mapX=function(t){return this.sx*t+this.tx},c.prototype.mapY=function(t){return this.sy*t+this.ty},c.prototype.mapPoint=function(t){return{x:this.mapX(t.x),y:this.mapY(t.y)}},c.prototype.mapRect=function(t){return{left:this.mapX(t.left),right:this.mapX(t.right),bottom:this.mapY(t.bottom),top:this.mapY(t.top)}},c.scale=function(t,a){return a===void 0&&(a=t),new c(0,0,t,a)},c.translate=function(t,a){return new c().translate(t,a)},c.scaleAtPoint=function(t,a,l){return l===void 0&&(l=a),l===void 0&&(l=a),new c(t.x*(1-a),t.y*(1-l),a,l)},c.fromRects=function(t,a){var l=(a.right-a.left)/(t.right-t.left),h=(a.top-a.bottom)/(t.top-t.bottom);return new c(a.left-l*t.left,a.bottom-h*t.bottom,l,h)},c.fromJSON=function(t){return new c(t.tx,t.ty,t.sx,t.sy)},c}();u.RT=e}),$("graphing/projection",["require","exports","core/math/recttransformation"],function(B,u,w){function e(a){return{left:0,right:a.width,top:0,bottom:a.height}}function c(a){return{left:a.xmin,right:a.xmax,bottom:a.ymin,top:a.ymax}}Object.defineProperty(u,"__esModule",{value:!0});var t=function(){function a(l,h,o){this.screen=l,this.viewport=h,this.settings=o,this.mathCoordinates=c(h),this.pixelCoordinates=e(l),this.mathToPixels=w.RT.fromRects(this.mathCoordinates,this.pixelCoordinates),this.pixelsToMath=w.RT.fromRects(this.pixelCoordinates,this.mathCoordinates)}return a.prototype.mapx=function(l){return this.mathToPixels.mapX(l)},a.prototype.mapy=function(l){return this.mathToPixels.mapY(l)},a.prototype.map_pt=function(l){return this.mathToPixels.mapPoint(l)},a.prototype.reverse_mapx=function(l){return this.pixelsToMath.mapX(l)},a.prototype.reverse_mapy=function(l){return this.pixelsToMath.mapY(l)},a.prototype.reverse_map_pt=function(l){return this.pixelsToMath.mapPoint(l)},a.prototype.coordsAreOnscreen=function(l,h,o){return o=o===void 0?0:o,l>-o&&h>-o&&l<this.screen.width+o&&h<this.screen.height+o},a.prototype.closestPointOnScreen=function(l){var h=this.pixelCoordinates;return{x:Math.min(Math.max(l.x,h.left),h.right),y:Math.min(Math.max(l.y,h.top),h.bottom)}},a}();u.Projection=t}),function(B){typeof $=="function"&&$.amd?$("vendor/jquery.mousewheel",["jquery"],B):B(jQuery)}(function(B){function u(p){var g=p||window.event,d=h.call(arguments,1),i=0,n=0,r=0,m=0;if(p=B.event.fix(g),p.type="mousewheel","detail"in g&&(r=-1*g.detail),"wheelDelta"in g&&(r=g.wheelDelta),"wheelDeltaY"in g&&(r=g.wheelDeltaY),"wheelDeltaX"in g&&(n=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(n=-1*r,r=0),i=r===0?n:r,"deltaY"in g&&(r=-1*g.deltaY,i=r),"deltaX"in g&&(n=g.deltaX,r===0&&(i=-1*n)),r!==0||n!==0){if(g.deltaMode===1){var y=B.data(this,"mousewheel-line-height");i*=y,r*=y,n*=y}else if(g.deltaMode===2){var v=B.data(this,"mousewheel-page-height");i*=v,r*=v,n*=v}return m=Math.max(Math.abs(r),Math.abs(n)),(!t||m<t)&&(t=m,e(g,m)&&(t/=40)),e(g,m)&&(i/=40,n/=40,r/=40),i=Math[i>=1?"floor":"ceil"](i/t),n=Math[n>=1?"floor":"ceil"](n/t),r=Math[r>=1?"floor":"ceil"](r/t),p.deltaX=n,p.deltaY=r,p.deltaFactor=t,p.deltaMode=0,d.unshift(p,i,n,r),c&&clearTimeout(c),c=setTimeout(w,200),(B.event.dispatch||B.event.handle).apply(this,d)}}function w(){t=null}function e(p,g){return s.settings.adjustOldDeltas&&p.type==="mousewheel"&&g%120==0}var c,t,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],l="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],h=Array.prototype.slice;if(B.event.fixHooks)for(var o=a.length;o;)B.event.fixHooks[a[--o]]=B.event.mouseHooks;var s=B.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var p=l.length;p;)this.addEventListener(l[--p],u,!1);else this.onmousewheel=u;B.data(this,"mousewheel-line-height",s.getLineHeight(this)),B.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var p=l.length;p;)this.removeEventListener(l[--p],u,!1);else this.onmousewheel=null},getLineHeight:function(p){return parseInt(B(p)["offsetParent"in B.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(p){return B(p).height()},settings:{adjustOldDeltas:!0}};B.fn.extend({mousewheel:function(p){return p?this.bind("mousewheel",p):this.trigger("mousewheel")},unmousewheel:function(p){return this.unbind("mousewheel",p)}})}),$("graphing/viewportcontroller",["require","jquery","pjs","lib/aria","lib/i18n","core/math/recttransformation","./viewport","core/math/distance","./constants","lib/animation-frame","./projection","keys","jquery.handleevent","vendor/jquery.mousewheel"],function(B){var u=B("jquery"),w=B("pjs"),e=B("lib/aria"),c=B("lib/i18n"),t=B("core/math/recttransformation").RT,a=B("./viewport").Viewport,l=B("core/math/distance"),h=B("./constants"),o=B("lib/animation-frame"),s=B("./projection").Projection,p=B("keys");return B("jquery.handleevent"),B("vendor/jquery.mousewheel"),w(function(g){function d(v,x){var E=x.x-v.x,b=x.y-v.y,f=.5*(v.x+x.x),S=.5*(v.y+x.y),j=.5*l.hypot(E,b);return{center:r(f,S),radius:j}}function i(v,x){return d(x,{x:2*v.x-x.x,y:2*v.y-x.y})}function n(v,x){for(var E=[],b=0;b<v.length;b++)E.push(r(v[b].x-x.left,v[b].y-x.top));return E}function r(v,x){return{x:v,y:x}}function m(v){return r(.5*(v.left+v.right),.5*(v.bottom+v.top))}var y=0;g.init=function(v,x){this.grapher=v,this.$=this.grapher.$,this.__id=y++,this.controller=x,this.isScalingEnabled=!1,this.mousePt=r(0,0),this.lastScrollZoom=Date.now(),this.preventScrollZoom=!1,this.addMouseWheelEventHandler(),this.addTouchEventHandler()},g.remove=function(){u(window).off(".viewportcontroller-"+this.__id)},g.t=function(v,x){return c.t(v,x,this.grapher.settings.language)},g.getViewport=function(){return this.grapher.getProjection().viewport},g.getProjection=function(){return this.grapher.getProjection()},g.updateMouse=function(v){var x=this.$[0].getBoundingClientRect();this.mousePt=r(v.clientX-x.left,v.clientY-x.top)},g.updateScaleAxis=function(){this.isMouseInViewport()&&(this.isMouseNearYAxis()?this.grapher.scaleAxis="y":this.isMouseNearXAxis()?this.grapher.scaleAxis="x":this.grapher.scaleAxis="both"),this.updateCursor(),this.grapher.redrawAllLayers()},g.updateCursor=function(){this.$.toggleClass("dcg-scale-horizontal",this.grapher.scaleAxis==="x"),this.$.toggleClass("dcg-scale-vertical",this.grapher.scaleAxis==="y"),this.$.toggleClass("dcg-scale-both",this.grapher.scaleAxis==="both")},g.isMouseNearOrigin=function(){var v=this.getProjection(),x=v.mathToPixels.mapPoint(r(0,0));return Math.abs(this.mousePt.x-x.x)<50&&Math.abs(this.mousePt.y-x.y)<50},g.isMouseNearXAxis=function(){var v=this.getProjection(),x=v.pixelCoordinates,E=v.mathToPixels.mapY(0);return E=Math.min(Math.max(x.top,E),x.bottom),Math.abs(this.mousePt.y-E)<40&&v.settings.showXAxis},g.isMouseNearYAxis=function(){var v=this.getProjection(),x=v.pixelCoordinates,E=v.mathToPixels.mapX(0);return E=Math.min(Math.max(x.left,E),x.right),Math.abs(this.mousePt.x-E)<40&&v.settings.showYAxis},g.isMouseInViewport=function(){var v=this.getProjection(),x=v.mathCoordinates,E=v.pixelsToMath.mapPoint(this.mousePt);return E.x>=x.left&&E.x<=x.right&&E.y>=x.bottom&&E.y<=x.top},g.getDefaultViewport=function(){return this.controller.getDefaultStateViewport()||this.grapher.getDefaultViewport()},g._setViewportWithoutCancellingAnimation=function(v){if(v.isValid()&&!v.equals(this.getViewport())){var x=this.getProjection();this.grapher._setProjection(new s(x.screen,v,x.settings))}},g.setViewport=function(v){this.cancelAnimation(),this._setViewportWithoutCancellingAnimation(v)},g.setScreen=function(v){var x=this.getProjection(),E=x.settings.squareAxes,b=new s(v,this.getViewportForScreen(x.viewport,v,E),x.settings);this.grapher._setProjection(b)},g.getTransformedViewport=function(v){var x=this.getProjection(),E=x.pixelsToMath.div(v).mapRect(x.pixelCoordinates);return new a(E.left,E.right,E.bottom,E.top)},g.transformViewport=function(v){this.setViewport(this.getTransformedViewport(v))},g.animateTransformation=function(v){function x(j){b||(b=j);var Q=(j-b)/h.ANIMATE_ZOOM_DURATION;S+=Q,S<1?(E.__animationTimeout=o.requestAnimationFrame(x),E._setViewportWithoutCancellingAnimation(E.getTransformedViewport(v.pow(Q))),E.grapher.debounceUserRequestedViewportChange()):(E.setViewport(f),E.grapher.debounceUserRequestedViewportChange())}var E=this;this.cancelAnimation();var b,f=this.getTransformedViewport(v),S=0;this.__animationTimeout=o.requestAnimationFrame(x)},g.cancelAnimation=function(){o.cancelAnimationFrame(this.__animationTimeout)},g.addMouseWheelEventHandler=function(){var v,x,E=this,b=!1;u(window).on("scroll.viewportcontroller-"+this.__id,function(j){b=!0}),u(window).on("mousewheel.viewportcontroller-"+this.__id,function(j){v=j.originalEvent.clientX,x=j.originalEvent.clientY}),u(window).on("mousemove.viewportcontroller-"+this.__id,function(j){if(b){var Q=j.originalEvent.clientX-v,G=j.originalEvent.clientY-x;Q*Q+G*G<100||(b=!1)}});var f=0,S=function(j,Q){var G=Date.now();if(E.preventScrollZoom&&G-E.lastScrollZoom>50&&(E.preventScrollZoom=!1),E.lastScrollZoom=G,!E.preventScrollZoom){var q=this.getProjection();if(!q.settings.config.lockViewport){var L=q.mathToPixels;if(!b){j.preventDefault(),E.updateMouse(j);var M=L.mapPoint(r(0,0)),D=E.isMouseNearOrigin()&&Q>0?M:E.mousePt;if(!(f>0)){f+=1,o.requestAnimationFrame(function(){f--}),Q=Q>0?1:-1;var V=Q>0?h.ZOOM_FACTOR:1/h.ZOOM_FACTOR,W=E.grapher.scaleAxis,N=W!=="x"&&W!=="both"&&W?1:V,re=W!=="y"&&W!=="both"&&W?1:V;this.transformViewport(t.scaleAtPoint(D,N,re)),this.grapher.debounceUserRequestedViewportChange()}}}}};this.$.mousewheel(S.bind(this))},g.handleDoubleClick=function(v){var x=this.getProjection();if(!x.settings.config.lockViewport&&!x.settings.config.disable_dblclick_zooming&&!v.wasHandled()){v.preventDefault();var E=this.$[0].getBoundingClientRect(),b=r(v.clientX-E.left,v.clientY-E.top);this.animateTransformation(t.scaleAtPoint(b,h.DOUBLETAP_ZOOM))}},g.applyPanTouchChanges=function(v,x){if(!this.getProjection().settings.config.lockViewport&&!this.isScalingEnabled){var E=r(x[0].x-v[0].x,x[0].y-v[0].y);this.transformViewport(t.translate(E)),this.grapher.debounceUserRequestedViewportChange()}},g.chooseDragScaleCenter=function(){var v=this.getProjection(),x=v.pixelCoordinates,E=v.mathToPixels.mapX(0),b=v.mathToPixels.mapY(0);return E=Math.min(Math.max(x.left,E),x.right),b=Math.min(Math.max(x.top,b),x.bottom),r(E,b)},g.applyScaleTouchChanges=function(v,x){if(!this.getProjection().settings.config.lockViewport){var E,b,f=this.grapher.scaleAxis;if(v.length===2&&x.length===2)E=d(v[0],v[1]),b=d(x[0],x[1]);else{if(x.length!==1)return;var S=this.chooseDragScaleCenter();E=i(S,v[0]),b=i(S,x[0])}var j=b.radius/E.radius,Q=f==="y"?1:j,G=f==="x"?1:j,q=t.scaleAtPoint(E.center,Q,G).translate(E.center,b.center);this.transformViewport(q),this.grapher.debounceUserRequestedViewportChange()}},g.addTouchEventHandler=function(){var v=this,x=[],E=!1,b=!0,f=!0,S=function(W){var N=v.grapher.getProjection();E||N.settings.config.lockViewport||(v.updateMouse(W),v.isScalingEnabled&&v.updateScaleAxis())};u(window).on("mousemove.viewportcontroller-"+this.__id,S);var j=function(W){var N=v.getProjection();if(!N.settings.config.lockViewport&&!W.wasHandled()&&!E&&W.touches.length===W.changedTouches.length){E=!0,v.grapher.isDragging=!0,v.updateMouse(W);var re=N.mathToPixels.mapPoint(r(0,0)),Y=v.grapher.scaleAxis;Y!=="x"&&Y!=="both"||(b=v.mousePt.x>re.x),Y!=="y"&&Y!=="both"||(f=v.mousePt.y>re.y),v.controller.dispatch({type:"grapher/drag-start"}),u(document).on("dcg-tapmove.graphdrag",D),u(document).on("dcg-tapstart.graphdrag dcg-tapend.graphdrag dcg-tapcancel.graphdrag",V)}},Q=function(W){if(!(W.length<2)){var N=v.grapher.getProjection(),re=N.pixelCoordinates,Y=N.mathToPixels.mapX(0),O=N.mathToPixels.mapY(0);Y=Math.min(Math.max(re.left,Y),re.right),O=Math.min(Math.max(re.top,O),re.bottom);var ee=W[1].x-W[0].x,oe=W[1].y-W[0].y;return Math.abs(W[0].x-Y)<40&&Math.abs(W[1].x-Y)<40&&Math.abs(oe)>3*Math.abs(ee)&&N.settings.showYAxis?"y":Math.abs(W[0].y-O)<40&&Math.abs(W[1].y-O)<40&&Math.abs(ee)>3*Math.abs(oe)&&N.settings.showXAxis?"x":"both"}},G=function(W){return v.grapher.scaleAxis||(v.grapher.scaleAxis=Q(W)),v.grapher.scaleAxis},q=function(){v.grapher.scaleAxis&&(v.grapher.scaleAxis=void 0,v.grapher.redrawAllLayers(),v.updateCursor())},L=function(){v.isScalingEnabled=!1,v.preventScrollZoom=!0,q()},M=function(W){return W.altKey||W.ctrlKey||W.metaKey},D=function(W){if(E&&!v.getProjection().settings.config.lockViewport&&v.grapher&&v.grapher.clickableObjectsLayer&&!v.grapher.clickableObjectsLayer.isAnObjectPressed()){var N=n(W.touches,v.$.offset());if(x.length===2&&N.length===2)G(N),v.applyScaleTouchChanges(x,N);else if(x.length===1&&v.isScalingEnabled){v.updateMouse(W);var re,Y,O=v.grapher.scaleAxis,ee=v.getProjection(),oe=ee.mathToPixels.mapPoint(r(0,0)),H=b?1:-1,J=f?1:-1;if(O!=="x"&&O!=="both"||(re=v.mousePt.x>oe.x+5*H),O!=="y"&&O!=="both"||(Y=v.mousePt.y>oe.y+5*J),O==="x"&&b!==re||O==="y"&&f!==Y||O==="both"&&b!==re&&f!==Y)return;v.applyScaleTouchChanges(x,N)}else q();x.length===1&&v.applyPanTouchChanges(x,N),v.controller.dispatch({type:"grapher/drag-move"}),x=N}},V=function(W){E&&(v.cancelAnimation(),x=n(W.touches,v.$.offset()),W.touches.length===0&&(E=!1,v.grapher.isDragging=!1,u(document).off(".graphdrag"),v.grapher.debounceUserRequestedViewportChange(),v.controller.dispatch({type:"grapher/drag-end"})),(W.touches.length===0||W.touches.length===1&&!v.isScalingEnabled)&&q())};this.$.on("dcg-tapstart",j),this.$.on("dblclick",this.handleDoubleClick.bind(this)),u(window).on("keydown.viewportcontroller-"+this.__id,(function(W){this.getProjection().settings.config.lockViewport||(p.lookup(W)!==p.SHIFT||M(W)?L():(this.isScalingEnabled=!0,this.grapher.scaleAxis||this.updateScaleAxis()))}).bind(this)),u(window).on("keyup.viewportcontroller-"+this.__id+" blur.viewportcontroller-"+this.__id,L)},g.zoom=function(v){var x=this.getProjection().pixelCoordinates;if(v==="in")this.animateTransformation(t.scaleAtPoint(m(x),2));else if(v==="out")this.animateTransformation(t.scaleAtPoint(m(x),.5));else if(v==="default"){var E=this.getDefaultViewport();this.animateTransformation(this.getCustomZoomTransformation(E))}else if(v==="square"){var b=this.getSquareViewport();this.animateTransformation(this.getCustomZoomTransformation(b))}e.alert(this.t("Graph zoom __action__",{action:v}))},g.zoomCustom=function(v){this.animateTransformation(this.getCustomZoomTransformation(v)),e.alert(this.t("Graph viewport updated."))},g.getCustomZoomTransformation=function(v){var x=this.getProjection().viewport,E=this.getProjection().pixelCoordinates,b=this.getProjection().mathCoordinates,f=(x.xmax-x.xmin)/(v.xmax-v.xmin),S=(x.ymax-x.ymin)/(v.ymax-v.ymin),j=function(){return{x:0,y:0}},Q=t.fromRects(b,E),G=new t.translate(Q.mapPoint(j()),j()),q=new t.scale(f,S),L=t.fromRects({left:v.xmin,right:v.xmax,bottom:v.ymin,top:v.ymax},E);return new t.translate(j(),L.mapPoint(j())).compose(q.compose(G))},g.isZoomRestored=function(){var v=this.getProjection(),x=v.viewport,E=this.getDefaultViewport();return v.settings.squareAxes&&Math.abs((x.xmin-E.xmin)/x.xmin)<.05&&Math.abs((x.xmax-E.xmax)/x.xmax)<.05&&Math.abs((x.ymin-E.ymin)/x.ymin)<.05&&Math.abs((x.ymax-E.ymax)/x.ymax)<.05},g.getViewportForScreen=function(v,x,E){return E?this.getProjection().settings.lastChangedAxis=="y"?v.squareXAxis(x):v.squareYAxis(x):v},g.getSquareViewport=function(){var v=this.getProjection();return this.getViewportForScreen(v.viewport,v.screen,!0)},g.enforceSquareAxes=function(){var v=this.getProjection();v.settings.squareAxes&&(v.viewport.isSquare(v.screen)||this.setViewport(this.getViewportForScreen(v.viewport,v.screen,!0)))}})}),$("geometry/math/hypot",["require","exports"],function(B,u){function w(c){return c===1/0||c===-1/0}Object.defineProperty(u,"__esModule",{value:!0});var e=Math.hypot&&Math.hypot(1/0,NaN)===1/0;u.default=e?Math.hypot:function(c,t){if(w(c)||w(t))return 1/0;if(isNaN(c)||isNaN(t))return NaN;if(c===0&&t===0)return 0;if(Math.abs(c)>Math.abs(t)){var a=t/c;return Math.abs(c)*Math.sqrt(a*a+1)}var a=c/t;return Math.abs(t)*Math.sqrt(a*a+1)}}),$("lib/priority-queue",["require","exports"],function(B,u){Object.defineProperty(u,"__esModule",{value:!0});var w=function(){function e(c){this.comparator=c,this._data=[]}return e.prototype.size=function(){return this._data.length},e.prototype.queue=function(c){var t=this._data.length;for(this._data.push(c);t>0;){var a=t-1>>>1;if(!(this.comparator(this._data[t],this._data[a])<0))break;var l=this._data[a];this._data[a]=this._data[t],this._data[t]=l,t=a}},e.prototype.dequeue=function(){var c=this._data[0],t=this._data.pop();if(this._data.length>0&&t!==void 0){this._data[0]=t;for(var a=0,l=this._data.length-1;;){var h=1+(a<<1),o=h+1,s=a;if(h<=l&&this.comparator(this._data[h],this._data[s])<0&&(s=h),o<=l&&this.comparator(this._data[o],this._data[s])<0&&(s=o),s===a)break;var p=this._data[s];this._data[s]=this._data[a],this._data[a]=p,a=s}}return c},e.prototype.peek=function(){return this._data[0]},e.prototype.clear=function(){this._data.length=0},e}();u.default=w}),$("geometry/math/polygon-area-support",["require","exports","lib/priority-queue","bugsnag"],function(B,u,w,e){function c(m,y){var v=m.pt2.y-m.pt1.y,x=m.pt1.x-m.pt2.x,E=y.pt2.y-y.pt1.y,b=y.pt1.x-y.pt2.x,f=v*m.pt1.x+x*m.pt1.y,S=E*y.pt1.x+b*y.pt1.y,j=v*b-E*x;if(j!==0)return(v*S-E*f)/j}function t(m,y,v){if(v.scanlineX<y.scanlineX&&e.notify("PolygonArea: rightEdge should not be left of leftEdge!",{metaData:{scanlineY:m,leftEdge:y,rightEdge:v}}),!(v.xSlope>=y.xSlope)){if(y.scanlineX===v.scanlineX)return m;var x=y.pt2.y>y.pt1.y?y.pt2:y.pt1,E=v.pt2.y>v.pt1.y?v.pt2:v.pt1,b=x.y;if(E.y<x.y){if(b=E.y,l(b,y)<E.x)return}else if(x.y<E.y){var f=l(b,v);if(x.x<f)return}else if(x.x<E.x)return;var S=c(y,v);if(S!==void 0)return Math.max(Math.min(S,b),m)}}function a(m,y,v,x){if(v&&x){if(v.id<x.id){if(v.skipIntersectionWith[x.id])return}else if(x.skipIntersectionWith[v.id])return;var E=t(m,v,x);E!==void 0&&(v.id<x.id?v.skipIntersectionWith[x.id]=!0:x.skipIntersectionWith[v.id]=!0,y.queue({type:"x",y:E,edge1:v,edge2:x}))}}function l(m,y){var v=y.pt1.x,x=y.pt2.x,E=y.pt1.y,b=y.pt2.y;if(E===m)return v;if(b===m)return x;var f=(m-E)/(b-E),S=(1-f)*v+f*x;if(v<x){if(S<=v)return v;if(x<=S)return x}else{if(S<=x)return x;if(v<=S)return v}return S}function h(m){for(var y=0,v=0,x=!1,E=0,b=m;E<b.length;E++){var f=b[E].scanlineX;x?(x=!1,y+=f-v):(x=!0,v=f)}return y}function o(m){for(var y=0,v=0,x=!1,E=0,b=0,f=m;b<f.length;b++){var S=f[b],j=S.scanlineX;S.isClockwise?E+=1:E-=1,E===0||x?E===0&&x&&(x=!1,y+=j-v):(x=!0,v=j)}return y}function s(m,y){for(var v=0,x=0,E=!1,b=-1/0,f=0,S=y;f<S.length;f++){var j=S[f],Q=l(m,j);Q<b?(Q-b<-1e-4&&e.notify("PolygonArea: scanlineX reversed!",{metaData:{scanlineY:m,edge:j,minScanlineX:b,scanlineX:Q}}),Q=b):b=Q,j.scanlineX=Q,E?(E=!1,v+=Q-x):(E=!0,x=Q)}return v}function p(m,y){for(var v=0,x=0,E=!1,b=0,f=-1/0,S=0,j=y;S<j.length;S++){var Q=j[S],G=l(m,Q);G<f?(G-f<-1e-4&&e.notify("PolygonArea: scanlineX reversed!",{metaData:{scanlineY:m,edge:Q,minScanlineX:f,scanlineX:G}}),G=f):f=G,Q.scanlineX=G,Q.isClockwise?b+=1:b-=1,b===0||E?b===0&&E&&(E=!1,v+=G-x):(E=!0,x=G)}return v}function g(m){for(var y=1,v=[],x=new w.default(function(j,Q){return j.y-Q.y}),E=m.length-1;E>=1;E--){var b=m[E],f=m[E-1],S={id:y++,pt1:b,pt2:f,scanlineX:0,xSlope:1/0,isClockwise:f.y>b.y,skipIntersectionWith:{}};f.y>b.y?(x.queue({type:"+",y:b.y,edge:S}),x.queue({type:"-",y:f.y,edge:S}),S.xSlope=(f.x-b.x)/(f.y-b.y),S.scanlineX=b.x):b.y>f.y&&(x.queue({type:"+",y:f.y,edge:S}),x.queue({type:"-",y:b.y,edge:S}),S.xSlope=(b.x-f.x)/(b.y-f.y),S.scanlineX=f.x)}return{activeEdges:v,events:x}}function d(m,y,v){m.type==="x"?r(m,y,v):m.type==="+"?i(m,y,v):m.type==="-"&&n(m,y,v)}function i(m,y,v){for(var x=m.edge,E=m.y,b=x.xSlope,f=x.scanlineX,S=0;S<v.length;S++){var j=v[S];if(f<j.scanlineX||f===j.scanlineX&&b<=j.xSlope)break}v.splice(S,0,x),a(E,y,v[S-1],x),a(E,y,x,v[S+1])}function n(m,y,v){var x=m.edge,E=m.y,b=v.indexOf(x);v.splice(b,1),a(E,y,v[b-1],v[b])}function r(m,y,v){var x=m.edge1,E=m.edge2,b=m.y,f=v.indexOf(x),S=f+1;f===-1||v[S]!==E?x.id<E.id?delete x.skipIntersectionWith[E.id]:delete E.skipIntersectionWith[x.id]:(v[f]=E,v[S]=x,a(b,y,v[f-1],E),a(b,y,x,v[S+1]))}Object.defineProperty(u,"__esModule",{value:!0}),u._unstableYIntersectEdges=c,u._stableYIntersectEdges=t,u.checkForEdgeIntersection=a,u.computeScanlineX=l,u.measureDownwardEvenOddLength=h,u.measureDownwardNonZeroLength=o,u.measureUpwardEvenOddLength=s,u.measureUpwardNonZeroLength=p,u.setupEventQueueAndActiveEdges=g,u.processEvent=d}),$("geometry/math/polygon",["require","exports","./hypot","bugsnag","./polygon-area-support"],function(B,u,w,e,c){function t(p,g){if(!p)return!1;for(var d=g.x,i=g.y,n=!1,r=p.length-1;r>=3;r-=2){var m=p[r-3],y=p[r-2],v=p[r-1],x=p[r];y>i!=x>i&&d<(v-m)*(i-y)/(x-y)+m&&(n=!n)}return n}function a(p,g){if(!p)return!1;for(var d=g.x,i=g.y,n=0,r=p.length-1;r>=3;r-=2){var m=p[r-3],y=p[r-2],v=p[r-1],x=p[r];y>i!=x>i&&d<(v-m)*(i-y)/(x-y)+m&&(y>x?n+=1:y<x&&(n-=1))}return n!==0}function l(p){for(var g=0,d=0;d<p.length-1;d++)g+=w.default(p[d].x-p[d+1].x,p[d].y-p[d+1].y);return g}function h(p){for(var g=0,d=0;d<p.length-1;d++)g+=p[d].x*p[d+1].y-p[d].y*p[d+1].x;return Math.abs(g)/2}function o(p){if(p.length<4||p[0].x!==p[p.length-1].x||p[0].y!==p[p.length-1].y)return 0;var g=c.setupEventQueueAndActiveEdges(p),d=g.events,i=g.activeEdges,n=d.peek();if(!n)return 0;for(var r,m=0,y=n.y,v=0;r=d.dequeue();){var x=r.y;x<y&&e.notify("PolygonArea: scanlineY jumped up vertically",{metaData:{points:p,scanlineY:x,lastScanlineY:y}}),v+=.5*(x-y)*(c.measureUpwardEvenOddLength(x,i)+m),c.processEvent(r,d,i),y=x,m=c.measureDownwardEvenOddLength(i)}return v}function s(p){if(p.length<4||p[0].x!==p[p.length-1].x||p[0].y!==p[p.length-1].y)return 0;var g=c.setupEventQueueAndActiveEdges(p),d=g.events,i=g.activeEdges,n=d.peek();if(!n)return 0;for(var r,m=0,y=n.y,v=0;r=d.dequeue();){var x=r.y;x<y&&e.notify("PolygonArea: scanlineY jumped up vertically",{metaData:{points:p,scanlineY:x,lastScanlineY:y}}),v+=.5*(x-y)*(c.measureUpwardNonZeroLength(x,i)+m),c.processEvent(r,d,i),y=x,m=c.measureDownwardNonZeroLength(i)}return v}Object.defineProperty(u,"__esModule",{value:!0}),u.pointIsWithinEvenOddFill=t,u.pointIsWithinNonZeroFill=a,u.calculatePerimeter=l,u.calculateSimpleArea=h,u.calculatePaintedEvenOddArea=o,u.calculatePaintedNonZeroArea=s}),$("graphing/poicontroller",["require","jquery","core/math/distance","lib/rounding","core/types/graphmode","lib/conditional_blur","keys","lib/aria","core/lib/label","expressions/colors","graphing-calc/models/image","graphing-calc/models/expression","../geometry/math/polygon"],function(B){function u(n,r){this.manager=n,this.controller=n.controller,this.graphSettings=r,this.$=this.manager.$,this.__id=i++,this.graphSettings.config.graphpaper&&!this.graphSettings.config.disableMouseInteractions&&(this.addTouchEventHandlers(),this.addHoverEventHandler(),this.addKeydownEventHandler(),this.addManualUnhoverListener())}var w=B("jquery"),e=B("core/math/distance"),c=B("lib/rounding"),t=B("core/types/graphmode"),a=B("lib/conditional_blur").default,l=B("keys"),h=B("lib/aria"),o=B("core/lib/label"),s=B("expressions/colors").getColorName,p=B("graphing-calc/models/image"),g=B("graphing-calc/models/expression"),d=B("../geometry/math/polygon"),i=0;return u.prototype.getExpressionModel=function(n){return this.controller.getItemModel(n)},u.prototype.remove=function(){this.removeAllGlobalMouseListeners(),this.removeManualUnhoverListener()},u.prototype.addGlobalMouseListener=function(n,r){for(var m=n.split(" "),y=0;y<m.length;y++)w(document).on(m[y]+".dcg-poiController-"+this.__id,r)},u.prototype.removeAllGlobalMouseListeners=function(){w(document).off(".dcg-poiController-"+this.__id)},u.prototype.getToleranceByDevice=function(n){return n==="touch"?20:10},u.prototype.addHoverEventHandler=function(){this.$.on("dcg-tapmove",(function(n){if(n.device!=="touch"){var r,m=w(document.elementFromPoint(n.clientX,n.clientY)).closest(".dcg-grapher").length,y=this.manager.poiLabelsLayer,v=this.getMouseRelativeToGrapher(n),x=this.getToleranceByDevice(n.device);m&&(r=this.getFeatureUnderPoint(v,x));var E;r&&r.type==="movable-point"&&(E=r.poi.getMovablePoint().id);var b;r&&r.isClickable&&(this.manager.movablePointsLayer.isMovingPoint()||this.manager.traceLayer.isTracing()||(b=r.model)),this.manager.clickableObjectsLayer.setHoveredId(b&&b.id);var f;r&&r.type==="poi"&&(r.poi.isAttachedToPlottedPoint()&&!r.poi.hasInteractiveLabel()||(f=r.poi)),f!==y.getHoveredPOI()&&(this.controller.isTraceEnabled()?y.setHoveredPOI(f):y.setHoveredPOI(void 0),this.manager.redrawAllLayers()),this.manager.movablePointsLayer.setHoveredPointId(E)}}).bind(this))},u.prototype.addManualUnhoverListener=function(){var n=(function(){var r=this.manager;r.poiLabelsLayer.setHoveredPOI(void 0),r.clickableObjectsLayer.setHoveredId(void 0),r.redrawAllLayers()}).bind(this);w(window).on("blur.dcg-poiController-"+this.__id,n),this.$.on("mouseleave",n)},u.prototype.removeManualUnhoverListener=function(){w(window).off(".dcg-poiController-"+this.__id)},u.prototype.addTouchEventHandlers=function(){this.$.on("dblclick",(function(n){var r=this.getMouseRelativeToGrapher(n),m=this.getToleranceByDevice(n.device);this.getFeatureUnderPoint(r,m)&&(n.preventDefault(),n.handle())}).bind(this)),this.$.on("touchstart",(function(n){if(!this.graphSettings.config.lockViewport)return void n.preventDefault();var r=this.getMouseRelativeToGrapher(n.originalEvent),m=this.getToleranceByDevice(n.device),y=this.getFeatureUnderPoint(r,m);y&&(y.type!=="image"||y.model.selected)&&(y.type==="sketch-branch"&&this.graphSettings.config.onlyTraceSelected&&!y.sketch.selected||n.preventDefault())}).bind(this)),this.$.on("dcg-tapstart",(function(n){var r=this.getMouseRelativeToGrapher(n),m=this.getToleranceByDevice(n.device),y=this.getFeatureUnderPoint(r,m);if(y&&y.isClickable?this.manager.clickableObjectsLayer.setPressedId(y.model.id):this.manager.clickableObjectsLayer.setPressedId(void 0),y&&y.type==="editable-label")return void n.handle();if(a(),y&&y.type==="movable-point")return this.controller.dispatch({type:"start-moving-point",pointInfo:y.poi.getMovablePoint()}),this.startMovingPoint(y.poi),n.handle(),void n.handle("do-not-clear-poi-labels");if(this._togglePOIUnderPoint(r,m))return n.handle(),void n.handle("do-not-clear-poi-labels");if(y&&y.type==="sketch-branch"&&!y.isClickable){if(!this.graphSettings.config.onlyTraceSelected){var v=!this.controller.isTraceEnabled(),x=!this.controller.isListEnabled();return v&&x||(this.controller.dispatch({type:"set-selected-id",id:y.sketch.id}),v)?void 0:(this.startTracingBranch(y.branchInfo,r),n.handle(),void n.handle("do-not-clear-poi-labels"))}if(y.sketch.selected)return this.startTracingBranch(y.branchInfo,r),n.handle(),void n.handle("do-not-clear-poi-labels")}y&&y.type==="image"||this.controller.dispatch({type:"set-none-selected"});var E=this;this.addGlobalMouseListener("dcg-tapmove",(function(b){this.manager.clickableObjectsLayer.isAnObjectPressed()?r=this.getMouseRelativeToGrapher(b):E.removeAllGlobalMouseListeners()}).bind(this)),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",(function(b){E.removeAllGlobalMouseListeners();var f=this.manager.clickableObjectsLayer.getPressedId();this.manager.clickableObjectsLayer.setPressedId(void 0);var S=this.getFeatureUnderPoint(r,m);return S&&S.isClickable?void(S.model.id===f&&this.controller.dispatch({type:"clickable-item-clicked",id:S.model.id})):S&&S.type==="sketch-branch"&&!S.sketch.selected?void this.controller.dispatch({type:"set-selected-id",id:S.model.id}):S&&S.type==="image"?void this.controller.dispatch({type:"set-selected-id",id:S.model.id}):void 0}).bind(this))}).bind(this))},u.prototype.addKeydownEventHandler=function(){this.$.on("keydown",(function(n){var r=this.manager.movablePointsLayer.getFocusedPoint();if(r){var m=l.lookup(n),y=l.lookupChar(n);m==="Up"||m==="Down"||m==="Left"||m==="Right"?(n.stopPropagation(),n.preventDefault(),this.movePointFromKeyboard(r,n)):y!=="X"&&y!=="Y"&&y!=="L"&&y!=="C"||this.speakPoint(r,y)}}).bind(this))},u.prototype.getMouseRelativeToGrapher=function(n){var r=this.$[0].getBoundingClientRect(),m=n.touches?n.touches[0]:n;return{x:m.clientX-r.left,y:m.clientY-r.top}},u.prototype._getClosestPoint=function(n,r,m){for(var y=m,v=null,x=this.manager.getProjection(),E=0;E<n.length;E++){var b=n[E],f=x.map_pt(b),S=e.hypot(f.x-r.x,f.y-r.y);S<y&&(y=S,v=b)}return v},u.prototype.getFeatureUnderPoint=function(n,r){var m=this.manager.poiLabelsLayer,y=this.manager.getProjection(),v=y.reverse_map_pt(n),x=m.getEditableLabelUnderPoint(n);if(x)return{type:"editable-label",model:x};for(var E,b=this.manager.__sketchOrder,f={},S=1,j=b.length-1;j>=0;j--){var Q=b[j],G=this.controller.getItemModel(Q),q=S;if(f[Q]=q,G){if(G.type==="expression"){var L=this.manager.getGraphSketch(Q);if(!L||!L.visible)continue;var M=L.branches;if(!M||!M.length)continue;if(L.showHighlight&&(q=-1/0,f[Q]=q),!E||E.stackingContext>=q)for(var D=g.isClickableObject(G),V=0;V<M.length;V++){var W=u.calculateDistanceFromBranch(M[V],v,y,D);if(W<r){var N=!1;E?(q<E.stackingContext||q===E.stackingContext&&W<E.distance)&&(N=!0):N=!0,N&&(E={type:"sketch-branch",model:G,sketch:L,distance:W,stackingContext:q,branchInfo:{id:L.id,branch:V,sketch:L}})}}}else if(G.type==="image"){var re=this.manager.getGraphImage(Q);if(!re||!this.isImageUnderMouse(re,v,r))continue;re.foreground?(S+=1,q=S,f[Q]=q,S+=1):(q=1/0,f[Q]=q),(!E||E.stackingContext>q)&&(E={type:"image",model:re,distance:0,stackingContext:q})}}}var Y=[],O=[],ee=[],oe=E?E.stackingContext:1/0;this.manager.poiDotsLayer.getDrawnPOI().forEach(function(fe){fe.isBareLabel()||(fe.isMovable()?Y.push(fe):fe.isAttachedToPlottedPoint()?f[fe.sketch.id]<=oe&&O.push(fe):ee.push(fe))});var H=this._getClosestPoint(Y,n,r);if(H)return{type:"movable-point",poi:H};var J=this._getClosestPoint(ee,n,r);if(J)return{type:"poi",poi:J};var ie=this._getClosestPoint(O,n,r);if(ie){var de=this.controller.getItemModel(ie.sketch.id);return de&&de.type==="expression"&&g.isClickableObject(de)?{type:"poi",poi:ie,isClickable:!0,model:de}:{type:"poi",poi:ie}}return E?E.type==="sketch-branch"?{type:"sketch-branch",branchInfo:E.branchInfo,sketch:E.sketch,model:E.model,isClickable:g.isClickableObject(E.model)}:{type:"image",model:E.model,isClickable:p.isClickableObject(E.model)}:void 0},u.prototype._togglePOIUnderPoint=function(n,r){if(this.controller.isTraceEnabled()){var m=this.getFeatureUnderPoint(n,r);if(!m||m.isClickable)return!1;var y=m.poi;return!!y&&!y.isBareLabel()&&(this.manager.poiLabelsLayer.isOpenPOI(y)?(this.manager.poiLabelsLayer.closePOI(y),this.manager.poiLabelsLayer.setHoveredPOI(void 0)):(this.manager.poiLabelsLayer.openPOI(y),this.speakPoint(y)),this.manager.redrawAllLayers(),!0)}},u.prototype.isImageUnderMouse=function(n,r,m){if(!n||!n.computed_x||!n.computed_y||!n.computed_width||!n.computed_height||n.hidden||this.controller.isItemSecret(n.id))return!1;for(var y=0;y<n.computed_x.length;y++){var v=n.computed_x[y],x=n.computed_y[y],E=n.computed_radian_angle[y],b=v+Math.cos(E)*(r.x-v)-Math.sin(E)*(r.y-x),f=x+Math.sin(E)*(r.x-v)+Math.cos(E)*(r.y-x),S=.5*Math.abs(n.computed_width[y]),j=.5*Math.abs(n.computed_height[y]);if(b>v-S&&b<v+S&&f>x-j&&f<x+j)return!0}return!1},u.calculateDistanceFromBranch=function(n,r,m,y){if(n&&n.graphMode===t.POLYGONFILL&&y){for(var v=n.segments,x=0;x<v.length;x++)if(d.pointIsWithinNonZeroFill(v[x],r))return 0;return 1/0}var E=u.getBranchesDistanceInfo(n,r,m,y);return E?E.minDistance:1/0},u.getBranchesDistanceInfo=function(n,r,m,y){var v=m.screen.width/(m.viewport.xmax-m.viewport.xmin),x=m.screen.height/(m.viewport.ymax-m.viewport.ymin),E=r.x,b=r.y,f=!1,S=!1;switch(n.graphMode){case t.PARAMETRIC:case t.IMPLICIT:if(!y)return null;break;case t.POLAR:if(!y)return null;S=!0;break;case t.Y:break;case t.X:f=!0;var j=E;E=b,b=j,j=v,v=x,x=j;break;default:return null}for(var Q,G,q=1/0,L=1/0,M=0;M<n.segments.length;M++)for(var D=n.segments[M],V=0;V<D.length-3;V+=2){var W=D[V],N=D[V+1],re=D[V+2],Y=D[V+3];if(S){var O=N,ee=W;W=O*Math.cos(ee),N=O*Math.sin(ee);var oe=Y,H=re;re=oe*Math.cos(H),Y=oe*Math.sin(H)}var J=e.closestPointOnSegment(0,0,(W-E)*v,(N-b)*x,(re-E)*v,(Y-b)*x),ie=e.hypot(J[0],J[1]);J[0]<0?ie<q&&(q=ie,Q=J):ie<L&&(L=ie,G=J)}var de=q<L?Q:G;if(!de)return null;var fe=de[0]/v+E,Ee=de[1]/x+b;return{closestPoint:{x:f?Ee:fe,y:f?fe:Ee},minDistance:Math.min(q,L),secondDistance:Math.max(q,L)}},u.getBranchesTracePoint=function(n,r,m){if(n&&n.compiled&&n.compiled.fn){var y=n.compiled.fn,v=m.screen.width/(m.viewport.xmax-m.viewport.xmin),x=m.screen.height/(m.viewport.ymax-m.viewport.ymin),E=this.getBranchesDistanceInfo(n,r,m,!1);if(!E)return null;var b=E.minDistance/E.secondDistance;b*=b;var f=n.graphMode===t.Y?"x":"y",S=E.closestPoint[f]*(1-b)+r[f]*b,j=1/(2*v),Q=1/(2*x),G=y(S-j),q=y(S),L=y(S+j),M=j*Math.min(1,Q/Math.abs(G-q)),D=j*Math.min(1,Q/Math.abs(L-q));isFinite(M)||(M=j),isFinite(D)||(D=j),S=c.shortestDecimalBetween(S-M,S+D);var V=u.fillHole(y,S,v,x,r.x,r.y);return{x:n.graphMode===t.Y?S:V,y:n.graphMode===t.Y?V:S}}},u.prototype.startMovingPoint=function(n){var r=!1;this.manager.movablePointsLayer.setPressedPointId(n.isMovable()?n.getMovablePoint().id:void 0);var m=null,y=(function(){if(m){r=!0;var v=this.manager.getProjection(),x=this.getMouseRelativeToGrapher(m);m=null,this.controller.dispatch({type:"on-move-point",pointInfo:n.getMovablePoint(),screenPt:x,projection:v})}}).bind(this);this.manager.registerMovablePointListener(y),this.addGlobalMouseListener("dcg-tapmove",function(v){m=v}),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",(function(v){if(y(),this.manager.deregisterMovablePointListener(),this.removeAllGlobalMouseListeners(),this.manager.movablePointsLayer.setPressedPointId(void 0),this.controller.dispatch({type:"stop-moving-point",pointInfo:n.getMovablePoint()}),!r){var x=this.manager.getProjection(),E=this.getToleranceByDevice(v.device),b=x.map_pt(n);this._togglePOIUnderPoint(b,E)}}).bind(this))},u.prototype.startTracingBranch=function(n,r){this.manager.markLabelsDirty(),this.last_screen_pt=r;var m=this.manager.getProjection(),y=m.reverse_map_pt(r),v=n.sketch,x=v.branches[n.branch],E=u.getBranchesTracePoint(x,y,m);E&&this.speakPoint(E),this.manager.traceLayer.setTraceInfo({pt:E,branchInfo:n}),this.manager.redrawAllLayers(),this.addGlobalMouseListener("dcg-tapmove",this.handleTraceUpdate.bind(this)),this.addGlobalMouseListener("dcg-tapend dcg-tapcancel",this.stopTracingBranch.bind(this))},u.prototype.stopTracingBranch=function(n){this.manager.markLabelsDirty();var r=this.manager.poiLabelsLayer.getHoveredPOI();r&&!this.manager.poiLabelsLayer.isOpenPOI(r)&&(this.manager.poiLabelsLayer.openPOI(r),this.speakPoint(r),this.manager.redrawAllLayers()),this.last_screen_pt=null,this.manager.traceLayer.setTraceInfo(void 0),this.manager.redrawAllLayers(),this.removeAllGlobalMouseListeners()},u.prototype.handleTraceUpdate=function(n){if(this.manager.traceLayer.traceInfo){var r,m=this.manager.getProjection();if(n)r=this.getMouseRelativeToGrapher(n),this.last_screen_pt=r,this.manager.markLabelsDirty();else{if(!this.last_screen_pt)return;r=this.last_screen_pt}var y=m.reverse_map_pt(r),v=1/0,x=-1,E=this.manager.traceLayer.traceInfo,b=this.manager.graphSketches[E.branchInfo.sketch.id];if(b){E.branchInfo.sketch=b;for(var f=E.branchInfo.sketch.branches,S=0;S<f.length;S++){var j=u.calculateDistanceFromBranch(f[S],y,m,!1);j<v&&(x=S,v=j)}var Q=f[x],G=Q?u.getBranchesTracePoint(Q,y,m):null;G&&this.speakPoint(G),this.manager.traceLayer.traceInfo.branchInfo.branch=x,this.manager.traceLayer.traceInfo.pt=G,this.manager.redrawAllLayers()}}},u.prototype.speakPoint=function(n){var r=this.manager.getAudioTrace();r&&n&&r.queueCoordinates(n,void 0,!0)},u.fillHole=function(n,r,m,y,v,x){var E=n(r);if(isFinite(E))return E;var b=r-1e-11,f=r+1e-11,S=n(b),j=n(f);if(isNaN(S)&&isNaN(j))return NaN;if(isNaN(S))return j;if(isNaN(j))return S;var Q=(v-b)*m,G=(v-f)*m,q=(x-S)*y,L=(x-j)*y;return e.hypot(Q,q)<e.hypot(G,L)?S:j},u.prototype.hasNonlinearMoveStrategy=function(n){if(!n||!n.sketch)return!1;var r=this.getExpressionModel(n.sketch.id);if(!r||!r.formula)return!1;var m=r.formula.move_strategy;return!(!m||!m[0])&&m[0].type==="updateSliderNonlinear"},u.prototype.movePointFromKeyboard=function(n,r){if(n&&r&&n.type==="movable-point"){var m,y=this.manager.getProjection(),v=y.map_pt({x:n.x,y:n.y}),x=0,E=0,b=r.shiftKey?10:2,f=r.shiftKey?"big":"",S=l.lookup(r);if(S==="Up"?(m="y",E-=b,f+="up"):S==="Down"?(m="y",E+=b,f+="down"):S==="Left"?(m="x",x-=b,f+="down"):S==="Right"&&(m="x",x+=b,f+="up"),x!==0||E!==0){var j,Q={x:v.x+x,y:v.y+E};m==="x"||this.hasNonlinearMoveStrategy(n)?j=[f,""]:m==="y"&&(j=["",f]),this.controller.dispatch({type:"on-move-point",pointInfo:n,screenPt:Q,projection:y,keyboardDirection:j})}}},u.prototype.speakPoint=function(n,r){if(n&&this.manager.getAudioTrace()){var m=this.manager.getProjection();if(m){var y=m.viewport;switch(r){case"X":h.alert("X: "+o.value(n.x,y.xmax-y.xmin).ariaString);break;case"Y":h.alert("Y: "+o.value(n.y,y.ymax-y.ymin).ariaString);break;case"L":h.alert(n.ariaLabel||this.controller.t("Graph point"));break;case"C":h.alert(s(this.controller,n.sketch.color))}}}},u}),$("vendor/canvas2svg",[],function(){function B(o,s){var p,g=Object.keys(s);for(p=0;p<g.length;p++)o=o.replace(new RegExp("\\{"+g[p]+"\\}","gi"),s[g[p]]);return o}function u(o){var s,p,g;if(!o)throw new Error("cannot create a random attribute name for an undefined object");s="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="";do for(p="",g=0;g<12;g++)p+=s[Math.floor(Math.random()*s.length)];while(o[p]);return p}function w(o){var s={left:"start",right:"end",center:"middle",start:"start",end:"end"};return s[o]||s.start}var e,c,t,a,l;l=function(o,s){var p,g,d,i={};for(o=o.split(","),s=s||10,p=0;p<o.length;p+=2)g="&"+o[p+1]+";",d=parseInt(o[p],s),i[g]="&#"+d+";";return i["\\xa0"]="&#160;",i}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},t=function(o,s){this.__root=o,this.__ctx=s},t.prototype.addColorStop=function(o,s){var p,g,d=this.__ctx.__createElement("stop");d.setAttribute("offset",o),s.indexOf("rgba")!==-1?(p=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,g=p.exec(s),d.setAttribute("stop-color",B("rgb({r},{g},{b})",{r:g[1],g:g[2],b:g[3]})),d.setAttribute("stop-opacity",g[4])):d.setAttribute("stop-color",s),this.__root.appendChild(d)},a=function(o,s){this.__root=o,this.__ctx=s},c=function(o){var s,p={width:500,height:500,enableMirroring:!1};if(arguments.length>1?(s=p,s.width=arguments[0],s.height=arguments[1]):s=o||p,!(this instanceof c))return new c(s);this._randomPostfix="-"+function(){return"xxxxxxxx".replace(/x/g,function(g){return(16*Math.random()|0).toString(16)})}(),this._svgClassNames=[],this.width=s.width||p.width,this.height=s.height||p.height,this.enableMirroring=s.enableMirroring!==void 0?s.enableMirroring:p.enableMirroring,this.canvas=this,this.__document=s.document||document,s.ctx?this.__ctx=s.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)},c.prototype.__createElement=function(o,s,p){s===void 0&&(s={});var g,d,i=this.__document.createElementNS("http://www.w3.org/2000/svg",o),n=Object.keys(s);for(p&&(i.setAttribute("fill","none"),i.setAttribute("stroke","none")),g=0;g<n.length;g++)d=n[g],i.setAttribute(d,s[d]);var r=this._svgClassNames&&this._svgClassNames[this._svgClassNames.length-1];return r&&i.setAttribute("class",r),i},c.prototype.__setDefaultStyles=function(){var o,s,p=Object.keys(e);for(o=0;o<p.length;o++)s=p[o],this[s]=e[s].canvas},c.prototype.__applyStyleState=function(o){var s,p,g=Object.keys(o);for(s=0;s<g.length;s++)p=g[s],this[p]=o[p]},c.prototype.__getStyleState=function(){var o,s,p={},g=Object.keys(e);for(o=0;o<g.length;o++)s=g[o],p[s]=this[s];return p},c.prototype.__applyStyleToCurrentElement=function(o){var s=this.__currentElement,p=this.__currentElementsToStyle;p&&(s.setAttribute(o,""),s=p.element,p.children.forEach(function(b){b.setAttribute(o,"")}));var g,d,i,n,r,m,y=Object.keys(e);for(g=0;g<y.length;g++)if(d=e[y[g]],i=this[y[g]],d.apply){if(i instanceof a){if(i.__ctx)for(;i.__ctx.__defs.childNodes.length;)n=i.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[n]=n,this.__defs.appendChild(i.__ctx.__defs.childNodes[0]);s.setAttribute(d.apply,B("url(#{id})",{id:i.__root.getAttribute("id")}))}else if(i instanceof t)s.setAttribute(d.apply,B("url(#{id})",{id:i.__root.getAttribute("id")}));else if(d.apply.indexOf(o)!==-1&&d.svg!==i)if(d.svgAttr!=="stroke"&&d.svgAttr!=="fill"||i.indexOf("rgba")===-1){var v=d.svgAttr;if(y[g]==="globalAlpha"&&(v=o+"-"+d.svgAttr,s.getAttribute(v)))continue;s.setAttribute(v,i)}else{r=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi,m=r.exec(i),s.setAttribute(d.svgAttr,B("rgb({r},{g},{b})",{r:m[1],g:m[2],b:m[3]}));var x=m[4],E=this.globalAlpha;E!=null&&(x*=E),s.setAttribute(d.svgAttr+"-opacity",x)}}},c.prototype.__closestGroupOrSvg=function(o){return o=o||this.__currentElement,o.nodeName==="g"||o.nodeName==="svg"?o:this.__closestGroupOrSvg(o.parentNode)},c.prototype.getSerializedSvg=function(o){var s,p,g,d,i,n,r=new XMLSerializer().serializeToString(this.__root);if(n=/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi,n.test(r)&&(r=r.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),o)for(s=Object.keys(l),p=0;p<s.length;p++)g=s[p],d=l[g],i=new RegExp(g,"gi"),i.test(r)&&(r=r.replace(i,d));return r},c.prototype.getSvg=function(){return this.__root},c.prototype._dcgStartNamedGroup=function(o){var s=this.__createElement("g");s.setAttribute("id",o+this._randomPostfix);var p=this.__closestGroupOrSvg();this.__groupStack.push(p),p.appendChild(s),this.__currentElement=s},c.prototype._dcgEndNamedGroup=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElement||(this.__currentElement=this.__root.childNodes[1])},c.prototype._dcgSaveClassName=function(o){this._svgClassNames.push(o),this.__currentElement&&this.__currentElement.tagName==="path"&&!this.__currentDefaultPath&&(this.__currentElement.getAttribute("class")||this.__currentElement.setAttribute("class",o))},c.prototype._dcgRestoreClassName=function(){this._svgClassNames.pop()},c.prototype.save=function(){var o=this.__createElement("g"),s=this.__closestGroupOrSvg();this.__groupStack.push(s),s.appendChild(o),this.__currentElement=o,this.__stack.push(this.__getStyleState())},c.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var o=this.__stack.pop();this.__applyStyleState(o)},c.prototype.__addTransform=function(o){var s=this.__closestGroupOrSvg();if(s.childNodes.length>0){this.__currentElement.nodeName==="path"&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:s,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var p=this.__createElement("g");s.appendChild(p),this.__currentElement=p}var g=this.__currentElement.getAttribute("transform");g?g+=" ":g="",g+=o,this.__currentElement.setAttribute("transform",g)},c.prototype.scale=function(o,s){s===void 0&&(s=o),this.__addTransform(B("scale({x},{y})",{x:o,y:s}))},c.prototype.rotate=function(o){var s=180*o/Math.PI;this.__addTransform(B("rotate({angle},{cx},{cy})",{angle:s,cx:0,cy:0}))},c.prototype.translate=function(o,s){this.__addTransform(B("translate({x},{y})",{x:o,y:s}))},c.prototype.transform=function(o,s,p,g,d,i){this.__addTransform(B("matrix({a},{b},{c},{d},{e},{f})",{a:o,b:s,c:p,d:g,e:d,f:i}))},c.prototype.beginPath=function(){var o,s;this.__currentDefaultPath="",this.__currentPosition={},o=this.__createElement("path",{},!0),s=this.__closestGroupOrSvg(),s.appendChild(o),this.__currentElement=o},c.prototype.__applyCurrentDefaultPath=function(){var o=this.__currentElement;o.nodeName==="path"?o.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",o.nodeName)},c.prototype.__addPathCommand=function(o){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=o},c.prototype.moveTo=function(o,s){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.__currentPosition={x:o,y:s},this.__addPathCommand(B("M {x} {y}",{x:o,y:s}))},c.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},c.prototype.lineTo=function(o,s){this.__currentPosition={x:o,y:s},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(B("L {x} {y}",{x:o,y:s})):this.__addPathCommand(B("M {x} {y}",{x:o,y:s}))},c.prototype.bezierCurveTo=function(o,s,p,g,d,i){this.__currentPosition={x:d,y:i},this.__addPathCommand(B("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:o,cp1y:s,cp2x:p,cp2y:g,x:d,y:i}))},c.prototype.quadraticCurveTo=function(o,s,p,g){this.__currentPosition={x:p,y:g},this.__addPathCommand(B("Q {cpx} {cpy} {x} {y}",{cpx:o,cpy:s,x:p,y:g}))};var h=function(o){var s=Math.sqrt(o[0]*o[0]+o[1]*o[1]);return[o[0]/s,o[1]/s]};return c.prototype.arcTo=function(o,s,p,g,d){var i=this.__currentPosition&&this.__currentPosition.x,n=this.__currentPosition&&this.__currentPosition.y;if(i!==void 0&&n!==void 0){if(d<0)throw new Error("IndexSizeError: The radius provided ("+d+") is negative.");if(i===o&&n===s||o===p&&s===g||d===0)return void this.lineTo(o,s);var r=h([i-o,n-s]),m=h([p-o,g-s]);if(r[0]*m[1]==r[1]*m[0])return void this.lineTo(o,s);var y=r[0]*m[0]+r[1]*m[1],v=Math.acos(Math.abs(y)),x=h([r[0]+m[0],r[1]+m[1]]),E=d/Math.sin(v/2),b=o+E*x[0],f=s+E*x[1],S=[-r[1],r[0]],j=[m[1],-m[0]],Q=function(L){var M=L[0];return L[1]>=0?Math.acos(M):-Math.acos(M)},G=Q(S),q=Q(j);this.lineTo(b+S[0]*d,f+S[1]*d),this.arc(b,f,d,G,q)}},c.prototype.stroke=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},c.prototype.fill=function(){this.__currentElement.nodeName==="path"&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},c.prototype.rect=function(o,s,p,g){this.__currentElement.nodeName!=="path"&&this.beginPath(),this.moveTo(o,s),this.lineTo(o+p,s),this.lineTo(o+p,s+g),this.lineTo(o,s+g),this.lineTo(o,s),this.closePath()},c.prototype.fillRect=function(o,s,p,g){var d,i;d=this.__createElement("rect",{x:o,y:s,width:p,height:g},!0),i=this.__closestGroupOrSvg(),i.appendChild(d),this.__currentElement=d,this.__applyStyleToCurrentElement("fill")},c.prototype.strokeRect=function(o,s,p,g){var d,i;d=this.__createElement("rect",{x:o,y:s,width:p,height:g},!0),i=this.__closestGroupOrSvg(),i.appendChild(d),this.__currentElement=d,this.__applyStyleToCurrentElement("stroke")},c.prototype.__clearCanvas=function(){for(var o=this.__closestGroupOrSvg(),s=o.getAttribute("transform"),p=this.__root.childNodes[1],g=p.childNodes,d=g.length-1;d>=0;d--)g[d]&&p.removeChild(g[d]);this.__currentElement=p,this.__groupStack=[],s&&this.__addTransform(s)},c.prototype.clearRect=function(o,s,p,g){if(o===0&&s===0&&p===this.width&&g===this.height)return void this.__clearCanvas();var d,i=this.__closestGroupOrSvg();d=this.__createElement("rect",{x:o,y:s,width:p,height:g,fill:"#FFFFFF"},!0),i.appendChild(d)},c.prototype.createLinearGradient=function(o,s,p,g){var d=this.__createElement("linearGradient",{id:u(this.__ids),x1:o+"px",x2:p+"px",y1:s+"px",y2:g+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(d),new t(d,this)},c.prototype.createRadialGradient=function(o,s,p,g,d,i){var n=this.__createElement("radialGradient",{id:u(this.__ids),cx:g+"px",cy:d+"px",r:i+"px",fx:o+"px",fy:s+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(n),new t(n,this)},c.prototype.__parseFont=function(){var o=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i,s=o.exec(this.font),p={style:s[1]||"normal",size:s[4]||"10px",family:s[6]||"sans-serif",weight:s[3]||"normal",decoration:s[2]||"normal",href:null};return this.__fontUnderline==="underline"&&(p.decoration="underline"),this.__fontHref&&(p.href=this.__fontHref),p},c.prototype.__wrapTextLink=function(o,s){if(o.href){var p=this.__createElement("a");return p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.href),p.appendChild(s),p}return s},c.prototype.__applyText=function(o,s,p,g){var d=this.__parseFont(),i=this.__closestGroupOrSvg(),n=this.__createElement("text",{"font-family":d.family,"font-size":d.size,"font-style":d.style,"font-weight":d.weight,"text-decoration":d.decoration,x:s,y:p,"text-anchor":w(this.textAlign)},!0);n.appendChild(this.__document.createTextNode(o)),this.__currentElement=n,this.__applyStyleToCurrentElement(g),i.appendChild(this.__wrapTextLink(d,n))},c.prototype.fillText=function(o,s,p){this.__applyText(o,s,p,"fill")},c.prototype.strokeText=function(o,s,p){this.__applyText(o,s,p,"stroke")},c.prototype.measureText=function(o){return this.__ctx.font=this.font,this.__ctx.measureText(o)},c.prototype.arc=function(o,s,p,g,d,i){if(g!==d){g%=2*Math.PI,d%=2*Math.PI,g===d&&(d=(d+2*Math.PI-.001*(i?-1:1))%(2*Math.PI));var n=o+p*Math.cos(d),r=s+p*Math.sin(d),m=o+p*Math.cos(g),y=s+p*Math.sin(g),v=i?0:1,x=0,E=d-g;E<0&&(E+=2*Math.PI),x=i?E>Math.PI?0:1:E>Math.PI?1:0,this.lineTo(m,y),this.__addPathCommand(B("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:p,ry:p,xAxisRotation:0,largeArcFlag:x,sweepFlag:v,endX:n,endY:r})),this.__currentPosition={x:n,y:r}}},c.prototype.clip=function(){var o=this.__closestGroupOrSvg(),s=this.__createElement("clipPath"),p=u(this.__ids),g=this.__createElement("g");this.__applyCurrentDefaultPath(),o.removeChild(this.__currentElement),s.setAttribute("id",p),s.appendChild(this.__currentElement),this.__defs.appendChild(s),o.setAttribute("clip-path",B("url(#{id})",{id:p})),o.appendChild(g),this.__currentElement=g},c.prototype.drawImage=function(){var o,s,p,g,d,i,n,r,m,y,v,x,E,b,f=Array.prototype.slice.call(arguments),S=f[0],j=0,Q=0;if(f.length===3)o=f[1],s=f[2],d=S.width,i=S.height,p=d,g=i;else if(f.length===5)o=f[1],s=f[2],p=f[3],g=f[4],d=S.width,i=S.height;else{if(f.length!==9)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);j=f[1],Q=f[2],d=f[3],i=f[4],o=f[5],s=f[6],p=f[7],g=f[8]}n=this.__closestGroupOrSvg(),this.__currentElement;var G="translate("+o+", "+s+")";if(S instanceof c){if(r=S.getSvg().cloneNode(!0),r.childNodes&&r.childNodes.length>1){for(m=r.childNodes[0];m.childNodes.length;)b=m.childNodes[0].getAttribute("id"),this.__ids[b]=b,this.__defs.appendChild(m.childNodes[0]);if(y=r.childNodes[1]){var q,L=y.getAttribute("transform");q=L?L+" "+G:G,y.setAttribute("transform",q),n.appendChild(y)}}}else S.nodeName!=="CANVAS"&&S.nodeName!=="IMG"||(v=this.__createElement("image"),v.setAttribute("width",p),v.setAttribute("height",g),v.setAttribute("opacity",this.globalAlpha),v.setAttribute("preserveAspectRatio","none"),(j||Q||d!==S.width||i!==S.height)&&(x=this.__document.createElement("canvas"),x.width=p,x.height=g,E=x.getContext("2d"),E.drawImage(S,j,Q,d,i,0,0,p,g),S=x),v.setAttribute("transform",G),v.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",S.nodeName==="CANVAS"?S.toDataURL():S.getAttribute("src")),n.appendChild(v))},c.prototype.createPattern=function(o,s){var p,g=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),d=u(this.__ids);return g.setAttribute("id",d),g.setAttribute("width",o.width),g.setAttribute("height",o.height),o.nodeName==="CANVAS"||o.nodeName==="IMG"?(p=this.__document.createElementNS("http://www.w3.org/2000/svg","image"),p.setAttribute("width",o.width),p.setAttribute("height",o.height),p.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o.nodeName==="CANVAS"?o.toDataURL():o.getAttribute("src")),g.appendChild(p),this.__defs.appendChild(g)):o instanceof c&&(g.appendChild(o.__root.childNodes[1]),this.__defs.appendChild(g)),new a(g,this)},c.prototype.setLineDash=function(o){o&&o.length>0?this.lineDash=o.join(","):this.lineDash=null},c.prototype.ellipse=function(o,s,p,g,d,i,n,r){if(i!==n){i%=2*Math.PI,n%=2*Math.PI,i===n&&(n=(n+2*Math.PI-.001*(r?-1:1))%(2*Math.PI));var m=o+Math.cos(-d)*p*Math.cos(n)+Math.sin(-d)*g*Math.sin(n),y=s-Math.sin(-d)*p*Math.cos(n)+Math.cos(-d)*g*Math.sin(n),v=o+Math.cos(-d)*p*Math.cos(i)+Math.sin(-d)*g*Math.sin(i),x=s-Math.sin(-d)*p*Math.cos(i)+Math.cos(-d)*g*Math.sin(i),E=r?0:1,b=0,f=n-i;f<0&&(f+=2*Math.PI),b=r?f>Math.PI?0:1:f>Math.PI?1:0,this.lineTo(v,x),this.__addPathCommand(B("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:p,ry:g,xAxisRotation:d*(180/Math.PI),largeArcFlag:b,sweepFlag:E,endX:m,endY:y})),this.__currentPosition={x:m,y}}},c.prototype.drawFocusRing=function(){},c.prototype.createImageData=function(){},c.prototype.getImageData=function(){},c.prototype.putImageData=function(){},c.prototype.globalCompositeOperation=function(){},c.prototype.setTransform=function(){},c}),$("graphing/screen",["require","exports"],function(B,u){Object.defineProperty(u,"__esModule",{value:!0});var w=function(){function e(c,t){this.width=c,this.height=t}return e}();u.Screen=w}),$("core/math/poi-type",["require","exports"],function(B,u){Object.defineProperty(u,"__esModule",{value:!0}),u.INTERSECTION=1001,u.ZERO=1002,u.INTERCEPT=1003,u.EXTREMUM=1004,u.EDGE=1005,u.DEFINITION=1006,u.TRACE=1007,u.LABEL=1008}),$("graphing/poi",["require","exports","core/math/poi-type","core/types/graphmode"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=1,t=function(){function a(l,h,o,s,p,g,d){this.x=l,this.y=h,this.type=o,this.sketch=s,this.branch=p,this.pointIdxOnBranch=g,this.bareLabel=d!==void 0&&d,this.id=c++}return a.prototype.getLabel=function(){var l=this.sketch&&this.sketch.branches[this.branch];return this.type===w.LABEL&&l&&"labels"in l&&l.labels&&l.labels[this.pointIdxOnBranch]||""},a.prototype.getGraphMode=function(){return this.sketch.branches[this.branch].graphMode},a.prototype.getCompiledFunction=function(){var l=this.sketch.branches[this.branch];if("compiled"in l&&l.compiled)return l.compiled.fn},a.prototype.isAttachedToPlottedPoint=function(){return this.type===w.DEFINITION||this.type===w.LABEL},a.prototype.isMovable=function(){return this.getGraphMode()===e.XYPOINT_MOVABLE},a.prototype.isPersistent=function(){return this.type===w.LABEL},a.prototype.getLabelSize=function(){var l=this.sketch&&this.sketch.branches[this.branch];if(this.type===w.LABEL&&l&&"labelSize"in l)return l.labelSize},a.prototype.getVerticalLabel=function(){var l=this.sketch&&this.sketch.branches[this.branch];return!!(this.type===w.LABEL&&l&&"verticalLabel"in l)&&!!l.verticalLabel},a.prototype.getTextOutline=function(){if(this.hasEditableLabel())return!1;var l=this.sketch&&this.sketch.branches[this.branch];return!(this.type===w.LABEL&&l&&"suppressTextOutline"in l)||!l.suppressTextOutline},a.prototype.hasInteractiveLabel=function(){var l=this.sketch&&this.sketch.branches[this.branch];return!!(l&&"interactiveLabel"in l)&&!!l.interactiveLabel},a.prototype.hasEditableLabel=function(){var l=this.sketch&&this.sketch.branches[this.branch];return!!(l&&"editableLabel"in l)&&!!l.editableLabel},a.prototype.isBareLabel=function(){return this.bareLabel},a.prototype.getMovablePoint=function(){return this.sketch.getMovablePointByIndex(this.pointIdxOnBranch)},a}();u.POI=t}),$("lib/mathspeak",["require","exports","vendor/mathquill","jquery"],function(B,u,w,e){function c(s){var p="",g=[];g=l(s)?h(s):[{from:0,to:s.length,type:"text",text:s}];for(var d=0,i=g;d<i.length;d++){var n=i[d];p+=n.type==="text"?n.text:t(n.text)}return p}function t(s){return s.match(/^\s*[\d]{0,3}(\.[\d]*)?\s*$/)?s:(o.latex(s),o.mathspeak().trim())}Object.defineProperty(u,"__esModule",{value:!0});var a=/`[^`]*`/g,l=function(s){if(s!=null){var p=s.match(/`/g);return(p!=null&&p.length||0)%2==0}return!0},h=function(s){var p=[];if(s==null||s.length==0)return p;for(var g,d=0;g=a.exec(s);){var i=s.slice(d,g.index);i.length>0&&p.push({from:d,to:g.index,type:"text",text:i}),d=g.index+g[0].length,p.push({from:g.index,to:d,type:"math",text:g[0].slice(1,-1)})}var n=s.slice(d);return n.length>0&&p.push({from:d,to:s.length,type:"text",text:n}),p},o=w.MQ.StaticMath(e("<span/>")[0]);u.getMathspeakFromText=c}),$("graphing/graphsketch",["require","exports","core/math/poi-type","core/types/graphmode","./poi","core/math/poi-type","lib/mathspeak"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(){function h(o,s){var p=this;this.color="#000000",this.style="normal",this.visible=!0,this.showPOI=!1,this.showHighlight=!1,this.selected=!1,this.labels=[],this.id=o,this.branches=s!==void 0?s:[],this.getPOI().forEach(function(g){g.type===w.LABEL&&p.labels.push(g)})}return h.prototype.getPOI=function(){if(this.__cachedPOI)return this.__cachedPOI;this.__cachedPOI=[],this.__cachedPOIIds={};for(var o=0;o<this.branches.length;o++){var s=this.branches[o],p=s.poi;if(s.graphMode===e.X||s.graphMode===e.Y)this._pushPOI(p.zeros,o,w.ZERO),this._pushPOI(p.intercept,o,w.INTERCEPT),this._pushPOI(p.extrema,o,w.EXTREMUM),p.intersections&&this._pushPOI(p.intersections,o,w.INTERSECTION);else if(s.graphMode===e.XYPOINT||s.graphMode===e.XYPOINT_MOVABLE){s.graphMode;var g=s.graphMode===e.XYPOINT&&s.interactiveLabel===!0;if(s.showLabel===!0||g){var d=s.nakedLabel;p.defined&&this._pushPOI(p.defined,o,w.LABEL,d)}else p.defined&&this._pushPOI(p.defined,o,w.DEFINITION)}}return this.__cachedPOI},h.prototype.getBranchPOI=function(o){return this.getPOI().filter(function(s){return s.branch===o})},h.prototype.getMovablePoints=function(){if(this.__cachedMovablePoints)return this.__cachedMovablePoints;this.__cachedMovablePoints=[];var o=this.branches[0];if(o&&o.segments.length===1&&o.graphMode===e.XYPOINT_MOVABLE)for(var s=o.segments[0],p=0;p<s.length;p++){var g=void 0;o.tableId&&(g={tableId:o.tableId,columnId:this.id,rowIndex:o.movablePointInfo[p].index,dragX:o.movablePointInfo[p].dragX,dragY:o.movablePointInfo[p].dragY});var d=o.scaleFactors?o.scaleFactors[0][p]:void 0,i=g?g.rowIndex:p,n=o.segments.length===1&&o.labels&&o.labels[p]?o.labels[p]:void 0;this.__cachedMovablePoints.push({type:"movable-point",id:"movable:["+this.id+","+i+"]",sketch:this,color:this.color,tableInfo:g,scaleFactor:d,x:s[p][0],y:s[p][1],label:n,ariaLabel:n&&a.getMathspeakFromText(n)})}return this.__cachedMovablePoints},h.prototype.getMovablePointByIndex=function(o){return this.getMovablePoints()[o]},h.prototype.getStaticLabeledPoints=function(){var o=this;if(this.__cachedStaticLabeledPoints)return this.__cachedStaticLabeledPoints;var s=this.branches[0];return this.__cachedStaticLabeledPoints=[],this.getPOI().forEach(function(p){if((p.type===t.DEFINITION||p.type===t.LABEL)&&s.graphMode===e.XYPOINT){var g=s.showLabel,d=s.labels&&s.labels[0];(g||d)&&o.__cachedStaticLabeledPoints.push({type:"static-labeled-point",id:"static["+o.id+","+p.id+"]",x:p.x,y:p.y,sketch:p.sketch,label:d,ariaLabel:a.getMathspeakFromText(d)})}}),this.__cachedStaticLabeledPoints},h.prototype._pushPOI=function(o,s,p,g){g===void 0&&(g=!1);for(var d=0,i=o.x.length;d<i;d++){var n=new c.POI(o.x[d],o.y[d],p,this,s,d,g);o.intersects&&(n.intersects=o.intersects[d]),this.__cachedPOI.push(n),this.__cachedPOIIds[n.id]=n}},h.prototype.updateIntersections=function(o){for(var s=this,p=0,g=this.branches.length;p<g;p++)this.branches[p].poi.intersections=o[p];var d=this.__cachedPOI;this.__cachedPOI=[],d.forEach(function(m){m.type!==w.INTERSECTION?s.__cachedPOI.push(m):delete s.__cachedPOIIds[m.id]});for(var p=0;p<this.branches.length;p++){var i=this.branches[p],n=i.graphMode,r=i.poi;n!==e.X&&n!==e.Y||r.intersections&&this._pushPOI(r.intersections,p,w.INTERSECTION)}},h.prototype.getPOIById=function(o){return this.__cachedPOIIds[o]},h.prototype.updateFrom=function(o){if(o){this.visible=!0,this.showPOI=o.showPOI,this.showHighlight=o.showHighlight,this.selected=o.selected;var s=this.branches[0].graphMode;if(s===e.XYPOINT||s===e.XYPOINT_MOVABLE){for(var p=!0,g=0;g<this.__cachedPOI.length;g++){var d=o.__cachedPOI[g],i=this.__cachedPOI[g];if(!d||d.type!==i.type){p=!1;break}}if(p)for(var g=0;g<this.__cachedPOI.length;g++){var d=o.__cachedPOI[g],i=this.__cachedPOI[g];delete this.__cachedPOIIds[i.id],this.__cachedPOIIds[d.id]=i,i.id=d.id}}}},h}();u.GraphSketch=l}),function(B){if(typeof $=="function"&&$.amd)$("base64",[],B);else{var u;u=typeof window<"u"?window:typeof Cn<"u"?Cn:typeof self<"u"?self:this,u.base64js=B()}}(function(){return function B(u,w,e){function c(l,h){if(!w[l]){if(!u[l]){var o=typeof on=="function"&&on;if(!h&&o)return o(l,!0);if(t)return t(l,!0);var s=new Error("Cannot find module '"+l+"'");throw s.code="MODULE_NOT_FOUND",s}var p=w[l]={exports:{}};u[l][0].call(p.exports,function(g){var d=u[l][1][g];return c(d||g)},p,p.exports,B,u,w,e)}return w[l].exports}for(var t=typeof on=="function"&&on,a=0;a<e.length;a++)c(e[a]);return c}({"/":[function(B,u,w){function e(n){var r=n.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return n[r-2]==="="?2:n[r-1]==="="?1:0}function c(n){return 3*n.length/4-e(n)}function t(n){var r,m,y,v,x,E,b=n.length;x=e(n),E=new p(3*b/4-x),y=x>0?b-4:b;var f=0;for(r=0,m=0;r<y;r+=4,m+=3)v=s[n.charCodeAt(r)]<<18|s[n.charCodeAt(r+1)]<<12|s[n.charCodeAt(r+2)]<<6|s[n.charCodeAt(r+3)],E[f++]=v>>16&255,E[f++]=v>>8&255,E[f++]=255&v;return x===2?(v=s[n.charCodeAt(r)]<<2|s[n.charCodeAt(r+1)]>>4,E[f++]=255&v):x===1&&(v=s[n.charCodeAt(r)]<<10|s[n.charCodeAt(r+1)]<<4|s[n.charCodeAt(r+2)]>>2,E[f++]=v>>8&255,E[f++]=255&v),E}function a(n){return o[n>>18&63]+o[n>>12&63]+o[n>>6&63]+o[63&n]}function l(n,r,m){for(var y,v=[],x=r;x<m;x+=3)y=(n[x]<<16)+(n[x+1]<<8)+n[x+2],v.push(a(y));return v.join("")}function h(n){for(var r,m=n.length,y=m%3,v="",x=[],E=0,b=m-y;E<b;E+=16383)x.push(l(n,E,E+16383>b?b:E+16383));return y===1?(r=n[m-1],v+=o[r>>2],v+=o[r<<4&63],v+="=="):y===2&&(r=(n[m-2]<<8)+n[m-1],v+=o[r>>10],v+=o[r>>4&63],v+=o[r<<2&63],v+="="),x.push(v),x.join("")}w.byteLength=c,w.toByteArray=t,w.fromByteArray=h;for(var o=[],s=[],p=typeof Uint8Array<"u"?Uint8Array:Array,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,i=g.length;d<i;++d)o[d]=g[d],s[g.charCodeAt(d)]=d;s[45]=62,s[95]=63},{}]},{},[])("/")}),$("bin",["base64"],function(B){var u={};return{load:function(w,e,c,t){var a=e.toUrl("assets_src/"+w);if(t.isBuild){var l=on.nodeRequire("fs");u[w]=l.readFileSync(a).toString("base64"),c()}else{var h=new XMLHttpRequest;h.open("GET",a,!0),h.responseType="arraybuffer",h.onload=function(){c(h.response)},h.send()}},write:function(w,e,c,t){e in u?c("define('"+w+"!"+e+"', ['base64'], function (base64) {  return base64.toByteArray('"+u[e]+"').buffer;});"):console.log("ERROR - failed to find file "+e+" in buildMap")}}}),$("bin!audio/poi.mp3",["base64"],function(B){return B.toByteArray("//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAIAAAHVwAgICAgICAgICAgICBAQEBAQEBAQEBAQEBgYGBgYGBgYGBgYGBggICAgICAgICAgICAoKCgoKCgoKCgoKCgoMDAwMDAwMDAwMDAwODg4ODg4ODg4ODg4OD///////////////8AAAA5TEFNRTMuOThyAaUAAAAALmcAABRAJAiwQgAAQAAAB1cctrbdAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAjsKyK0YYABp52xtx8wAgAgBd34IAhAgnsECEe7QIAAgsPxACDgcBAEHQfD/g+D4PggCAIf///ghLny4Pg+D5+sHz/wf+XPwfB8H3iMHwfwffUCYPvz/Y7Hg/H4/H4/H4HAwADcoDwAP7XfuAFtXrhzjsjOXP8iCYM4IBVoH2DGAhQR2hm5vikA2IVEPX9nQaITi6IiLCKX/fxcg/DdGmS5BP7fIGQ0hw7DQi5Q//8midImXygdJ0tlz/1NAgXIANV6MA2Vy2y27jv/+1LEBIALOHOTvGGAMXWhbnTxGZ+LOa2FNMsDtj9/jUmPqqqARrNvlVjDDoGZqq0T11A0DVqeEnlQk8q4sVEp0FcqdxLoEJ0RPYWvIlQkbGA0Anw6VJJgqRKw1NJaAXkR4ag0/FwCCABbbdbJA0fzVgdvgvu5Px6Rwiv3VllZVDREqmWntLyBDka3sz951iTve+ddHP0/M3P/+ydU4zbqOZOeop5jfu1kwk8VezPeGc1hRMbWrJNv6SO/fH0Mc15KYvKqAAAAdrdsrbBDuBpp4v/7UsQGgguVE2ekjNP5aSBo6YSNgKAQUoCZEBJK8q73G/nhJFFmLY5dNc4b7gjBRyEs5yjJokY9TBoU/pXQBglyNjeiA87V8vkzaw019YTu2fxY0t6gteLMI37f9fYw7UVnWoE4NJOSpQBu3GfVAIVACgw+IikZZAnB7UKlLGnha4PDbIhsBhk4RYmlE2hYZ8NrQ5HnyEUvZxDyVG1hM33ZZH0OlrJV5///3/51qTGtJgxhREVLEfoO1w6686eRAAAAUicksbA1qegZCe2AuEgJ//tSxAkCDF0XSaw8ailyn+l1h4w1BvVY04S56fYY5nGkBZHMGLBjHDUMlORG4wcCT9R6RB+3vM8jVMU1hmlOoXIOMKqotE2HxWYNJq/7EZ2l63NJ+Z2aTA4Yq+7t0PhOxCz9WP1mA3DJZZGDkRfq+qFAGwhwHUAVqBfDiMUlypaMWApR1VoWLChfUpJzkBDMCTf85UZr6jyHa1psZnTS5iKatTVKcX/Ker9zMvM1T0okGyiQcreJbU1tc+Yj/ms3395FBIADkjlkjbAZNdiwgRD/+1LEBwAL8Tdbp6Rh+XmT6XWHjCx5U4sTCtlUidNtS9I7oUx7oxdIZlOghkIQYzB0vxtMs6QgCg4WMVakQMM5HRfrsdIEftM0yfOHnNGkiPRMoWCKSsxsChat8/vYw4c4t+CMMB5AAAAXZrftWiEVdbSgnURZoWvK2KhK9GfCkIGnQKxIqbYJ0JCNFJ3St1wuUNRLW4Kw5VhLVGrmgYKhhRe1qzzC7SqFFyjJlIqXcPD6gw//epZ9bwQFw+s+rdVAFtzl0AAAA3I3JK0QJxtCHv/7UsQGAApAM0WssGFpSCKqNYMMvgZph6CwIhKEt0yEiMwFKpnDBBajVc5jbTM7KayRt3I43h8Ag05kd9AtqO0bItmf/+Aevzf7dx28sK0hvP//3/izNwf1pfEAgANutuOJACSqWvuW+SKNLQSpOQKsrX3XxnZxy2Rus0Q1irPy9Mkg4kZGJFRQUax4R+jsACwavqYd2bmRX/6VnKrLk2Z2VGYwQNCIEasJh7/oBScAAMtBNgBWssKw0uCAgKkVpJirpZyBklUCwqaSIkW6BgIY//tSxBIDSYw3Km0kSoEzi9KAliSw9QNAydBqoFQVEQNBwiJYiBWdDqxiwVBUGqg6JgaBoGj3//////huVcFQsIRoPjBXLBGA8AkCwOhcD4KAmFAtEYcR6E8gD2OAXJ2N//uSJVZVJNRdh0gkLCwuKioqz4sLC3//////4sLC31ioqKpAoqKirOgFqkxBTUUzLjk4LjKqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+1LEIwPAAAGkAAAAIAAANIAAAASqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==").buffer}),$("graphing/tonegenerator",["require","exports","bin!audio/poi.mp3","tslib","browser","lib/animation-frame","bugsnag","core/types/graphmode"],function(B,u,w,e,c,t,a,l){function h(){return{amplitude:0,phase:0,noiseVal:0,lowerOctaveGain:0,upperOctaveGain:0}}function o(oe,H){var J=H.independentMin,ie=H.independentMax,de=Math.abs((oe-J)/(ie-J));return isFinite(de)||(de=.5),de=Math.max(Math.min(de,1),0),{left:Math.cos(Math.PI/2*de),right:Math.sin(Math.PI/2*de)}}function s(oe,H,J,ie,de){var fe=H.independent,Ee=H.dependent,ye=oe.phase,_e=oe.noiseVal,Fe=oe.lowerOctaveGain,se=oe.upperOctaveGain,I=J.dependentMin,ne=J.dependentMax,pe=0,ge=0,Be=0;return!isNaN(Ee)&&I<=Ee&&Ee<=ne?(ye+=p((Ee-I)/(ne-I))/ie,de<4*N?(ge=0,Be=0):(ge=.5,Be=fe<0?.5:0),Ee<0&&(_e=d(_e),pe+=.15*_e)):(_e=d(_e),pe+=.15*_e),Fe+=(ge-Fe)/(ie*N),se+=(Be-se)/(ie*N),pe+=Fe*g(ye)+se*g(2*ye),{amplitude:pe,phase:ye,noiseVal:_e,lowerOctaveGain:Fe,upperOctaveGain:se}}function p(oe){return Math.min(Math.max(Y*Math.pow(2,oe),re),O)}function g(oe){return Math.abs(4*oe+1-4*Math.floor((4*oe+3)/4))-1}function d(oe){return(oe+.2*(2*Math.random()-1))/1.02}function i(oe,H){return oe[0]-H[0]}function n(oe){oe=e.__assign({},oe);var H=oe.segments[0].slice();return H.sort(i),oe.segments=[H],oe}function r(oe,H,J,ie){for(var de=oe.getChannelData(0),fe=H.getChannelData(0),Ee=H.getChannelData(1),ye=0;ye<de.length&&ye+J<fe.length;ye++)fe[ye+J]+=de[ye]*ie.left,Ee[ye+J]+=de[ye]*ie.right}function m(oe){for(var H=0,J=oe.branches;H<J.length;H++)if(y(J[H]))return!0;return!1}function y(oe){switch(oe.graphMode){case l.X:case l.Y:case l.XYPOINT:case l.XYPOINT_MOVABLE:return oe.segments.length>0;default:return!1}}function v(oe){for(var H=0;H<oe.branches.length;H++)if(y(oe.branches[H]))return H;return 0}function x(oe,H){for(var J=0,ie=0;ie<=H;ie++)y(oe.branches[ie])&&(J+=1);return J}function E(oe){switch(oe.graphMode){case l.X:case l.Y:case l.XYPOINT:case l.XYPOINT_MOVABLE:return!0;default:return!1}}function b(oe,H,J){switch(oe.graphMode){case l.Y:case l.X:if(H<0||H>=oe.segments.length)return!1;var ie=oe.segments[H],de=2*J;return de>=0&&de<ie.length;case l.XYPOINT:case l.XYPOINT_MOVABLE:return J>=0&&J<=1&&H>=0&&H<oe.segments[0].length;default:return!1}}function f(){return{independent:NaN,dependent:NaN}}function S(oe,H,J,ie,de){if(!b(oe,H,J))return f();switch(oe.graphMode){case l.Y:case l.X:var ye=oe.segments[H],fe=2*J;return fe+1>=ye.length?f():{independent:ye[fe],dependent:ye[fe+1]};case l.XYPOINT:case l.XYPOINT_MOVABLE:var Ee=oe.segments[0][H][1],ye=oe.segments[0],_e=.5*(ie.xmax-ie.xmin)/de*W;if(J===0){var Fe=-1/0;b(oe,H-1,0)&&(Fe=.5*(ye[H][0]+ye[H-1][0]));var I=Math.max(ye[H][0]-_e,Fe);return{independent:I,dependent:Ee}}var se=1/0;b(oe,H+1,0)&&(se=.5*(ye[H][0]+ye[H+1][0]));var I=Math.min(ye[H][0]+_e,se);return{independent:I,dependent:Ee};default:return f()}}function j(oe){switch(oe.graphMode){case l.Y:case l.X:return oe.segments.length;case l.XYPOINT:case l.XYPOINT_MOVABLE:return oe.segments[0].length;default:return 0}}function Q(oe,H,J,ie){if(!b(oe,H,0))return NaN;switch(oe.graphMode){case l.Y:case l.X:var de=oe.segments[H];return de[de.length-2];case l.XYPOINT:case l.XYPOINT_MOVABLE:var de=oe.segments[0],fe=1/0;b(oe,H+1,0)&&(fe=.5*(de[H][0]+de[H+1][0]));var Ee=.5*(J.xmax-J.xmin)/ie*W;return Math.min(de[H][0]+Ee,fe);default:return NaN}}function G(oe,H){switch(H){case l.Y:case l.XYPOINT:case l.XYPOINT_MOVABLE:return{independentMin:oe.xmin,independentMax:oe.xmax,dependentMin:oe.ymin,dependentMax:oe.ymax};case l.X:return{independentMin:oe.ymin,independentMax:oe.ymax,dependentMin:oe.xmin,dependentMax:oe.xmax};default:throw M(H)}}function q(oe){switch(oe.graphMode){case l.Y:case l.XYPOINT:case l.XYPOINT_MOVABLE:return{independent:oe.x,dependent:oe.y};case l.X:return{independent:oe.y,dependent:oe.x};default:throw M(oe.graphMode)}}function L(oe,H){if(oe===l.X)return H.y;if(oe===l.Y)return H.x;throw M(oe)}function M(oe){return"Unexpected graph mode. Received "+oe}function D(oe,H,J,ie){var de=oe.sampleRate,fe=oe.getChannelData(0),Ee=oe.getChannelData(1),ye=H.graphMode,_e=G(J,ye),Fe=_e.independentMin,se=_e.independentMax,I=se-Fe,ne=0,pe=0,ge=fe.length-1,Be=ge/de;H.graphMode!==l.XYPOINT&&H.graphMode!==l.XYPOINT_MOVABLE||(H=n(H));for(var Re=h(),ve=0;ve<fe.length;ve++){for(var ke=NaN,T=(ge-ve)/ge*Fe+ve/ge*se,Ie=o(T,_e);ne<j(H)&&S(H,ne,pe,J,Be).independent<T;)pe+=1,b(H,ne,pe)||(ne+=1,pe=0);var Ke=(Q(H,ne,J,Be)-T)*(Be/I),Ye=S(H,ne,pe,J,Be),bt=S(H,ne,pe-1,J,Be),le=Ye.independent-bt.independent;ke=(Ye.independent-T)/le*bt.dependent+(T-bt.independent)/le*Ye.dependent,Re=s(Re,{independent:T,dependent:ke},_e,de,Ke),fe[ve]+=Re.amplitude*Ie.left,Ee[ve]+=Re.amplitude*Ie.right}if(ie&&(ye===l.X||ye===l.Y)&&H.poi.intersections)for(var Te=L(ye,H.poi.intersections),Ce=0,xe=Te;Ce<xe.length;Ce++){var T=xe[Ce],ve=Math.round((T-Fe)/(se-Fe)*ge);r(ie,oe,ve,o(T,_e))}}function V(oe,H,J,ie){for(var de=oe.sampleRate,fe=oe.getChannelData(0),Ee=oe.getChannelData(1),ye=H.graphMode,_e=G(J,ye),Fe=fe.length-1,se=h(),I=q(H),ne=I.independent,pe=I.dependent,ge=o(ne,_e),Be=0;Be<fe.length;Be++)se=s(se,{independent:ne,dependent:pe},_e,de,(Fe-Be)/de),fe[Be]+=se.amplitude*ge.left,Ee[Be]+=se.amplitude*ge.right;ie&&H.intersects!==void 0&&r(ie,oe,0,ge)}Object.defineProperty(u,"__esModule",{value:!0});var W=.075,N=.0015,re=125,Y=500,O=2e3,ee=function(){function oe(H){var J=H.audioPointMove,ie=H.animationFinished;this.audioSpeed=50,this.audioVolume=.5,this.audioPointMove=J,this.animationFinished=ie}return oe.prototype.suspend=function(){this.playbackSupported&&this.audioCtx&&(this.stop(),this.audioCtx.suspend())},oe.prototype.resume=function(){if(!this.audioCtx){var H=window.AudioContext||window.webkitAudioContext;if(c.IS_IE)this.playbackSupported=!1,this.audioCtx=void 0;else try{this.audioCtx=H?new H:void 0,this.playbackSupported=!0}catch(J){a.notify(J),this.playbackSupported=!1,this.audioCtx=void 0}}this.playbackSupported&&this.audioCtx&&(this.audioCtx.state==="suspended"&&this.audioCtx.resume(),this.loadPOI())},oe.prototype.stop=function(){this.playTimeout&&(t.cancelAnimationFrame(this.playTimeout),this.playTimeout=void 0),this.bufferSource&&(this.bufferSource.stop(),this.bufferSource.disconnect(),this.bufferSource=void 0),this.animationFinished()},oe.prototype.isAnimating=function(){return this.playTimeout!==void 0},oe.prototype.getAudioSpeed=function(){return this.audioSpeed},oe.prototype.setAudioSpeed=function(H){this.audioSpeed=H},oe.prototype.getAudioVolume=function(){return this.audioVolume},oe.prototype.setAudioVolume=function(H){this.audioVolume=H,this.gainMaster!==void 0&&(this.gainMaster.gain.value=this.audioVolume)},oe.prototype.getPlaybackSupported=function(){return this.playbackSupported},oe.prototype.playBranchByIndex=function(H,J,ie){var de=this;if(!(J<0||J>=H.branches.length)&&y(H.branches[J])){var fe=function(){return de.stop()};this.playBranch(H.branches[J],J,ie,fe)}},oe.prototype.playSketch=function(H,J){var ie=this,de=H.branches;if(de.length!==0){var fe=-1,Ee=function(){for(fe+=1;fe<de.length&&!y(de[fe]);)fe+=1;fe<de.length?ie.playBranch(de[fe],fe,J,Ee):ie.stop()};Ee()}},oe.prototype.playPoint=function(H,J){if(this.audioCtx&&E(H)){var ie=this.audioCtx.sampleRate,de=ie*W,fe=this.audioCtx.createBuffer(2,de,ie);V(fe,H,J,this.poiBuffer),this.connectBuffer(fe)}},oe.prototype.connectBuffer=function(H){if(this.audioCtx){this.gainMaster=this.audioCtx.createGain(),this.gainMaster.connect(this.audioCtx.destination),this.gainMaster.gain.value=this.audioVolume;var J=this.audioCtx.createBufferSource();this.bufferSource=J,J.buffer=H,J.connect(this.gainMaster),J.start()}},oe.prototype.playBranch=function(H,J,ie,de){var fe=this;if(this.audioCtx){var Ee=this.audioSpeed/10,ye=this.audioCtx.sampleRate,_e=ye*Ee,Fe=this.audioCtx.createBuffer(2,_e,ye);D(Fe,H,ie,this.poiBuffer),this.connectBuffer(Fe);var se=this.audioCtx.currentTime,I=function(){if(fe.playTimeout!==void 0&&t.cancelAnimationFrame(fe.playTimeout),fe.audioCtx){var ne=fe.audioCtx.currentTime,pe=ne-se,ge=H.graphMode,Be=G(ie,ge),Re=Be.independentMin,ve=Be.independentMax,ke=(Ee-pe)/Ee*Re+pe/Ee*ve;fe.audioPointMove(J,ke),pe<Ee?fe.playTimeout=t.requestAnimationFrame(I):de()}};I()}},oe.prototype.loadPOI=function(){var H=this;this.playbackSupported&&!this.poiBuffer&&this.audioCtx&&this.audioCtx.decodeAudioData(w.slice(0),function(J){H.poiBuffer=J})},oe}();u.default=ee,u.canPlaySketch=m,u.canPlayBranch=y,u.getFirstPlayableBranchIndex=v,u.getReportedBranch=x}),$("graphing/audiographnavigator",["require","exports","main/propagate_selection","tslib","underscore","core/types/graphmode","core/lib/label","core/math/poi-type","graphing/tonegenerator","underscore","lib/aria"],function(B,u,w,e,c,t,a,l,h,o,s){function p(d,i,n){return{x:d.x,y:d.y,branch:d.branch,reportedBranch:n,type:d.type,graphMode:i,intersects:d.intersects}}Object.defineProperty(u,"__esModule",{value:!0});var g=function(){function d(i,n,r){this.grapher=r,this.controller=i,this.audiograph=n,this.reset()}return d.prototype.reset=function(){this.currentPoint=void 0,this.resetToFirstBranch(),this.sampledPoints=[],this.pois=[],this.independent=0,this.xstep=0,this.ystep=0},d.prototype.resetToFirstBranch=function(){var i=this.getCurrentSketch();this.branch=i?h.getFirstPlayableBranchIndex(i):0},d.prototype.getBranchPoints=function(i){var n=[];if(i>=0)for(var r=0,m=this.getSampledPoints();r<m.length;r++){var y=m[r];y.branch===i&&n.push(y)}return n},d.prototype.resetTracePoint=function(){this.drawTrace(this.getCurrentPoint())},d.prototype.drawTrace=function(i){var n=this.getCurrentSketch();if(i&&n){var r=n.branches[this.branch];if(r&&r.graphMode!==t.XYPOINT){var m={x:i.x,y:i.y},y={branchInfo:{branch:i.branch,id:n.id,sketch:n},pt:m};o.isEqual(y,this.grapher.traceLayer.getTraceInfo())||(this.grapher.traceLayer.setTraceInfo(y),this.grapher.redrawAllLayers())}}},d.prototype.moveToOrigin=function(){var i=this.getCurrentSketch();if(i&&h.canPlaySketch(i)){var n=i.branches[this.branch];if(h.canPlayBranch(n)){var r=n.graphMode;if(r===t.Y)this.setIndependent("x",0);else if(r===t.X)this.setIndependent("y",0);else if(r===t.XYPOINT){var m=this.getSortedPOI()[0];this.setIndependent("x",m?m.x:0)}}}},d.prototype.getCurrentSketch=function(){var i,n=this.getSelectedItem();if(n){var r=this.audiograph.getFocusedCell();i=n.type==="table"&&r?this.getGraphSketchForTableCell(n,r):this.grapher.getGraphSketch(n.id)}return i},d.prototype.getFirstTraceableSketch=function(i){for(var n,r=this.controller.getItemCount(),m=this.controller.shouldAudioTraceReverseExpressions(),y=0;y<r;y++){var v=m?r-1-y:y,x=this.controller.getItemModelByIndex(v);if(x&&this.canTrace(x)){var E=m?this.prevTableColumn(x):this.nextTableColumn(x);if(E?(this.audiograph.setFocusedCell(E),n=this.getGraphSketchForTableCell(x,E)):n=this.grapher.getGraphSketch(x.id),n){i&&i.selectAssociatedExpression&&this.controller.dispatch({type:"set-selected-index",index:v});break}}}return n},d.prototype.canTrace=function(i){if(i.type==="image")return!1;if("shouldGraph"in i){var n=this.grapher.getGraphSketch(i.id);return!!n&&h.canPlaySketch(n)}return!1},d.prototype.getTraceableExpressionCount=function(){for(var i=0,n=this.controller.getItemCount(),r=0;r<n;r++){var m=this.controller.getItemModelByIndex(r);m&&this.canTrace(m)&&i++}return i},d.prototype.computeStepSizes=function(){var i=this.grapher.getProjection().viewport;if(i){this.viewport=i;var n=i.xmin,r=i.xmax;this.xstep=Math.abs(r-n)/100,this.xscale=r-n;var m=i.ymin,y=i.ymax;this.ystep=Math.abs(y-m)/100,this.yscale=y-m;var v=this.getCurrentSketch();if(v&&h.canPlaySketch(v)){var x=v.branches[this.branch];if(h.canPlayBranch(x)){var E=x.graphMode;if(E===t.Y)this.independent<n?this.independent=n:this.independent>r&&(this.independent=r);else if(E===t.X)this.independent<m?this.independent=m:this.independent>y&&(this.independent=y);else if(E===t.XYPOINT){var b=void 0,f=void 0;this.independent<n?(f=this.getSortedPOI()[0],this.independent=f&&f.x!==void 0?f.x:0):this.independent>r&&(b=this.getSortedPOI(),f=b[b.length-1],this.independent=f&&f.x!==void 0?f.x:0)}}}}},d.prototype.getPoint=function(i,n){var r,m=this.getCurrentSketch();if(!m||!h.canPlaySketch(m))return r;var y,v,x,E=0,b=m.branches[i];if(b){var f=h.getReportedBranch(m,i);return"compiled"in b&&b.compiled&&(x=b.compiled.fn),v=b.graphMode,v===t.Y?(y=this.getInterveningPOIs(n,n+this.xstep,i,v)[0],y&&y.x===n&&y.branch===i||(y=void 0,E=x?x(n):0),y?r={x:y.x,y:y.y,type:y.type,typeChain:y.typeChain,branch:y.branch,reportedBranch:f,graphMode:v,intersects:y.intersects}:x&&(r={x:n,y:E,branch:i,reportedBranch:f,graphMode:v})):v===t.X?(y=this.getInterveningPOIs(n,n+this.ystep,i,v)[0],y&&y.y===n&&y.branch===i||(y=void 0,E=x?x(n):0),y?r={x:y.x,y:y.y,type:y.type,typeChain:y.typeChain,branch:y.branch,reportedBranch:f,graphMode:v,intersects:y.intersects}:x&&(r={y:n,x:E,branch:i,reportedBranch:f,graphMode:v})):v===t.XYPOINT&&(y=this.getInterveningPOIs(n,n+this.xstep,i,v)[0],r=y&&y.x===n&&y.branch===i?{x:y.x,y:y.y,type:y.type,typeChain:y.typeChain,branch:y.branch,reportedBranch:f,graphMode:v,intersects:y.intersects}:{x:n,y:NaN,branch:i,reportedBranch:f,graphMode:v}),r}},d.prototype.getSampledPoints=function(){return this.sampledPoints.length===0&&this.updateSampledPoints(),this.sampledPoints},d.prototype.updateSampledPoints=function(){var i=this.getCurrentSketch();if(i&&h.canPlaySketch(i)){for(var n=[],r=0;r<i.branches.length;r++){var m=i.branches[r];if(h.canPlayBranch(m)){var y=m.graphMode,v=0,x=0,E=0,b=[];if(y===t.Y||y===t.XYPOINT?(v=this.viewport.xmin,x=this.viewport.xmax,E=this.xstep):y===t.X&&(v=this.viewport.ymin,x=this.viewport.ymax,E=this.ystep),v!==0||x!==0||E!==0){for(var f=0;a.value(v+f*E).value<=x;f++){var S=a.value(v+f*E).value,j=this.getInterveningPOIs(S,S+E,r,y);if(j.length>0)b.push.apply(b,j);else{var Q=this.getPoint(r,S);Q&&b.push(Q)}}n.push.apply(n,this.removeDuplicates(b,y))}}}this.sampledPoints=n}},d.prototype.getCurrentPoint=function(){return this.currentPoint||this.updateCurrentPoint(),this.currentPoint},d.prototype.updateCurrentPoint=function(i){if(i){this.currentPoint=i;var n=i.graphMode;n===t.Y||n===t.XYPOINT?this.independent=i.x!==void 0?i.x:0:n===t.X&&(this.independent=i.y!==void 0?i.y:0),this.branch=i.branch}else this.currentPoint=this.getPoint(this.branch,this.independent)},d.prototype.prevPoint=function(){this.moveToPoint(-1)},d.prototype.nextPoint=function(){this.moveToPoint(1)},d.prototype.firstPoint=function(){var i=this.getSampledPoints();i.length>0&&this.updateCurrentPoint(i[0])},d.prototype.lastPoint=function(){var i=this.getSampledPoints();i.length>0&&this.updateCurrentPoint(i[i.length-1])},d.prototype.moveToPoint=function(i){var n=this.getCurrentPoint();if(n){if(n.graphMode===t.XYPOINT)return void this.moveToPOI(i);var r=this.getSampledPoints(),m=this.getPointIndex(r,n);if(m!==-1){var y=m+i;y<=0?(y=0,s.queue(this.controller.t("First point"))):y>=r.length-1&&(y=r.length-1,s.queue(this.controller.t("Last point")));var v=r[y];this.updateCurrentPoint(v)}}},d.prototype.prevPOI=function(){this.moveToPOI(-1)},d.prototype.nextPOI=function(){this.moveToPOI(1)},d.prototype.getSortedPOI=function(){return this.pois&&this.pois.length!==0||this.updatePOI(),this.pois},d.prototype.updatePOI=function(){var i,n=[],r=[],m=this.getCurrentSketch();if(m&&h.canPlaySketch(m)){for(var y=0;y<m.branches.length;y++){var v=m.branches[y];if(v){var x=h.getReportedBranch(m,y),E=v.graphMode;if(r=[],i=m.getBranchPOI(y),i.length>0){E===t.Y||E===t.XYPOINT?r=c.sortBy(i,"x"):E===t.X&&(r=c.sortBy(i,"y"));for(var b=[],f=0,S=r;f<S.length;f++){var j=S[f];b.push(p(j,E,x))}n.push.apply(n,this.removeDuplicates(b,E))}}}this.pois=n}},d.prototype.removeDuplicates=function(i,n){for(var r=[],m=0,y=i;m<y.length;m++){var v=y[m];if(v=e.__assign({},v),v.graphMode=n,r.length!==0){var x=r[r.length-1];a.value(x.x).value===a.value(v.x).value&&a.value(x.y).value===a.value(v.y).value&&x.branch===v.branch?(x.typeChain||(x.typeChain=x.type!==void 0?[x.type]:[]),v.type!==void 0&&x.typeChain.indexOf(v.type)===-1&&x.typeChain.push(v.type),v.type===l.INTERSECTION&&v.intersects&&x.intersects===void 0&&(x.intersects=v.intersects)):r.push(v)}else r.push(v)}return r},d.prototype.getInterveningPOIs=function(i,n,r,m){for(var y=[],v=this.getSortedPOI(),x=NaN,E=0,b=v;E<b.length;E++){var f=b[E];f&&(m!==t.Y&&m!==t.XYPOINT||isNaN(f.x)?m!==t.X||isNaN(f.y)||(x=f.y):x=f.x,f.branch===r&&!isNaN(x)&&(i<=x&&x<n||n<=x&&x<i)&&y.push(f))}return i>n?y.reverse():y},d.prototype.setIndependent=function(i,n){for(var r=this.getSampledPoints(),m=0,y=r;m<y.length;m++){var v=y[m];if(v&&v.hasOwnProperty(i)&&v[i]===n){if(i==="x")return this.independent=v.x!==void 0?v.x:0,void this.updateCurrentPoint();if(i==="y")return this.independent=v.y!==void 0?v.y:0,void this.updateCurrentPoint()}}var x=!0;if(r.length>0){var E=Math.floor((r.length-1)/2),b=r[E];b&&(i==="x"?(this.independent=b.x!==void 0?b.x:0,x=!1):i==="y"&&(this.independent=b.y!==void 0?b.y:0,x=!1))}x&&(this.independent=0),this.resetToFirstBranch(),this.updateCurrentPoint()},d.prototype.moveToPOI=function(i){var n=this.getCurrentPoint();if(n){var r=this.getSampledPoints(),m=this.getPointIndex(r,n);if(m!==-1){for(var y=n.graphMode,v=-1,x=i===1?r.length-1:0,E=m;E!==x+i;E+=i){var b=r[E];if(((y===t.Y||y===t.XYPOINT)&&n.x!==b.x||y===t.X&&n.y!==b.y)&&b.type!==void 0){v=E;break}}v===-1?s.queue(this.controller.t("No more points of interest")):this.updateCurrentPoint(r[v])}}},d.prototype.getPointIndex=function(i,n){var r=-1;if(i.length>0&&n)for(var m=n.graphMode,y=0;y<i.length;y++){var v=i[y];if(((m===t.Y||m===t.XYPOINT)&&v.x===n.x||m===t.X&&v.y===n.y)&&v.branch===n.branch){r=y;break}}return r},d.prototype.prevCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveDown():this.curveUp()},d.prototype.nextCurve=function(){this.controller.shouldAudioTraceReverseExpressions()?this.curveUp():this.curveDown()},d.prototype.curveUp=function(){var i=this.getSelectedItem();if(i){var n=this.prevTableColumn(i);if(n)this.audiograph.setFocusedCell(n);else{var r=i.index,m=this.findPrevTraceableIndex(r);if(m!==-1){var y=this.controller.getItemModelByIndex(m);y&&this.controller.dispatch({type:"set-selected-id",id:y.id})}}(n||this.getSelectedItem()!==i)&&this.audiograph.enterAudioTrace()}},d.prototype.curveDown=function(){var i=this.getSelectedItem();if(i){var n=this.nextTableColumn(i);if(n)this.audiograph.setFocusedCell(n);else{var r=i.index,m=this.findNextTraceableIndex(r);if(m!==-1){var y=this.controller.getItemModelByIndex(m);y&&this.controller.dispatch({type:"set-selected-id",id:y.id})}}(n||this.getSelectedItem()!==i)&&this.audiograph.enterAudioTrace()}},d.prototype.findPrevTraceableIndex=function(i){var n;do{i--,n=this.controller.getItemModelByIndex(i);var r=n&&this.prevTableColumn(n);if(r)return this.audiograph.setFocusedCell(r),i}while(n&&!this.canTrace(n));return n?i:-1},d.prototype.findNextTraceableIndex=function(i){var n;do{i++,n=this.controller.getItemModelByIndex(i);var r=n&&this.nextTableColumn(n);if(r)return this.audiograph.setFocusedCell(r),i}while(n&&!this.canTrace(n));return n?i:-1},d.prototype.prevTableColumn=function(i){return this.tableColumn(i,-1)},d.prototype.nextTableColumn=function(i){return this.tableColumn(i,1)},d.prototype.tableColumn=function(i,n){var r;if(i&&i.type==="table"){var m=this.audiograph.getFocusedCell(),y=void 0,v=void 0,x=void 0;n===-1?(y=m?Math.max(m.location.column-1,0):NaN,v=m&&m.tableId===i.id&&!isNaN(y)?y:i.columnModels.length-1,x=0):(y=m?Math.min(m.location.column+1,i.columnModels.length-1):NaN,v=m&&m.tableId===i.id&&!isNaN(y)?y:0,x=i.columnModels.length-1);var E=(x-v)/n;if(isFinite(E)&&E>=0)for(var b=v;b!==x;b+=n){var f=i.columnModels[b];if(f){var S=this.grapher.getGraphSketch(f.id);if(S){r={tableId:i.id,location:{column:b,row:0}};break}}}}return r},d.prototype.getGraphSketchForTableCell=function(i,n){if(i&&i.type==="table"&&n){var r=i.columnModels[n.location.column];return r?this.grapher.getGraphSketch(r.id):void 0}},d.prototype.getXScale=function(){return this.xscale},d.prototype.getYScale=function(){return this.yscale},d.prototype.getSelectedItem=function(){var i=this.controller.getSelectedItem();return i&&i.type==="folder"?this.controller.getItemModel(w.getSelectedId(i)):i},d}();u.default=g}),$("graphing/audiograph",["require","exports","tslib","browser","keys","lib/aria","graphing/audiographnavigator","graphing/tonegenerator","core/types/graphmode","core/lib/label","core/math/poi-type","graphing-calc/models/table","expressions/colors","lib/mathspeak"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d){Object.defineProperty(u,"__esModule",{value:!0});var i=function(){function n(r,m){var y=this;this.grapher=m,this.controller=r,this.audioTraceActive=!1,this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.sliderTraceActive=!1,this.sliderIndex=0,this.sliderArray=[],this.lastSpokenBranch=1,this.agNavigator=new a.default(r,this,this.grapher),this.tonegen=new l.default({audioPointMove:function(v,x){y.agNavigator.drawTrace(y.agNavigator.getPoint(v,x))},animationFinished:function(){y.recomputePoints()}}),this.tonegen.suspend()}return n.prototype.remove=function(){},n.prototype.handleKeydown=function(r){var m=r.altKey||r.metaKey,y=r.altKey&&!r.metaKey&&!r.ctrlKey&&!r.shiftKey,v=r.ctrlKey&&!r.metaKey&&!r.altKey,x=e.IS_APPLE?v:m,E=x&&(r.which===61||r.which===187),b=x&&!r.shiftKey&&(r.which===173||r.which===189),f=x&&!r.shiftKey&&c.lookupChar(r)==="0";y&&c.lookupChar(r)==="S"?this.agNavigator.getSelectedItem()&&(this.audioTraceActive||this.isFocusInExpressionsView())&&(r.preventDefault(),r.stopPropagation(),this.describeGraph()):y&&c.lookupChar(r)==="T"?(r.preventDefault(),r.stopPropagation(),this.toggleAudioTrace()):E?(r.preventDefault(),r.stopPropagation(),this.zoom("in")):b?(r.preventDefault(),r.stopPropagation(),this.zoom("out")):f?(r.preventDefault(),r.stopPropagation(),this.zoom("default")):this.audioTraceActive&&(this.sliderTraceActive?this.sliderTraceKeydown(r):this.audioTraceKeydown(r))},n.prototype.sliderTraceKeydown=function(r){var m=r.altKey||r.metaKey,y=!m&&!r.ctrlKey&&!r.shiftKey;y&&c.lookup(r)===c.LEFT||c.lookupChar(r)==="J"?(r.preventDefault(),r.stopPropagation(),this.decrementSliderValue()):y&&c.lookup(r)===c.RIGHT||c.lookupChar(r)==="L"?(r.preventDefault(),r.stopPropagation(),this.incrementSliderValue()):y&&c.lookup(r)===c.PAGEDOWN?(r.preventDefault(),r.stopPropagation(),this.decrementBigSliderValue()):y&&c.lookup(r)===c.PAGEUP?(r.preventDefault(),r.stopPropagation(),this.incrementBigSliderValue()):m||c.lookup(r)!==c.DOWN&&(r.shiftKey||c.lookup(r)!==c.TAB)&&c.lookupChar(r)!=="K"?!m&&(c.lookup(r)===c.UP||r.shiftKey&&c.lookup(r)===c.TAB||c.lookupChar(r)==="I")?(r.preventDefault(),r.stopPropagation(),this.prevSlider()):y&&c.lookup(r)===c.HOME||c.lookupChar(r)==="U"?(r.preventDefault(),r.stopPropagation(),this.sliderMin()):y&&c.lookup(r)===c.END||c.lookupChar(r)==="N"?(r.preventDefault(),r.stopPropagation(),this.sliderMax()):(this.stopAnimations(),this.audioTraceKeydown(r)):(r.preventDefault(),r.stopPropagation(),this.nextSlider())},n.prototype.audioTraceKeydown=function(r){var m=this,y=r.altKey||r.metaKey,v=y&&!r.ctrlKey&&!r.shiftKey,x=!y&&!r.ctrlKey&&!r.shiftKey,E=c.lookupChar(r);if(c.lookup(r)===c.UP&&v)r.preventDefault(),r.stopPropagation(),this.agNavigator.prevCurve();else if(c.lookup(r)===c.DOWN&&v)r.preventDefault(),r.stopPropagation(),this.agNavigator.nextCurve();else if(x&&c.lookup(r)===c.LEFT||c.lookup(r)===c.UP||E==="J")r.preventDefault(),r.stopPropagation(),this.agNavigator.prevPoint(),this.reportAudioTrace();else if(x&&c.lookup(r)===c.RIGHT||c.lookup(r)===c.DOWN||E==="L")r.preventDefault(),r.stopPropagation(),this.agNavigator.nextPoint(),this.reportAudioTrace();else if(y||c.lookup(r)!==c.PAGEDOWN&&(r.shiftKey||c.lookup(r)!==c.TAB)&&E!=="I")if(!y&&(c.lookup(r)===c.PAGEUP||r.shiftKey&&c.lookup(r)===c.TAB||E==="K"))r.preventDefault(),r.stopPropagation(),this.agNavigator.prevPOI(),this.reportAudioTrace();else if(x&&c.lookup(r)===c.HOME||E==="U")r.preventDefault(),r.stopPropagation(),this.agNavigator.firstPoint(),this.reportAudioTrace();else if(x&&c.lookup(r)===c.END||E==="N")r.preventDefault(),r.stopPropagation(),this.agNavigator.lastPoint(),this.reportAudioTrace();else if(x&&E==="X")r.preventDefault(),r.stopPropagation(),this.reportAudioTrace("x");else if(x&&E==="P")r.preventDefault(),r.stopPropagation(),this.queuePOICount(),t.alert();else if(x&&E==="Y")r.preventDefault(),r.stopPropagation(),this.reportAudioTrace("y");else if(x&&E==="T")r.preventDefault(),r.stopPropagation(),this.reportAudioTrace("type");else if(x&&E==="B")r.preventDefault(),r.stopPropagation(),this.reportAudioTrace("branch");else if(x&&E==="O")r.preventDefault(),r.stopPropagation(),this.agNavigator.moveToOrigin(),this.reportAudioTrace();else if(x&&E==="H")if(r.preventDefault(),r.stopPropagation(),this.tonegen.getPlaybackSupported()){this.tonegen.stop();var b=this.agNavigator.getCurrentSketch();b&&l.canPlaySketch(b)?(t.alert(this.controller.t("Playing graph.")),clearTimeout(this.playTimeout),this.playTimeout=setTimeout(function(){return m.tonegen.playSketch(b,m.grapher.getCurrentViewport())},500)):t.alert(this.controller.t("Unable to audio trace this expression."))}else t.alert(this.controller.t("Unable to play audio."));else if(x&&typeof E=="string"&&E>="0"&&E<="9"){r.preventDefault(),r.stopPropagation(),this.tonegen.stop();var f=this.agNavigator.getCurrentSketch();if(f){var S=void 0;S=r.which===48?9:r.which-49;for(var j=S,Q=-1,G=0;G<f.branches.length;G++)if(l.canPlayBranch(f.branches[G])&&(j-=1),j<0){Q=G;break}Q>=0?this.tonegen.getPlaybackSupported()?(t.alert(this.controller.t("Branch __branch__",{branch:S+1})),clearTimeout(this.playTimeout),this.playTimeout=setTimeout(function(){return m.tonegen.playBranchByIndex(f,Q,m.grapher.getCurrentViewport())},500)):t.alert(this.controller.t("Unable to play audio.")):t.alert(this.controller.t("Branch __branch__ does not exist.",{branch:S+1}))}else t.alert(this.controller.t("No graph selected."))}else if(y&&typeof E=="string"&&E>="1"&&E<="5")r.preventDefault(),r.stopPropagation(),this.adjustPlaybackSpeed(E);else if(r.altKey||r.ctrlKey||r.metaKey||E!=="V")if(x&&E==="A")r.preventDefault(),r.stopPropagation(),this.queueAnimatingPoints(!0),t.alert();else if(x&&E==="S"&&this.controller.isListEnabled())r.preventDefault(),r.stopPropagation(),this.toggleSliderTrace();else if(x&&E==="C"){r.preventDefault(),r.stopPropagation();var q=this.agNavigator.getCurrentSketch();q?t.queue(g.getColorName(this.controller,q.color)):t.queue("unknown"),t.alert()}else x&&this.exitAudioTrace();else r.preventDefault(),r.stopPropagation(),r.shiftKey?this.adjustVolume("down"):this.adjustVolume("up");else r.preventDefault(),r.stopPropagation(),this.agNavigator.nextPOI(),this.reportAudioTrace()},n.prototype.describeGraph=function(){var r=this.agNavigator.getCurrentSketch();if(r){var m=l.getReportedBranch(r,r.branches.length-1);m>1&&t.queue(this.controller.t("Branches: __branches__.",{branches:m}));var y=this.agNavigator.getSortedPOI();if(t.queue(this.controller.t("Points of interest: __poiCount__.",{poiCount:y.length})),y.length>0)for(var v=0;v<y.length;v++)this.queueCoordinates(y[v])}else t.queue(this.controller.t("No graph information available."));t.alert()},n.prototype.queueCoordinates=function(r,m,y){if(y===void 0&&(y=!1),r){var v=this.agNavigator.getCurrentSketch();(r.hasOwnProperty("branch")&&v&&v.branches.length>1&&this.lastSpokenBranch!==r.reportedBranch||m==="branch")&&t.queue(this.controller.t("Branch __branch__.",{branch:r.reportedBranch})),this.lastSpokenBranch=r.reportedBranch?r.reportedBranch:r.branch+1,r.hasOwnProperty("type")&&!m?t.queue(this.controller.t("__type__ at",{type:this.describePOI(r)})):m==="type"&&t.queue(this.describePOI(r)),m&&m!=="x"||t.queue(this.controller.t("X: __x__.",{x:o.value(r.x,this.agNavigator.getXScale()).ariaString})),m&&m!=="y"||t.queue(this.controller.t("Y: __y__.",{y:o.value(r.y,this.agNavigator.getYScale()).ariaString})),y&&t.alert()}},n.prototype.describePOI=function(r){if(r.typeChain){for(var m=[],y=0;y<r.typeChain.length;y++)m.push(this.poiTypeToText(r,y));return m.join(", ")}return this.poiTypeToText(r)},n.prototype.poiTypeToText=function(r,m){switch(m&&r.typeChain?r.typeChain[m]:r.type){case s.INTERSECTION:var y=this.getIntersectingCurves(r);return y!==""?this.controller.t("Intersection with __curves__",{curves:y}):this.controller.t("Intersection");case s.ZERO:return this.controller.t("Zero");case s.INTERCEPT:return this.controller.t("Intercept");case s.EXTREMUM:return this.controller.t("Extremum");case s.EDGE:return this.controller.t("Edge");case s.DEFINITION:return this.controller.t("Point");case s.TRACE:return this.controller.t("Trace");case s.LABEL:return this.controller.t("Label");default:return this.controller.t("Not a P O I")}},n.prototype.getIntersectingCurves=function(r){return r&&r.intersects?this.getExpressionAriaLabel(r.intersects):""},n.prototype.getExpressionAriaLabel=function(r){var m=this.controller.getItemModel(r);return m?m.type==="expression"&&m.label?d.getMathspeakFromText(m.label):this.controller.isItemSecret(m.id)?this.controller.t("Secret expression __index__",{index:m.secretIndex}):m.type==="table"&&this.focusedCell?this.controller.t("Expression __index__ column __column__",{index:m.displayIndex,column:this.focusedCell.location.column+1}):this.controller.t("Expression __index__",{index:m.displayIndex}):""},n.prototype.exitAudioTrace=function(r){if(this.audioTraceActive){if(this.audioTraceActive=!1,r||(r=this.controller.t("Audio trace off.")),this.controller.dispatch({type:"toast/close"}),this.wasFocusInExpressionsView){var m=this.agNavigator.getSelectedItem();m&&this.controller.isItemSelectable(m.id)||(m=this.controller.getFirstFullyVisibleItem()),m&&this.controller.isItemSelectable(m.id)&&this.controller.dispatch({type:"move-focus-to-item",id:m.id,where:m.type==="table"&&this.focusedCell!==void 0?w.__assign({location:"cell"},this.focusedCell.location):"end"})}this.wasFocusInExpressionsView=!1,this.focusedCell=void 0,this.stopAnimations(),this.sliderTraceActive=!1,this.sliderIndex=0,this.tonegen.stop(),this.tonegen.suspend(),this.agNavigator.reset(),this.lastSpokenBranch=1,this.grapher.traceLayer.setTraceInfo(void 0),this.grapher.redrawAllLayers(),t.alert(r),this.resumeAnimations()}},n.prototype.isFocusInExpressionsView=function(){return!!this.controller.getFocusedItem()},n.prototype.enterAudioTrace=function(){var r=this,m=this.agNavigator.getSelectedItem(),y=m&&m.type!=="table"&&!this.agNavigator.canTrace(m)?this.getExpressionAriaLabel(m.id):void 0,v=!1;this.audioTraceActive||(this.wasFocusInExpressionsView=this.isFocusInExpressionsView(),m&&y&&t.queue(this.controller.t("__expression__ cannot be audio traced.",{expression:y})),v=!!y||!this.wasFocusInExpressionsView);var x;if(v)x=this.agNavigator.getFirstTraceableSketch({selectAssociatedExpression:!0});else if(!y){if(m&&m.type==="expression"&&m.formula&&m.formula.error)return this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("No graph to trace.")}});if(m&&m.type==="table"){var E=p.getSelectedCell(m);this.focusedCell&&this.focusedCell.tableId===m.id&&(!E||E.column===this.focusedCell.location.column&&E.row===this.focusedCell.location.row)||(this.focusedCell=E!==void 0?{tableId:m.id,location:E}:void 0)}else this.focusedCell=void 0;x=this.agNavigator.getCurrentSketch()}if(!x)return this.agNavigator.reset(),this.lastSpokenBranch=1,this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("No graph to trace.")}});var b=x.branches[0].graphMode;return b===h.IMPLICIT?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Sorry, but I can't trace implicit curves yet.")}})):b===h.PARAMETRIC?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Sorry, but I can't trace parametric curves yet.")}})):b===h.POLAR?(this.exitAudioTrace(),this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Sorry, but I can't trace polar curves yet.")}})):(this.agNavigator.reset(),this.agNavigator.computeStepSizes(),this.lastSpokenBranch=1,this.grapher.traceLayer.clearOpenedPOI(),this.grapher.redrawAllLayers(),this.audioTraceActive||(this.controller.dispatch({type:"toast/show",toast:{message:this.controller.t("Audio trace on."),noAria:!0,onHide:function(){return r.exitAudioTrace()},hideAfter:0}}),y&&x&&t.queue(this.controller.t("Tracing __expression__.",{expression:this.getExpressionAriaLabel(x.id)})),t.queue(this.controller.t("Audio trace on.")),this.pauseAnimations(),this.queueAnimatingPoints(!1),t.queue(this.controller.t("Use Arrow keys to navigate.")),this.tonegen.resume(),this.tonegen.getPlaybackSupported()&&t.queue(this.controller.t("To hear the graph, press H.")),this.agNavigator.getTraceableExpressionCount()>1&&(e.IS_APPLE?t.queue(this.controller.t("To move between expressions, press COMMAND+Up-Arrow or COMMAND+Down-Arrow.")):t.queue(this.controller.t("To move between expressions, press ALT+Up-Arrow or ALT+Down-Arrow."))),e.IS_APPLE?t.queue(this.controller.t("To disable audio trace, press OPTION+T.")):t.queue(this.controller.t("To disable audio trace, press ALT+T.")),this.wasFocusInExpressionsView&&this.controller.find$(".dcg-graph-outer").one("focusin",function(){setTimeout(function(){t.alert()},0)}).focus()),this.agNavigator.moveToOrigin(),t.queue(this.getExpressionAriaLabel(x.id)),this.reportAudioTrace(),this.wasFocusInExpressionsView||t.alert(),void(this.audioTraceActive=!0))},n.prototype.checkIfSelectedItemChanged=function(r){this.lastSelectedId!==r&&(this.lastSelectedId=r,this.audioTraceActive&&(r?(t.queue(this.getExpressionAriaLabel(r)),this.exitSliderTrace(),this.agNavigator.updatePOI(),this.agNavigator.moveToOrigin(),this.reportAudioTrace(),t.alert()):this.exitAudioTrace()))},n.prototype.pauseAnimations=function(){var r=this;this.sliderArray.length=0,this.controller.getAllModelsWithSliders().forEach(function(m){m.slider.isPlaying&&(r.controller.dispatch({type:"set-slider-isplaying",id:m.id,isPlaying:!1}),r.sliderArray.push(m))})},n.prototype.resumeAnimations=function(){if(this.sliderArray.length!==0){for(var r=0;r<this.sliderArray.length;r++){var m=this.sliderArray[r];m.slider.isPlaying!==!0&&this.controller.dispatch({type:"set-slider-isplaying",id:m.id,isPlaying:!0})}this.sliderArray.length=0}},n.prototype.stopAnimations=function(){var r=this;this.controller.getAllModelsWithSliders().forEach(function(m){m.slider.isPlaying&&r.controller.dispatch({type:"set-slider-isplaying",id:m.id,isPlaying:!1})})},n.prototype.getAnimatingVars=function(){for(var r=[],m=0;m<this.sliderArray.length;m++)r.push('"'+this.sliderArray[m].dependent+'"');return r},n.prototype.hasActiveSliders=function(){for(var r=this.controller.getAllModelsWithSliders(),m=0;m<r.length;m++)if(r[m].slider.isPlaying)return!0;return!1},n.prototype.queueAnimatingPoints=function(r){this.sliderArray.length===1?t.queue(this.controller.t("One animating slider was paused.")):this.sliderArray.length>1?t.queue(this.controller.t("__sliders__ animating sliders were paused.",{sliders:this.sliderArray.length})):r&&t.queue(this.controller.t("No animating sliders were paused."))},n.prototype.queueSliderLatex=function(){this.hasActiveSliders()||this.tonegen.stop();var r=this.getSelectedSlider();r?t.queue(r.latex):t.queue(this.controller.t("Unable to determine slider value"))},n.prototype.getSelectedSlider=function(){var r=this.controller.getAllModelsWithSliders();return this.sliderIndex<=r.length-1?r[this.sliderIndex]:null},n.prototype.incrementSliderValue=function(){this.adjustSlider("up")},n.prototype.decrementSliderValue=function(){this.adjustSlider("down")},n.prototype.incrementBigSliderValue=function(){this.adjustSlider("bigup")},n.prototype.decrementBigSliderValue=function(){this.adjustSlider("bigdown")},n.prototype.nextSlider=function(){this.adjustSlider("next")},n.prototype.prevSlider=function(){this.adjustSlider("prev")},n.prototype.sliderMin=function(){this.adjustSlider("min")},n.prototype.sliderMax=function(){this.adjustSlider("max")},n.prototype.adjustSlider=function(r){var m=this.getSelectedSlider();if(!m)return void t.queue(this.controller.t("Unable to adjust slider"));var y=m.latex,v=this.controller.getAllModelsWithSliders().length;switch(r){case"up":case"down":case"bigup":case"bigdown":case"min":case"max":this.controller.dispatch({type:"adjust-slider-by-keyboard",id:m.id,adjustment:r}),this.queueSliderLatex(),t.alert();break;case"next":return this.sliderIndex++,this.sliderIndex>=v&&(t.queue(this.controller.t("Last slider.")),this.sliderIndex=v-1),this.queueSliderLatex(),void t.alert();case"prev":return this.sliderIndex--,this.sliderIndex<0&&(t.queue(this.controller.t("First slider.")),this.sliderIndex=0),this.queueSliderLatex(),void t.alert()}m.slider.isPlaying||y===m.latex||(this.queueSliderLatex(),t.alert())},n.prototype.toggleAudioTrace=function(){this.audioTraceActive?this.exitAudioTrace():this.enterAudioTrace()},n.prototype.toggleSliderTrace=function(){this.sliderTraceActive?this.exitSliderTrace():this.enterSliderTrace()},n.prototype.enterSliderTrace=function(){this.sliderTraceActive||(this.sliderIndex=0,this.controller.getAllModelsWithSliders().length!==0?(t.queue(this.controller.t("Slider trace on.")),this.queueSliderLatex(),this.sliderTraceActive=!0):(t.queue(this.controller.t("No sliders to trace.")),this.sliderTraceActive=!1),t.alert())},n.prototype.exitSliderTrace=function(){this.sliderTraceActive&&(t.queue(this.controller.t("Slider trace off.")),this.sliderTraceActive=!1,this.sliderIndex=0,t.alert())},n.prototype.recomputePoints=function(){this.audioTraceActive&&(this.tonegen.isAnimating()||(this.agNavigator.updatePOI(),this.agNavigator.updateSampledPoints(),this.agNavigator.updateCurrentPoint(),this.agNavigator.resetTracePoint(),this.agNavigator.computeStepSizes()))},n.prototype.queuePOICount=function(){var r=this.agNavigator.getCurrentSketch(),m=r?r.getPOI().length:0;t.queue(this.controller.t("Points of interest, __x__.",{x:m}))},n.prototype.reportAudioTrace=function(r,m){var y=this.agNavigator.getCurrentPoint();if(y&&(r||(m||this.tonegen.stop(),this.tonegen.playPoint(y,this.grapher.getCurrentViewport())),!m)){this.queueCoordinates(y,r);var v=r?0:100;setTimeout(function(){t.alert()},v)}},n.prototype.adjustPlaybackSpeed=function(r){switch(r){case"1":return this.tonegen.setAudioSpeed(150),t.alert(this.controller.t("Graph playback very slow"));case"2":return this.tonegen.setAudioSpeed(100),t.alert(this.controller.t("Graph playback slow"));case"3":return this.tonegen.setAudioSpeed(50),t.alert(this.controller.t("Graph playback normal"));case"4":return this.tonegen.setAudioSpeed(30),t.alert(this.controller.t("Graph playback fast"));case"5":return this.tonegen.setAudioSpeed(16),t.alert(this.controller.t("Graph playback very fast"));default:return this.tonegen.setAudioSpeed(50),t.alert(this.controller.t("Graph playback normal"))}},n.prototype.adjustVolume=function(r){var m=this.tonegen.getAudioVolume(),y=r==="up"?Math.min(100,Math.round(100*(m+.1))):Math.max(0,Math.round(100*(m-.1)));this.tonegen.setAudioVolume(y/100),t.alert(this.controller.t("Volume __volume__ percent",{volume:y}))},n.prototype.zoom=function(r){this.grapher.viewportController.zoom(r)},n.prototype.getFocusedCell=function(){return this.focusedCell},n.prototype.setFocusedCell=function(r){this.focusedCell=r},n.prototype.getAudioTraceActive=function(){return this.audioTraceActive},n}();u.default=i}),$("graphing/canvas-braille",["require","exports","tslib","./projection","./screen","core/graphing-calc/json/graph-settings","abraham"],function(B,u,w,e,c,t,a){function l(J,ie,de,fe,Ee){var ye=J.dotSpacing,_e=1+ye,Fe=Ee.charCodeAt(0)-H;1&Fe&&ie.fillRect(de,fe,1,1),2&Fe&&ie.fillRect(de,fe+_e,1,1),4&Fe&&ie.fillRect(de,fe+2*_e,1,1),8&Fe&&ie.fillRect(de+_e,fe,1,1),16&Fe&&ie.fillRect(de+_e,fe+_e,1,1),32&Fe&&ie.fillRect(de+_e,fe+2*_e,1,1)}function h(J,ie){for(var de=ie.x,fe=ie.y,Ee=ie.width,ye=ie.height,_e=J.getImageData(de,fe,Ee,ye).data,Fe=3;Fe<_e.length;Fe+=4)if(_e[Fe]!==0)return!1;return!0}function o(J,ie){for(var de=ie.x,fe=ie.y,Ee=ie.width,ye=ie.height,_e=J.getImageData(de,fe,Ee,ye).data,Fe=3;Fe<_e.length;Fe+=4)if(_e[Fe]===0)return!1;return!0}function s(J,ie,de,fe,Ee){return h(ie,i(J,de,fe,Ee))}function p(J,ie,de,fe,Ee){for(var ye=J.dotSpacing,_e=3+2*ye,Fe=0;Fe<Ee.length;Fe++)l(J,ie,de+_e*Fe,fe,Ee[Fe])}function g(J,ie){var de=J.dotSpacing;return(2+de)*ie.length+(1+de)*(ie.length-1)}function d(J,ie){return 3+2*J.dotSpacing}function i(J,ie,de,fe){var Ee=J.cellPadding;return{x:ie-Ee,y:de-Ee,width:g(J,fe)+2*Ee,height:d(J)+2*Ee}}function n(J,ie){if(!J)return ie;var de=Math.min(J.x,ie.x),fe=Math.min(J.y,ie.y);return{x:de,y:fe,width:Math.max(J.x+J.width,ie.x+ie.width)-de,height:Math.max(J.y+J.height,ie.y+ie.height)-fe}}function r(J,ie,de){return Math.min(Math.max(J,ie),de)}function m(J,ie,de,fe,Ee){return{x:r(de,0,ie.canvas.width-g(J,Ee)),y:r(fe,0,ie.canvas.height-d(J))}}function y(J,ie,de,fe,Ee){var ye=ie.fillStyle;ie.fillStyle="white";var _e=i(J,de,fe,Ee);ie.fillRect(_e.x,_e.y,_e.width,_e.height),ie.fillStyle="black",p(J,ie,de,fe,Ee),ie.fillStyle=ye}function v(J,ie,de,fe){var Ee=J.cellPadding;return{x:Math.round(ie-(g(J,fe)+Ee)),y:de}}function x(J){return J.replace(/\u283C(?!$)/g,"")}function E(J,ie){var de=ie==="nemeth"?a.latexToNemeth(J):a.latexToUeb(J);return de.isError?"":x(de.value)}function b(J,ie){return ie>=0?J*Math.pow(10,ie):J/Math.pow(10,-ie)}function f(J,ie,de,fe){var Ee=de[0],ye=de[1],_e=Math.ceil(Math.log(ye-Ee)/Math.LN10)-1,Fe=_e,se=5;e:for(var I=_e;_e-I<4;I--)for(var ne=0,pe=[5,2,1];ne<pe.length;ne++){var ge=pe[ne],Be=b(ge,I),Re=Math.floor(Ee/Be)+1,ve=Math.ceil(ye/Be)-1,ke=Math.abs(fe(Be)-fe(0)),T=E(String(b(Re*ge,I)),ie),Ie=E(String(b(ve*ge,I)),ie);if(ke<g(J,T)+g(J," ")||ke<g(J,Ie)+g(J," ")||ve-Re>=15)break e;Fe=I,se=ge}return{int:se,exp:Fe}}function S(J,ie,de){return f(J,ie,[de.viewport.xmin,de.viewport.xmax],function(fe){return de.mapx(fe)})}function j(J,ie,de){return de.viewport.isSquare(de.screen)?S(J,ie,de):f(J,ie,[de.viewport.ymin,de.viewport.ymax],function(fe){return de.mapy(fe)})}function Q(J,ie){for(var de=J.int,fe=J.exp,Ee=ie[0],ye=ie[1],_e=Math.ceil(Ee/b(de,fe)),Fe=Math.floor(ye/b(de,fe)),se=[],I=_e;I<=Fe;I++)se.push(b(I*de,fe));return se}function G(J,ie,de){return{x:Q(S(J,ie,de),[de.viewport.xmin,de.viewport.xmax]),y:Q(j(J,ie,de),[de.viewport.ymin,de.viewport.ymax])}}function q(J,ie,de,fe,Ee){var ye,_e,Fe,se,I,ne,pe,ge;if(de.margins!==void 0&&ie!==void 0){var Be=L(fe),Re=de.margins,ve=w.__assign({},ie.settings),ke=ve.showGrid&&M(fe),T=!!ve.showXAxis,Ie=!!ve.showYAxis,Ke=!!ve.xAxisNumbers,Ye=ve.xAxisArrowMode,bt=!!ve.yAxisNumbers,le=ve.yAxisArrowMode,Te=Be.graphLineWidth,Ce={showGrid:!1,xAxisNumbers:!1,xAxisArrowMode:t.AxisArrowModes.NONE,yAxisNumbers:!1,yAxisArrowMode:t.AxisArrowModes.NONE,showXAxis:!1,showYAxis:!1,graphLineWidth:Te,pointLineWidth:2.5,curveOpacity:1,globalCurveColor:"#000",disableFill:!0};for(var xe in Ce)ie.settings[xe]=Ce[xe];var Qe=J.width-Re.right-Re.left,je=J.height-Re.top-Re.bottom,be=new c.Screen(Qe,je),Me=ie.getProjection().viewport;ie.settings.squareAxes&&(Me=Me.squareCrop(be));var De=new e.Projection(be,Me,ie.settings),Pe=J.getContext("2d"),He=document.createElement("canvas");He.width=Qe,He.height=je;var Ze=He.getContext("2d"),rt=document.createElement("canvas");rt.width=Qe,rt.height=je;var Ct=rt.getContext("2d"),nt=document.createElement("canvas");nt.width=Qe,nt.height=je;var at=nt.getContext("2d"),Mt=document.createElement("canvas");Mt.width=Qe,Mt.height=je;var ht=Mt.getContext("2d"),Qt=document.createElement("canvas");Qt.width=Qe,Qt.height=je;var dt=Qt.getContext("2d");if(Pe!==null&&ht!==null&&Ze!==null&&at!==null&&dt!==null&&Ct!==null){ie.settings.disableFill=!0,ie.screenshotToCanvas(Mt,{width:Qe,height:je,targetPixelRatio:1,transparentBackground:!0}),ie.settings.disableFill=!1,ie.screenshotToCanvas(He,{width:Qe,height:je,targetPixelRatio:1,transparentBackground:!0}),Pe.fillStyle="white",Pe.fillRect(0,0,J.width,J.height);var Pt=Math.round(De.mapx(0)),Dt=Math.round(De.mapy(0)),Wt=ve.xAxisLabel!==""?ve.xAxisLabel.replace(/ /g,"\\ "):"x",nn=ve.yAxisLabel!==""?ve.yAxisLabel.replace(/ /g,"\\ "):"y";if(T&&De.coordsAreOnscreen(Qe-6,Dt-8,0)){var zt=w.__assign(w.__assign({},Be),{cellPadding:Be.cellPadding+1}),Nt=2+2*d(zt),U=Qe-2,Z=Dt-Nt,k=E(Wt,Ee);ye=v(zt,U,Z,k),U=ye.x,Z=ye.y,_e=m(zt,Ze,U,Z,k),U=_e.x,Z=_e.y,y(zt,dt,U,Z,k)}if(Ie&&De.coordsAreOnscreen(Pt+4,1,0)){var zt=w.__assign(w.__assign({},Be),{cellPadding:Be.cellPadding+1}),U=Pt+4,Z=1,k=E(nn,Ee);Fe=m(zt,Ze,U,Z,k),U=Fe.x,Z=Fe.y,y(zt,dt,U,Z,k)}var P=G(Be,Ee,De),K=P.x,ue=P.y;if(T){for(var z=void 0,me=0,we=K;me<we.length;me++){var qe=we[me];if(qe!==0||!Ie){var Ge=Math.round(De.mapx(qe));if(!(Ge<2||Ge>De.screen.width-2)&&Ke){var $e=g(Be,E("-1",Ee))-g(Be,E("1",Ee)),it=qe<0?$e+1:1,U=Ge-it,Z=Dt+4,k=E(""+qe,Ee);se=m(Be,dt,U,Z,k),U=se.x,Z=se.y,s(Be,ht,U,Z,k)&&(y(Be,dt,U,Z,k),z=n(z,i(Be,U,Z,k)))}}}if(Be.embossPatternInequalities&&z){var ot={x:0,y:Dt,width:Qe,height:0};z=n(z,ot),at.fillStyle="white",at.fillRect(z.x,z.y,z.width,z.height)}}if(Ie){for(var z=void 0,ct=0,St=ue;ct<St.length;ct++){var Bt=St[ct];if(Bt!==0||!T){var qt=Math.round(De.mapy(Bt));if(!(qt<2||qt>De.screen.height-2)){var Nt=-Math.ceil(d(Be)/2);if(bt){var U=Pt-4,Z=qt+Nt,k=E(""+Bt,Ee);I=v(Be,U,Z,k),U=I.x,Z=I.y,ne=m(Be,dt,U,Z,k),U=ne.x,Z=ne.y,s(Be,ht,U,Z,k)&&(y(Be,dt,U,Z,k),z=n(z,i(Be,U,Z,k)))}}}}if(Be.embossPatternInequalities&&z){var ot={x:Pt,y:0,width:0,height:je};z=n(z,ot),at.fillStyle="white",at.fillRect(z.x,z.y,z.width,z.height)}}if(T&&Ie){var U=Pt-2,Z=Dt+2,k=E(Ke||bt?"0":"o",Ee);pe=v(Be,U,Z,k),U=pe.x,Z=pe.y,De.coordsAreOnscreen(U,Z,0)&&(ge=m(Be,dt,U,Z,k),U=ge.x,Z=ge.y,s(Be,ht,U,Z,k)&&y(Be,dt,U,Z,k))}for(var Lt=0,Ut=K;Lt<Ut.length;Lt++){var qe=Ut[Lt],Ge=Math.round(De.mapx(qe));Ge<2||Ge>De.screen.width-2||Ie&&qe===0||ke&&W(at,"white",Ge-1,0,je,3)}for(var It=0,At=ue;It<At.length;It++){var Bt=At[It],qt=Math.round(De.mapy(Bt));qt<2||qt>De.screen.height-2||T&&Bt===0||ke&&N(at,"white",qt-1,0,Qe,3)}T&&N(at,"white",Dt-3,0,Qe,7),Ie&&W(at,"white",Pt-3,0,je,7);for(var Kt=0,Xt=K;Kt<Xt.length;Kt++){var qe=Xt[Kt],Ge=Math.round(De.mapx(qe));Ge<2||Ge>De.screen.width-2||Ie&&qe===0||(ke?W(at,V(fe),Ge,0,je):T&&W(at,V(fe),Ge,Dt-3,Dt+2))}for(var pn=0,mt=ue;pn<mt.length;pn++){var Bt=mt[pn],qt=Math.round(De.mapy(Bt));qt<2||qt>De.screen.height-2||T&&Bt===0||(ke?N(at,V(fe),qt,0,Qe):Ie&&N(at,V(fe),qt,Pt-3,Pt+2))}if(T&&N(at,D(fe),Dt,0,Qe),Ie&&W(at,D(fe),Pt,0,je),le!==t.AxisArrowModes.NONE&&(ee(at,D(fe),Pt,0),le===t.AxisArrowModes.BOTH&&O(at,D(fe),Pt,je-1)),Ye!==t.AxisArrowModes.NONE&&(re(at,D(fe),Qe-1,Dt),Ye===t.AxisArrowModes.BOTH&&Y(at,D(fe),0,Dt)),Be.embossPatternInequalities)for(var U=0;U<Qe;U+=6)for(var Z=0;Z<je;Z+=6){var Zt={x:U,y:Z,width:3,height:3};o(Ze,Zt)&&h(at,Zt)&&h(ht,Zt)&&h(dt,Zt)&&oe(Ct,"black",U,Z)}Be.embossPatternInequalities||Pe.drawImage(He,Re.left,Re.top),Pe.drawImage(nt,Re.left,Re.top),Pe.drawImage(Mt,Re.left,Re.top),Pe.drawImage(Qt,Re.left,Re.top),Be.embossPatternInequalities&&Pe.drawImage(rt,Re.left,Re.top)}for(var xe in Ce)ie.settings[xe]=ve[xe]}}function L(J){if(J==="etc8"||J==="etc11")return{dotSpacing:0,cellPadding:1,graphLineWidth:1.75,embossPatternInequalities:!0};if(J==="vpmax8"||J==="vpmax11")return{dotSpacing:1,cellPadding:2,graphLineWidth:1,embossPatternInequalities:!1};var ie=J;throw new Error("Unexpected embosser model "+ie)}function M(J){if(J==="etc8"||J==="etc11")return!1;if(J==="vpmax8"||J==="vpmax11")return!0;var ie=J;throw new Error("Unexpected embosser model "+ie)}function D(J){switch(J){case"vpmax8":case"vpmax11":return"rgb(145, 145, 145)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:var ie=J;throw new Error("Unexpected embosser model: "+ie)}}function V(J){switch(J){case"vpmax8":case"vpmax11":return"rgb(219, 219, 219)";case"etc8":case"etc11":return"rgb(0, 0, 0)";default:var ie=J;throw new Error("Unexpected embosser model: "+ie)}}function W(J,ie,de,fe,Ee,ye){ye===void 0&&(ye=1);var _e=J.fillStyle;J.fillStyle=ie,J.fillRect(de-1,fe,ye,Ee-fe),J.fillStyle=_e}function N(J,ie,de,fe,Ee,ye){ye===void 0&&(ye=1);var _e=J.fillStyle;J.fillStyle=ie,J.fillRect(fe,de-1,Ee-fe,ye),J.fillStyle=_e}function re(J,ie,de,fe){var Ee=J.fillStyle;J.fillStyle=ie;for(var ye=-2;ye<=2;ye++)J.fillRect(de-Math.abs(ye),fe-1+ye,1,1);J.fillStyle=Ee}function Y(J,ie,de,fe){var Ee=J.fillStyle;J.fillStyle=ie;for(var ye=-2;ye<=2;ye++)J.fillRect(de+Math.abs(ye),fe-1+ye,1,1);J.fillStyle=Ee}function O(J,ie,de,fe){var Ee=J.fillStyle;J.fillStyle=ie;for(var ye=-2;ye<=2;ye++)J.fillRect(de-1+ye,fe-Math.abs(ye),1,1);J.fillStyle=Ee}function ee(J,ie,de,fe){var Ee=J.fillStyle;J.fillStyle=ie;for(var ye=-2;ye<=2;ye++)J.fillRect(de-1+ye,fe+Math.abs(ye),1,1);J.fillStyle=Ee}function oe(J,ie,de,fe){var Ee=J.fillStyle;J.fillStyle=ie,J.fillRect(de+1,fe,1,1),J.fillRect(de,fe+1,1,1),J.fillRect(de+1,fe+1,1,1),J.fillRect(de+2,fe+1,1,1),J.fillRect(de+1,fe+2,1,1),J.fillStyle=Ee}Object.defineProperty(u,"__esModule",{value:!0});var H=10240;u.createBrailleImage=q}),$("graphing/braille-size-options",["require","exports"],function(B,u){Object.defineProperty(u,"__esModule",{value:!0}),u.brailleSizes={},u.brailleSizes.vpmax8={width:170,height:220,margins:{left:5,top:15,right:5,bottom:50},name:function(w){return w.t("VP Max (8.5 x 11 in)")}},u.brailleSizes.vpmax11={width:230,height:220,margins:{left:15,top:15,right:5,bottom:5},name:function(w){return w.t("VP Max (11.5 x 11 in)")}},u.brailleSizes.etc8={width:96,height:96,margins:{left:5,top:15,right:0,bottom:0},name:function(w){return w.t("ETC Romeo/Juliet (8.5 x 11 in)")}},u.brailleSizes.etc11={width:132,height:134,margins:{left:10,top:15,right:5,bottom:5},name:function(w){return w.t("ETC Romeo/Juliet (11.5 x 11 in)")}}}),$("graphing/movablepointslayer",["require","exports","tslib","dcgview","browser","core/lib/label","core/graphing-calc/json/expression","lib/aria","./constants","jquery"],function(B,u,w,e,c,t,a,l,h,o){function s(d,i,n){return"X: "+t.value(d,n.xmax-n.xmin).ariaString+". Y: "+t.value(i,n.ymax-n.ymin).ariaString}Object.defineProperty(u,"__esModule",{value:!0});var p=e.Components.For,g=function(d){function i(){return d!==null&&d.apply(this,arguments)||this}return w.__extends(i,d),i.prototype.init=function(){this.grapher=this.props.grapher(),this.renderedPointsIdOrder=[],this.renderedPoints={}},i.prototype.template=function(){var n=this;return e.createElement(p,{each:function(){return n.renderedPointsIdOrder}},e.createElement("div",{class:e.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:function(){return n.requestRedrawNextFrame()},onFocusout:function(){return n.requestRedrawNextFrame()},didMount:this.didMountRoot.bind(this)},function(r){return e.createElement("div",{class:n.const({"dcg-tabbable-point":!0,"dcg-movable-point":n.renderedPoints[r].type==="movable"}),style:function(){return{transform:n.getTransform(r)}},role:e.const("button"),"aria-roledescription":function(){return n.renderedPoints[r].type==="movable"?"movable point":"point"},"dcg-mp-id":n.const(r),tabindex:function(){return n.getTabIndex(r)},"aria-label":function(){return n.getAriaLabel(r)},"aria-hidden":n.bindFn(n.getAriaHidden)})}))},i.prototype.redraw=function(n,r,m){var y=this,v=this.grapher.graphSketches,x=this.renderedPoints;this.renderedPoints={},this.renderedPointsIdOrder=[];var E,b=this.getFocusedPointId(),f=function(V){var W=y.processPOI(n,r,V,x[V.id],m,b);W&&(y.renderedPoints[V.id]=W,y.renderedPointsIdOrder.push(V.id))};for(E in v){var S=v[E];S.visible&&(S.getMovablePoints().forEach(f),S.getStaticLabeledPoints().forEach(f))}var j=this.renderedPoints[this.hoveredPointId],Q=this.renderedPoints[this.pressedPointId],G=j&&j.poi,q=Q&&Q.poi;G||this.setHoveredPointId(void 0),q||this.setPressedPointId(void 0);var L,M,D=q||G;D?(L=D.type==="movable-point"&&D.tableInfo&&D.tableInfo.dragX,M=D.type==="movable-point"&&D.tableInfo&&D.tableInfo.dragY,L&&M||!L&&!M?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point"):L?this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ew"):this.grapher.setLayerClass("movablePoints","dcg-mouse-over-movable-point-ns")):this.grapher.setLayerClass("movablePoints",void 0),this.update(),this.speakAriaAlert()},i.prototype.drawForScreenshot=function(n,r,m,y){var v=this,x=this.grapher.graphSketches;for(var E in x){var b=x[E];b.visible&&b.getMovablePoints().forEach(function(f){var S={screenX:r.mapx(f.x),screenY:r.mapy(f.y),color:f.color,animationPercent:0};v.drawMovablePointOnCtx(n,S,m,y)})}},i.prototype.processPOI=function(n,r,m,y,v,x){var E=m.id,b=m.x,f=m.y,S=r.mapx(b),j=r.mapy(f),Q=x===E,G=r.coordsAreOnscreen(S,j,h.OFFSCREEN_RENDER_MARGIN);if(G||Q)return y||(y=m.type==="movable-point"?{type:"movable",id:E,pointOnScreen:G,poi:m,projection:r,screenX,screenY,color:m.color,pointIsHovered:!1,pointIsPressed:!1,lastHoverActionTime:0,animationPercent:0}:{type:"static",id:E,pointOnScreen:G,poi:m,projection:r,screenX,screenY}),y.pointOnScreen=G,y.poi=m,y.projection=r,y.screenX=S,y.screenY=j,y.type==="movable"&&(y.color=y.poi.color),y.type==="movable"&&(this.updateMovablePointAnimation(y),this.drawMovablePointOnCtx(n,y,v)),y},i.prototype.drawMovablePointOnCtx=function(n,r,m,y){var v;v=y||(this.grapher.settings.config.projectorMode?13.5:10.5);var x=r.color,E=r.screenX,b=r.screenY,f=r.animationPercent||0;m.push({left:E-v,right:E+v,top:b-v,bottom:b+v}),n.save(),n.fillStyle=x,n.globalAlpha=.35,n.beginPath(),n.moveTo(E+v,b),n.arc(E,b,v,0,2*Math.PI,!0),n.closePath(),n.fill(),n.globalAlpha=1,v*=.3+.7*f,n.beginPath(),n.moveTo(E+v,b),n.arc(E,b,v,0,2*Math.PI,!0),n.closePath(),n.fill(),n.restore()},i.prototype.updateMovablePointAnimation=function(n){var r=Date.now(),m=n.id,y=this.hoveredPointId===m,v=this.pressedPointId===m;n.pointIsPressed=v,y!==n.pointIsHovered&&(n.pointIsHovered=y,n.lastHoverActionTime=r);var x=n.animationPercent||0,E=r-n.lastHoverActionTime,b=.004*E;v?x=1:y?(x+=b,x>=1?x=1:this.requestRedrawNextFrame()):(x-=b,x<=0?x=0:this.requestRedrawNextFrame()),n.animationPercent=x},i.prototype.getTransform=function(n){var r=this.renderedPoints[n];if(r)return c.translateRule(r.screenX,r.screenY)},i.prototype.getTabIndex=function(n){var r=this.renderedPoints[n];if(!r)return-1;var m=r.poi,y=this.grapher.controller.getItemEditableLabelMode(m.sketch.id),v=r.type==="movable"||y===void 0||y===a.EditableLabelMode.None,x=this.grapher.settings,E=x.config.graphpaper&&x.config.enableTabindex;return v&&E?0:-1},i.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},i.prototype.getAriaLabel=function(n){var r=this.getAriaAlert({id:n,includeUsageInstructions:!1});return r&&r.completeMessage},i.prototype.speakAriaAlert=function(){var n=this.getFocusedPointId();if(n){var r=this.renderedPoints[n];if(!r||r.type==="static")return}var m=this.getAriaAlert({id:n,lastAriaAlert:this.lastAriaAlert,includeUsageInstructions:!0});this.lastAriaAlert=m,m&&m.completeMessage&&l.alert(m.completeMessage)},i.prototype.getAriaAlert=function(n){var r=n.id,m=n.lastAriaAlert,y=n.includeUsageInstructions;if(r){var v=this.renderedPoints[r];if(v){m&&m.id!==r&&(m=void 0);var x=v.poi,E=v.pointOnScreen,b=v.projection;if(x&&b){var f=b.viewport;if(f){var S,j=m&&m.label,Q=x.ariaLabel,G=j!==Q,q=m&&m.coordX,L=m&&m.coordY,M=x.x,D=x.y,V=M!==q||D!==L,W=s(M,D,f)+".",N=this.grapher.controller.t,re=Q||N("Graph point"),Y=x.type==="movable-point"&&y?N(" is movable. Press Arrows or Shift+Arrows to adjust."):"",O=E?"":N(" not visible on screen");return S=m?G?re+O:V?W+O:"":re+". "+W+Y+O,{id:r,coordX:M,coordY:D,label:Q,completeMessage:S}}}}}},i.prototype.setHoveredPointId=function(n){n!==this.hoveredPointId&&(this.hoveredPointId=n,this.requestRedrawNextFrame())},i.prototype.isMovingPoint=function(){return!!this.pressedPointId},i.prototype.setPressedPointId=function(n){n!==this.pressedPointId&&(this.pressedPointId=n,this.requestRedrawNextFrame())},i.prototype.getFocusedPointId=function(){if(document.activeElement&&o.contains(this.rootNode,document.activeElement))return o(document.activeElement).attr("dcg-mp-id")},i.prototype.getFocusedPoint=function(){var n=this.getFocusedPointId();if(n){var r=this.renderedPoints[n];if(r)return r.poi}},i.prototype.didMountRoot=function(n){this.rootNode=n},i.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},i}(e.Class);u.default=g,u.getCoordsString=s}),$("graphing/integral-image",["require","exports"],function(B,u){function w(c,t,a){return Math.max(t,Math.min(a,c))}Object.defineProperty(u,"__esModule",{value:!0});var e=function(){function c(t){var a=t.data,l=t.width,h=t.height;this.imageData=t;for(var o=1;o<l;o++)a[o]+=a[o-1];for(var s=1;s<h;s++)a[s*l]+=a[s*l-l];for(var p=l*h-l-h+1,g=l-1,d=0;d<p;d++){var o=1+d%g,s=1+Math.floor(d/g),i=s*l,n=o-1+i,r=o+i-l,m=o-1+i-l;a[i+o]+=a[n]+a[r]-a[m]}}return c.prototype.getSumForValidRect=function(t){var a=t.left-1,l=t.right-1,h=t.top-1,o=t.bottom-1,s=this.imageData.width,p=this.imageData.data,g=p[a+h*s],d=p[l+h*s],i=p[a+o*s],n=p[l+o*s];return a>=0&&h>=0?n-d-i+g:a>=0?n-i:h>=0?n-d:n},c.prototype.getSum=function(t){var a={left:w(Math.floor(t.left),0,this.imageData.width),right:w(Math.ceil(t.right),0,this.imageData.width),top:w(Math.floor(t.top),0,this.imageData.height),bottom:w(Math.ceil(t.bottom),0,this.imageData.height)};return a.left>=a.right||a.top>=a.bottom?0:this.getSumForValidRect(a)},c}();u.default=e}),$("graphing/automatic-label-placer",["require","exports","graphing/integral-image","underscore"],function(B,u,w,e){function c(E,b){if(!(b.width*b.height>0))return new w.default({width:0,height:0,data:[]});v.width=0,v.width=Math.round(b.width*y),v.height=Math.round(b.height*y);var f=v.getContext("2d");f.save(),f.scale(v.width/E.canvas.width,v.height/E.canvas.height),f.drawImage(E.canvas,0,0),f.restore();var S=f.getImageData(0,0,v.width,v.height),j=S.data;j.length,x.length,x=new Array(j.length/4);for(var Q=x,G=0;G<Q.length;G++)Q[G]=j[4*G+3];return new w.default({width:S.width,height:S.height,data:Q})}function t(E){for(var b=0;b<E.length;b++){var f=a(b,E);E[b]=[f]}return E.map(function(S){return S[0]})}function a(E,b){var f=1/0,S=-1,j=b[E];if(j.length===1)return j[0];for(var Q=0;Q<j.length;Q++){var G=b[E][Q].staticScore,q=l(E,Q,b),L=G+q;(S===-1||L<f)&&(f=L,S=Q)}return j[S]}function l(E,b,f){for(var S=0,j=f[E][b],Q=0;Q<f.length;Q++)if(Q!==E){for(var G=0,q=f[Q],L=q.length-1;L>=0;L--){var M=q[L],D=Math.max(0,Math.min(j.right,M.right)-Math.max(j.left,M.left)),V=Math.max(0,Math.min(j.bottom,M.bottom)-Math.max(j.top,M.top));G+=D*V}S+=G/q.length}return S}function h(E,b){var f=b.getSum({left:E.left*y,right:E.right*y,top:E.top*y,bottom:E.bottom*y});return f/=200,f/=y*y}function o(E,b){var f=0;return b.forEach(function(S){f+=p(E,S)}),f}function s(E,b){var f=p(E,b);return 10*(E.width*E.height-f)}function p(E,b){return Math.max(0,Math.min(E.right,b.right)-Math.max(E.left,b.left))*Math.max(0,Math.min(E.bottom,b.bottom)-Math.max(E.top,b.top))}function g(E,b,f){var S;return function(){return S||(S={domObstructions:f,viewport:{left:0,right:b.width,top:0,bottom:b.height},integralImage:c(E,b)}),S}}function d(E,b){if(!(b.length<=1))for(var f=E(),S=0,j=b;S<j.length;S++){var Q=j[S];Q.staticScore+=s(Q,f.viewport),Q.staticScore+=o(Q,f.domObstructions),Q.staticScore+=h(Q,f.integralImage)}}function i(E,b){var f=b.nakedLabel?0:b.pt_radius,S=Math.round(f/Math.sqrt(2)),j=[],Q=b.pt_x,G=b.pt_y,q=b.width,L=b.height;j.push({left:Q-q/2,top:G-L/2,staticScore:-1/0,orientation:"center"}),j.push({left:Q+f+3,top:G-L/2,staticScore:400,orientation:"right"}),j.push({left:Q-(f+q)-3,top:G-L/2,staticScore:400,orientation:"left"}),j.push({left:Q-q/2,top:G-(L+f),staticScore:400,orientation:"above"}),j.push({left:Q-(q+S),top:G-(L+S),staticScore:400,orientation:"tl"}),j.push({left:Q+S,top:G-(L+S),staticScore:400,orientation:"tr"}),j.push({left:Q-q/2,top:G+f,staticScore:400,orientation:"below"}),j.push({left:Q-(q+S),top:G+S,staticScore:400,orientation:"bl"}),j.push({left:Q+S,top:G+S,staticScore:400,orientation:"br"});var M=j.map(function(D){var V=Math.round(D.left),W=Math.round(D.left+q),N=Math.round(D.top),re=Math.round(D.top+L);return{pt_x:Math.round(Q),pt_y:Math.round(G),left:V,right:W,top:N,bottom:re,width:W-V,height:re-N,staticScore:b.priorOrientation===D.orientation?D.staticScore-20:D.staticScore,orientation:D.orientation}});return M=b.enforceOrientation&&b.enforceOrientation!=="default"?e.filter(M,function(D){return D.orientation===b.enforceOrientation}):b.nakedLabel?e.filter(M,function(D){return D.orientation==="center"}):b.keepOrientation&&b.priorOrientation?e.filter(M,function(D){return D.orientation===b.priorOrientation}):e.filter(M,function(D){return D.orientation!=="center"}),d(E,M),M}function n(E,b){for(var f=[],S=b.width,j=b.height,Q=S/2,G=j/2,q=b.pt_x1,L=b.pt_y1,M=b.pt_x2,D=b.pt_y2,V=(D-L)/(M-q),W=Math.atan2(D-L,M-q)+Math.PI/2,N=5*Math.cos(W),re=5*Math.sin(W),Y=Math.min(L,D)-Math.abs(re)-j,O=Math.max(L,D)+Math.abs(re),ee=[.5,.4,.6,.2,.8],oe=[0,20,20,40,40],H=[],J=0,ie=ee;J<ie.length;J++){var de=ie[J];H.push({x:q*(1-de)+M*de,y:L*(1-de)+D*de})}for(var fe=0;fe<H.length;fe++){var Ee,ye,_e,Fe,se=H[fe];if(V>=2||V<=-2){_e=Fe=se.y-G;var I=Math.abs((M-q)/(D-L)*G)+Math.abs(N);Ee=se.x+I,ye=se.x-I-S}else if(V<=.05&&V>=-.05){Ee=ye=se.x-Q;var ne=Math.abs(V*Q)+Math.abs(re);_e=se.y-ne-j,Fe=se.y+ne}else N>0?(Ee=se.x+N,ye=se.x-N-S):(Ee=se.x+N-S,ye=se.x-N),re>0?(_e=se.y+re,Fe=se.y-re-j):(_e=se.y+re-j,Fe=se.y-re);_e<Y?_e=Y:_e>O&&(_e=O),Fe<Y?Fe=Y:Fe>O&&(Fe=O);var pe=(M-q)*(_e-L)-(D-L)*(Ee-q)>0;f.push({pt_x:se.x,pt_y:se.y,left:Ee,top:_e,staticScore:oe[fe],orientation:fe.toString()+(pe?"-a":"-b")}),f.push({pt_x:se.x,pt_y:se.y,left:ye,top:Fe,staticScore:oe[fe],orientation:fe.toString()+(pe?"-b":"-a")})}var ge=f.map(function(Be){var Re=Math.round(Be.left),ve=Math.round(Be.left+S),ke=Math.round(Be.top),T=Math.round(Be.top+j);return{pt_x:Math.round(Be.pt_x),pt_y:Math.round(Be.pt_y),left:Re,right:ve,top:ke,bottom:T,width:ve-Re,height:T-ke,staticScore:b.priorOrientation===Be.orientation?Be.staticScore-20:Be.staticScore,orientation:Be.orientation}});return b.keepOrientation&&b.priorOrientation&&(ge=e.filter(ge,function(Be){return Be.orientation===b.priorOrientation})),d(E,ge),ge}function r(E,b){var f=[],S=b.pt_x,j=b.pt_y,Q=b.width,G=b.height,q=b.startAngle,L=b.endAngle;L<q&&(L+=2*Math.PI);var M=(q+L)/2,D=b.isRightAngle?b.radius*Math.sqrt(2):b.radius+4,V=D+Math.sqrt(b.width*b.width/4+b.height*b.height/4),W=[],N=V*Math.sin(M);N>D+.5*G&&(N=D+.5*G),N<-D-.5*G&&(N=-D-.5*G),W.push({x:S+V*Math.cos(M)-Q/2,y:j+N-G/2});for(var re=0;re<W.length;re++){var Y=W[re];f.push({pt_x:Y.x,pt_y:Y.y,left:Y.x,top:Y.y,staticScore:0,orientation:re.toString()+"-a"})}var O=f.map(function(ee){var oe=Math.round(ee.left),H=Math.round(ee.left+Q),J=Math.round(ee.top),ie=Math.round(ee.top+G);return{pt_x:Math.round(ee.pt_x),pt_y:Math.round(ee.pt_y),left:oe,right:H,top:J,bottom:ie,width:H-oe,height:ie-J,staticScore:b.priorOrientation===ee.orientation?ee.staticScore-20:ee.staticScore,orientation:ee.orientation}});return b.keepOrientation&&b.priorOrientation&&(O=e.filter(O,function(ee){return ee.orientation===b.priorOrientation})),d(E,O),O}function m(E,b){for(var f=[],S=b.width,j=b.height,Q=Math.round(10/Math.sqrt(2)),G=0,q=0,L=0,M=0;M<b.path.length-2;M+=2)L+=1,G+=b.path[M],q+=b.path[M+1];var D=G/L,V=q/L;f.push({left:D-S/2,top:V-j/2,staticScore:0,orientation:"center"}),f.push({left:D+10+3,top:V-j/2,staticScore:50,orientation:"right"}),f.push({left:D-(10+S)-3,top:V-j/2,staticScore:50,orientation:"left"}),f.push({left:D-S/2,top:V-(j+10),staticScore:50,orientation:"top"}),f.push({left:D-(S+Q),top:V-(j+Q),staticScore:50,orientation:"tl"}),f.push({left:D+Q,top:V-(j+Q),staticScore:50,orientation:"tr"}),f.push({left:D-S/2,top:V+10,staticScore:50,orientation:"bottom"}),f.push({left:D-(S+Q),top:V+Q,staticScore:50,orientation:"bl"}),f.push({left:D+Q,top:V+Q,staticScore:50,orientation:"br"});var W=f.map(function(N){var re=Math.round(N.left),Y=Math.round(N.left+S),O=Math.round(N.top),ee=Math.round(N.top+j);return{pt_x:Math.round(D),pt_y:Math.round(V),left:re,right:Y,top:O,bottom:ee,width:Y-re,height:ee-O,staticScore:b.priorOrientation===N.orientation?N.staticScore-20:N.staticScore,orientation:N.orientation}});return b.keepOrientation&&b.priorOrientation&&(W=e.filter(W,function(N){return N.orientation===b.priorOrientation})),d(E,W),W}Object.defineProperty(u,"__esModule",{value:!0});var y=.5,v=document.createElement("canvas"),x=[];u.getIntegralImage=c,u.computePositions=t,u.buildStaticEnvGetter=g,u.generateCandidatesForPoint=i,u.generateCandidatesForSegment=n,u.generateCandidatesForAngle=r,u.generateCandidatesForPolygon=m}),$("graphing/canvas-labels",["require","exports","tslib","core/lib/deepCopy","graphing/svg-classes"],function(B,u,w,e,c){function t(y,v,x){x.verticalLabel?(y.translate(v.left-.5,v.bottom-.5),y.rotate(-Math.PI/2)):y.translate(v.left-.5,v.top-.5)}function a(y,v){var x=document.createRange();x.selectNode(y);var E=x.getBoundingClientRect();if(E.width>0&&E.height>0){var b=window.getComputedStyle(y.parentElement),f=y.nodeValue||"";if(f){var S=parseFloat(b.fontSize),j=-.228*S;return{type:"text",rect:{left:E.left-v.canvasLeft,right:E.right-v.canvasLeft,top:E.top-v.canvasTop,bottom:E.bottom-v.canvasTop},text:f,color:b.color||"#000",font:b.fontStyle+" "+b.fontSize+" "+b.fontFamily,y:(v.verticalLabel?E.width:E.height)+j}}}}function l(y,v,x){y.save(),y.font=v.font,x?(y.strokeStyle="#FFF",y.lineWidth=3,y.miterLimit=2,y.strokeText(v.text,0,v.y)):(y.fillStyle=v.color,y.fillText(v.text,0,v.y)),y.restore()}function h(y,v,x){y.save(),x?(y.strokeStyle="#FFF",y.lineWidth=3):y.fillStyle=v.color,y.beginPath();for(var E=0,b=v.instructions;E<b.length;E++){var f=b[E];switch(f.type){case"moveTo":y.moveTo(f.x,f.y);break;case"lineTo":y.lineTo(f.x,f.y);break;case"ellipse":y.ellipse(f.centerX,f.centerY,f.radiusX,f.radiusY,f.rotation,f.startAngle,f.endAngle,f.anticlockwise)}}y.closePath(),x?y.stroke():y.fill(),y.restore()}function o(y,v,x){var E=y.getBoundingClientRect();if(E.width>0&&E.height>0){var b;b=x.verticalLabel?E.height:E.width;var f=parseFloat(v.borderTopWidth||"1px"),S=v.borderTopColor||"#000",j=[{type:"moveTo",x:0,y:0},{type:"lineTo",x:b,y:0},{type:"lineTo",x:b,y:f},{type:"lineTo",x:0,y:f}];return{type:"path",rect:{left:E.left-x.canvasLeft,right:E.right-x.canvasLeft,top:E.top-x.canvasTop,bottom:E.bottom-x.canvasTop},instructions:j,color:S}}}function s(y,v){var x=Math.sqrt(y[0]*y[0]+y[1]*y[1]),E=Math.sqrt(v[0]*v[0]+v[1]*v[1]),b=y[0]*v[0]+y[1]*v[1],f=Math.acos(b/(x*E));return y[0]*v[1]-y[1]*v[0]<0&&(f*=-1),f}function p(y,v,x,E,b,f,S,j,Q){var G=Math.cos(b),q=Math.sin(b),L=(y-j)/2,M=(v-Q)/2,D=G*L+q*M,V=-q*L+G*M,W=x*x,N=E*E,re=D*D,Y=V*V,O=Math.sqrt((W*N-W*Y-N*re)/(W*Y+N*re));f===S&&(O*=-1);var ee=O*x*V/E,oe=-O*E*D/x,H=(y+j)/2,J=(v+Q)/2,ie=G*ee-q*oe+H,de=q*ee+G*oe+J,fe=[1,0],Ee=[(D-ee)/x,(V-oe)/E],ye=[(-D-ee)/x,(-V-oe)/E];return{centerX:ie,centerY:de,radiusX:x,radiusY:E,startAngle:s(fe,Ee),endAngle:s(fe,ye),rotation:b,anticlockwise:S===0}}function g(y,v){function x(_e){return(_e-j)/L}function E(_e){return(_e-G)/M}var b=y+"-"+v,f=m[b];if(f)return f;f=[],m[b]=f;var S=v.split(" ");if(S.length!==4)return f;var j=parseFloat(S[0]),Q=parseFloat(S[2]),G=parseFloat(S[1]),q=parseFloat(S[3]),L=Q-j,M=q-G,D=new RegExp("(M[0-9-.]+ [0-9-.]+)|(L[0-9-.]+ [0-9-.]+)|(A[0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+ [0-9-.]+)","g"),V=y.match(D);if(!V||!V.length)return f;for(var W=NaN,N=NaN,re=0,Y=V;re<Y.length;re++){var O=Y[re],ee=O.substr(1).split(" ").map(parseFloat);switch(O[0]){case"M":W=x(ee[0]),N=E(ee[1]),f.push({type:"moveTo",x:W,y:N});break;case"L":W=x(ee[0]),N=E(ee[1]),f.push({type:"lineTo",x:W,y:N});break;case"A":var oe=ee[0]/L,H=ee[1]/M,J=ee[2],ie=ee[3],de=ee[4],fe=x(ee[5]),Ee=E(ee[6]),ye=p(W,N,oe,H,J,ie,de,fe,Ee);W=fe,N=Ee,f.push(w.__assign({type:"ellipse"},ye))}}return f}function d(y,v){var x=y.childNodes[0];if(x&&x.nodeName==="path"){var E=y.getBoundingClientRect();if(E.width>0&&E.height>0){var b,f,S=x.getAttribute("d")||"",j=y.getAttribute("viewBox")||"",Q=g(S,j),G=window.getComputedStyle(y);v.verticalLabel?(b=E.height,f=E.width):(b=E.width,f=E.height),Q=e.default(Q);for(var q=0,L=Q;q<L.length;q++){var M=L[q];switch(M.type){case"moveTo":case"lineTo":M.x*=b,M.y*=f;break;case"ellipse":M.centerX*=b,M.centerY*=f,M.radiusX*=b,M.radiusY*=f;break;default:return M}}return{type:"path",rect:{left:E.left-v.canvasLeft,right:E.right-v.canvasLeft,top:E.top-v.canvasTop,bottom:E.bottom-v.canvasTop},color:G.color||"#000",instructions:Q}}}}function i(y,v,x){var E=window.getComputedStyle(y);if(E.borderTopWidth!=="0px"){var b=o(y,E,v);b&&x.push(b)}for(var f=y.childNodes,S=0;S<f.length;S++){var j=f[S];if(j.nodeType===3){var b=a(j,v);b&&x.push(b)}else if(j.nodeName==="svg"){var b=d(j,v);b&&x.push(b)}else j.nodeType===1&&i(j,v,x)}}function n(y,v){var x=[];return i(y,v,x),x}function r(y,v,x){c.save(v,"dcg-svg-label"),v.save(),c.restore(v);for(var E=0,b=y;E<b.length;E++){var f=b[E];switch(v.save(),t(v,f.rect,x),f.type){case"path":h(v,f,!0);break;case"text":l(v,f,!0);break;default:var S=f;return S}v.restore()}for(var j=0,Q=y;j<Q.length;j++){var f=Q[j];switch(v.save(),t(v,f.rect,x),f.type){case"path":h(v,f,!1);break;case"text":l(v,f,!1);break;default:var S=f;return S}v.restore()}v.restore()}Object.defineProperty(u,"__esModule",{value:!0});var m={};u.computeDrawingCommandsForDOMLabel=n,u.drawCommandsToCtx=r}),$("graphing/poilabelslayer",["require","exports","tslib","dcgview","jquery","core/lib/label","core/types/graphmode","core/types/label-sizes","core/math/poi-type","./constants","./poi","./automatic-label-placer","core/lib/color-helpers","core/math/interpolatedlabel","../dcgview-helpers/static-mathquill-view","../dcgview-helpers/mathquill-view","core/graphing-calc/json/expression","graphing-calc/models/expression","graphing/canvas-labels","graphing/movablepointslayer","./svg-groups"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r,m,y,v,x){function E(L,M){return M&&M.visible?M.getPOIById(L):null}function b(L,M){var D,V=M.xmax-M.xmin,W=M.ymax-M.ymin,N=L.getGraphMode();if(L.type===h.TRACE){var re=N===a.X,Y=re?L.y:L.x,O=L.getCompiledFunction();if(D=t.point(Y,V,W,O),re){var ee=D[0];D[0]=D[1],D[1]=ee}}else D=[t.value(L.x,V),t.value(L.y,W)];var oe=!isFinite(D[1].value),H=L.getLabel();if(H)return d.isMathLabel(H)?{is_hole:oe,type:"latex",text:H.substr(1,H.length-2)}:{is_hole:oe,type:"text",text:H};var J=D[0].superscript?D[0].mantissa+"^{"+D[0].superscript+"}":D[0].string,ie=D[1].superscript?D[1].mantissa+"^{"+D[1].superscript+"}":D[1].string;return J==="undefined"&&(J="\\mathrm{undefined}"),ie==="undefined"&&(ie="\\mathrm{undefined}"),{is_hole:oe,type:"latex",text:"\\left("+J+",\\space "+ie+"\\right)"}}function f(L,M,D){var V=L.t("unknown coordinates"),W=M.getProjection();if(!W)return V;var N=W.viewport;return N&&D&&(V=v.getCoordsString(D.x,D.y,N)),V}Object.defineProperty(u,"__esModule",{value:!0});var S=e.Components.Input,j=e.Components,Q=j.For,G=j.Switch,q=function(L){function M(){var D=L!==null&&L.apply(this,arguments)||this;return D.labelsDirty=!1,D}return w.__extends(M,L),M.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.cachedLabelDict={},this.cachedLabelOrder=[],this.hoveredPOI=void 0,this.openedPOI2Sketch={},this.takingScreenshot=!1},M.prototype.template=function(){var D=this;return e.createElement(Q,{each:function(){return D.cachedLabelOrder}},e.createElement("div",{class:e.const("dcg-graph-outer"),style:this.const({"z-index":0}),didMount:this.didMountRoot.bind(this)},function(V){return e.createElement("div",{class:function(){return D.getLabelClasses(V)},style:function(){return D.getLabelStyles(V)}},e.createElement("div",{class:e.const("dcg-pt"),style:function(){return D.getDotStyles(V)}}),e.createElement("div",{class:e.const("dcg-label"),didMount:function(W){return D.linkLabelNode(V,W)}},D.renderLabelContent(V)))}))},M.prototype.renderLabelContent=function(D){var V=this;return e.createElement(G,{key:function(){return V.getLabelContent(D).type}},function(W){return W==="text"?e.createElement("span",null,function(){return V.getLabelContent(D).text}):W==="latex"?e.createElement(i.default,{latex:function(){return V.getLabelContent(D).text}}):W===r.EditableLabelMode.Math?e.createElement("div",{class:function(){return{"dcg-editable-label-border":!0,"dcg-do-not-blur":!0,"dcg-focus":V.shouldEditableLabelBeFocused(D),"dcg-empty-label":V.getEditableLabelText(D).trim().length===0}},style:function(){return{"border-color":g.shadeColor(V.getEditableLabelTextColor(D),.3)}}},e.createElement(n.default,{latex:function(){return V.getEditableLabelText(D)},placeholder:function(){return""},isFocused:function(){return V.shouldEditableLabelBeFocused(D)},capExpressionSize:function(){return!!V.controller.getGraphSettings().config.capExpressionSize},selectOnFocus:e.const(!1),config:V.const({}),getAriaLabel:function(){return V.controller.t("Editable point label at __coordinates__",{coordinates:f(V.controller,V.grapher,V.cachedLabelDict[D])})},getAriaPostLabel:V.const(""),onUserChangedLatex:function(N){return V.onLabelInput(N,D)},onExpressionSizeExceeded:function(){return V.controller.dispatch({type:"expression-size-exceeded"})},onFocusedChanged:function(N){return V.onEditableLabelFocusChange(N,D)},hasError:V.const(!1),noFadeout:V.const(!0),needsSystemKeypad:function(){return!V.controller.isKeypadEnabled()}})):e.createElement("div",{class:function(){return{"dcg-resizing-text-input-container":!0,"dcg-editable-label-border":!0,"dcg-focus":V.shouldEditableLabelBeFocused(D),"dcg-empty-label":V.getEditableLabelText(D).trim().length===0}},style:function(){return{"border-color":g.shadeColor(V.getEditableLabelTextColor(D),.3)}},onScroll:function(N){N.target&&(N.target.scrollLeft=0)}},e.createElement(S,{"aria-label":function(){return V.controller.t("Editable point label at __coordinates__",{coordinates:f(V.controller,V.grapher,V.cachedLabelDict[D])})},onInput:function(N){return V.onLabelInput(N,D)},value:function(){return V.getEditableLabelText(D)},onFocus:function(){return V.onEditableLabelFocusChange(!0,D)},onBlur:function(){return V.onEditableLabelFocusChange(!1,D)}}),e.createElement("span",{class:e.const("dcg-text-input-content")},function(){return V.getEditableLabelText(D)||" "}))})},M.prototype.getSketchIdFromLabelId=function(D){var V=this.cachedLabelDict[D];if(V)return V.sketchId},M.prototype.getEditableLabelTextColor=function(D){var V=this.getSketchIdFromLabelId(D);if(!V)return"#000";var W=this.controller.getItemModel(V);return W&&W.type==="expression"?W.color:"#000"},M.prototype.onEditableLabelFocusChange=function(D,V){var W=this.getSketchIdFromLabelId(V);W&&(D?this.controller.dispatch({type:"set-focus-location",location:{type:"editable-label",id:W}}):this.controller.dispatch({type:"blur-focus-location",location:{type:"editable-label",id:W}}),this.update())},M.prototype.shouldEditableLabelBeFocused=function(D){var V=this.getSketchIdFromLabelId(D),W=this.controller.getFocusLocation();return!(!W||W.type!=="editable-label"||!V||W.id!==V)},M.prototype.onLabelInput=function(D,V){var W=this.getSketchIdFromLabelId(V);if(W&&this.grapher.poiController.getExpressionModel(W)){var N=D;this.controller.getItemEditableLabelMode(W)===r.EditableLabelMode.Math&&N.length>0&&(N="`"+N+"`"),this.controller.dispatch({type:"set-item-label",id:W,label:N})}},M.prototype.getEditableLabelText=function(D){var V=this.getSketchIdFromLabelId(D);if(V){var W=this.grapher.poiController.getExpressionModel(V);return W?this.controller.getItemEditableLabelMode(V)===r.EditableLabelMode.Math?W.label.substr(1,W.label.length-2):W.label:""}},M.prototype.linkLabelNode=function(D,V){var W=this.cachedLabelDict[D];W&&(W.labelDOM=V)},M.prototype.getLabelClasses=function(D){var V=this.cachedLabelDict[D];return V?V.classes:{}},M.prototype.getLabelStyles=function(D){var V=this.cachedLabelDict[D];return V?V.styles:{}},M.prototype.getDotStyles=function(D){var V=this.cachedLabelDict[D];return V?V.dotStyles:{}},M.prototype.getLabelContent=function(D){var V=this.cachedLabelDict[D];if(V){var W=this.getSketchIdFromLabelId(D);if(!W)return{is_hole:!1,type:"text",text:""};var N=this.controller.getItemEditableLabelMode(W);return V.classes["dcg-editable-label"]&&N!==void 0&&N!==r.EditableLabelMode.None?{is_hole:!1,type:N,text:""}:V.content}return{is_hole:!1,type:"text",text:""}},M.prototype.didMountRoot=function(D){this.node=D},M.prototype.computeHoveredLabel=function(D,V){var W;this.hoveredPOI?this.isOpenPOI(this.hoveredPOI)?this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-opened-poi"):(W=this.computeLabel(this.hoveredPOI,D,V,"hovered"),this.grapher.setLayerClass("hoveredPOI","dcg-mouse-over-closed-poi")):this.grapher.setLayerClass("hoveredPOI",void 0);var N=this.getHoveredInteractiveLabel();return N&&!N.bareLabel?this.grapher.setLayerClass("interactiveLabel","dcg-mouse-over-opened-poi"):this.grapher.setLayerClass("interactiveLabel",void 0),W},M.prototype.computeTraceLabel=function(D,V){if(this.traceInfo){var W=this.traceInfo.pt;if(W){var N=new s.POI(W.x,W.y,h.TRACE,this.traceInfo.branchInfo.sketch,this.traceInfo.branchInfo.branch,0);return this.computeLabel(N,D,V,"trace")}}},M.prototype.computeLabel=function(D,V,W,N){var re=D.id+"";N==="trace"&&(re="*trace*");var Y=V.mapx(D.x),O=V.mapy(D.y),ee=Y,oe=O;if(V.coordsAreOnscreen(Y,O,o.OFFSCREEN_RENDER_MARGIN)){if(this.isHiddenInteractiveLabel(D))return;var H=!1,J=void 0,ie=D.sketch,de=ie&&ie.branches[0];de&&(H=!!("nakedLabel"in de&&de.nakedLabel),J="labelOrientation"in de?de.labelOrientation:void 0);var fe=ie.id,Ee=this.controller.getItemModel(fe);if(D.hasEditableLabel()&&Ee&&Ee.type==="expression"&&!m.isSinglePoint(Ee))return;var ye=b(D,V.viewport),_e=D.getLabelSize(),Fe=!!D.getVerticalLabel(),se=!!D.getTextOutline(),I=D.isPersistent(),ne=D.isAttachedToPlottedPoint(),pe=D.hasInteractiveLabel(),ge=D.hasEditableLabel()&&!this.takingScreenshot,Be=ie.color,Re=!I,ve=!!ne;pe&&(ve=!0,Re=!0),N==="trace"&&(ve=!1,Re=!0);var ke=W[re],T=ke&&ke.labelDOM,Ie=ke&&ke.width,Ke=ke&&ke.height,Ye=ke&&ke.orientation,bt={"dcg-poi-label":!0,"dcg-tracept":N==="trace","dcg-opened":N==="opened","dcg-hole":ye.is_hole,"dcg-size-small":_e===l.LabelSize.SMALL,"dcg-size-medium":_e===l.LabelSize.MEDIUM,"dcg-size-large":_e===l.LabelSize.LARGE,"dcg-vertical-label":!!Fe,"dcg-show-border":Re,"dcg-hide-dot":ve,"dcg-editable-label":ge,"dcg-has-outline":se},le={left:Y+"px",top:O+"px"};if(I&&Be){var Te=pe&&!this.isOpenInteractiveLabel(D)?.5:.3;le.color=g.shadeColor(Be,Te)}var Ce={};return N==="trace"&&(Ce["background-color"]=Be,Ce["border-color"]=Be),{id:re,sketchId:fe,x:D.x,y:D.y,screenX:Y,screenY:O,top:oe,left:ee,width:Ie,height:Ke,labelDOM:T,forcedOrientation:J,isNakedLabel:H,isVertical:Fe,orientation:Ye,classes:bt,styles:le,dotStyles:Ce,content:ye}}},M.prototype.computeAllLabels=function(D,V){var W,N,re={},Y=this.grapher.graphSketches;for(W in Y){var O=Y[W];if(O.visible){var ee=O.labels;if(ee.length)for(var oe=0;oe<ee.length;oe++)(N=this.computeLabel(ee[oe],D,V,"opened"))&&(re[N.id]=N)}}var H={};for(W in this.openedPOI2Sketch){var J=E(W,Y[this.openedPOI2Sketch[W]]);J&&(H[W]=J.sketch.id,(N=this.computeLabel(J,D,V,"opened"))&&(re[N.id]=N))}return this.openedPOI2Sketch=H,re},M.prototype.markLabelsDirty=function(){this.labelsDirty=!0},M.prototype.getEditableLabelUnderPoint=function(D){for(var V=0,W=this.cachedLabelOrder.length;V<W;V++){var N=this.cachedLabelOrder[V],re=this.cachedLabelDict[N];if(re&&re.width&&re.height){var Y=re.screenX,O=re.screenY,ee=re.left,oe=re.top,H=re.width,J=re.height;if(H>0&&J>0&&D.x>Y+ee&&D.x<Y+ee+H&&D.y>O+oe&&D.y<O+oe+J){var ie=this.getSketchIdFromLabelId(N);if(ie===void 0)continue;var de=this.controller.getItemModel(ie);if(!de||de.type!=="expression"||!m.hasEditableLabel(de))continue;return de}}}},M.prototype.positionLabels=function(D,V,W,N,re){var Y=!this.labelsDirty;this.labelsDirty=!1;var O=this.grapher.settings.config.projectorMode?14:10,ee=[];V.forEach(function(J){var ie=W[J];if(ie&&ie.labelDOM){var de=ie.screenX,fe=ie.screenY,Ee=ie.labelDOM.getBoundingClientRect(),ye=Ee.width,_e=Ee.height;ye>0&&_e>0&&ee.push({renderedLabel:ie,pt_x:de,pt_y:fe,pt_radius:O,nakedLabel:ie.isNakedLabel,width:ye,height:_e,keepOrientation:Y,priorOrientation:ie.orientation,enforceOrientation:ie.forcedOrientation})}});var oe=p.buildStaticEnvGetter(D,N,re),H=ee.map(function(J){return p.generateCandidatesForPoint(oe,J)});p.computePositions(H).forEach(function(J,ie){var de=ee[ie].renderedLabel;de.orientation=J.orientation;var fe=J.left-J.pt_x,Ee=J.top-J.pt_y;de.left=fe,de.top=Ee,de.width=J.width,de.height=J.height;var ye=de.labelDOM;ye&&(ye.style.left=fe+"px",ye.style.top=Ee+"px",c(ye).data("orientation",J.orientation))})},M.prototype.copyToCtx=function(D){x.save(D,"labels");var V=this.node.getBoundingClientRect();for(var W in this.cachedLabelDict){var N=this.cachedLabelDict[W];if(N){var re=N.labelDOM;if(re){var Y={canvasLeft:V.left,canvasTop:V.top,verticalLabel:N.isVertical},O=y.computeDrawingCommandsForDOMLabel(re,Y);y.drawCommandsToCtx(O,D,Y)}}}x.restore(D)},M.prototype.drawForScreenshot=function(D,V,W,N,re){this.takingScreenshot=!0,this.redraw(D,V,N,re),this.takingScreenshot=!1,this.copyToCtx(W)},M.prototype.redraw=function(D,V,W,N){var re=this.computeAllLabels(D,this.cachedLabelDict),Y=this.computeHoveredLabel(D,this.cachedLabelDict);Y&&(re[Y.id]=Y);var O=this.computeTraceLabel(D,this.cachedLabelDict);O&&(re[O.id]=O),this.cachedLabelDict=re,this.cachedLabelOrder=Object.keys(re),this.update(),this.positionLabels(V,this.cachedLabelOrder,this.cachedLabelDict,W,N)},M.prototype.clearOpenedPOI=function(){this.openedPOI2Sketch={}},M.prototype.closePOI=function(D){delete this.openedPOI2Sketch[D.id]},M.prototype.openPOI=function(D){this.openedPOI2Sketch[D.id]=D.sketch.id},M.prototype.isOpenPOI=function(D){return this.openedPOI2Sketch.hasOwnProperty(D.id)},M.prototype.isOpenInteractiveLabel=function(D){return!!this.isOpenPOI(D)&&D.hasInteractiveLabel()},M.prototype.isHiddenInteractiveLabel=function(D){return!!D&&!!D.hasInteractiveLabel()&&!this.isOpenPOI(D)&&this.getHoveredPOI()!==D},M.prototype.setHoveredPOI=function(D){this.hoveredPOI=D},M.prototype.getHoveredPOI=function(){return this.hoveredPOI},M.prototype.getHoveredInteractiveLabel=function(){var D=this.getHoveredPOI();return D&&D.hasInteractiveLabel()?D:void 0},M.prototype.setTraceInfo=function(D){this.traceInfo=D},M.prototype.isTracing=function(){return!!this.traceInfo},M.prototype.getTraceInfo=function(){return this.traceInfo},M}(e.Class);u.default=q}),$("graphing/clickableobject-layer",["require","exports","tslib","dcgview","jquery","graphing-calc/models/expression","graphing-calc/models/image"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=e.Components.For,h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.init=function(){this.grapher=this.props.grapher(),this.controller=this.grapher.controller,this.renderedTabTargetOrder=[],this.renderedTabTargets={}},s.prototype.template=function(){var p=this;return e.createElement(l,{each:function(){return p.renderedTabTargetOrder}},e.createElement("div",{class:e.const("dcg-graph-outer"),style:this.const({"z-index":0}),onFocusin:this.bindFn(this.handleFocusChange),onFocusout:this.bindFn(this.handleFocusChange),didMount:function(g){return p.rootNode=g}},function(g){return e.createElement("div",{class:e.const("dcg-tabbable-clickableobject"),role:e.const("button"),"aria-roledescription":e.const("clickable object"),"dcg-clickableobject-id":p.const(g),tabindex:function(){return p.getTabIndex()},"aria-hidden":p.bindFn(p.getAriaHidden),"aria-label":function(){return p.getAriaLabel(g)},onTap:function(){p.controller.dispatch({type:"clickable-item-clicked",id:g})}})}))},s.prototype.redraw=function(){this.renderedTabTargets={},this.renderedTabTargetOrder=[];var p,g=this.grapher.graphSketches;for(p in g)if(g[p].visible){var d=this.controller.getItemModel(p);if(d&&d.type==="expression"&&t.isClickableObject(d)){this.renderedTabTargetOrder.push(p);var i=d.clickableInfo.description!==""?d.clickableInfo.description:this.grapher.getAudioTrace().getExpressionAriaLabel(p);this.renderedTabTargets[p]={id:p,description:i}}}var n=this.grapher.graphImages;for(p in n)if(!n[p].hidden&&!this.controller.isItemSecret(p)){var d=this.controller.getItemModel(p);d&&d.type==="image"&&a.isClickableObject(d)&&(this.renderedTabTargetOrder.push(p),this.renderedTabTargets[p]={id:p,description:d.clickableInfo.description})}this.renderedTabTargets[this.hoveredId]||this.setHoveredId(void 0),this.renderedTabTargets[this.pressedId]||this.setPressedId(void 0),this.hoveredId||this.pressedId?this.grapher.setLayerClass("clickableObjects","dcg-mouse-over-clickable-object"):this.grapher.setLayerClass("clickableObjects",void 0),this.update()},s.prototype.getTabIndex=function(){var p=this.grapher.settings;return p.config.graphpaper&&p.config.enableTabindex?0:-1},s.prototype.getAriaHidden=function(){return!this.grapher.settings.config.graphpaper},s.prototype.getAriaLabel=function(p){var g=this.renderedTabTargets[p];return g?g.description:""},s.prototype.shouldDrawHovered=function(p){return p===this.focusedId||!(this.isAnObjectPressed()&&!this.isObjectPressed(p))&&this.isObjectHovered(p)},s.prototype.isObjectHovered=function(p){return p!==void 0&&this.hoveredId===p},s.prototype.setHoveredId=function(p){p!==this.hoveredId&&(this.hoveredId=p,this.requestRedrawNextFrame())},s.prototype.shouldDrawPressed=function(p){return this.isObjectPressed(p)},s.prototype.isObjectPressed=function(p){return p!==void 0&&this.pressedId===p},s.prototype.setPressedId=function(p){p!==this.pressedId&&(this.pressedId=p,this.requestRedrawNextFrame())},s.prototype.getPressedId=function(){return this.pressedId},s.prototype.isAnObjectPressed=function(){return!!this.pressedId},s.prototype.handleFocusChange=function(){var p=void 0;document.activeElement&&c.contains(this.rootNode,document.activeElement)&&(p=c(document.activeElement).attr("dcg-clickableobject-id")),this.focusedId!==p&&(this.focusedId=p,this.requestRedrawNextFrame())},s.prototype.requestRedrawNextFrame=function(){this.grapher.redrawAllLayers()},s}(e.Class);u.default=h}),$("graphing/grapher",["require","exports","main/graph_settings","./canvaslayer","./poidotslayer","./gridlayer","./graphslayer","./imagelayer","./viewportcontroller","./poicontroller","vendor/canvas2svg","dcgview","jquery","underscore","./viewport","./screen","./graphsketch","./projection","underscore_model","./audiograph","./canvas-braille","./braille-size-options","core/lib/deepCopy","lib/animation-frame","core/lib/default-spec","core/graphing-calc/json/graph-settings","graphing/tonegenerator","./movablepointslayer","./poilabelslayer","./clickableobject-layer","./svg-classes","./svg-groups"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r,m,y,v,x,E,b,f,S,j,Q,G,q,L,M,D){function V(){return new n.Screen(1024,768)}function W(){return new i.Viewport(-10,10,-10,10)}Object.defineProperty(u,"__esModule",{value:!0});var N=function(){function re(Y,O,ee,oe){var H=this;this.type="2d",this._layerClasses={},this.$=Y,this.evaluator=oe,this.controller=ee,this.settings=O;var J=V(),ie=W().squareYAxis(J);this.setUserRequestedViewport(ie),this.__projection=new m.Projection(J,ie,O),this.markLabelsDirty=d.debounce(function(){H.evaluator.notifyWhenSynced(function(){H.__isRedrawingSlowly?H.notifyAfterRedraw(function(){H.poiLabelsLayer.markLabelsDirty(),H.redrawAllLayers()}):(H.poiLabelsLayer.markLabelsDirty(),H.redrawAllLayers())})},300),this.poiController=new o(this,O),this.viewportController=h(this,this.controller),this.showPOIDots=!0,this.$.css("overflow","hidden"),this.graphSketches={},this.graphImages={},this.canvasLayer=e(this),this.$.append(this.canvasLayer.$),this.imageLayer=l(),this.gridLayer=t(),this.poiDotsLayer=c(),this.graphsLayer=a(this.settings);var de=g("<div></div>");this.$.append(de);var Ee=this;this.clickableObjectsLayer=p.mountToNode(L.default,de[0],{grapher:function(){return Ee}});var fe=g("<div></div>");this.$.append(fe);var Ee=this;this.movablePointsLayer=p.mountToNode(G.default,fe[0],{grapher:function(){return Ee}});var ye=g("<div></div>");this.$.append(ye),this.poiLabelsLayer=p.mountToNode(q.default,ye[0],{grapher:function(){return Ee}}),this.traceLayer=this.poiLabelsLayer,this.scaleAxis=void 0,this.__sketchOrder=[],this.selectedId=void 0,this.__redrawRequested=!1,this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.events=new y.UnderscoreModel,this.audioGraph=new v.default(ee,this)}return re.prototype.remove=function(){this.$.remove(),this.poiController.remove(),this.viewportController.remove(),this.audioGraph.remove()},re.prototype.tick=function(Y){this.__isRedrawingSlowly?this._redrawSlowly():this.__redrawRequested&&this._redrawAllLayers(),this.__movablePointListener&&this.__movablePointListener()},re.prototype.registerMovablePointListener=function(Y){this.__movablePointListener=Y},re.prototype.deregisterMovablePointListener=function(){this.__movablePointListener=void 0},re.prototype.setSketchOrder=function(Y){d.isEqual(this.__sketchOrder,Y)||(this.__sketchOrder=Y,this.redrawAllLayers())},re.prototype.clear=function(){this.graphSketches={},this.graphImages={}},re.prototype.getGraphSketch=function(Y){return this.graphSketches[Y]},re.prototype.getGraphImage=function(Y){return this.graphImages[Y]},re.prototype.addGraphSketch=function(Y){this.graphSketches[Y.id]=Y},re.prototype.removeGraphSketch=function(Y){delete this.graphSketches[Y]},re.prototype.addGraphImage=function(Y){var O=this;Y.imageObj.width&&Y.imageObj.height?(this.graphImages[Y.id]=Y,this.redrawAllLayers()):g(Y.imageObj).on("load.calc_load",function(){return O.addGraphImage(Y)})},re.prototype.removeGraphImage=function(Y){var O=this.graphImages[Y];O&&g(O.imageObj).off("load.calc_load"),delete this.graphImages[Y],this.redrawAllLayers()},re.prototype.getProjection=function(){return this.__projection},re.prototype._setProjection=function(Y){this.__projection=Y,this.redrawAllLayers()},re.prototype.getAudioTrace=function(){return this.audioGraph},re.prototype.getDefaultViewport=function(){var Y=this.getProjection();return W().squareYAxis(Y.screen)},re.prototype._updateScreenSize=function(Y,O){if(!(Y<=0||O<=0)){var ee=this.getProjection(),oe=ee.screen;if(oe.width!==Y||oe.height!==O){this.$.width(Y);var H=new n.Screen(Y,O);this.viewportController.setScreen(H)}}},re.prototype._setIsVisible=function(Y){Y!==this.isVisible&&(this.isVisible=Y,Y?this.redrawAllLayers():this.canvasLayer.resize(0,0))},re.prototype.update=function(){var Y=this.controller.computeMajorLayout().grapher;Y.width>0&&Y.height>0?(this._setIsVisible(!0),this._updateScreenSize(Y.width,Y.height),this.$.css({position:"absolute",left:Y.left+"px",top:Y.top+"px",width:Y.width+"px",height:Y.height+"px"})):this._setIsVisible(!1)},re.prototype.hide=function(Y){var O=this.getGraphSketch(Y);O&&(O.visible=!1)},re.prototype.select=function(Y){if(this.selectedId){var O=this.getGraphSketch(this.selectedId);O&&(O.selected=!1,O.showPOI=!1,O.showHighlight=!1)}var ee=this.getGraphSketch(Y);ee&&(ee.selected=!0,ee.showPOI=this.controller.isTraceEnabled(),ee.showHighlight=!0),this.selectedId=Y},re.prototype.updateSketch=function(Y,O){var ee=this.getGraphSketch(Y);if(!O.length)return this.hide(Y);var oe=new r.GraphSketch(Y,O);oe.color=O[0].color,oe.style=O[0].style,ee&&oe.updateFrom(ee);var H=String(Y)===String(this.selectedId);oe.selected=H,oe.showPOI=H&&this.controller.isTraceEnabled(),oe.showHighlight=H,this.addGraphSketch(oe)},re.prototype.updateIntersections=function(Y,O){var ee=this.getGraphSketch(Y);ee&&ee.updateIntersections(O)},re.prototype.redrawAllLayers=function(){this.cancelRedrawSlowly(),this.__redrawRequested=!0},re.prototype._clear=function(){var Y=this.getProjection(),O=Y.screen;this.canvasLayer.resize(Y.screen.width,Y.screen.height),this.canvasLayer.ctx.clearRect(0,0,O.width,O.height)},re.prototype._redrawAllLayers=function(){this.isVisible&&(this.__redrawRequested=!1,this._clear(),this.audioGraph.recomputePoints(),this._recomputeClickableObjects(),this._redrawImageLayer(),this._redrawGridLayer(),this._redrawGraphsLayer(),this._redrawPointsAndLabels(),this._updateCanvasLayerAria(),this.events.triggerEvent("redraw",void 0))},re.prototype.cancelRedrawSlowly=function(){this.__isRedrawingSlowly&&(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!1,this.redrawAllLayers())},re.prototype.redrawSlowly=function(){this.__isRedrawingSlowly||(this.__redrawSlowlyIndex=0,this.__isRedrawingSlowly=!0,this.audioGraph.recomputePoints())},re.prototype._redrawSlowly=function(){var Y,O,ee=this.__redrawSlowlyIndex;if(ee===0&&(this._clear(),this._redrawGridLayer()),ee>=this.__sketchOrder.length)return void this.cancelRedrawSlowly();var oe=this.__sketchOrder[ee],H=(Y={},Y[oe]=this.graphSketches[oe],Y),J=(O={},O[oe]=this.graphImages[oe],O);(J[oe]||H[oe])&&this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),H,J,[oe],this.poiLabelsLayer,this.clickableObjectsLayer),this.__redrawSlowlyIndex+=1},re.prototype._redrawGridLayer=function(){this.gridLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.scaleAxis)},re.prototype._recomputeClickableObjects=function(){this.clickableObjectsLayer.redraw()},re.prototype._redrawGraphsLayer=function(){this.graphsLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer)},re.prototype._updateCanvasLayerAria=function(){var Y=0;for(var O in this.graphSketches)Q.canPlaySketch(this.graphSketches[O])&&(Y+=1);this.canvasLayer.updateAria(this.isVisible,Y)},re.prototype._redrawPointsAndLabels=function(){var Y=this.getProjection(),O=[];this.movablePointsLayer.redraw(this.canvasLayer.ctx,Y,O),this.showPOIDots&&this.poiDotsLayer.redrawToCtx(this.canvasLayer.ctx,Y,this.graphSketches,this.poiLabelsLayer,this.clickableObjectsLayer);var ee=this.$[0].getBoundingClientRect();d.each([this.controller.find$(".dcg-overgraph-pillbox-elements")[0],this.controller.find$(".dcg-graphpaper-branding")[0]],function(H){if(H){var J=H.getBoundingClientRect();O.push({left:J.left-ee.left,top:J.top-ee.top,right:J.right-ee.left,bottom:J.bottom-ee.top})}});var oe=this.canvasLayer.ctx.canvas.getBoundingClientRect();this.poiLabelsLayer.redraw(Y,this.canvasLayer.ctx,{width:oe.width,height:oe.height},O)},re.prototype._redrawImageLayer=function(){this.imageLayer.redrawToCtx(this.canvasLayer.ctx,this.getProjection(),this.graphImages,this.__sketchOrder)},re.prototype._parseScreenshotOpts=function(Y){var O,ee,oe,H,J,ie,de=this.getProjection();return Y?(O=Y.width||Y.height||de.screen.width,ee=Y.height||Y.width||de.screen.height,oe=Y.targetPixelRatio||1,H=(O<256||ee<256)&&!Y.preserveAxisNumbers,J=w.fromObject(Y.settings||this.settings),ie=!!Y.transparentBackground):(O=de.screen.width,ee=de.screen.height,oe=1,H=!1,J=w.fromObject(this.settings),ie=!1),H&&(J.setProperty("xAxisNumbers",!1),J.setProperty("yAxisNumbers",!1),J.setProperty("polarNumbers",!1)),{width:O,height:ee,targetPixelRatio:oe,settings:J,transparentBackground:ie}},re.prototype._syncScreenshotReturnCanvas=function(Y){var O=document.createElement("canvas");if(Y&&Y.braille){var ee=Y.braille,oe=ee.embosserModel,H=ee.brailleMode,J=E.brailleSizes[oe];O.width=J.width,O.height=J.height,x.createBrailleImage(O,this,J,oe,H)}else{var ie=this._parseScreenshotOpts(Y);O.width=ie.width*ie.targetPixelRatio,O.height=ie.height*ie.targetPixelRatio,this.screenshotToCanvas(O,Y)}return O},re.prototype.screenshot=function(Y){return this._syncScreenshotReturnCanvas(Y).toDataURL("image/png")},re.prototype.asyncScreenshot=function(Y,O){var ee=this,oe=!1;!Y.transparentBackground&&Y.showLabels&&(Y=b.default(Y),Y.transparentBackground=!0,oe=!0);var H=this._syncScreenshotReturnCanvas(Y),J=H.getContext("2d"),ie=H,de=J;Y&&Y.format==="svg"&&(oe=!1,Y.transparentBackground&&(Y=b.default(Y),Y.transparentBackground=!1),de=new s(H.width,H.height),ie={getContext:function(){return de},width:H.width,height:H.height},this.screenshotToCanvas(ie,Y));var fe=this.makeScreenshotProjection(Y),Ee=[];if(Y.showMovablePoints&&this.movablePointsLayer.drawForScreenshot(de,fe,Ee),Y.showLabels){var ye=g('<div class="dcg-calculator-api-container"><div class="dcg-container"></div></div>').css({width:fe.screen.width,height:fe.screen.height,position:"absolute",left:"0px",top:"0px"}).appendTo("body"),_e=ye.find(".dcg-container"),Fe=p.mountToNode(q.default,_e[0],{grapher:function(){return ee}}),se={width:fe.screen.width,height:fe.screen.height};Fe.drawForScreenshot(fe,J,de,se,Ee),ye.remove()}oe&&(de.globalCompositeOperation="destination-over",de.fillStyle="#FFF",de.fillRect(0,0,ie.width,ie.height)),O(Y&&Y.format==="svg"?de.getSerializedSvg():ie.toDataURL("image/png"))},re.prototype.makeScreenshotProjection=function(Y){var O=this._parseScreenshotOpts(Y),ee=O.width,oe=O.height,H=O.settings,J=new n.Screen(ee,oe),ie=this.getProjection().viewport;return this.getSetting("squareAxes")&&(ie=ie.squareCrop(J)),new m.Projection(J,ie,H)},re.prototype.screenshotToCanvas=function(Y,O){var ee=this._parseScreenshotOpts(O),oe=ee.targetPixelRatio,H=ee.transparentBackground,J=Y.getContext("2d");J.scale(oe,oe);var ie=this.makeScreenshotProjection(O);ie.settings.takingScreenshot=!0,D.save(J,"background"),M.save(J,"dcg-svg-background"),H?J.clearRect(0,0,ie.screen.width,ie.screen.height):(J.fillStyle="white",J.fillRect(0,0,ie.screen.width,ie.screen.height)),M.restore(J),D.restore(J),this.imageLayer.redrawToCtx(J,ie,this.graphImages,this.__sketchOrder),this.gridLayer.redrawToCtx(J,ie),this.graphsLayer.redrawToCtx(J,ie,this.graphSketches,this.graphImages,this.__sketchOrder,this.poiLabelsLayer,this.clickableObjectsLayer)},re.prototype.getImageData=function(Y,O,ee,oe){return this.canvasLayer.ctx.getImageData(Y,O,ee,oe)},re.prototype.getSetting=function(Y,O){var ee=this.settings.getProperty(Y);return ee!==void 0?ee:O},re.prototype.getState=function(Y){var O=this,ee={viewport:this.getCurrentViewport()};return this.settings.stateProperties.forEach(function(oe){oe!=="randomSeed"&&(ee[oe]=O.getSetting(oe))}),Y.stripDefaults&&(ee=S.stripDefaults(j.DefaultGraphSettings,ee)),ee},re.prototype.getUndoRedoState=function(){var Y=this,O={};return this.settings.stateProperties.forEach(function(ee){O[ee]=Y.getSetting(ee)}),O.viewport=this.getUserRequestedViewport(),O},re.prototype.notifyAfterRedraw=function(Y){var O=this;if(this.__isRedrawingSlowly)f.requestAnimationFrame(this.notifyAfterRedraw.bind(this,Y));else if(this.__redrawRequested){this.notifyAfterRedraw_i?this.notifyAfterRedraw_i++:this.notifyAfterRedraw_i=1;var ee="redraw.notifyAfterRedraw"+this.notifyAfterRedraw_i;this.events.observeEvent(ee,function(){O.events.unobserveEvent(ee),Y()})}else Y()},re.prototype.getCurrentViewport=function(){return this.viewportController.getViewport().toObject()},re.prototype.getUserRequestedViewport=function(){return this._lastUserRequestedViewport},re.prototype.setUserRequestedViewport=function(Y){this._lastUserRequestedViewportUpdateToken||(this._lastUserRequestedViewportUpdateToken=0),this._lastUserRequestedViewportUpdateToken+=1,this._lastUserRequestedViewport=b.default(Y)},re.prototype.debounceUserRequestedViewportChange=function(){var Y=this;this.__debouncedViewportCommit||(this.__debouncedViewportCommit=d.debounce(function(ee,oe){if(!Y.isDragging&&Y._lastUserRequestedViewportUpdateToken===oe){if(Y._lastUserRequestedViewport){var H=i.Viewport.fromObject(Y._lastUserRequestedViewport);if(Y.computeConcreteViewport(H).equals(ee))return}Y.controller.dispatch({type:"commit-user-requested-viewport",viewport:ee})}},1e3));var O=this.getCurrentViewport();this.__debouncedViewportCommit(O,this._lastUserRequestedViewportUpdateToken)},re.prototype.setGrapherState=function(Y,O){Y=S.populateDefaults(j.DefaultGraphSettings,Y),O&&O.doNotClear||this.clear();for(var ee in j.DefaultGraphSettings)j.DefaultGraphSettings.hasOwnProperty(ee)&&this.settings.setProperty(ee,Y[ee]);if("viewport"in Y){var oe=i.Viewport.fromObject(Y.viewport);this.setUserRequestedViewport(oe);var H=this.computeConcreteViewport(oe);this.viewportController.setViewport(H)}this.redrawAllLayers()},re.prototype.computeConcreteViewport=function(Y){var O=this.getProjection().screen;return this.getSetting("squareAxes")&&!Y.isSquare(O)?Y.squareYAxis(O):Y},re.prototype.setLayerClass=function(Y,O){var ee=this._layerClasses[Y];this._layerClasses[Y]=O,ee!==O&&(ee&&this.$.removeClass(ee),O&&this.$.addClass(O))},re}();u.Grapher=N}),$("loadcss!tour",function(){}),$("loadcss!calculator_embed",function(){}),$("loadcss!buttons",function(){}),$("loadcss!dcg-normalize",function(){}),$("loadcss!projector_mode",function(){}),$("loadcss!desmos-icons",function(){}),$("loadcss!popovers",function(){}),$("main/calc_embed",["require","exports","main/graph_settings","tours/tour_manager","tslib","lib/i18n","jquery","main/controller","dcgview","main/instancehotkeys","lib/console","underscore","lib/defocus-mobile","graphing-calc/views/main","underscore_model","graphing/viewport","main/evaluator","graphing/grapher","core/lib/color-helpers","loadcss!tour","loadcss!calculator_embed","loadcss!buttons","loadcss!dcg-normalize","loadcss!projector_mode","loadcss!desmos-icons","loadcss!popovers"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r,m,y){Object.defineProperty(u,"__esModule",{value:!0});var v=0,x=function(){function E(b,f,S,j){function Q(){var H=W.computeMajorLayout(),J={left:H.grapher.left,right:H.grapher.left+H.grapher.width,width:H.grapher.width,top:H.grapher.top,bottom:H.grapher.top+H.grapher.height,height:H.grapher.height},ie=Y.getCurrentViewport(),de={top:ie.ymax,bottom:ie.ymin,left:ie.xmin,right:ie.xmax,width:ie.xmax-ie.xmin,height:ie.ymax-ie.ymin};p.isEqual(de,O.mathCoordinates)||O.setProperty("mathCoordinates",de),J.height>0&&J.width>0&&!p.isEqual(J,O.pixelCoordinates)&&O.setProperty("pixelCoordinates",J)}function G(){var H=Y.getProjection();D.setProperty("zoomedDefault",Y.viewportController.isZoomRestored()),D.setProperty("squareAxes",H.viewport.isSquare(H.screen))}function q(H,J){return t.t(H,J,D.config.language)}var L=this;b||(b=document.createElement("div"));var M=document.createElement("div");M.className="dcg-wrapper",M.style.width="100%",M.style.height="100%",b.appendChild(M),this.__id=v++;var D=new w;this.graphSettings=D;for(var V in S)D.config.setProperty(V,S[V]);var W=new l.default(D);this.controller=W,j&&W.dispatch({type:"ui/container-resized",size:j}),this.rootElt=M,this.view=h.mountToNode(d.default,this.rootElt,{controller:h.const(W)});var N=new r.Evaluator(f);this.controller.setEvaluator(N),this.controller.setRootElt(this.rootElt);var re=W.find$(".dcg-grapher"),Y=new m.Grapher(re,D,this.controller,N);this.controller.setGrapher(Y),D.registerCallbacks(Y,N),this.controller.initStateStack(),D.config.redrawSlowly||(Y.redrawSlowly=Y.redrawAllLayers),N.readEvaluatorConfig=function(){return{evaluationMode:"graphing",globalRandomSeed:D.randomSeed,degreeMode:D.degreeMode,viewState:W.getViewState(),intersectId:W.getIntersectId(),restrictedFunctions:D.config.restrictedFunctions,distributions:D.config.distributions,pointsOfInterest:D.config.pointsOfInterest,plotSingleVariableImplicitEquations:D.config.plotSingleVariableImplicitEquations,plotImplicits:D.config.plotImplicits,plotInequalities:D.config.plotInequalities,sliders:D.config.sliders}},N.onEvaluatorResults=function(H){L.controller.dispatch({type:"on-evaluator-changes",changes:H.evaluationStates}),L.controller.dispatch({type:"process-graph-data",graphData:H.graphData}),H.renderSlowly?Y.redrawSlowly():Y.redrawAllLayers()},this.unsubFunc=this.controller.subToChanges(function(){L.controller.doesDOMHaveSize()&&(L.view.update(),Y.update()),Q(),G()});var O=new i.UnderscoreModel;O.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=O,a(this.rootElt).on("keydown.calculator-"+this.__id,function(H){L.grapher&&L.grapher.audioGraph.handleKeydown(H),L.instanceHotkeys.handleKeydown(H)}),a(window).on("dcg-tapstart.calculator-"+this.__id,function(H){var J=a(H.target),ie=!!J.closest(L.rootElt).length,de=H.wasHandled("create-expression-with-keyboard"),fe=!!J.closest(".dcg-api-shared-keypad-root").length,Ee=!!J.hasClass("dcg-shell");if(ie||fe||Ee||de||W.dispatch({type:"set-none-selected"}),H.wasHandled("do-not-clear-poi-labels")||(Y.traceLayer.clearOpenedPOI(),Y.redrawAllLayers()),W.isInEditListMode()){var ye=J.closest(".dcg-exppanel").length===0&&J.closest(".dcg-options-menu").length===0&&J.closest(".dcg-expression-top-bar").length===0&&J.closest(".dcg-keypad").length===0;ie&&!ye||W.dispatch({type:"set-edit-list-mode",isEditListMode:!1,focusExpressionList:!1})}}),this.grapher=Y,this.evaluator=N,this.tourManager=e({evaluator:N}),this.controller.dispatch({type:"set-blank"});var ee=["degreeMode"],oe={};ee.forEach(function(H){S[H]!==void 0&&(oe[H]=S[H])}),D.setGraphSettings(oe),D.config.expressionsCollapsed&&this.setOptions({expressionsCollapsed:!0}),D.config.capExpressionSize&&this.setOptions({capExpressionSize:!0}),D.config.hasOwnProperty("pointsOfInterest")&&this.setOptions({pointsOfInterest:D.config.pointsOfInterest}),D.config.hasOwnProperty("backgroundColor")&&this.setOptions({backgroundColor:D.config.backgroundColor}),D.config.hasOwnProperty("textColor")&&this.setOptions({textColor:D.config.textColor}),D.config.observe("language",function(){var H=L.controller.getState();L.controller.dispatch({type:"set-state",state:H}),L.tourManager&&(L.tourManager.closingMsg=["<b>__endingMessage__</b><br>",q("This message will self-destruct in __seconds__...")].join(""))}),this.instanceHotkeys=new o.default(W)}return E.prototype.setOption=function(b,f){this.controller.getGraphSettings().config.setProperty(b,f)},E.prototype.setOptions=function(b){function f(W){var N=W.notes,re=W.folders,Y=W.images;return N===!1||re===!1||Y===!1}var S,j=this.controller.getGraphSettings().config,Q=c.__assign({},b);b.hasOwnProperty("backgroundColor")&&(y.isValidHexColor(b.backgroundColor)||(s.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete Q.backgroundColor)),b.hasOwnProperty("textColor")&&(y.isValidHexColor(b.textColor)||(s.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete Q.textColor)),b.hasOwnProperty("menus")&&(s.warn("Deprecated option: menus. Setting settingsMenu and expressionsTopbar instead."),b.hasOwnProperty("settingsMenu")||(Q.settingsMenu=!!b.menus),b.hasOwnProperty("expressionsTopbar")||(Q.expressionsTopbar=!!b.menus)),b.hasOwnProperty("solutions")&&(s.warn("Deprecated option: solutions. Setting pointsOfInterest instead."),b.hasOwnProperty("pointsOfInterest")||(Q.pointsOfInterest=!!b.solutions)),b.hasOwnProperty("singleVariableSolutions")&&s.warn("Deprecated option: singleVariableSolutions has been removed."),b.graphpaper===!1&&(b.expressionsCollapsed&&(Q.expressionsCollapsed=!1,s.warn("Cannot set graphpaper: false with expressionsCollapsed: true. Proceeding with expressionsCollapsed: false.")),j.expressionsCollapsed&&(Q.expressionsCollapsed=!1,s.warn("Disabling the graphpaper with the expressions list collapsed is not supported.Setting expressionsCollapsed: false.")),b.zoomButtons&&(Q.zoomButtons=!1,s.warn("Cannot set graphpaper: false with zoomButtons: true. Proceeding with zoomButtons: false.")),b.showResetButtonOnGraphpaper&&(Q.showResetButtonOnGraphpaper=!1,s.warn("Cannot set graphpaper: false with showResetButtonOnGraphpaper: true. Proceeding with showResetButtonOnGraphpaper: false.")),j.zoomButtons&&(Q.zoomButtons=!1,s.warn("Disabling the graphpaper with the zoomButtons visible is not supported. Setting zoomButtons: false.")),j.showResetButtonOnGraphpaper&&(Q.showResetButtonOnGraphpaper=!1,s.warn("Disabling the graphpaper with the reset button visible is not supported. Setting showResetButtonOnGraphpaper: false."))),j.graphpaper===!1&&(b.expressionsCollapsed||b.zoomButtons||b.showResetButtonOnGraphpaper)&&(Q.graphpaper=!0,s.warn("Must have visible graphpaper to proceed. Setting graphpaper: true.")),b.lockViewport&&b.zoomButtons&&(Q.zoomButtons=!1,s.warn("Cannot set zoomButtons: true and lockViewport: true. Proceeding with zoomButtons: false.")),j.lockViewport&&b.zoomButtons&&(Q.lockViewport=!1,s.warn("Cannot set zoomButtons: true while the viewport is locked. Setting lockViewport: false.")),j.zoomButtons&&b.lockViewport&&(Q.zoomButtons=!1,s.warn("Cannot lock the viewport without hiding the zoom buttons. Setting zoomButtons: false."));var G=f(b),q=f(c.__assign(c.__assign({},j),b)),L=j.pasteGraphLink,M=b.pasteGraphLink;G?(M||L)&&(Q.pasteGraphLink=!1,s.warn("Cannot disable creating note, folder, or image expressions without disabling graph link pasting. Setting pasteGraphLink: false.")):M&&q&&(Q.notes=!0,Q.folders=!0,Q.images=!0,s.warn("Cannot enable graph link pasting while the creation of notes, folders, or images is disable. Setting notes: true, folders: true, images: true."));for(S in Q)if(Q.hasOwnProperty(S))switch(S){case"expressionsCollapsed":this.setOption("expressionsCollapsed",!!Q.expressionsCollapsed),Q.expressionsCollapsed?this.controller.dispatch({type:"hide-expressions-list"}):this.controller.dispatch({type:"show-expressions-list"});break;case"qwertyKeyboard":this.setOption("qwertyKeyboard",!!Q.qwertyKeyboard),this.controller.isLetterKeypadOpen()&&this.controller.dispatch({type:"keypad/abc"});break;case"degreeMode":this.setOption("degreeMode",!!Q.degreeMode),this.controller.getGraphSettings().setGraphSettings({degreeMode:!!Q.degreeMode});break;case"keypad":case"graphpaper":case"expressions":case"settingsMenu":case"zoomButtons":case"showResetButtonOnGraphpaper":case"expressionsTopbar":case"pointsOfInterest":case"trace":case"border":case"lockViewport":case"administerSecretFolders":case"advancedStyling":case"authorIDE":case"clickableObjects":case"images":case"imageUploadCallback":case"folders":case"notes":case"sliders":case"links":case"restrictedFunctions":case"distributions":case"pasteGraphLink":case"pasteTableData":case"clearIntoDegreeMode":case"autosize":case"plotSingleVariableImplicitEquations":case"plotImplicits":case"plotInequalities":case"colors":case"branding":case"disableScrollFix":case"invertedColors":case"fontSize":case"projectorMode":case"language":case"redrawSlowly":case"onlyTraceSelected":case"disableMouseInteractions":case"nativeOnscreenKeypad":case"functionDefinition":case"plaidMode":case"pasteGraphLinkCallback":case"editOnWeb":case"crossOriginSaveTest":case"backgroundColor":case"textColor":case"enableTabindex":case"audioTraceReverseExpressions":case"showHamburger":case"decimalToFraction":case"capExpressionSize":case"transparentBackground":case"pauseWhenOffscreen":case"brailleMode":case"sixKeyInput":var D=Q[S];D!==void 0&&this.setOption(S,D);break;default:var V=S;return V}},E.prototype.setViewport=function(b){this.grapher.viewportController.setViewport(new n.Viewport(b[0],b[1],b[2],b[3]))},E.prototype.resize=function(b){b&&this.controller.dispatch({type:"ui/container-resized",size:b})},E.prototype.interceptTouch=function(){var b=a(this.rootElt),f=b.find(".dcg-expression-top-bar");f.add(b.find(".dcg-keypad")),f.length&&(f.on("touchstart",function(S){a(S.target).is("input, textarea")||S.preventDefault()}),f.on("touchend",function(S){a(S.target).closest(".dcg-do-not-blur").length>0||g.default()}))},E.prototype.destroy=function(){a(window).off(".calculator-"+this.__id);var b=a(this.rootElt);b.off(".calculator-"+this.__id),this.unsubFunc(),this.graphSettings.unobserveAll(),this.evaluator&&this.evaluator.destroy(),this.grapher&&this.grapher.remove(),h.unmountFromNode(this.rootElt),b.remove()},E.prototype.tick=function(b,f){f||(this.controller.shouldDispatchTickNextFrame()&&this.controller.dispatch({type:"tick",time:b}),this.controller.updateRenderShellsAfterDispatch()),this.evaluator.tick(),this.grapher&&this.grapher.tick(b)},E.prototype.getState=function(b){return this.controller.getState(b)},E.prototype.setBlank=function(b){this.controller.dispatch({type:"set-blank",opts:b||{}})},E.prototype.setState=function(b,f){this.controller.dispatch({type:"set-state",state:b,opts:f||{}})},E}();u.default=x}),$("lib/dom-change-detector",["require","exports","tslib","lib/animation-frame","jquery"],function(B,u,w,e,c){function t(){o=!0,e.requestAnimationFrame(a)}function a(){u.testFixture.rafSPY&&u.testFixture.rafSPY(),o=!1;for(var p in h)h[p].detectAndEnqueueEvent(),o=!0;if(o){t();for(var p in h)h[p].dispatchQueuedEvent()}}Object.defineProperty(u,"__esModule",{value:!0});var l=1,h={},o=!1;u.testFixture={},u.checkAllWatchingDetectors=a;var s=function(){function p(g,d){this.elt=g,this.cb=d,this.destroyed=!1,this.lastOffscreen=!1,this.id=l.toString(),this.appliedScale={x:1,y:1},l++}return p.prototype.stopWatching=function(){delete h[this.id]},p.prototype.startWatching=function(){this.checkForChanges(),h[this.id]=this,o||t()},p.prototype.resetAppliedScalingAndGetBoundingClientRect=function(){var g=this.elt.getBoundingClientRect(),d={x:g.width/this.elt.offsetWidth,y:g.height/this.elt.offsetHeight};if(d.x===this.appliedScale.x&&d.y===this.appliedScale.y)return g;var i=c(this.elt).children(".dcg-wrapper")[0];return i&&(this.appliedScale=d,c(i).css({transform:"scale("+1/this.appliedScale.x+","+1/this.appliedScale.y+")",width:100*this.appliedScale.x+"%",height:100*this.appliedScale.y+"%","transform-origin":"0 0"})),g},p.prototype.detectAndEnqueueEvent=function(){if(!this.destroyed){var g=!0;if(document.body&&document.body.contains(this.elt)){var d=this.resetAppliedScalingAndGetBoundingClientRect();g=d.top>window.innerHeight||d.bottom<0||d.left>window.innerWidth||d.right<0,this.lastSize?d.width===this.lastSize.width&&d.height===this.lastSize.height||(this.lastSize.width=d.width,this.lastSize.height=d.height,this.queuedEvent={type:"resized",target:this.elt,size:w.__assign({},this.lastSize),isOffscreen:g}):(this.lastSize={width:d.width,height:d.height},this.queuedEvent={type:"added",target:this.elt,size:w.__assign({},this.lastSize),isOffscreen:g})}else this.lastSize&&(this.lastSize=void 0,this.queuedEvent={type:"removed",target:this.elt,isOffscreen:!0});g!==this.lastOffscreen&&(this.lastOffscreen=g,this.queuedEvent||(this.queuedEvent={type:"offscreen-noop",target:this.elt,isOffscreen:g}))}},p.prototype.dispatchQueuedEvent=function(){var g=this.queuedEvent;g&&(this.queuedEvent=void 0,this.cb(g))},p.prototype.checkForChanges=function(){this.detectAndEnqueueEvent(),this.dispatchQueuedEvent()},p.prototype.destroy=function(){this.stopWatching();for(var g in this)this.hasOwnProperty(g)&&delete this[g];this.destroyed=!0},p}();u.default=s}),$("graphing/compute-async-screenshot-bounds",["require","exports","lib/console"],function(B,u,w){function e(c){var t=c.mode,a=c.width,l=c.height,h=c.currentBounds,o=c.graphpaperAspectRatio,s=c.mathAspectRatio,p=c.mathBounds,g=a/l,d={x:h.left+h.width/2,y:h.bottom+h.height/2};if(p.left===void 0!=(p.right===void 0)||p.bottom===void 0!=(p.top===void 0))return w.warn('asyncScreenshot: cannot specify "left" bound without "right" or "bottom" bound without "top". Got: '+p),h;var i,n,r,m,y,v,x,E,b,f,S=p.left!==void 0&&p.right!==void 0,j=p.bottom!==void 0&&p.top!==void 0,Q=S&&j;switch(t){case"stretch":return Q?p:S?{left:p.left,right:p.right,bottom:h.bottom,top:h.top}:j?{left:h.left,right:h.right,bottom:p.bottom,top:p.top}:h;case"contain":return Q?(m=p.right-p.left,y=p.top-p.bottom,v={x:p.left+m/2,y:p.bottom+y/2},r=m/y,g>r?(n=y/l,i=n*s,{left:v.x-i*a/2,right:v.x+i*a/2,bottom:p.bottom,top:p.top}):(i=m/a,n=i/s,{left:p.left,right:p.right,bottom:v.y-n*l/2,top:v.y+n*l/2})):S?(x=p.right-p.left,E=p.left+x/2,r=x/h.height,g>r?(n=h.height/l,i=n*s,{left:E-i*a/2,right:E+i*a/2,bottom:h.bottom,top:h.top}):(i=x/a,n=i/s,{left:p.left,right:p.right,bottom:d.y-n*l/2,top:d.y+n*l/2})):j?(b=p.top-p.bottom,f=p.bottom+b/2,r=h.width/b,g>r?(n=b/l,i=n*s,{left:d.x-i*a/2,right:d.x+i*a/2,bottom:p.bottom,top:p.top}):(i=h.width/a,n=i/s,{left:h.left,right:h.right,bottom:f-n*l/2,top:f+n*l/2})):g>o?(n=h.height/l,i=n*s,{left:d.x-i*a/2,right:d.x+i*a/2,bottom:h.bottom,top:h.top}):(i=h.width/a,n=i/s,{left:h.left,right:h.right,bottom:d.y-n*l/2,top:d.y+n*l/2});case"preserveX":return Q?(m=p.right-p.left,y=p.top-p.bottom,v={x:p.left+m/2,y:p.bottom+y/2},r=m/y,i=m/a,n=i/s,{left:p.left,right:p.right,bottom:v.y-n*l/2,top:v.y+n*l/2}):j?(b=p.top-p.bottom,f=p.bottom+b/2,r=h.width/b,i=h.width/a,n=i/s,{left:h.left,right:h.right,bottom:f-n*l/2,top:f+n*l/2}):S?(x=p.right-p.left,i=x/a,n=i/s,{left:p.left,right:p.right,bottom:d.y-n*l/2,top:d.y+n*l/2}):(x=h.right-h.left,i=x/a,n=i/s,{left:h.left,right:h.right,bottom:d.y-n*l/2,top:d.y+n*l/2});case"preserveY":return Q?(m=p.right-p.left,y=p.top-p.bottom,v={x:p.left+m/2,y:p.bottom+y/2},r=m/y,n=y/l,i=n*s,{left:v.x-i*a/2,right:v.x+i*a/2,bottom:p.bottom,top:p.top}):S?(x=p.right-p.left,E=p.left+x/2,r=x/h.height,n=h.height/l,i=n*s,{left:E-i*a/2,right:E+i*a/2,bottom:h.bottom,top:h.top}):j?(b=p.top-p.bottom,n=b/l,i=n*s,{left:d.x-i*a/2,right:d.x+i*a/2,bottom:p.bottom,top:p.top}):(b=h.top-h.bottom,n=b/l,i=n*s,{left:d.x-i*a/2,right:d.x+i*a/2,bottom:h.bottom,top:h.top});default:return h}}Object.defineProperty(u,"__esModule",{value:!0}),u.computeBoundsFromScreenshotOpts=e}),$("dcgview-helpers/mathquill-proxy",["require","exports","dcgview-helpers/mathquill-view"],function(B,u,w){Object.defineProperty(u,"__esModule",{value:!0});var e=function(){function c(t){this.mq=t,this.id=t.id,this.data=t.data}return c.prototype.simulateUserChangedLatex=function(){w.default.simulateUserChangedLatex(this.mq)},c.prototype.simulateKeypress=function(t){w.default.simulateKeypress(this.mq,t)},c.prototype.latex=function(t){return t===void 0?this.mq.latex():(this.mq.latex(t),void this.simulateUserChangedLatex())},c.prototype.reflow=function(){this.mq.reflow()},c.prototype.el=function(){return this.mq.el()},c.prototype.getAriaLabel=function(){return this.mq.getAriaLabel()},c.prototype.setAriaLabel=function(t){return this.mq.setAriaLabel(t)},c.prototype.html=function(){return this.mq.html()},c.prototype.mathspeak=function(){return this.mq.mathspeak()},c.prototype.select=function(){this.mq.select()},c.prototype.moveToRightEnd=function(){this.mq.moveToRightEnd()},c.prototype.cmd=function(t){this.mq.cmd(t),this.simulateUserChangedLatex()},c.prototype.write=function(t){this.mq.write(t),this.simulateUserChangedLatex()},c.prototype.keystroke=function(t){this.simulateKeypress(t)},c.prototype.typedText=function(t){this.mq.typedText(t),this.simulateUserChangedLatex()},c.prototype.clearSelection=function(){this.mq.clearSelection()},c.prototype.getAriaPostLabel=function(){return this.mq.getAriaPostLabel()},c.prototype.setAriaPostLabel=function(t,a){this.mq.setAriaPostLabel(t,a)},c.prototype.blur=function(){this.mq.blur()},c.prototype.focus=function(){this.mq.focus()},c.prototype.revert=function(){this.mq.revert()},c.prototype.ignoreNextMousedown=function(t){this.mq.ignoreNextMousedown(t)},c.prototype.clickAt=function(t,a,l){this.mq.clickAt(t,a,l)},c}();u.MathQuillProxy=e}),$("main/raf-loop",["require","lib/animation-frame"],function(B){function u(e){function c(t){w.requestAnimationFrame(c),e(t)}w.requestAnimationFrame(c)}var w=B("lib/animation-frame");return u}),$("main/shared-clock-bus",["require","exports","main/raf-loop","underscore_model"],function(B,u,w,e){function c(h){return l+=1,a.observeEvent("tick."+l,function(o,s){h(s)}),l}function t(h){a.unobserveEvent("tick."+h)}Object.defineProperty(u,"__esModule",{value:!0});var a=new e.UnderscoreModel;w(function(h){a.triggerEvent("tick",h)});var l=0;u.subscribe=c,u.unsubscribe=t}),$("main/shared-worker-pool",["require","exports","worker/workerpool","lib/urlparser"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=e.getParameter(location.search,"nworkers"),t=4;c&&(t=parseInt(c,10)),u.default=new w(t)}),$("graphing-calc/json/config-options",["require","exports","tslib","core/lib/color-helpers","lib/console","main/font_sizes","expressions/colors","expressions/image_file_to_data_url","core/lib/deepCopy"],function(B,u,w,e,c,t,a,l,h){function o(n){return!!p.hasOwnProperty(n)||!!g.hasOwnProperty(n)||!!d.hasOwnProperty(n)}function s(n){var r=h.default(i);for(var m in n)r.hasOwnProperty(m)&&(r[m]=n[m]);return e.isValidHexColor(r.backgroundColor)||(r.backgroundColor=i.backgroundColor,c.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)")),e.isValidHexColor(r.textColor)||(r.textColor=i.textColor,c.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)")),n.zoomButtons===void 0&&(r.graphpaper&&!r.lockViewport||(r.zoomButtons=!1)),n.images===void 0&&(r.graphpaper||(r.images=!1)),n.hasOwnProperty("menus")&&(c.warn("As of API version 0.4, the 'menus' option is deprecated and has been split into 'settingsMenu' (boolean) and 'expressionsTopbar' (boolean)."),n.hasOwnProperty("settingsMenu")||(r.settingsMenu=!!n.menus),n.hasOwnProperty("expressionsTopbar")||(r.expressionsTopbar=!!n.menus)),n.hasOwnProperty("solutions")&&(c.warn("As of API v1.0, the 'solutions' option is deprecated and has been replaced with 'pointsOfInterest' (boolean)."),n.hasOwnProperty("pointsOfInterest")||(r.pointsOfInterest=!!n.solutions)),n.hasOwnProperty("singleVariableSolutions")&&c.warn("As of API v1.0, the 'singleVariableSolutions' has been removed. The calculator no longer displays solutions to single variable equations."),r.graphpaper||(r.expressionsCollapsed&&(r.expressionsCollapsed=!1,c.warn("Desmos API initialized with bad options. graphpaper: false and expressionsCollapsed: true are incompatible. Proceeding with expressionsCollapsed: false.")),r.zoomButtons&&(r.zoomButtons=!1,c.warn("Desmos API initialized with bad options. graphpaper: false and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),r.showResetButtonOnGraphpaper&&(r.showResetButtonOnGraphpaper=!1,c.warn("Desmos API initialized with bad options. graphpaper: false and showResetButtonOnGraphpaper: true are incompatible. Proceeding with showResetButtonOnGraphpaper: false."))),r.lockViewport&&r.zoomButtons&&(r.zoomButtons=!1,c.warn("Desmos API initialized with bad options. lockViewport: true and zoomButtons: true are incompatible. Proceeding with zoomButtons: false.")),r.notes!==!1&&r.folders!==!1&&r.images!==!1||r.pasteGraphLink!==!0||(r.pasteGraphLink=!1,c.warn("Desmos API initialized with bad options. pasteGraphLink: true is incompatible with disabling the creation of note, folder, or image expressions. Proceeding with pasteGraphLink: false.")),r}Object.defineProperty(u,"__esModule",{value:!0});var p={keypad:!0,graphpaper:!0,expressions:!0,settingsMenu:!0,zoomButtons:!0,showResetButtonOnGraphpaper:!1,expressionsTopbar:!0,capExpressionSize:!1,pointsOfInterest:!0,trace:!0,border:!0,lockViewport:!1,expressionsCollapsed:!1,administerSecretFolders:!1,advancedStyling:!1,authorIDE:!1,clickableObjects:!1,images:!0,imageUploadCallback:l.imageFileToDataURL,folders:!0,notes:!0,sliders:!0,links:!0,qwertyKeyboard:!0,restrictedFunctions:!1,pasteGraphLink:!1,pasteTableData:!0,degreeMode:!1,clearIntoDegreeMode:!1,autosize:!0,plotSingleVariableImplicitEquations:!0,plotImplicits:!0,plotInequalities:!0,colors:{RED:a.RED,BLUE:a.BLUE,GREEN:a.GREEN,ORANGE:a.ORANGE,PURPLE:a.PURPLE,BLACK:a.BLACK},invertedColors:!1,functionDefinition:!0,projectorMode:!1,decimalToFraction:!0,fontSize:t.MEDIUM,language:"en",backgroundColor:"#fff",textColor:"#000",distributions:!0,brailleMode:"none",sixKeyInput:!1};u.publicConfigOptions=Object.keys(p);var g={showHamburger:!1,disableScrollFix:!1,branding:!0,redrawSlowly:!1,onlyTraceSelected:!1,disableMouseInteractions:!1,nativeOnscreenKeypad:!1,plaidMode:!1,pasteGraphLinkCallback:void 0,editOnWeb:!1,crossOriginSaveTest:!1,enableTabindex:!0,audioTraceReverseExpressions:!1,transparentBackground:!1,pauseWhenOffscreen:!1},d={solutions:!0,menus:!0,singleVariableSolutions:!0},i=w.__assign(w.__assign({},p),g);u.isConfigOption=o,u.validateConfigOptions=s}),$("lib/underscore-shim",["require","exports","underscore_model"],function(B,u,w){Object.defineProperty(u,"__esModule",{value:!0});var e=function(){function c(){this.model=new w.UnderscoreModel}return c.prototype.triggerEvent=function(t,a){this.model.triggerEvent(t,a)},c.prototype.observeEvent=function(t,a){this.model.observeEvent(t,a)},c.prototype.unobserveEvent=function(t){this.model.unobserveEvent(t)},c.prototype.setProperty=function(t,a){this[t]=a,this.model.setProperty(t,a)},c.prototype.observe=function(t,a){this.model.observe(t,a)},c.prototype.observeAndSync=function(t,a){this.model.observeAndSync(t,a)},c.prototype.unobserve=function(t){this.model.unobserve(t)},c}();u.UnderscoreModelShim=e}),$("api/graphing",["require","exports","tslib","lib/i18n","main/calc_embed","core/lib/deepCopy","underscore_model","core/math/recttransformation","lib/dom-change-detector","graphing/compute-async-screenshot-bounds","graphing-calc/api/sanitize-expression","dcgview-helpers/mathquill-view","dcgview-helpers/mathquill-proxy","lib/console","underscore","main/shared-clock-bus","main/shared-worker-pool","core/graphing-calc/json/graph-settings","graphing-calc/json/config-options","core/lib/random-seed","../lib/underscore-shim"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r,m,y,v,x){function E(q,L){var M={},D={};for(var V in q)y.isConfigOption(V)?M[V]=q[V]:m.isGraphSetting(V)?D[V]=q[V]:L||d.warn("Unrecognized setting: "+V+". Ignoring.");return{configOptions:M,settingsOptions:D}}function b(q,L){var M={};return L.hasOwnProperty("x")&&(M.x=q.mapX(L.x)),L.hasOwnProperty("y")&&(M.y=q.mapY(L.y)),M}function f(){if(!Q){for(var q;(q=j.shift())&&q.api._destroyed;);if(q){var L=q;Q=!0;var M=L.options,D=L.mathBounds,V=L.state,W=L.callback;S||(S=new G);var N=S;N.setState(V),N.setMathBounds(D),["majorAxisOpacity","minorAxisOpacity","axisLineOffset","axisLineWidth","labelSize","graphLineWidth","pointLineWidth"].forEach(function(oe){oe==="axisLineWidth"?N._calc.grapher.settings.setProperty(oe,L.api._calc.grapher.settings[oe]):N._calc.grapher.settings[oe]=L.api._calc.grapher.settings[oe]});var re=N._calc.evaluator,Y=function(){N._calc.grapher.asyncScreenshot(M,function(oe){Q=!1,f(),W(oe)})},O=L.api._calc.controller,ee=n.subscribe(function(){O.areAnyImagesLoading()||(n.unsubscribe(ee),re.notifyWhenSynced(Y))})}}}Object.defineProperty(u,"__esModule",{value:!0});var S,j=[],Q=!1,G=function(q){function L(M,D,V){var W=q.call(this)||this;if(W._destroyed=!1,W.isOffscreen=!1,!(W instanceof L))return new L(M,D,V);var N=E(D||{},!0),re=y.validateConfigOptions(N.configOptions),Y=N.settingsOptions;return W._calc=new c.default(M,r.default,re),W._calc.interceptTouch(),W.controller=W._calc.controller,W.controller.onEventsEmitted=function(O){W.setProperty("isAnyExpressionSelected",!!W.controller.getSelectedItem()),W.setProperty("expressionAnalysis",W.controller.getExpressionAnalysis());var ee=p.default.getFocusedMathquill();W.setProperty("focusedMathQuill",ee?new g.MathQuillProxy(ee):void 0);for(var oe in O)O.hasOwnProperty(oe)&&O[oe]&&W.triggerEvent(oe,void 0)},W._calc.graphpaperBounds.observeAndSync("mathCoordinates",W._syncGraphpaperBounds.bind(W)),W._calc.graphpaperBounds.observeAndSync("pixelCoordinates",W._syncGraphpaperBounds.bind(W)),W.colors=W.controller.getColors(),W._initGraphSettings(),W.updateSettings(Y),W._sharedClockBusToken=n.subscribe(function(O){var ee=W._calc.grapher.settings.config.pauseWhenOffscreen&&W.isOffscreen;W._calc.tick(O,ee)}),W.domChangeDetector=new h.default(M,function(O){switch(W.isOffscreen=O.isOffscreen,O.type){case"offscreen-noop":break;case"added":W._calc.resize(O.size);break;case"removed":break;case"resized":W._calc.resize(O.size)}}),re.autosize?W.domChangeDetector.startWatching():W.domChangeDetector.checkForChanges(),typeof V=="function"&&V(W),W}return w.__extends(L,q),L.prototype.destroy=function(){function M(V){d.warn("You've destroyed this API instance. You can no longer call ."+V+"()")}this._calc.destroy(),this.controller.onEventsEmitted=function(){},n.unsubscribe(this._sharedClockBusToken),this.domChangeDetector.destroy();for(var D in this)typeof this[D]=="function"?this[D]=M.bind(this,D):this.hasOwnProperty(D)&&delete this[D];this.destroy=function(){},this._destroyed=!0},L.prototype._syncGraphpaperBounds=function(){var M=this;this.controller.runAfterDispatch(function(){M.setProperty("graphpaperBounds",{mathCoordinates:M._calc.graphpaperBounds.mathCoordinates,pixelCoordinates:M._calc.graphpaperBounds.pixelCoordinates})})},L.prototype._initGraphSettings=function(){var M=this,D=new a.UnderscoreModel;this.settings=this.graphSettings=D,m.publicGraphSettings.forEach(function(V){M._calc.grapher.settings.observeAndSync(V,function(){M.controller.runAfterDispatch(function(){D.setProperty(V,M._calc.grapher.settings[V])})})}),y.publicConfigOptions.forEach(function(V){M._calc.grapher.settings.config.observeAndSync(V,function(){M.controller.runAfterDispatch(function(){D.setProperty(V,M._calc.grapher.settings.config[V])})})})},L.prototype.updateSettings=function(M){var D=E(M,!1),V=D.configOptions,W=D.settingsOptions;i.isEmpty(V)||this._calc.setOptions(V),i.isEmpty(W)||this._calc.grapher.settings.setGraphSettings(W),this.notifyControllerOfAPICall()},L.prototype.setGraphSettings=function(M){d.warn("As of API v0.8 the 'setGraphSettings' method is deprecated and has been renamed 'updateSettings.'"),this.updateSettings(M),this.setGraphSettings=this.updateSettings,this.notifyControllerOfAPICall()},L.prototype.fetchLanguage=function(M){return e.fetchLanguage(M)},L.prototype.setDefaultState=function(M){this._calc.grapher.settings.setProperty("defaultState",M),this.notifyControllerOfAPICall()},L.prototype.mathToPixels=function(M){return b(l.RT.fromRects(this.graphpaperBounds.mathCoordinates,this.graphpaperBounds.pixelCoordinates),M)},L.prototype.pixelsToMath=function(M){return b(l.RT.fromRects(this.graphpaperBounds.pixelCoordinates,this.graphpaperBounds.mathCoordinates),M)},L.prototype.notifyControllerOfAPICall=function(){this.controller.dispatch({type:"api-method-called"})},L.prototype.setExpression=function(M){var D=this.controller,V=D.getItemModel(M.id),W=V&&V.type,N=s.validateItem(M,W,this.controller);if(N)if(W)this.controller.dispatch({type:"set-expression-properties-from-api",id:N.id,properties:N});else{if(N.type==="image")return;this.controller.dispatch({type:"add-item-to-end-from-api",state:N})}},L.prototype.setExpressions=function(M){M.forEach(this.setExpression.bind(this))},L.prototype.removeExpression=function(M){var D=M.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:D})},L.prototype.removeExpressions=function(M){M.forEach(this.removeExpression.bind(this))},L.prototype.removeSelected=function(){var M=this.controller.getSelectedItem();M&&this.controller.dispatch({type:"remove-item-by-id",id:M.id})},L.prototype.setMathBounds=function(M){M&&M.left<M.right&&M.bottom<M.top?this._calc.setViewport([M.left,M.right,M.bottom,M.top]):d.warn("Invalid bounds argument. Expected a bounds object with bounds.bottom < bounds.top, and bounds.left < bounds.right. Got "+JSON.stringify(M)),this.notifyControllerOfAPICall()},L.prototype.setViewport=function(M){M.length==4&&M[1]>M[0]&&M[3]>M[2]?this._calc.setViewport(M):d.warn("Invalid viewport.  Expected [xmin, xmax, ymin, ymax].  Got "+M),this.notifyControllerOfAPICall()},L.prototype.resize=function(){this.domChangeDetector.checkForChanges()},L.prototype.getState=function(M){return this.controller.getState(M)},L.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(s.sanitizeItem)},L.prototype.setBlank=function(M){this.controller.dispatch({type:"set-blank",opts:M||{}})},L.prototype.setState=function(M,D){this.controller.dispatch({type:"set-state",state:M,opts:D||{}})},L.prototype.undo=function(){this.controller.dispatch({type:"undo"})},L.prototype.redo=function(){this.controller.dispatch({type:"redo"})},L.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-undoredo-history"})},L.prototype.newRandomSeed=function(){this.updateSettings({randomSeed:v.default()})},L.prototype.screenshot=function(M){return M||(M={}),M=this._validateBrailleScreenshotOptions(M),this._calc.grapher.screenshot(M)},L.prototype._getMathAspectRatio=function(){var M=this.graphpaperBounds.mathCoordinates,D=this._calc.grapher.getProjection().pixelCoordinates,V=D.right-D.left,W=D.bottom-D.top;return M.width/V/(M.height/W)},L.prototype.isProjectionUniform=function(){return!!this._calc.grapher.getProjection().settings.squareAxes},L.prototype._validateBrailleScreenshotOptions=function(M){M=t.default(M);var D=M.braille;if(D){var V=D.embosserModel;if(!V)return d.warn("Screenshot braille options requires an embosser model to be specified. "),d.warn("Continuing with non-braille screenshot."),delete M.braille,M;if(V==="etc"&&(D.embosserModel="etc11"),V==="vpmax"&&(D.embosserModel="vpmax11"),D.embosserModel!=="etc8"&&D.embosserModel!=="etc11"&&D.embosserModel!=="vpmax8"&&D.embosserModel!=="vpmax11")return d.warn('Unknown screenshot braille embosser model. Valid models are "etc" and "vpmax".'),d.warn("Continuing with non-braille screenshot."),delete M.braille,M;D.brailleMode!=="nemeth"&&D.brailleMode!=="ueb"&&(d.warn("Screenshot options braille.brailleMode must be nemeth or ueb. Proceeding with nemeth."),D.brailleMode="nemeth"),M.width&&(d.warn("Screenshot width option is ignored when exporting Braille."),delete M.width),M.height&&(d.warn("Screenshot height option is ignored when exporting Braille."),delete M.height),M.targetPixelRatio&&(d.warn("Screenshot targetPixelRatio option is ignored when exporting Braille."),delete M.targetPixelRatio),M.preserveAxisNumbers&&(d.warn("Screenshot preserveAxisNumbers option is ignored when exporting Braille."),delete M.preserveAxisNumbers)}return M},L.prototype._validateAsyncScreenshotOpts=function(M){M=t.default(M);var D=M.mode||"contain",V=M.width||M.height||this.graphpaperBounds.pixelCoordinates.width,W=M.height||M.width||this.graphpaperBounds.pixelCoordinates.height,N=M.targetPixelRatio||1,re=M.preserveAxisNumbers;M.hasOwnProperty("format")||(M.svg?(M.format="svg",delete M.svg):M.format="png");var Y=M.mathBounds||{},O=this._getMathAspectRatio(),ee=this.graphpaperBounds.pixelCoordinates.width/this.graphpaperBounds.pixelCoordinates.height,oe=o.computeBoundsFromScreenshotOpts({mode:D,width:V,height:W,currentBounds:this.graphpaperBounds.mathCoordinates,graphpaperAspectRatio:ee,mathAspectRatio:O,mathBounds:Y});return{opts:w.__assign(w.__assign({},M),{width:V,height:W,targetPixelRatio:N,preserveAxisNumbers:re}),mathBounds:oe}},L.prototype.asyncScreenshot=function(M,D){if(!arguments.length)return void d.warn("asyncScreenshot expects a callback");if(arguments.length===1){if(typeof M!="function")return void d.warn("asyncScreenshot expects a callback");D=M,M={}}M||(M={}),M=this._validateBrailleScreenshotOptions(M);var V=this._validateAsyncScreenshotOpts(M),W=V.opts,N=V.mathBounds;j.push({api:this,options:W,mathBounds:N,state:this.getState(),callback:D}),f()},L.prototype.setOptions=function(M){var D=this._calc.setOptions(M);return this.notifyControllerOfAPICall(),D},L.prototype.focusFirstExpression=function(){var M=this.controller.getItemModelByIndex(0);M&&this.controller.dispatch({type:"move-focus-to-item",id:M.id,where:"end"})},L.prototype.HelperExpression=function(M){var D=M&&M.latex||"",V=new a.UnderscoreModel;return V.latex=D,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:D,proxy:V}}),V},L}(x.UnderscoreModelShim);u.default=G}),$("main/calc_headless",["require","exports","main/graph_settings","main/evaluator","underscore_model","main/controller"],function(B,u,w,e,c,t){Object.defineProperty(u,"__esModule",{value:!0});var a=function(){function l(h,o){var s=this,p=new w;for(var g in o)p.config.setProperty(g,o[g]);this.controller=new t.default(p);var d=new e.Evaluator(h);this.controller.setEvaluator(d),d.readEvaluatorConfig=function(){return{evaluationMode:"graphing",globalRandomSeed:p.randomSeed,degreeMode:p.degreeMode,restrictedFunctions:p.config.restrictedFunctions,distributions:p.config.distributions,pointsOfInterest:p.config.pointsOfInterest,plotSingleVariableImplicitEquations:p.config.plotSingleVariableImplicitEquations,plotImplicits:p.config.plotImplicits,plotInequalities:p.config.plotInequalities,sliders:p.config.sliders}},d.onEvaluatorResults=function(n){s.controller.dispatch({type:"on-evaluator-changes",changes:n.evaluationStates})};var i=new c.UnderscoreModel;i.setProperties({pixelCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0},mathCoordinates:{top:0,bottom:0,left:0,right:0,width:0,height:0}}),this.graphpaperBounds=i,this.evaluator=d,this.setBlank()}return l.prototype.setBlank=function(h){this.controller.dispatch({type:"set-blank",opts:h})},l.prototype.tick=function(){this.evaluator.tick()},l.prototype.destroy=function(){this.evaluator.destroy()},l}();u.HeadlessCalc=a}),$("api/headless",["require","exports","main/calc_headless","graphing-calc/json/config-options","main/shared-clock-bus","main/shared-worker-pool","graphing-calc/api/sanitize-expression","underscore_model","lib/console"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=function(){function s(){var p=this;if(!(this instanceof s))return new s;this._calc=new w.HeadlessCalc(t.default,e.validateConfigOptions({})),this.controller=this._calc.controller,this._sharedClockBusToken=c.subscribe(function(){p._calc.tick()})}return s.prototype.destroy=function(){function p(d){h.warn("You've destroyed this API instance. You can no longer call ."+d+"()")}this._calc.destroy(),c.unsubscribe(this._sharedClockBusToken);for(var g in this)typeof this[g]=="function"?this[g]=p.bind(this,g):this.hasOwnProperty(g)&&delete this[g];this.destroy=function(){}},s.prototype.setExpression=function(p){var g=this.controller,d=g.getItemModel(p.id),i=d&&d.type,n=a.validateItem(p,i,this.controller);if(n)if(i)this.controller.dispatch({type:"set-expression-properties-from-api",id:n.id,properties:n});else{if(n.type==="image")return;this.controller.dispatch({type:"add-item-to-end-from-api",state:n})}},s.prototype.setExpressions=function(p){p.forEach(this.setExpression.bind(this))},s.prototype.removeExpression=function(p){var g=p.id.toString();this.controller.dispatch({type:"remove-item-by-id",id:g})},s.prototype.removeExpressions=function(p){p.forEach(this.removeExpression.bind(this))},s.prototype.getState=function(p){return this.controller.getState(p)},s.prototype.getExpressions=function(){return this.getState({stripDefaults:!1}).expressions.list.map(a.sanitizeItem)},s.prototype.setBlank=function(p){this.controller.dispatch({type:"set-blank",opts:p||{}})},s.prototype.setState=function(p,g){this.controller.dispatch({type:"set-state",state:p,opts:g||{}})},s.prototype.HelperExpression=function(p){var g=p&&p.latex||"",d=new l.UnderscoreModel;return d.latex=g,this.controller.dispatch({type:"add-helper-expression",state:{type:"helper-expression",id:this.controller.generateId(),latex:g,proxy:d}}),d},s.prototype.resize=function(){},s}();u.default=o}),$("api/abstract",["require","exports","lib/console","underscore_model","ipad.scrollfix","lib/dom-change-detector"],function(B,u,w,e,c,t){Object.defineProperty(u,"__esModule",{value:!0});var a=function(){function l(h){if(this.rootElt=h,this.eventModel=new e.UnderscoreModel,!h)throw new Error("must pass an HTMLElement to the API")}return l.prototype.setupDomChangeDetector=function(h){var o=this;this.autoSize=h,c.limitScrollOnElement(this.rootElt),this.domChangeDetector=new t.default(this.rootElt,function(s){switch(s.type){case"added":o.view=o.onCreateView(),o.onResizeView(s.size);break;case"removed":o.onDestroyView(),o.view=void 0;break;case"resized":o.onResizeView(s.size)}}),this.autoSize!==!1?this.domChangeDetector.startWatching():this.domChangeDetector.checkForChanges()},l.prototype.detach=function(){w.warn(".detach() is deprecated. It should no longer be necessary")},l.prototype.destroy=function(){function h(s){w.warn("You've destroyed this API instance. You can no longer call ."+s+"()")}this.view&&this.onDestroyView(),this.domChangeDetector.destroy();for(var o in this)typeof this[o]=="function"?this[o]=h.bind(this,o):this.hasOwnProperty(o)&&delete this[o];this.destroy=function(){}},l.prototype.resize=function(){this.domChangeDetector.checkForChanges()},l.prototype.updateView=function(){this.view&&document.body&&document.body.contains(this.rootElt)&&this.view.update()},l.prototype.triggerEvent=function(h,o){this.eventModel.triggerEvent(h,o)},l.prototype.observeEvent=function(h,o){this.eventModel.observeEvent(h,o)},l.prototype.unobserveEvent=function(h){this.eventModel.unobserveEvent(h)},l}();u.default=a}),$("immutable-store",["require","underscore","core/lib/deepCopy"],function(B){function u(t){return e.clone(t)}function w(t){this.setState(t)}var e=B("underscore"),c=B("core/lib/deepCopy").default;return w.prototype.setState=function(t){this.state=t},w.prototype.getState=function(){return this.state},w.prototype.set=function(t,a){if(arguments.length===1)return void(this.state=t);if(typeof t=="string")return this.state=u(this.state),void(this.state[t]=a);var l,h=t.length-2,o=t[h+1];this.state=l=u(this.state);for(var s=0;s<=h;s++){var p=t[s];l=l[p]=u(l[p])}l[o]=a},w.prototype.deepMutate=function(t,a){if(arguments.length===1)return a=t,this.state=c(this.state),void a(this.state);if(typeof t=="string")return this.state=u(this.state),this.state[t]=c(this.state[t]),void a(this.state[t]);for(var l=t.length-2,h=t[l+1],o=this.state=u(this.state),s=0;s<=l;s++){var p=t[s];o=o[p]=u(o[p])}o=o[h]=c(o[h]),a(o)},w.prototype.shallowMutate=function(t,a){if(arguments.length===1)return a=t,this.state=u(this.state),void a(this.state);if(typeof t=="string")return this.state=u(this.state),this.state[t]=u(this.state[t]),void a(this.state[t]);for(var l=t.length-1,h=this.state=u(this.state),o=0;o<=l;o++){var s=t[o];h=h[s]=u(h[s])}a(h)},w.areShallowEqual=function(t,a){},w.areDeepEqual=function(t,a){},{default:w}}),$("basic/model",["require","exports","immutable-store","main/shared-clock-bus","core/lib/label","main/evaluator","core/lib/label","underscore"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(){function o(s){var p=this,g=s.evaluationMode,d=s.additionalFunctions,i=s.functionDefinition,n=s.replaceRoundWithReciprocal,r=s.workerPool;this._evaluations={},this._nextObjectId=0,this.store=new w.default({expressions:{1:{id:"1",latex:"",braille:"",type:"latex",displayAsFraction:!1}},order:["1"],settings:{degreeMode:!1},ui:{focus:void 0}}),this.evaluationMode=g,this.additionalFunctions=d,this.functionDefinition=i,this.replaceRoundWithReciprocal=n,this.workerPool=r,this._setupEvaluator(),this.clear(),this._sharedClockBusToken=e.subscribe(function(){p._evaluator.tick()})}return o.prototype.isSingleExpression=function(){return this.evaluationMode==="singleExpressionScientific"||this.evaluationMode==="singleExpressionFourFunction"},o.prototype.destroy=function(){e.unsubscribe(this._sharedClockBusToken)},o.prototype.generateObjectId=function(){return(this._nextObjectId++).toString()},o.prototype.updateNextObjectId=function(){var s=this.store.getState().order;this._nextObjectId=0;for(var p=/^[0-9]+$/,g=0,d=s;g<d.length;g++){var i=d[g];if(p.test(i)){var n=parseInt(i,10);n>=this._nextObjectId&&(this._nextObjectId=n+1)}}},o.prototype.clearShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!1},o.prototype.markShouldDebounceUndoRedo=function(){this._shouldDebounceUndoRedo=!0},o.prototype.getShouldDebounceUndoRedo=function(){return this._shouldDebounceUndoRedo},o.prototype.clearCachedBrailleValues=function(){for(var s=0,p=this.getExpressionOrder();s<p.length;s++){var g=p[s];this.store.set(["expressions",g,"braille"],"")}},o.prototype.getState=function(){return this.store.getState()},o.prototype.getPersistedState=function(){var s=this.getState(),p=s.expressions,g=s.order,d=s.settings;return{expressions:{list:g.map(function(i){var n=p[i];return{id:n.id,latex:n.latex,displayAsFraction:n.displayAsFraction}})},settings:d}},o.prototype.setState=function(s){this.store.set(s),this._updateIndexes(),this.updateNextObjectId()},o.prototype.setStateFromAPI=function(s){var p=[],g={};s.expressions.list.forEach(function(d){p.push(d.id),g[d.id]={id:d.id,latex:d.latex,braille:"",type:"latex",displayAsFraction:!!d.displayAsFraction}}),this.setState({expressions:g,order:p,settings:s.settings,ui:{focus:void 0}})},o.prototype.canClear=function(){if(this.getNumberOfExpressions()>1)return!0;var s=this.getExpressionOrder()[0];return this.getExpressionLatex(s)!==""},o.prototype.clear=function(){this.setState({expressions:{1:{id:"1",type:"latex",latex:"",braille:"",displayAsFraction:!1}},ui:{focus:void 0},order:["1"],settings:this.getState().settings})},o.prototype.getExpressionOrder=function(){return this.store.getState().order},o.prototype.getNumberOfExpressions=function(){return this.getExpressionOrder().length},o.prototype.getExpressionById=function(s){return this.getState().expressions[s]},o.prototype.getExpressionIndex=function(s){return this._indexes[s]},o.prototype._getExpressionByIndex=function(s){var p=this.getExpressionOrder()[s];return this.getExpressionById(p)},o.prototype._updateIndexes=function(){this._indexes={};for(var s=0,p=0,g=this.getExpressionOrder();p<g.length;p++){var d=g[p];this._indexes[d]=s,s+=1}this._evaluate()},o.prototype._usesAnsById=function(s){return this.getExpressionById(s).latex.indexOf("\\operatorname{ans}")!==-1},o.prototype._getPreviousExpById=function(s){var p=this.getExpressionIndex(s);return this._getExpressionByIndex(p-1)},o.prototype.createBlankAfterId=function(s){if(!this.isSingleExpression()&&this.getExpressionById(s).latex){var p=this.getExpressionIndex(s),g=this.generateObjectId();this.store.shallowMutate("order",function(d){d.splice(p+1,0,g)}),this.store.shallowMutate("expressions",function(d){d[g]={id:g,latex:"",braille:"",type:"latex",displayAsFraction:!1}}),this._updateIndexes(),this.setFocusedById(g,!0)}},o.prototype.conditionallyCopyPrevious=function(s){var p=this._getPreviousExpById(s),g=this.getExpressionById(s);p!=null&&g.latex===""&&this._usesAnsById(p.id)&&this.setLatexById(s,p.latex)},o.prototype.backspaceAtFrontOfId=function(s){if(this.getExpressionById(s).latex===""&&this.getNumberOfExpressions()!==1){var p=this.getExpressionIndex(s);this.store.shallowMutate("order",function(g){g.splice(p,1)}),this.store.shallowMutate("expressions",function(g){delete g[s]}),this._updateIndexes(),this._setFocusedByIndex(Math.max(p-1,0),!0)}},o.prototype.setLatexById=function(s,p){this.store.set(["expressions",s,"latex"],p),this.store.set(["expressions",s,"braille"],""),p===""&&this.setFractionEvaluation(s,!1),this._evaluate()},o.prototype.setLatexAndBrailleById=function(s,p,g){this.store.set(["expressions",s,"latex"],p),this.store.set(["expressions",s,"braille"],g),p===""&&this.setFractionEvaluation(s,!1),this._evaluate()},o.prototype.setFractionEvaluation=function(s,p){this.store.set(["expressions",s,"displayAsFraction"],p)},o.prototype.setLatexOfFocusedExpression=function(s){var p=this.getFocusedExpressionId();p&&this.setLatexById(p,s)},o.prototype.isExpressionFocused=function(s){return this.getFocusedExpressionId()===s},o.prototype.getExpressionLatex=function(s){return this.getExpressionById(s).latex},o.prototype.getExpressionError=function(s){var p=this._evaluations[s];return p?p.error:""},o.prototype.getExpressionValue=function(s){var p=this._evaluations[s];if(p)return p.value},o.prototype.getExpressionAns=function(s){var p=this._evaluations[s];if(p)return p.ans},o.prototype.getExpressionAnsId=function(s){var p=this._evaluations[s];if(p)return p.ansId},o.prototype.shouldShowEvaluationForExpression=function(s){var p=this._evaluations[s];return!!p&&p.showEvaluation},o.prototype.isRationalizableConstant=function(s){var p=this._evaluations[s];return!!p&&p.isRationalizableConstant},o.prototype.canDisplayEvaluationAsFraction=function(s){var p=this.getExpressionValue(s);return!!p&&a.canDisplayAsFraction(p)},o.prototype._setFocusedByIndex=function(s,p){var g=this._getExpressionByIndex(s),d=this.store.getState().ui.focus,i=p?{type:"latex-expression",id:g.id}:void 0;if(!l.isEqual(d,i)){if(d){var n=d.id;this.store.deepMutate("expressions",function(r){var m=r[n];m&&(m.braille="")})}(p||this.getFocusedExpressionId()===g.id)&&this.store.shallowMutate("ui",function(r){r.focus=i})}},o.prototype.setFocusedById=function(s,p){var g=this.getExpressionIndex(s);this._setFocusedByIndex(g,p)},o.prototype.focusPrevById=function(s){var p=this.getExpressionIndex(s)-1;p>=0&&this._setFocusedByIndex(p,!0)},o.prototype.focusNextById=function(s){var p=this.getExpressionIndex(s)+1;p<this.getNumberOfExpressions()?this._setFocusedByIndex(p,!0):this.createAtEnd()},o.prototype.getFocusedExpression=function(){var s=this.getFocusedExpressionId();return s?this.getExpressionById(s):void 0},o.prototype.getFocusedExpressionId=function(){var s=this.getState().ui.focus;return s&&s.id},o.prototype.clearFocusedExpression=function(){var s=this.getFocusedExpression();s&&this.setLatexById(s.id,"")},o.prototype.shouldShowClear=function(){if(this.getNumberOfExpressions()===1)return!1;var s=this.getFocusedExpression();return!!s&&!!s.latex},o.prototype.getLastExpression=function(){return this._getExpressionByIndex(this.getNumberOfExpressions()-1)},o.prototype.isLastExpressionEmpty=function(){return!!this.getLastExpression().latex},o.prototype.createAtEnd=function(){this.createBlankAfterId(this.getLastExpression().id)},o.prototype.focusLastExpression=function(){this._setFocusedByIndex(this.getNumberOfExpressions()-1,!0)},o.prototype.focusFirstExpression=function(){this._setFocusedByIndex(0,!0)},o.prototype.getDegreeMode=function(){return this.getState().settings.degreeMode},o.prototype.setDegreeMode=function(s){this.store.set(["settings","degreeMode"],!!s),this._evaluate()},o.prototype._cleanupLatex=function(s){return s=c.trimLatex(s),s.substr(s.length-1)==="="&&(s=s.substr(0,s.length-1)),s},o.prototype._evaluate=function(){var s=this;this._evaluator.clearStatementsAndStartCompleteState(),this.getExpressionOrder().forEach(function(p){return s._evaluator.addStatement({id:p,index:s.getExpressionIndex(p),latex:s._cleanupLatex(s.getExpressionLatex(p)),shouldGraph:!1,type:"statement"})})},o.prototype._setupEvaluator=function(){var s=this;this._evaluator=new t.Evaluator(this.workerPool),this._evaluator.readEvaluatorConfig=function(){return{degreeMode:s.getDegreeMode(),evaluationMode:s.evaluationMode,additionalFunctions:s.additionalFunctions,functionDefinition:s.functionDefinition,replaceRoundWithReciprocal:s.replaceRoundWithReciprocal}},this._evaluator.onEvaluatorResults=function(p){var g=p.evaluationStates;s._evaluations={};for(var d in g){var i=g[d];if(s.getExpressionById(d)){var n=i.constant_value;n===void 0&&i.zero_values&&i.zero_values.length&&(n=i.zero_values[0].val);var r=i.hasOwnProperty("constant_value")&&a.canDisplayAsFraction(i.constant_value),m=!i.is_evaluable&&r,y=!!i.is_evaluable||m||Array.isArray(n);s._evaluations[d]={error:i.error,ans:void 0,ansId:void 0,value:n,showEvaluation:y,isRationalizableConstant:m}}}for(var v=void 0,x=void 0,E=0,b=s.getExpressionOrder();E<b.length;E++){var d=b[E],f=s._evaluations[d];if(v&&f){var S=v.value;typeof S=="number"?(f.ans=S,f.ansId=x):Array.isArray(S)&&(f.ans="[...]")}v=f,x=d}typeof s.onEvaluationUpdate=="function"&&s.onEvaluationUpdate()}},o.prototype.reloadState=function(){this.setState(this.getState())},o.prototype.getFunctionDefinition=function(){return!!this.functionDefinition},o.prototype.enableFunctionDefinition=function(){this.functionDefinition=!0,this.reloadState()},o.prototype.disableFunctionDefinition=function(){this.functionDefinition=!1,this.reloadState()},o.prototype.getReplaceRoundWithReciprocal=function(){return!!this.replaceRoundWithReciprocal},o.prototype.enableReplaceRoundWithReciprocal=function(){this.replaceRoundWithReciprocal=!0,this.reloadState()},o.prototype.disableReplaceRoundWithReciprocal=function(){this.replaceRoundWithReciprocal=!1,this.reloadState()},o}();u.default=h}),$("basic/controller",["require","exports","tslib","flux","underscore","./model","lib/state-stack","keypad/mq-commands","lib/i18n","dcgview-helpers/mathquill-view","lib/console","bugsnag","core/lib/color-helpers"],function(B,u,w,e,c,t,a,l,h,o,s,p,g){Object.defineProperty(u,"__esModule",{value:!0});var d=function(){function i(n,r){var m=this;this.keyboardMode="main",this.fontSize=16,this.invertedColors=!1,this.backgroundColor="",this.textColor="",this.projectorMode=!1,this.capExpressionSize=!1,this.decimalToFraction=!0,this.settingsMenu=!0,this.settingsMenuOpen=!1,this.language="en",this.brailleMode="none",this.sixKeyInput=!1,this.brailleExpressionDownload=!0,this.replaceCommaWith10Exp=!1,this.typingAsteriskWritesTimesSymbol=!1,this.stateStack=new a.default,this.dispatcher=new e.Dispatcher,this.t=function(y,v){return h.t(y,v,m.language)},this.dispatch=function(y){p.leaveBreadcrumb("dispatch",y),m.dispatcher.dispatch(y);for(var v;v=m._queuedCallbacks.shift();)v()},this._queuedCallbacks=[],this.stateStack=new a.default,this.dispatcher=new e.Dispatcher,this.options=n,this.model=new t.default({evaluationMode:this.options.evaluationMode,additionalFunctions:this.options.additionalFunctions,functionDefinition:this.options.functionDefinition,replaceRoundWithReciprocal:this.options.replaceRoundWithReciprocal,workerPool:r.workerPool}),this.model=this.model,this.model.setDegreeMode(n.degreeMode),this.setBrailleMode(n.brailleMode),this.setSixKeyInput(n.sixKeyInput),this.setBrailleExpressionDownload(n.brailleExpressionDownload),this.setReplaceCommaWith10Exp(n.replaceCommaWith10Exp),this.setReplaceRoundWithReciprocal(n.replaceRoundWithReciprocal),this.setTypingAsteriskWritesTimesSymbol(n.typingAsteriskWritesTimesSymbol),this.setProjectorMode(n.projectorMode),this.setCapExpressionSize(n.capExpressionSize),this.setDecimalToFraction(n.decimalToFraction),this.invertedColors=n.invertedColors,this.backgroundColor=n.backgroundColor,this.textColor=n.textColor,this.settingsMenu=n.settingsMenu,this.model.onEvaluationUpdate=function(){return m.dispatch({type:"render"})},this.settingsProxy=r.settingsProxy,this.syncPublicSettings(),this.hookUpDispatcher(),this.containerSize={width:0,height:0}}return i.prototype.runAfterDispatch=function(n){this._queuedCallbacks.push(n)},i.prototype.enqueueEvent=function(n){var r=this;this.runAfterDispatch(function(){r.onEventEmitted&&r.onEventEmitted(n)})},i.prototype.getFunctionDefinition=function(){return this.options.functionDefinition},i.prototype.getSettingsMenu=function(){return this.settingsMenu},i.prototype.getBrailleMode=function(){return this.brailleMode},i.prototype.renderAsBraille=function(){return this.brailleMode!=="none"},i.prototype.setBrailleMode=function(n){this.brailleMode=n},i.prototype.getSixKeyInput=function(){return this.sixKeyInput},i.prototype.setSixKeyInput=function(n){this.sixKeyInput=n},i.prototype.getBrailleExpressionDownload=function(){return this.brailleExpressionDownload},i.prototype.setBrailleExpressionDownload=function(n){this.brailleExpressionDownload=n},i.prototype.getRestrictedEditing=function(){return this.options.restrictedEditing},i.prototype.getKeyboardMode=function(){return this.keyboardMode},i.prototype.getFontSize=function(){return this.fontSize},i.prototype.getInvertedColors=function(){return this.invertedColors},i.prototype.hasBackgroundColor=function(){return this.getBackgroundColor()!=="#ffffff"},i.prototype.getBackgroundColor=function(){var n=g.normalizeColor(this.backgroundColor||"#fff");return this.getInvertedColors()&&n!=="#ffffff"?g.invertColor(n):n},i.prototype.getTextColor=function(){var n=g.normalizeColor(this.textColor||"#000");return this.getInvertedColors()&&n!=="#000000"?g.invertColor(n):n},i.prototype.getAdditionalFunctions=function(){return this.options.additionalFunctions},i.prototype.getTypingSlashWritesDivisionSymbol=function(){return this.options.typingSlashWritesDivisionSymbol},i.prototype.setTypingAsteriskWritesTimesSymbol=function(n){this.typingAsteriskWritesTimesSymbol=n},i.prototype.getTypingAsteriskWritesTimesSymbol=function(){return this.typingAsteriskWritesTimesSymbol},i.prototype.setProjectorMode=function(n){this.projectorMode=n},i.prototype.isProjectorMode=function(){return this.projectorMode},i.prototype.getReplaceCommaWith10Exp=function(){return this.replaceCommaWith10Exp},i.prototype.setReplaceCommaWith10Exp=function(n){this.replaceCommaWith10Exp=n},i.prototype.getReplaceRoundWithReciprocal=function(){return this.model.getReplaceRoundWithReciprocal()},i.prototype.setReplaceRoundWithReciprocal=function(n){n?this.model.enableReplaceRoundWithReciprocal():this.model.disableReplaceRoundWithReciprocal()},i.prototype.setCapExpressionSize=function(n){this.capExpressionSize=n},i.prototype.getCapExpressionSize=function(){return this.capExpressionSize},i.prototype.setDecimalToFraction=function(n){this.decimalToFraction=n},i.prototype.getDecimalToFraction=function(){return this.decimalToFraction},i.prototype.isScientificCalc=function(){var n=this.options.evaluationMode;return n==="scientific"||n==="singleExpressionScientific"},i.prototype.isFourFunctionCalc=function(){return this.options.evaluationMode==="fourFunction"||this.options.evaluationMode==="singleExpressionFourFunction"},i.prototype.getAllowLinks=function(){return this.options.links},i.prototype.canUndo=function(){return this.stateStack.canUndo()},i.prototype.canRedo=function(){return this.stateStack.canRedo()},i.prototype.undo=function(n){if(this.canUndo()){this.stateStack.undo();var r=this.stateStack.getState();if(!n.restoreFocus){var m={focus:void 0};r=w.__assign(w.__assign({},r),{ui:m})}this.model.setState(r),this.enqueueEvent("change")}},i.prototype.redo=function(n){if(this.canRedo()){this.stateStack.redo();var r=this.stateStack.getState();if(!n.restoreFocus){var m={focus:void 0};r=w.__assign(w.__assign({},r),{ui:m})}this.model.setState(r),this.enqueueEvent("change")}},i.prototype.clearHistory=function(){this.stateStack.clear()},i.prototype.canBackspace=function(){var n=this.model.getFocusedExpression();return n&&(n.latex.length>0||this.model.getNumberOfExpressions()>1)},i.prototype.focusLastExpression=function(){this.model.focusLastExpression()},i.prototype.shouldRender=function(){return this.containerSize.width>0&&this.containerSize.height>0},i.prototype.canClear=function(){return this.model.canClear()},i.prototype.shouldShowClear=function(){return this.model.shouldShowClear()},i.prototype.enableSettingsMenu=function(){this.settingsMenu=!0},i.prototype.disableSettingsMenu=function(){this.closeSettingsMenu(),this.settingsMenu=!1},i.prototype.closeSettingsMenu=function(){this.settingsMenuOpen=!1},i.prototype.toggleSettingsMenu=function(){this.settingsMenuOpen=!this.settingsMenuOpen},i.prototype.isSettingsMenuOpen=function(){return this.settingsMenuOpen},i.prototype.isLastExpressionEmpty=function(){return this.model.isLastExpressionEmpty()},i.prototype.createAtEnd=function(){this.model.createAtEnd()},i.prototype.clearFocusedExpression=function(){this.model.clearFocusedExpression()},i.prototype.setLatexById=function(n,r){this.model.setLatexById(n,r)},i.prototype.setLatexAndBrailleById=function(n,r,m){this.model.setLatexAndBrailleById(n,r,m)},i.prototype.setLatexOfFocusedExpression=function(n){this.model.setLatexOfFocusedExpression(n)},i.prototype.toggleFractionEvaluationById=function(n){this.model.setFractionEvaluation(n,!this.model.getExpressionById(n).displayAsFraction)},i.prototype.conditionallyCopyPrevious=function(n){this.model.conditionallyCopyPrevious(n)},i.prototype.createBlankAfterId=function(n){this.model.createBlankAfterId(n)},i.prototype.backspaceAtFrontOfId=function(n){this.model.backspaceAtFrontOfId(n)},i.prototype.areStatesDifferentEnoughForUndoRedo=function(n,r){var m={focus:void 0};return c.isEqual(w.__assign(w.__assign({},n),{ui:m}),w.__assign(w.__assign({},r),{ui:m}))},i.prototype.commitUndoRedoDebounced=function(){var n=this.model.getState(),r=this.stateStack.getState();if(!this.areStatesDifferentEnoughForUndoRedo(n,r)){var m=new Date().getTime();m-this._lastDebouncedTime<1e3?this.stateStack.replaceState(n):this.stateStack.addState(n),this._lastDebouncedTime=m,this.enqueueEvent("change")}},i.prototype.commitUndoRedoSynchronously=function(){var n=this.model.getState(),r=this.stateStack.getState();this.areStatesDifferentEnoughForUndoRedo(n,r)||(this._lastDebouncedTime=0,this.stateStack.addState(n),this.enqueueEvent("change"))},i.prototype.updateKeyboardMode=function(n){this.keyboardMode=n},i.prototype.getFocusedMathquill=function(){if(this.model.getFocusedExpressionId())return o.default.getFocusedMathquill()},i.prototype.ensureMathquillIsFocusedAndReturnFocusedMathquill=function(){var n=this.getFocusedMathquill();return n||(this.isLastExpressionEmpty()&&!this.model.isSingleExpression()?this.createAtEnd():this.focusLastExpression(),this.onEventEmitted&&this.onEventEmitted("render"),this.getFocusedMathquill())},i.prototype.typeIntoFocusedMathquill=function(n){n=n.replace(/\r|\n/g,"");var r=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();r&&o.default.canAcceptText(r,this.getCapExpressionSize(),n)&&(r.typedText(n),this.setLatexOfFocusedExpression(r.latex()),this.model.markShouldDebounceUndoRedo())},i.prototype.pressKeyInFocusedMathquill=function(n,r){if(this.getBrailleMode()==="none"){var m=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();if(m)if(n==="Up"||n==="Down"||n==="Left"||n==="Right"){var y=o.default.applyArrowKeyAndReturnIfWasAtBounds(m,n,r);y&&this.moveFocusInDirection(n)}else n==="Enter"?(r&&(r.preventDefault(),r.stopPropagation()),this.handleEnter()):n==="Backspace"?this.attemptToMoveFocusWithBackspace()||(m.keystroke(n,r),this.setLatexOfFocusedExpression(m.latex())):(m.keystroke(n,r),this.setLatexOfFocusedExpression(m.latex()))}},i.prototype.moveFocusInDirection=function(n){var r=this.model.getFocusedExpressionId();r&&(n==="Up"?this.model.focusPrevById(r):n==="Down"&&this.model.focusNextById(r))},i.prototype.handleEnter=function(){if(!this.model.isSingleExpression()){var n=this.model.getFocusedExpressionId();n&&(this.conditionallyCopyPrevious(n),this.createBlankAfterId(n))}},i.prototype.attemptToMoveFocusWithBackspace=function(){var n=this.model.getFocusedExpression();if(!n)return!1;var r=n.latex,m=n.id;return r===""&&(this.backspaceAtFrontOfId(m),!0)},i.prototype.executeCommandInFocusedMathquill=function(n){var r=this.ensureMathquillIsFocusedAndReturnFocusedMathquill();r&&(l.execute(r,n),this.setLatexOfFocusedExpression(r.latex()))},i.prototype.syncPublicSettings=function(){this.settingsProxy.setProperty("language",this.language),this.settingsProxy.setProperty("fontSize",this.fontSize),this.settingsProxy.setProperty("degreeMode",this.model.getDegreeMode()),this.settingsProxy.setProperty("invertedColors",this.invertedColors),this.settingsProxy.setProperty("backgroundColor",this.backgroundColor),this.settingsProxy.setProperty("textColor",this.textColor),this.settingsProxy.setProperty("brailleMode",this.brailleMode),this.settingsProxy.setProperty("sixKeyInput",this.sixKeyInput),this.settingsProxy.setProperty("brailleExpressionDownload",this.brailleExpressionDownload),this.settingsProxy.setProperty("projectorMode",this.projectorMode),this.settingsProxy.setProperty("capExpressionSize",this.capExpressionSize),this.settingsProxy.setProperty("decimalToFraction",this.decimalToFraction),this.settingsProxy.setProperty("qwertyKeyboard",this.options.qwertyKeyboard),this.settingsProxy.setProperty("links",this.options.links),this.settingsProxy.setProperty("settingsMenu",this.settingsMenu),this.settingsProxy.setProperty("functionDefinition",this.model.getFunctionDefinition()),this.settingsProxy.setProperty("replaceCommaWith10Exp",this.replaceCommaWith10Exp),this.settingsProxy.setProperty("replaceRoundWithReciprocal",this.model.getReplaceRoundWithReciprocal()),this.settingsProxy.setProperty("typingAsteriskWritesTimesSymbol",this.typingAsteriskWritesTimesSymbol)},i.prototype.hookUpDispatcher=function(){var n=this;this.dispatcher.register(function(r){n.enqueueEvent("render");var m=!1,y=n.getRestrictedEditing();switch(r.type){case"update-options":n.options=w.__assign(w.__assign({},n.options),r.options);break;case"keypad/shift":var v=void 0;switch(n.keyboardMode){case"qwerty":v="capitalQwerty";break;case"capitalQwerty":v="qwerty";break;case"letters":v="capitalLetters";break;case"capitalLetters":v="letters";break;default:v="qwerty"}n.updateKeyboardMode(v);break;case"undo":y||(n.undo({restoreFocus:r.source==="keyboard-shortcut"}),m=!0);break;case"redo":y||(n.redo({restoreFocus:r.source==="keyboard-shortcut"}),m=!0);break;case"clear-history":n.clearHistory();break;case"set-state-from-api":r.opts.allowUndo||n.clearHistory(),n.model.setStateFromAPI(r.state);break;case"main":n.updateKeyboardMode("main");break;case"ABC":n.options.qwertyKeyboard?n.updateKeyboardMode("qwerty"):n.updateKeyboardMode("letters");break;case"functions":n.updateKeyboardMode("functions");break;case"degrees":n.model.setDegreeMode(!n.model.getDegreeMode());break;case"update-degree-mode":n.model.setDegreeMode(!!r.mode);break;case"update-font-size":var x=r.size;if(typeof x!="number"&&(x=parseInt(x,10)),isNaN(x))return;n.fontSize=x;break;case"update-inverted-colors":n.invertedColors=!!r.mode;break;case"update-background-color":n.backgroundColor=r.color;break;case"update-text-color":n.textColor=r.color;break;case"update-projector-mode":n.setProjectorMode(!!r.mode);break;case"update-cap-expression-size":n.setCapExpressionSize(!!r.mode);break;case"update-decimal-to-fraction":n.setDecimalToFraction(!!r.mode);break;case"update-language":var E=r.language;E!=="en"&&Et.supportedLanguages.indexOf(E)===-1?s.warn("Translation for '"+E+"' isn't currently available. Using '"+n.language+"' instead."):n.language=E;break;case"set-blank":r.opts.allowUndo||n.clearHistory(),n.model.clear(),n.focusLastExpression();break;case"clear":n.model.clearFocusedExpression();break;case"set-braille-mode":var b=r.mode;b!=="nemeth"&&b!=="ueb"&&b!=="none"?s.warn("Valid Braille modes are 'nemeth', 'none', and 'ueb'. You passed '"+b+"'."):(n.model.clearCachedBrailleValues(),n.setBrailleMode(r.mode));break;case"set-six-key-input":n.setSixKeyInput(!!r.mode);break;case"set-braille-expression-download":n.setBrailleExpressionDownload(!!r.mode);break;case"set-replace-comma-with-10-exp":n.setReplaceCommaWith10Exp(!!r.replace);break;case"set-replace-round-with-reciprocal":n.setReplaceRoundWithReciprocal(!!r.replace);break;case"set-typing-asterisk-writes-times-symbol":n.setTypingAsteriskWritesTimesSymbol(!!r.mode);break;case"update-latex":n.model.markShouldDebounceUndoRedo(),n.setLatexById(r.id,r.latex);break;case"update-latex-from-braille":n.model.markShouldDebounceUndoRedo(),n.setLatexAndBrailleById(r.id,r.latex,r.braille);break;case"focusin":n.model.setFocusedById(r.id,!0);break;case"focusout":n.model.setFocusedById(r.id,!1);break;case"focus-first-expression":n.model.focusFirstExpression();break;case"focus-prev-expression":n.moveFocusInDirection("Up");break;case"focus-next-expression":n.moveFocusInDirection("Down");break;case"focus-last-expression":n.model.focusLastExpression();break;case"insert-blank-expression":n.handleEnter();break;case"backspace-from-braille":n.attemptToMoveFocusWithBackspace();break;case"keypad/type-text":n.typeIntoFocusedMathquill(r.text);break;case"keypad/press-key":n.pressKeyInFocusedMathquill(r.key,r.evt);break;case"keypad/custom-command":n.executeCommandInFocusedMathquill(r.command);break;case"keypad/123":case"keypad/abc":break;case"enable-settings-menu":n.enableSettingsMenu();break;case"disable-settings-menu":n.disableSettingsMenu();break;case"toggle-settings-menu":n.toggleSettingsMenu();break;case"close-settings-menu":n.closeSettingsMenu();break;case"render":break;case"ui/container-resized":n.containerSize=r.size;break;case"toggle-fraction-evaluation":n.toggleFractionEvaluationById(r.id);break;default:return r}n.runAfterDispatch(function(){return n.syncPublicSettings()}),m||(n.model.getShouldDebounceUndoRedo()?(n.commitUndoRedoDebounced(),n.model.clearShouldDebounceUndoRedo()):n.commitUndoRedoSynchronously())})},i}();u.default=d}),$("basic/dcgview-basic",["require","exports","tslib","dcgview"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.init=function(){this.controller=this.props.controller(),this.model=this.controller.model,this.dispatch=this.controller.dispatch,this.t=this.controller.t},a}(e.Class);u.DCGViewBasic=c}),$("loadcss!keypad/control-bar",function(){}),$("keypad/control-bar",["require","exports","tslib","dcgview","./dcgview-keypad","loadcss!./control-bar"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=function(a){function l(){return a!==null&&a.apply(this,arguments)||this}return w.__extends(l,a),l.prototype.template=function(){var h=this;return e.createElement("div",{class:e.const("dcg-keypad-control-bar dcg-do-not-blur"),role:e.const("group"),"aria-label":function(){return h.controller.t("Control Bar")}},e.createElement("div",{class:e.const("dcg-keypad-control-bar-contents")},this.children))},l}(c.default);u.default=t}),$("loadcss!keypad/control-btn",function(){}),$("keypad/control-btn",["require","exports","tslib","dcgview","loadcss!./control-btn"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.template=function(){var l=this;return e.createElement("div",{class:function(){return{"dcg-keypad-control-btn":!0,"dcg-disabled":l.isDisabled(),"dcg-selected":!l.isDisabled()&&l.isSelected(),"dcg-selectable-btn":!l.isDisabled()&&l.isSelectable(),"dcg-narrow-control-btn":l.props.narrowButton&&l.props.narrowButton()}},didMount:this.bindFn(this.didMount),role:e.const("button"),"aria-disabled":function(){return l.isDisabled()||void 0},"aria-label":function(){return l.getAriaLabel()},"dcg-command":this.props.command,onTap:this.bindFn(this.handleTap),"aria-pressed":function(){return l.hasPopup()||l.isDisabled()||!l.isSelectable()?void 0:l.isSelected()},"aria-expanded":function(){return l.hasPopup()&&!l.isDisabled()?l.isSelected():void 0},tabindex:this.bindFn(this.getTabIndex)},this.children)},a.prototype.getTabIndex=function(){return this.isDisabled()?void 0:this.props.ignoreInTabOrder&&this.props.ignoreInTabOrder()?-1:0},a.prototype.handleTap=function(l){this.isDisabled()||this.props.onTap(l)},a.prototype.getAriaLabel=function(){return this.props.ariaLabel?this.props.ariaLabel():this.props.command()},a.prototype.hasPopup=function(){return!!this.props.ariaPopup&&this.props.ariaPopup()},a.prototype.isDisabled=function(){return!!this.props.disabled&&this.props.disabled()},a.prototype.isSelected=function(){return!!this.props.selected&&this.props.selected()},a.prototype.isSelectable=function(){return!!this.props.selectable&&this.props.selectable()},a.prototype.didMount=function(l){this.props.didMount&&this.props.didMount(l)},a}(e.Class);u.default=c}),$("loadcss!dcgview-helpers/download-button",function(){}),$("dcgview-helpers/download-button",["require","exports","tslib","dcgview","browser","loadcss!./download-button"],function(B,u,w,e,c){function t(){if(!c.IS_SAFARI)return!1;var o=navigator.userAgent.match(/Version\/(\d+)/);return!(!o||!o[1])&&parseFloat(o[1])<11}function a(){return!c.IS_IE&&!t()&&document.createElement("a").download!==void 0}function l(){return a()||navigator.msSaveBlob!==void 0}Object.defineProperty(u,"__esModule",{value:!0}),u.canDownload=l;var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.init=function(){this.supportsDirectDownload=a()},s.prototype.template=function(){var p=this;return e.createElement("a",{role:e.const("button"),tabindex:function(){return p.props.enabled()?0:-1},"aria-disabled":function(){return!p.props.enabled()},class:function(){return{"dcg-download-button":!0,"dcg-disabled":!p.props.enabled(),"dcg-braille-equations":p.props.isBraille,"dcg-svg-button":p.props.isSvg}},didMount:this.bindFn(this.didMountDownload),didUnmount:this.bindFn(this.didUnmountDownload),didUpdate:this.bindFn(this.didUpdate),download:function(){return p.supportsDirectDownload?p.props.filename():void 0},onTap:function(g){if(!p.supportsDirectDownload&&navigator.msSaveOrOpenBlob){var d=p.props.data();d&&(navigator.msSaveOrOpenBlob(d,p.props.filename()),g.preventDefault())}}},e.createElement("i",{class:e.const("dcg-icon-download")}),e.createElement("span",null,function(){return p.props.text()}))},s.prototype.didMountDownload=function(p){this.downloadLink=p,this.didUpdate()},s.prototype.didUnmountDownload=function(){this.revokeBlobURL()},s.prototype.didUpdate=function(){this.updateDownloadURL(),this.cachedObjectURL&&(this.downloadLink.href=this.cachedObjectURL)},s.prototype.updateDownloadURL=function(){if(this.revokeBlobURL(),this.supportsDirectDownload){var p=this.props.data();p&&(this.cachedObjectURL=URL.createObjectURL(p))}},s.prototype.revokeBlobURL=function(){this.cachedObjectURL&&URL.revokeObjectURL(this.cachedObjectURL)},s}(e.Class);u.default=h}),$("lib/export-braille-equations",["require","exports","abraham","graphing-calc/models/expression","expressions/regression_view","core/lib/number-to-latex"],function(B,u,w,e,c,t){function a(p,g,d){if(d===void 0&&(d=!1),d&&(p=p.replace(/ /g,"\\ ")),g==="none")return p;var i=g==="nemeth"?w.latexToNemeth(p):w.latexToUeb(p);return i.isError?"":w.UnicodeBraille.toBrailleAscii(i.value)}function l(p,g){if(g==="none")return"";var d=[];d.push(a("Expression List",g,!0)),d.push(""),d.push("");for(var i="",n=p.getItemCount(),r=0;r<n;r++){var m=p.getItemModelByIndex(r);if(m&&!m.secret){i!==""&&m.type!=="folder"&&i!==m.folderId&&(d.push(o(a("End Folder",g,!0))),i="");var y="";switch(m.type){case"expression":if(!m.hidden){var v=s(m.displayIndex,g);y=m.latex;var x=[],E=m.formula;if(E&&!e.isEmpty(m)){if(p.shouldShowEvaluationForItem(m.id)){var b=E.zero_values&&E.zero_values.length?E.zero_values[0].val:E.constant_value;Array.isArray(b)?y+="\\ "+b.length+"\\ element\\ list":y+="="+b}else if(e.shouldShowCDFFooter(m))x.push(a("Min="+e.getCDFMin(m),g,!1)),x.push(a("Max="+e.getCDFMax(m),g,!1)),e.isCDFMaxValid(m)&&e.isCDFMinValid(m)&&x.push(a("CDF="+e.getCDFEvaluation(m),g,!1));else if(e.isTTest(m)){var f=e.getTTestResults(m);f&&(x.push(a("<"+t.numberToStatsConfidenceLatex(f.lessThan,5),g,!1)),x.push(a(">"+t.numberToStatsConfidenceLatex(f.greaterThan,5),g,!1)),x.push(a("\\ne"+t.numberToStatsConfidenceLatex(f.notEqual,5),g,!1)))}else if(E.is_regression&&E.regression){var S=E.regression,j=S.statistics,Q=S.parameters;j.hasOwnProperty("Rsquared")&&x.push(a("R^2="+c.getRoundedStat(S,"Rsquared"),g,!1)),j.hasOwnProperty("rsquared")&&x.push(a("r^2="+c.getRoundedStat(S,"rsquared"),g,!1)),j.hasOwnProperty("r")&&x.push(a("r="+c.getRoundedStat(S,"r"),g,!1)),j.hasOwnProperty("RMSE")&&x.push(a("\\operatorname{RMSE}="+c.getRoundedStat(S,"RMSE"),g,!1));for(var G in Q)x.push(a(G+"="+c.getRoundedParam(S,G),g,!1))}}d.push(v+"  "+a(y,g,!1)),d.push.apply(d,x)}break;case"text":d.push(a(m.text,g,!0));break;case"folder":m.collapsed?y="Collapsed Folder "+m.title:(y="Start Folder "+m.title,i=m.id),d.push(o(a(y,g,!0)));break;case"image":d.push(a("Image",g,!1));break;case"table":d.push(o(a("Start Table",g,!0)));for(var q=0,L=m.rowModels;q<L.length;q++){for(var M=L[q],D=[],V=0,W=M.cells;V<W.length;V++){var N=W[V],re="";if(N.type==="header")re=N.latex||"";else if(N.type==="cell"){var Y=N.column.index,O=N.row.index-1,ee=N.column.disabled;re=ee?N.column.computedValues[O]||"":m.columns[Y].values[O]||""}D.push(a(re,g))}var oe=D.join("	");/^\t/.test(oe)||d.push(oe)}d.push(o(a("End Table",g,!0)));break;default:return m}}}return i!==""&&d.push(o(a("End Folder",g,!0))),d.join(`
`)}function h(p,g){if(g==="none")return"";var d=[];d.push(a("Expression List",g,!0)),d.push(""),d.push("");for(var i=0,n=p.getExpressionOrder();i<n.length;i++){var r=n[i],m=s(p.getExpressionIndex(r)+1,g),y=p.getExpressionLatex(r),v=p.getExpressionValue(r);v!==void 0&&(y+="="+v),d.push(m+"  "+a(y,g,!1))}return d.join(`
`)}function o(p){var g="--------------------";return g+`
`+p+`
`+g}function s(p,g){var d=""+p;return g==="nemeth"?a(d,g,!1)+"_4":g==="ueb"?a(d+".",g,!1):""}Object.defineProperty(u,"__esModule",{value:!0}),u.getBrailleEquationsGraphing=l,u.getBrailleEquationsBasic=h}),$("loadcss!basic/settings-menu",function(){}),$("basic/settings-menu",["require","exports","tslib","keys","dcgview","./dcgview-basic","jquery","dcgview-helpers/download-button","lib/export-braille-equations","loadcss!./settings-menu"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=c.Components.If,s=function(p){function g(){return p!==null&&p.apply(this,arguments)||this}return w.__extends(g,p),g.prototype.template=function(){var d=this;return c.createElement("div",{class:function(){return{"dcg-settings-dropdown":!0,"dcg-popover":!0,"dcg-has-background-color":d.controller.hasBackgroundColor(),"dcg-point-left":d.controller.containerSize.height<=420}},role:c.const("complementary"),"aria-label":c.const("Settings Menu"),didMount:this.bindFn(this.didMountSettingsDropdown),didUnmount:this.bindFn(this.didUnmountSettingsDropdown)},c.createElement("div",{class:c.const("dcg-popover-interior"),style:function(){return{background:d.controller.getBackgroundColor()}}},c.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-modern-btn":!0,"dcg-action-projectormode":!0,"dcg-active":d.controller.isProjectorMode()}},role:c.const("button"),onTap:this.bindFn(this.onToggleProjectorMode),tabindex:c.const(0),"aria-label":function(){return d.controller.t("Projector Mode")},"aria-pressed":function(){return d.controller.isProjectorMode()}},function(){return d.controller.t("Projector Mode")}),c.createElement("div",{class:function(){return{"dcg-settings-menu-option":!0,"dcg-braille-container":!0}}},c.createElement("div",{class:c.const("dcg-group-title")},function(){return d.controller.t("Braille Mode")}),c.createElement("div",{role:c.const("group"),"aria-label":function(){return d.controller.t("Braille Mode")},class:c.const("dcg-braille-options-buttons")},c.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-selected":d.isLatex()}},role:c.const("button"),onTap:function(){return d.setBrailleMode("none")},tabindex:c.const(0),"aria-label":function(){return d.controller.t("Off")},"aria-pressed":function(){return d.isLatex()}},function(){return d.controller.t("Off")}),c.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-selected":d.isNemeth()}},role:c.const("button"),onTap:function(){return d.setBrailleMode("nemeth")},tabindex:c.const(0),"aria-label":function(){return d.controller.t("Nemeth")},"aria-pressed":function(){return d.isNemeth()}},function(){return d.controller.t("Nemeth")}),c.createElement("span",{class:function(){return{"dcg-braille-option":!0,"dcg-selected":d.isUEB()}},role:c.const("button"),onTap:function(){return d.setBrailleMode("ueb")},tabindex:c.const(0),"aria-label":function(){return d.controller.t("UEB")},"aria-pressed":function(){return d.isUEB()}},function(){return d.controller.t("UEB")})),c.createElement(o,{predicate:function(){return d.controller.renderAsBraille()}},function(){return c.createElement("div",null,c.createElement("div",{role:c.const("checkbox"),tabindex:c.const(0),onTap:function(){return d.onToggleSixKeyInput()},"aria-checked":function(){return d.controller.getSixKeyInput()},"aria-label":function(){return d.controller.t("Six Key Braille Input")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-six-key-checkbox":!0,"dcg-checked":d.controller.getSixKeyInput(),"dcg-checkbox-container":!0}},handleEvent:c.const(!0)},c.createElement("span",{class:c.const("dcg-checkbox-box")},c.createElement("i",{class:c.const("dcg-icon-check")})),c.createElement("span",{class:c.const("dcg-checkbox-label")},function(){return d.controller.t("Six Key Braille Input")})),c.createElement("a",{href:c.const("https://www.desmos.com/accessibility#braille"),class:c.const("dcg-six-key-info"),target:c.const("_blank")},c.createElement("i",{class:c.const("dcg-icon-question-sign")})),c.createElement(o,{predicate:function(){return l.canDownload()&&d.controller.getBrailleExpressionDownload()}},function(){return c.createElement(l.default,{data:function(){var i=h.getBrailleEquationsBasic(d.model,d.controller.getBrailleMode());return new Blob([i],{type:"text/plain"})},enabled:d.const(!0),filename:d.const("desmos-equations.brl"),text:function(){return d.controller.t("Download Braille Equations")},isBraille:d.const(!0)})}))})),c.createElement("div",{role:c.const("checkbox"),tabindex:c.const(0),onTap:this.bindFn(this.onToggleInvertedColors),"aria-checked":function(){return d.controller.getInvertedColors()},"aria-label":function(){return d.controller.t("Reverse Contrast")},class:function(){return{"dcg-settings-menu-option":!0,"dcg-do-not-blur":!0,"dcg-checked":d.controller.getInvertedColors(),"dcg-checkbox-container":!0,"dcg-reverse-contrast":!0}},handleEvent:c.const(!0)},c.createElement("span",{class:c.const("dcg-checkbox-box")},c.createElement("i",{class:c.const("dcg-icon-check")})),c.createElement("span",{class:c.const("dcg-checkbox-label")},function(){return d.controller.t("Reverse Contrast")})),c.createElement(o,{predicate:function(){return!!d.getVersionNumber()}},function(){return c.createElement("div",{class:c.const("dcg-version-number")},c.const("Version: "),function(){return d.getVersionNumber()})})))},g.prototype.getVersionNumber=function(){var d=window;if(d&&d.AppBridge)return d.AppBridge.versionNumber},g.prototype.didUnmountSettingsDropdown=function(){a(document).off(".dcg-settings-view")},g.prototype.didMountSettingsDropdown=function(d){var i=this;this.settingsGroupNode=d,a(document).on("dcg-tapstart.dcg-settings-view",function(n){a(n.target).closest(".dcg-basic-settings-container").length===0&&i.controller.dispatch({type:"close-settings-menu"})}),a(document).on("keydown.dcg-settings-view",function(n){if(e.lookup(n)==="Esc"&&(i.controller.dispatch({type:"close-settings-menu"}),i.controller.dispatch({type:"focus-last-expression"})),e.lookup(n)==="Tab"&&!n.altKey&&!n.metaKey&&!n.ctrlKey){var r=document.activeElement,m=a(i.props.settingsButtonNode()),y=a(i.settingsGroupNode).find(".dcg-settings-menu-option:last");n.shiftKey||r!==y[0]?n.shiftKey&&r===m[0]&&(y.focus(),n.preventDefault(),n.stopPropagation()):(m.focus(),n.preventDefault(),n.stopPropagation())}})},g.prototype.setBrailleMode=function(d){this.controller.dispatch({type:"set-braille-mode",mode:d})},g.prototype.isNemeth=function(){return this.controller.getBrailleMode()==="nemeth"},g.prototype.isUEB=function(){return this.controller.getBrailleMode()==="ueb"},g.prototype.isLatex=function(){return this.controller.getBrailleMode()==="none"},g.prototype.onToggleSixKeyInput=function(){var d=!this.controller.getSixKeyInput();this.controller.dispatch({type:"set-six-key-input",mode:d})},g.prototype.onToggleInvertedColors=function(){var d=!this.controller.getInvertedColors();this.controller.dispatch({type:"update-inverted-colors",mode:d})},g.prototype.onToggleProjectorMode=function(){this.controller.dispatch({type:"update-projector-mode",mode:!this.controller.isProjectorMode()})},g}(t.DCGViewBasic);u.SettingsMenu=s}),$("loadcss!basic/keypad/settings-control-button",function(){}),$("basic/keypad/settings-control-button",["require","exports","tslib","dcgview","keypad/control-btn","basic/dcgview-basic","basic/settings-menu","loadcss!./settings-control-button"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=e.Components.If,h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){var p=this,g=this.props.controller();return e.createElement("div",{class:e.const("dcg-basic-settings-container")},e.createElement(c.default,{didMount:function(d){return p.settingsButtonNode=d},command:this.const("settings"),ariaLabel:function(){return g.t("settings")},onTap:this.bindFn(this.onToggleSettingsMenu),selected:function(){return p.controller.isSettingsMenuOpen()},ariaPopup:this.const(!0)},e.createElement("i",{class:e.const("dcg-icon-wrench")})),e.createElement(l,{predicate:function(){return p.controller.isSettingsMenuOpen()}},function(){return e.createElement(a.SettingsMenu,{controller:p.props.controller,settingsButtonNode:function(){return p.settingsButtonNode}})}))},s.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},s}(t.DCGViewBasic);u.default=h}),$("basic/keypad/fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./settings-control-button","basic/dcgview-basic"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components,o=h.If,s=h.IfElse,p=function(g){function d(){return g!==null&&g.apply(this,arguments)||this}return w.__extends(d,g),d.prototype.template=function(){var i=this,n=this.props.controller();return e.createElement(c.default,{controller:this.props.controller},e.createElement(o,{predicate:function(){return!i.controller.getRestrictedEditing()}},function(){return e.createElement(t.default,{command:i.const("undo"),disabled:function(){return!n.canUndo()},ariaLabel:function(){return n.t("undo")},onTap:function(r){return n.dispatch({type:"undo",source:r.device==="keyboard"?"button-keyboard":"button-tap"})}},e.createElement("i",{class:e.const("dcg-icon-undo")}))}),e.createElement(o,{predicate:function(){return!i.controller.getRestrictedEditing()}},function(){return e.createElement(t.default,{command:i.const("redo"),disabled:function(){return!n.canRedo()},ariaLabel:function(){return n.t("redo")},onTap:function(r){return n.dispatch({type:"redo",source:r.device==="keyboard"?"button-keyboard":"button-tap"})}},e.createElement("i",{class:e.const("dcg-icon-redo")}))}),s(function(){return n.shouldShowClear()},{true:function(){return e.createElement(t.default,{command:i.const("clear"),ariaLabel:function(){return n.t("clear")},onTap:function(){return n.dispatch({type:"clear"})}},function(){return n.t("clear")})},false:function(){return e.createElement(t.default,{command:i.const("clearall"),disabled:function(){return!n.canClear()},ariaLabel:function(){return n.t("clear all")},onTap:function(){return n.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return n.t("clear all")})}}),e.createElement(o,{predicate:function(){return i.controller.getRestrictedEditing()}},function(){return e.createElement("div",{class:e.const("dcg-spacer-2")})}),e.createElement(o,{predicate:function(){return n.getBrailleMode()==="none"}},function(){return e.createElement(t.default,{command:i.const("backspace"),ariaLabel:function(){return n.t("backspace")},disabled:function(){return!n.canBackspace()},onTap:function(){return n.dispatch({type:"keypad/press-key",key:"Backspace"})}},e.createElement("i",{class:e.const("dcg-icon-delete")}))}),e.createElement(o,{predicate:function(){return i.props.controller().getSettingsMenu()}},function(){return e.createElement(a.default,{controller:i.props.controller})}))},d.prototype.onToggleSettingsMenu=function(){this.controller.dispatch({type:"toggle-settings-menu"})},d}(l.DCGViewBasic);u.default=p}),$("basic/keypad/single-expression-fourfunction-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=e.Components.If,h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){var p=this,g=this.props.controller();return e.createElement(c.default,{controller:this.props.controller},e.createElement(l,{predicate:function(){return!p.controller.getRestrictedEditing()}},function(){return e.createElement(t.default,{command:p.const("undo"),disabled:function(){return!g.canUndo()},ariaLabel:function(){return g.t("undo")},onTap:function(d){return g.dispatch({type:"undo",source:d.device==="keyboard"?"button-keyboard":"button-tap"})}},e.createElement("i",{class:e.const("dcg-icon-undo")}))}),e.createElement(l,{predicate:function(){return!p.controller.getRestrictedEditing()}},function(){return e.createElement(t.default,{command:p.const("redo"),disabled:function(){return!g.canRedo()},ariaLabel:function(){return g.t("redo")},onTap:function(d){return g.dispatch({type:"redo",source:d.device==="keyboard"?"button-keyboard":"button-tap"})}},e.createElement("i",{class:e.const("dcg-icon-redo")}))}),e.createElement(t.default,{command:this.const("clear"),ariaLabel:function(){return g.t("clear")},onTap:function(){return g.dispatch({type:"clear"})}},function(){return g.t("clear")}),e.createElement(l,{predicate:function(){return p.controller.getRestrictedEditing()}},function(){return e.createElement("div",{class:e.const("dcg-spacer-2")})}),e.createElement(l,{predicate:function(){return g.getBrailleMode()==="none"}},function(){return e.createElement(t.default,{command:p.const("backspace"),ariaLabel:function(){return g.t("backspace")},disabled:function(){return!g.canBackspace()},onTap:function(){return g.dispatch({type:"keypad/press-key",key:"Backspace"})}},e.createElement("i",{class:e.const("dcg-icon-delete")}))}))},s}(a.DCGViewBasic);u.default=h}),$("loadcss!keypad/control-toggle",function(){}),$("keypad/control-toggle",["require","exports","tslib","lib/aria","core/lib/color-helpers","dcgview","./dcgview-keypad","loadcss!./control-toggle"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.template=function(){var s=this;return t.createElement("div",{class:function(){return{"dcg-keypad-control-toggle":!0,"dcg-toggled":s.props.toggled()}},role:t.const("button"),tabindex:t.const("0"),"aria-label":this.bindFn(this.getAriaLabel),onTap:this.bindFn(this.handleTap)},t.createElement("div",{class:t.const("dcg-ctrl-toggle-option")},this.props.defaultOption),t.createElement("div",{class:t.const("dcg-ctrl-toggle-option")},this.props.toggledOption),t.createElement("div",{class:t.const("dcg-ctrl-toggle-cover"),style:function(){return{background:c.shadeColor(s.controller.getBackgroundColor(),-.1)}}}))},o.prototype.getAriaLabel=function(){var s={toggled:this.props.toggledAriaLabel(),default:this.props.defaultAriaLabel()};return this.props.toggled()?this.controller.t("__toggled__ selected. Press Enter to switch to __default__.",s):this.controller.t("__default__ selected. Press Enter to switch to __toggled__.",s)},o.prototype.handleTap=function(){this.props.toggled()?e.alert(this.props.defaultAriaLabel()):e.alert(this.props.toggledAriaLabel()),this.props.onTap(this.props.command())},o}(a.default);u.default=l}),$("basic/keypad/scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle","./settings-control-button"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=e.Components,s=o.If,p=o.IfElse,g=function(d){function i(){return d!==null&&d.apply(this,arguments)||this}return w.__extends(i,d),i.prototype.template=function(){var n=this,r=this.props.controller();return e.createElement(c.default,{controller:this.props.controller},e.createElement(t.default,{command:this.const("main"),selected:function(){return r.getKeyboardMode()==="main"},disabled:function(){return n.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return r.dispatch({type:"main"})},ariaLabel:function(){return r.t("main")}},function(){return r.t("main")}),e.createElement(t.default,{command:this.const("ABC"),selected:function(){return["qwerty","capitalQwerty","letters"].indexOf(r.getKeyboardMode())!==-1},disabled:function(){return n.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return r.t("A B C")},onTap:function(){return r.dispatch({type:"ABC"})}},function(){return r.t("abc")}),e.createElement(t.default,{command:this.const("functions"),selected:function(){return["functions","restrictedFunctions"].indexOf(r.getKeyboardMode())!==-1},ariaLabel:function(){return r.t("Functions")},disabled:function(){return n.controller.renderAsBraille()},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return r.dispatch({type:"functions"})}},function(){return r.t("func")}),e.createElement(l.default,{command:this.const("degrees"),toggled:function(){return n.model.getDegreeMode()},defaultOption:function(){return r.t("rad")},toggledOption:function(){return r.t("deg")},defaultAriaLabel:function(){return r.t("Radians")},toggledAriaLabel:function(){return r.t("Degrees")},onTap:function(){return r.dispatch({type:"degrees"})},controller:this.props.controller}),e.createElement(s,{predicate:function(){return!n.controller.getRestrictedEditing()}},function(){return e.createElement(t.default,{command:n.const("undo"),disabled:function(){return!r.canUndo()},ariaLabel:function(){return r.t("Undo")},onTap:function(m){return r.dispatch({type:"undo",source:m.device==="keyboard"?"button-keyboard":"button-tap"})}},e.createElement("i",{class:e.const("dcg-icon-undo")}))}),e.createElement(s,{predicate:function(){return!n.controller.getRestrictedEditing()}},function(){return e.createElement(t.default,{command:n.const("redo"),disabled:function(){return!r.canRedo()},ariaLabel:function(){return r.t("Redo")},onTap:function(m){return r.dispatch({type:"redo",source:m.device==="keyboard"?"button-keyboard":"button-tap"})}},e.createElement("i",{class:e.const("dcg-icon-redo")}))}),p(function(){return r.shouldShowClear()},{true:function(){return e.createElement(t.default,{command:n.const("clear"),ariaLabel:function(){return r.t("clear")},onTap:function(){return r.dispatch({type:"clear"})}},function(){return r.t("clear")})},false:function(){return e.createElement(t.default,{command:n.const("clearall"),disabled:function(){return!r.canClear()},ariaLabel:function(){return r.t("clear all")},onTap:function(){return r.dispatch({type:"set-blank",opts:{allowUndo:!0}})}},function(){return r.t("clear all")})}}),e.createElement(s,{predicate:function(){return n.props.controller().getSettingsMenu()}},function(){return e.createElement(h.default,{controller:n.props.controller})}))},i}(a.DCGViewBasic);u.default=g}),$("basic/keypad/single-expression-scientific-control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","basic/dcgview-basic","keypad/control-toggle"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components.If,o=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(p,s),p.prototype.template=function(){var g=this,d=this.props.controller();return e.createElement(c.default,{controller:this.props.controller},e.createElement(l.default,{command:this.const("degrees"),toggled:function(){return g.model.getDegreeMode()},defaultOption:function(){return d.t("rad")},toggledOption:function(){return d.t("deg")},defaultAriaLabel:function(){return d.t("Radians")},toggledAriaLabel:function(){return d.t("Degrees")},onTap:function(){return d.dispatch({type:"degrees"})},controller:this.props.controller}),e.createElement("div",{class:e.const("dcg-spacer")}),e.createElement(h,{predicate:function(){return!g.controller.getRestrictedEditing()}},function(){return e.createElement(t.default,{command:g.const("undo"),disabled:function(){return!d.canUndo()},ariaLabel:function(){return d.t("Undo")},onTap:function(i){return d.dispatch({type:"undo",source:i.device==="keyboard"?"button-keyboard":"button-tap"})}},e.createElement("i",{class:e.const("dcg-icon-undo")}))}),e.createElement(h,{predicate:function(){return!g.controller.getRestrictedEditing()}},function(){return e.createElement(t.default,{command:g.const("redo"),disabled:function(){return!d.canRedo()},ariaLabel:function(){return d.t("Redo")},onTap:function(i){return d.dispatch({type:"redo",source:i.device==="keyboard"?"button-keyboard":"button-tap"})}},e.createElement("i",{class:e.const("dcg-icon-redo")}))}),e.createElement("div",{class:e.const("dcg-spacer")}),e.createElement(t.default,{narrowButton:this.const(!0),command:this.const("clear"),ariaLabel:function(){return d.t("clear")},onTap:function(){return d.dispatch({type:"clear"})}},function(){return d.t("clear")}),e.createElement(t.default,{narrowButton:this.const(!0),command:this.const("backspace"),ariaLabel:function(){return d.t("backspace")},onTap:function(){return d.dispatch({type:"keypad/press-key",key:"Backspace"})}},e.createElement("i",{class:e.const("dcg-icon-delete")})))},p}(a.DCGViewBasic);u.default=o}),$("basic/keypad/fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){var p=this;return e.createElement("div",{role:e.const("group"),"aria-label":function(){return p.t("keypad")}},e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"(",{colspan:this.parenColspan()}),t.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(0),this.makeAdditionalFunctionKey(1),t.view(this,"/")),e.createElement(l.default,null,t.view(this,"7",{style:"highlight"}),t.view(this,"8",{style:"highlight"}),t.view(this,"9",{style:"highlight"}),t.view(this,"*")),e.createElement(l.default,null,t.view(this,"4",{style:"highlight"}),t.view(this,"5",{style:"highlight"}),t.view(this,"6",{style:"highlight"}),t.view(this,"-")),e.createElement(l.default,null,t.view(this,"1",{style:"highlight"}),t.view(this,"2",{style:"highlight"}),t.view(this,"3",{style:"highlight"}),t.view(this,"+")),e.createElement(l.default,null,t.view(this,"0",{style:"highlight"}),t.view(this,".",{style:"highlight"}),t.view(this,"ans"),t.view(this,"enter",{style:"blue"}))))},s.prototype.parenColspan=function(){return this.controller.getAdditionalFunctions().length>1?.5:1},s.prototype.makeAdditionalFunctionKey=function(p){var g=this.controller.getAdditionalFunctions()[p];return g==="exponent"?t.view(this,"a^b"):g==="percent"?t.view(this,"%"):g==="sqrt"?t.view(this,"sqrt"):void 0},s}(c.DCGViewBasic);u.default=h}),$("basic/keypad/single-expression-fourfunction-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){var p=this;return e.createElement("div",{role:e.const("group"),"aria-label":function(){return p.t("keypad")}},e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"(",{colspan:this.parenColspan()}),t.view(this,")",{colspan:this.parenColspan()}),this.makeAdditionalFunctionKey(1)),e.createElement(l.default,null,t.view(this,"7",{style:"highlight"}),t.view(this,"8",{style:"highlight"}),t.view(this,"9",{style:"highlight"}),t.view(this,"/")),e.createElement(l.default,null,t.view(this,"4",{style:"highlight"}),t.view(this,"5",{style:"highlight"}),t.view(this,"6",{style:"highlight"}),t.view(this,"*")),e.createElement(l.default,null,t.view(this,"1",{style:"highlight"}),t.view(this,"2",{style:"highlight"}),t.view(this,"3",{style:"highlight"}),t.view(this,"-")),e.createElement(l.default,null,t.view(this,"0",{style:"highlight"}),t.view(this,".",{style:"highlight",colspan:this.dotColspan()}),this.makeAdditionalFunctionKey(0),t.view(this,"+"))))},s.prototype.parenColspan=function(){return this.controller.getAdditionalFunctions().length===2?1.5:2},s.prototype.dotColspan=function(){return this.controller.getAdditionalFunctions().length?1:2},s.prototype.makeAdditionalFunctionKey=function(p){var g=this.controller.getAdditionalFunctions()[p];return g==="exponent"?t.view(this,"a^b"):g==="percent"?t.view(this,"%"):g==="sqrt"?t.view(this,"sqrt"):void 0},s}(c.DCGViewBasic);u.default=h}),$("basic/keypad/single-expression-scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"("),t.view(this,")"),t.view(this,"x^2"),t.view(this,"sqrt"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"x^3"),t.view(this,"x^y"),t.view(this,"ythroot")),e.createElement(l.default,null,t.view(this,"7",{style:"highlight"}),t.view(this,"8",{style:"highlight"}),t.view(this,"9",{style:"highlight"}),t.view(this,"/"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"pi"),t.view(this,"e^x"),t.view(this,"!")),e.createElement(l.default,null,t.view(this,"4",{style:"highlight"}),t.view(this,"5",{style:"highlight"}),t.view(this,"6",{style:"highlight"}),t.view(this,"*"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"log"),t.view(this,"ln"),t.view(this,"|x|")),e.createElement(l.default,null,t.view(this,"1",{style:"highlight"}),t.view(this,"2",{style:"highlight"}),t.view(this,"3",{style:"highlight"}),t.view(this,"-"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"sin"),t.view(this,"cos"),t.view(this,"tan")),e.createElement(l.default,null,t.view(this,"0",{style:"highlight"}),t.view(this,".",{style:"highlight"}),t.view(this,"x/y"),t.view(this,"+"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"arcsin"),t.view(this,"arccos"),t.view(this,"arctan")))},s}(c.DCGViewBasic);u.default=h}),$("basic/keypad/sci-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components.IfElse,o=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(p,s),p.prototype.template=function(){var g=this;return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"a^2"),t.view(this,"a^b"),t.view(this,"|a|"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"7",{style:"highlight"}),t.view(this,"8",{style:"highlight"}),t.view(this,"9",{style:"highlight"}),t.view(this,"/"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"%"),t.view(this,"a/b")),e.createElement(l.default,null,t.view(this,"sqrt"),t.view(this,"nthroot"),t.view(this,"pi"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"4",{style:"highlight"}),t.view(this,"5",{style:"highlight"}),t.view(this,"6",{style:"highlight"}),t.view(this,"*"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"left",{style:"highlight"}),t.view(this,"right",{style:"highlight"})),e.createElement(l.default,null,t.view(this,"sin"),t.view(this,"cos"),t.view(this,"tan"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"1",{style:"highlight"}),t.view(this,"2",{style:"highlight"}),t.view(this,"3",{style:"highlight"}),t.view(this,"-"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.spacer(.5),t.view(this,"backspace",{style:"highlight",colspan:1.5})),e.createElement(l.default,null,t.view(this,"("),t.view(this,")"),h(function(){return g.controller.getReplaceCommaWith10Exp()},{true:function(){return t.view(g,"10^n")},false:function(){return t.view(g,",")}}),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"0",{style:"highlight"}),t.view(this,".",{style:"highlight"}),t.view(this,"ans"),t.view(this,"+"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"enter",{style:"blue",colspan:2})))},p}(c.DCGViewBasic);u.default=o}),$("basic/keypad/sci-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"q"),t.view(this,"w"),t.view(this,"e"),t.view(this,"r"),t.view(this,"t"),t.view(this,"y"),t.view(this,"u"),t.view(this,"i"),t.view(this,"o"),t.view(this,"p")),e.createElement(l.default,null,e.createElement("div",{class:e.const("dcg-half-width-placeholder")}),t.view(this,"a"),t.view(this,"s"),t.view(this,"d"),t.view(this,"f"),t.view(this,"g"),t.view(this,"h"),t.view(this,"j"),t.view(this,"k"),t.view(this,"l"),e.createElement("div",{class:e.const("dcg-half-width-placeholder")})),e.createElement(l.default,null,t.view(this,"=",{style:"highlight"}),t.view(this,"z"),t.view(this,"x"),t.view(this,"c"),t.view(this,"v"),t.view(this,"b"),t.view(this,"n"),t.view(this,"m"),t.view(this,","),t.view(this,"backspace",{style:"highlight"})),e.createElement(l.default,null,t.view(this,"shift",{style:"highlight",colspan:1.5}),t.view(this,"("),t.view(this,")"),t.view(this,"["),t.view(this,"]"),t.view(this,"!"),t.view(this,"'"),t.view(this,"pi"),t.view(this,"enter",{style:"blue",colspan:1.5})))},s}(c.DCGViewBasic);u.default=h}),$("basic/keypad/sci-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"a"),t.view(this,"b"),t.view(this,"c"),t.view(this,"d"),t.view(this,"e"),t.view(this,"f"),t.view(this,"g"),t.view(this,"h"),t.view(this,"i"),t.view(this,"j")),e.createElement(l.default,null,t.view(this,"k"),t.view(this,"l"),t.view(this,"m"),t.view(this,"n"),t.view(this,"o"),t.view(this,"p"),t.view(this,"q"),t.view(this,"r"),t.view(this,"s"),t.view(this,"t")),e.createElement(l.default,null,t.view(this,"=",{style:"highlight"}),t.view(this,","),t.view(this,"u"),t.view(this,"v"),t.view(this,"w"),t.view(this,"x"),t.view(this,"y"),t.view(this,"z"),t.view(this,"pi"),t.view(this,"backspace",{style:"highlight"})),e.createElement(l.default,null,t.view(this,"shift",{style:"highlight",colspan:2}),t.view(this,"("),t.view(this,")"),t.view(this,"["),t.view(this,"]"),t.view(this,"!"),t.view(this,"'"),t.view(this,"enter",{style:"blue",colspan:2})))},s}(c.DCGViewBasic);u.default=h}),$("basic/keypad/sci-capital-qwerty-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"Q"),t.view(this,"W"),t.view(this,"E"),t.view(this,"R"),t.view(this,"T"),t.view(this,"Y"),t.view(this,"U"),t.view(this,"I"),t.view(this,"O"),t.view(this,"P")),e.createElement(l.default,null,e.createElement("div",{class:e.const("dcg-half-width-placeholder")}),t.view(this,"A"),t.view(this,"S"),t.view(this,"D"),t.view(this,"F"),t.view(this,"G"),t.view(this,"H"),t.view(this,"J"),t.view(this,"K"),t.view(this,"L"),e.createElement("div",{class:e.const("dcg-half-width-placeholder")})),e.createElement(l.default,null,t.view(this,"=",{style:"highlight"}),t.view(this,"Z"),t.view(this,"X"),t.view(this,"C"),t.view(this,"V"),t.view(this,"B"),t.view(this,"N"),t.view(this,"M"),t.view(this,","),t.view(this,"backspace",{style:"highlight"})),e.createElement(l.default,null,t.view(this,"shift",{style:"highlight",colspan:1.5}),t.view(this,"("),t.view(this,")"),t.view(this,"["),t.view(this,"]"),t.view(this,"!"),t.view(this,"'"),t.view(this,"pi"),t.view(this,"enter",{style:"blue",colspan:1.5})))},s}(c.DCGViewBasic);u.default=h}),$("basic/keypad/sci-capital-letters-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"A"),t.view(this,"B"),t.view(this,"C"),t.view(this,"D"),t.view(this,"E"),t.view(this,"F"),t.view(this,"G"),t.view(this,"H"),t.view(this,"I"),t.view(this,"J")),e.createElement(l.default,null,t.view(this,"K"),t.view(this,"L"),t.view(this,"M"),t.view(this,"N"),t.view(this,"O"),t.view(this,"P"),t.view(this,"Q"),t.view(this,"R"),t.view(this,"S"),t.view(this,"T")),e.createElement(l.default,null,t.view(this,"=",{style:"highlight"}),t.view(this,","),t.view(this,"U"),t.view(this,"V"),t.view(this,"W"),t.view(this,"X"),t.view(this,"Y"),t.view(this,"Z"),t.view(this,"pi"),t.view(this,"backspace",{style:"highlight"})),e.createElement(l.default,null,t.view(this,"shift",{style:"highlight",colspan:2}),t.view(this,"("),t.view(this,")"),t.view(this,"["),t.view(this,"]"),t.view(this,"!"),t.view(this,"'"),t.view(this,"enter",{style:"blue",colspan:2})))},s}(c.DCGViewBasic);u.default=h}),$("basic/keypad/sci-functions-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=e.Components.IfElse,o=function(s){function p(){return s!==null&&s.apply(this,arguments)||this}return w.__extends(p,s),p.prototype.template=function(){var g=this;return e.createElement("div",{class:e.const("dcg-sci-func-keypad")},e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"sin"),t.view(this,"cos"),t.view(this,"tan"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"a^b"),t.view(this,"sqrt"),t.view(this,"nthroot")),e.createElement(l.default,null,t.view(this,"arcsin"),t.view(this,"arccos"),t.view(this,"arctan"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"e^x"),t.view(this,"abs"),h(function(){return g.controller.getReplaceRoundWithReciprocal()},{true:function(){return t.view(g,"a^{-1}")},false:function(){return t.view(g,"round")}})),e.createElement(l.default,null,t.view(this,"mean"),t.view(this,"stdev"),t.view(this,"stdevp"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"ln"),t.view(this,"log"),t.view(this,"backspace",{style:"highlight"})),e.createElement(l.default,null,t.view(this,"nPr"),t.view(this,"nCr"),t.view(this,"!"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),t.view(this,"e"),t.view(this,"pi"),t.view(this,"enter",{style:"blue"}))))},p}(c.DCGViewBasic);u.default=o}),$("basic/keypad/scientific-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./sci-keypad","./sci-qwerty-keypad","./sci-letters-keypad","./sci-capital-qwerty-keypad","./sci-capital-letters-keypad","./sci-functions-keypad"],function(B,u,w,e,c,t,a,l,h,o,s){Object.defineProperty(u,"__esModule",{value:!0});var p=e.Components.SwitchUnion,g=function(d){function i(){return d!==null&&d.apply(this,arguments)||this}return w.__extends(i,d),i.prototype.template=function(){var n=this;return e.createElement("div",{role:e.const("group"),"aria-label":function(){return n.t("keypad")}},p(function(){return n.controller.getKeyboardMode()},{qwerty:function(){return e.createElement(a.default,{controller:n.props.controller})},letters:function(){return e.createElement(l.default,{controller:n.props.controller})},capitalQwerty:function(){return e.createElement(h.default,{controller:n.props.controller})},capitalLetters:function(){return e.createElement(o.default,{controller:n.props.controller})},functions:function(){return e.createElement(s.default,{controller:n.props.controller})},main:function(){return e.createElement(t.default,{controller:n.props.controller})}}))},i}(c.DCGViewBasic);u.default=g}),$("loadcss!basic/keypad/braille-example-row",function(){}),$("basic/keypad/braille-example-row",["require","exports","tslib","dcgview","dcgview-helpers/static-mathquill-view","abraham","loadcss!./braille-example-row"],function(B,u,w,e,c,t){Object.defineProperty(u,"__esModule",{value:!0});var a=e.Components.For,l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.template=function(){var s=this;return e.createElement("tr",null,e.createElement(a,{each:function(){return s.getBrailleAscii(s.props.latex())},key:function(p){return p.key}},e.createElement("td",null,function(p){return e.createElement("span",{class:e.const("dcg-key-press")},function(){return p.char})})),e.createElement("td",{class:e.const("dcg-braille-font")},function(){return s.getBrailleUnicode(s.props.latex())}),e.createElement("td",null,e.createElement(c.default,{latex:function(){return s.props.latex()}})))},o.prototype.getBrailleAscii=function(s){for(var p=t.UnicodeBraille.toExpandedBrailleAscii(this.getBrailleUnicode(s)),g=[],d=0;d<p.length;d++)g.push({char:p[d],key:d+")"+p[d]});return g},o.prototype.getBrailleUnicode=function(s){var p;return this.props.brailleMode()==="nemeth"?p=t.latexToNemeth(s):this.props.brailleMode()==="ueb"&&(p=t.latexToUeb(s)),p&&p.value?p.value:""},o}(e.Class);u.BrailleExampleRow=l}),$("loadcss!basic/keypad/braille-keypad",function(){}),$("basic/keypad/braille-keypad",["require","exports","tslib","dcgview","basic/dcgview-basic","./braille-example-row","loadcss!./braille-keypad"],function(B,u,w,e,c,t){Object.defineProperty(u,"__esModule",{value:!0});var a=function(l){function h(){return l!==null&&l.apply(this,arguments)||this}return w.__extends(h,l),h.prototype.template=function(){var o=this;return e.createElement("div",{class:function(){return{"dcg-braille-io-keypad-container":!0,"dcg-has-background-color":o.controller.hasBackgroundColor()}}},e.createElement("div",{class:e.const("dcg-braille-io-keypad")},e.createElement("div",{class:e.const("dcg-braille-description")},e.createElement("div",{class:e.const("dcg-braille-title")},function(){return o.controller.t("__mode__ is on!",{mode:o.brailleType()})}),e.createElement("div",{class:e.const("dcg-braille-info-text")},function(){return o.controller.t("Use a Refreshable Braille display, or just type Braille with a keyboard.")}),e.createElement("div",{class:e.const("dcg-blue-btn"),role:e.const("button"),tabindex:e.const(0),onTap:function(){return o.controller.dispatch({type:"set-braille-mode",mode:"none"})}},function(){return o.controller.t("Turn __mode__ off",{mode:o.brailleType()})})),e.createElement("div",{class:e.const("dcg-braille-examples-table-container")},e.createElement("table",{class:e.const("dcg-braille-examples-table")},e.createElement("tr",null,e.createElement("th",null,function(){return o.controller.t("Type this")}),e.createElement("th",null,function(){return o.brailleType()}),e.createElement("th",null,function(){return o.controller.t("Typeset")})),e.createElement(t.BrailleExampleRow,{brailleMode:function(){return o.controller.getBrailleMode()},latex:this.const("2+2")}),e.createElement(t.BrailleExampleRow,{brailleMode:function(){return o.controller.getBrailleMode()},latex:this.const("\\frac{1}{2}")}),e.createElement(t.BrailleExampleRow,{brailleMode:function(){return o.controller.getBrailleMode()},latex:this.const("\\sqrt{4}")})),e.createElement("div",{class:e.const("dcg-more-examples-link")},e.createElement("a",{href:function(){return"https://www.desmos.com/braille-examples?"+o.controller.getBrailleMode()},target:e.const("_blank")},function(){return o.controller.t("View more examples")})))))},h.prototype.brailleType=function(){return this.controller.getBrailleMode()==="nemeth"?"Nemeth":this.controller.getBrailleMode()==="ueb"?"UEB":""},h}(c.DCGViewBasic);u.default=a}),$("loadcss!basic/expression-view",function(){}),$("basic/expression-view",["require","exports","tslib","keys","core/lib/label","dcgview","lib/i18n","jquery","dcgview-helpers/static-mathquill-view","dcgview-helpers/mathquill-view","./dcgview-basic","abraham","expressions/braille-input","../lib/tooltip","../lib/abraham-helpers","loadcss!Abraham","loadcss!./expression-view"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i){Object.defineProperty(u,"__esModule",{value:!0});var n=t.Components,r=n.If,m=n.Input,y=n.Textarea,v=function(x){function E(){return x!==null&&x.apply(this,arguments)||this}return w.__extends(E,x),E.prototype.getAriaLabel=function(){var b=this.getIndex()+1+"";return this.t("Expression __index__",{index:b})},E.prototype.didUpdate=function(){this.renderAnsValue()},E.prototype.didMountMQ=function(b){this.$mq=l(b)},E.prototype.getExp=function(){return this.model.getExpressionById(this.props.id())},E.prototype.getAns=function(){return this.model.getExpressionAns(this.props.id())},E.prototype.getAnsId=function(){return this.model.getExpressionAnsId(this.props.id())},E.prototype.getLatex=function(){return this.getExp().latex},E.prototype.getValue=function(){return this.model.getExpressionValue(this.props.id())},E.prototype.getBraille=function(){var b=this.getExp().braille;if(b!=="")return b;var f=i.latexToBraille(this.getLatex(),this.controller.getBrailleMode());return f.isError?"":p.UnicodeBraille.toExpandedBrailleAscii(f.value)},E.prototype.getIndex=function(){return this.model.getExpressionIndex(this.props.id())},E.prototype.getShowEvaluation=function(){return this.model.shouldShowEvaluationForExpression(this.props.id())},E.prototype.isFractionEvaluation=function(){return this.getExp().displayAsFraction},E.prototype.canDisplayEvaluationAsFraction=function(){return this.controller.getDecimalToFraction()&&this.model.canDisplayEvaluationAsFraction(this.props.id())},E.prototype.shouldDisplayEvaluationAsFraction=function(){return this.canDisplayEvaluationAsFraction()&&this.getExp().displayAsFraction},E.prototype.toggleFractionEvaluation=function(){this.dispatch({type:"toggle-fraction-evaluation",id:this.props.id()})},E.prototype.getFractionDisplayAriaLabel=function(){return this.shouldDisplayEvaluationAsFraction()?this.controller.t("Displaying as fraction. Press Enter to display as Decimal"):this.controller.t("Displaying as decimal. Press Enter to display as Fraction")},E.prototype.getError=function(){var b=this.model.getExpressionError(this.props.id());return b&&this.getLatex().length>0?this.t(a.unpack(b)):""},E.prototype.showError=function(){return!!this.getError()},E.prototype.getFractionMessage=function(){return this.shouldDisplayEvaluationAsFraction()?this.t("Convert to decimal."):this.t("Convert to fraction.")},E.prototype.getIsFocused=function(){return!this.controller.isSettingsMenuOpen()&&this.model.isExpressionFocused(this.props.id())},E.prototype.onFocusedChanged=function(b){this.getExp()&&(b?this.dispatch({type:"focusin",id:this.props.id()}):this.dispatch({type:"focusout",id:this.props.id()}))},E.prototype.onMQReflow=function(){this.renderedAnsData=void 0,this.renderAnsValue()},E.prototype.renderAnsValue=function(){var b=this;if(this.$mq){var f=this.getAns(),S=!1,j=this.getAnsId();if(j){var Q=this.model.getExpressionById(j);S=Q&&Q.displayAsFraction}this.renderedAnsData&&this.renderedAnsData.value==f&&this.renderedAnsData.displayAsFraction===S||(this.renderedAnsData={value:f,displayAsFraction:S},this.$mq.find(".dcg-mq-ans").each(function(G,q){var L,M=l(q);typeof f=="number"?L=c.truncatedHTMLLabel(f,{digits:b.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:S}):typeof f=="string"&&(L=f),L?M.removeClass("dcg-invalid").html(L):M.addClass("dcg-invalid").html('<i class="dcg-icon-error"></i>')}))}},E.prototype.getEvaluationLatex=function(){var b=this.getValue();if(b===void 0&&(b=NaN),this.model.isRationalizableConstant(this.props.id())&&!this.shouldDisplayEvaluationAsFraction())return"";if(!Array.isArray(b)){var f=c.truncatedLatexLabel(b,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()});return f==="undefined"?"=\\mathrm{undefined}":"="+f}return"\\mathrm{"+b.length+"\\ element\\ list}"},E.prototype.getEvaluationBraille=function(){var b=this.getEvaluationLatex(),f=i.latexToBraille(b,this.controller.getBrailleMode());return f.isError?"":p.UnicodeBraille.toExpandedBrailleAscii(f.value)},E.prototype.didMountBrailleInput=function(b){this.brailleInputNode=b},E.prototype.didUnmountBrailleInput=function(){this.brailleInputNode=void 0},E.prototype.handleBrailleFocus=function(b){var f=b.target;f&&setTimeout(function(){f.setSelectionRange(0,0)})},E.prototype.handleBrailleKeydown=function(b){b.altKey||b.ctrlKey||b.metaKey||b.shiftKey||(e.lookup(b)===e.UP?(this.forceModelFocus(),this.dispatch({type:"focus-prev-expression"}),b.preventDefault()):e.lookup(b)===e.DOWN?(this.forceModelFocus(),this.dispatch({type:"focus-next-expression"}),b.preventDefault()):e.lookup(b)===e.ENTER?(this.forceModelFocus(),this.dispatch({type:"insert-blank-expression"}),b.preventDefault()):e.lookup(b)===e.BACKSPACE&&document.activeElement===this.brailleInputNode&&this.getBraille()===""&&(this.dispatch({type:"backspace-from-braille"}),b.preventDefault()))},E.prototype.forceModelFocus=function(){document.activeElement!==this.brailleInputNode&&this.onFocusedChanged(!0)},E.prototype.focusBrailleInput=function(){this.brailleInputNode&&document.activeElement!==this.brailleInputNode&&this.brailleInputNode.focus()},E.prototype.getPostLabel=function(){if(this.showError())return this.getError();if(this.getShowEvaluation()){var b=this.getValue();return b===void 0&&(b=NaN),Array.isArray(b)?b.length+" element list":"equals "+c.truncatedAriaLabel(b,{digits:this.getEvaluationDigits(),bigCutoff:1e9,displayAsFraction:this.shouldDisplayEvaluationAsFraction()})}return""},E.prototype.onBrailleInput=function(b){this.controller.isSettingsMenuOpen()&&this.controller.dispatch({type:"close-settings-menu"});var f=i.brailleToLatex(p.UnicodeBraille.coerceToSixDotCells(b),this.controller.getBrailleMode());this.dispatch({type:"update-latex-from-braille",latex:f.isError?"":f.value,braille:b,id:this.props.id()})},E.prototype.getIndexSubscript=function(){return"_{"+(this.getIndex()+1)+"}"},E.prototype.getEvaluationDigits=function(){return this.controller.isScientificCalc()?10:7},E.prototype.onMountContainer=function(b){this.containerNode=b},E.prototype.onTapContainer=function(b){b.target!==this.containerNode||this.getShowEvaluation()||this.showError()||this.forceModelFocus()},E.prototype.template=function(){var b=this;return t.createElement("div",{class:function(){return{"dcg-basic-expression":!0,"dcg-focused":b.getIsFocused(),"dcg-braille-io":b.controller.renderAsBraille()}},onTap:this.bindFn(this.onTapContainer),onMount:this.bindFn(this.onMountContainer)},t.createElement(r,{predicate:function(){return b.controller.renderAsBraille()}},function(){return t.createElement("div",{class:t.const("dcg-braille-input")},t.createElement(g.default,{ariaLabel:function(){var f=i.latexToBraille("eq"+b.getIndexSubscript(),b.controller.getBrailleMode());return f.isError?"":p.UnicodeBraille.toExpandedBrailleAscii(f.value)},didMount:b.bindFn(b.didMountBrailleInput),didUnmount:b.bindFn(b.didUnmountBrailleInput),onFocusedChanged:b.bindFn(b.onFocusedChanged),shouldFocus:b.bindFn(b.getIsFocused),onKeydown:b.bindFn(b.handleBrailleKeydown),onInput:b.bindFn(b.onBrailleInput),sixKeyInput:function(){return b.controller.getSixKeyInput()},value:function(){return b.getBraille()},isStatic:b.const(!1)}))}),t.createElement(r,{predicate:function(){return b.controller.renderAsBraille()}},function(){return t.createElement("div",{class:t.const("dcg-braille-evaluation-container")},t.createElement(r,{predicate:function(){return b.getShowEvaluation()}},function(){return t.createElement("div",{class:t.const("dcg-braille-evaluation")},t.createElement(m,{readonly:b.const("true"),class:b.const("dcg-braille-evaluation-inner"),value:function(){return b.getEvaluationBraille()},onFocus:b.bindFn(b.handleBrailleFocus),onKeydown:b.bindFn(b.handleBrailleKeydown),onInput:function(){}}))}),t.createElement(r,{predicate:function(){return b.showError()}},function(){return t.createElement("div",{class:t.const("dcg-braille-error")},t.createElement("div",{class:t.const("dcg-basic-expression-error")},t.createElement("i",{class:t.const("dcg-icon-error")})),t.createElement(y,{readonly:b.const("true"),class:b.const("dcg-braille-error-inner"),value:function(){return b.getError()},onFocus:b.bindFn(b.handleBrailleFocus),onKeydown:b.bindFn(b.handleBrailleKeydown),onInput:function(){}}))}))}),t.createElement(r,{predicate:function(){return b.controller.renderAsBraille()}},function(){return t.createElement("div",{class:t.const("dcg-exp-mathquill-container"),didMount:b.bindFn(b.didMountMQ),onTap:b.bindFn(b.forceModelFocus)},t.createElement(h.default,{latex:function(){return b.getLatex()},onReflow:b.bindFn(b.onMQReflow)}))}),t.createElement(r,{predicate:function(){return!b.controller.renderAsBraille()}},function(){return t.createElement("div",{class:t.const("dcg-exp-mathquill-container"),didMount:b.bindFn(b.didMountMQ)},t.createElement(o.default,{latex:function(){return b.getLatex()},onReflow:b.bindFn(b.onMQReflow),isFocused:b.bindFn(b.getIsFocused),capExpressionSize:function(){return b.controller.getCapExpressionSize()},config:b.const({typingAsteriskWritesTimesSymbol:b.controller.getTypingAsteriskWritesTimesSymbol(),typingSlashWritesDivisionSymbol:b.controller.getTypingSlashWritesDivisionSymbol(),disableCopyPaste:b.controller.getRestrictedEditing()}),getAriaLabel:function(){return b.getAriaLabel()},getAriaPostLabel:function(){return b.getPostLabel()},hasError:function(){return!1},onUserPressedKey:function(f,S){b.controller.isSettingsMenuOpen()&&b.controller.dispatch({type:"close-settings-menu"}),b.dispatch({type:"keypad/press-key",key:f,evt:S})},onUserTypedText:function(f){return b.dispatch({type:"keypad/type-text",text:f})},onUserChangedLatex:function(f){b.dispatch({type:"update-latex",id:b.props.id(),latex:f})},onFocusedChanged:b.bindFn(b.onFocusedChanged),disableSpace:function(){return b.controller.getRestrictedEditing()}}))}),t.createElement("div",{class:t.const("dcg-exp-output-container")},t.createElement(r,{predicate:function(){return b.showError()&&!b.controller.renderAsBraille()}},function(){return t.createElement(d.Tooltip,{tooltip:b.bindFn(b.getError),gravity:b.const("w"),targetClickBehavior:b.const("stick")},t.createElement("div",{class:t.const("dcg-basic-expression-error")},t.createElement("i",{class:t.const("dcg-icon-error")})))}),t.createElement(r,{predicate:function(){return b.getShowEvaluation()}},function(){return t.createElement("div",{class:function(){return{"dcg-basic-expression-value":!0,"dcg-basic-evaluation-gray":Array.isArray(b.getValue())}}},t.createElement(h.default,{latex:function(){return b.getEvaluationLatex()}}),t.createElement(r,{predicate:b.bindFn(b.canDisplayEvaluationAsFraction)},function(){return t.createElement(d.Tooltip,{tooltip:b.bindFn(b.getFractionMessage),gravity:b.const("s")},t.createElement("span",{role:t.const("button"),tabindex:t.const("0"),"aria-label":b.bindFn(b.getFractionDisplayAriaLabel),class:function(){return{"dcg-basic-fraction-toggle":!0,"dcg-selected":b.isFractionEvaluation()}},onTap:b.bindFn(b.toggleFractionEvaluation)},t.createElement("i",{class:t.const("dcg-icon-fraction")})))}))})))},E}(s.DCGViewBasic);u.default=v}),$("loadcss!basic/basic-list-view",function(){}),$("basic/basic-list-view",["require","exports","tslib","scroll_helpers","dcgview","./dcgview-basic","./expression-view","jquery","lib/conditional_blur","loadcss!./basic-list-view"],function(B,u,w,e,c,t,a,l,h){Object.defineProperty(u,"__esModule",{value:!0});var o=c.Components,s=o.For,p=o.If,g=function(d){function i(){var n=d!==null&&d.apply(this,arguments)||this;return n.didShowAnswerHint=!1,n.didHideAnswerHint=!1,n}return w.__extends(i,d),i.prototype.template=function(){var n=this;return c.createElement("div",{class:c.const("dcg-basic-list-container"),role:c.const("complementary"),"aria-label":function(){return n.controller.t("Expression List")},didMount:this.bindFn(this.didMountContainer)},c.createElement("div",{class:c.const("dcg-basic-list-placeholder"),didMount:this.bindFn(this.didMountPlaceholder)},c.createElement(p,{predicate:this.bindFn(this.showAnswerHint)},function(){return c.createElement("div",{class:c.const("dcg-answer-hint")},function(){return n.controller.t("Your answers show up on this side.")})})),c.createElement(s,{each:function(){return n.model.getExpressionOrder()}},c.createElement("div",{class:function(){return{"dcg-basic-list":!0,"dcg-projector-mode":n.controller.isProjectorMode()}}},function(r){return c.createElement(a.default,{controller:n.props.controller,id:n.const(r)})})))},i.prototype.didMountPlaceholder=function(n){l(n).on("dcg-tap",h.default)},i.prototype.showAnswerHint=function(){if(this.didHideAnswerHint)return!1;var n=this.model.getExpressionOrder()[0];return!(!this.model.shouldShowEvaluationForExpression(n)&&!this.didShowAnswerHint)&&(this.didShowAnswerHint=!0,!(this.model.getNumberOfExpressions()>1||this.model.getExpressionLatex(n)==="")||(this.didHideAnswerHint=!0,!1))},i.prototype.didUpdate=function(){if(this.$container){var n=this.$container.find(".dcg-focused");n.length>0&&e.scrollVisible(n,this.$container,50)}},i.prototype.didMountContainer=function(n){this.$container=l(n)},i}(t.DCGViewBasic);u.default=g}),$("loadcss!basic/main",function(){}),$("basic/main",["require","exports","tslib","browser","keys","dcgview","./dcgview-basic","jquery","./keypad/fourfunction-control-bar","./keypad/single-expression-fourfunction-control-bar","./keypad/scientific-control-bar","./keypad/single-expression-scientific-control-bar","./keypad/fourfunction-keypad","./keypad/single-expression-fourfunction-keypad","./keypad/single-expression-scientific-keypad","./keypad/scientific-keypad","./keypad/braille-keypad","./basic-list-view","lib/aria","touchtracking","loadcss!desmos-icons","loadcss!./main","loadcss!dcg-normalize"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n,r,m,y,v){Object.defineProperty(u,"__esModule",{value:!0});var x=t.Components,E=x.If,b=x.IfElse,f=function(S){function j(){return S!==null&&S.apply(this,arguments)||this}return w.__extends(j,S),j.prototype.template=function(){var Q=this;return t.createElement(E,{predicate:function(){return Q.controller.shouldRender()}},function(){return t.createElement("div",{class:t.const("dcg-calculator-api-container"),style:t.const("width: 100%; height: 100%; position: relative;")},t.createElement("div",{class:function(){return{"dcg-calc-basic-main-wrapper":!0,"dcg-narrow":Q.controller.containerSize.width<570,"dcg-short":Q.controller.containerSize.height<=540,"dcg-scientific-calculator":Q.controller.isScientificCalc(),"dcg-four-function-calculator":Q.controller.isFourFunctionCalc(),"dcg-container":!0}},onKeydown:Q.bindFn(Q.handleRootKeydown),didMount:Q.bindFn(Q.didMountRoot),"x-ms-format-detection":t.const("none")},t.createElement("div",{role:t.const("application"),"aria-label":function(){return Q.controller.isScientificCalc()?Q.controller.t("Desmos Scientific Calculator"):Q.controller.isFourFunctionCalc()?Q.controller.t("Desmos Four-Function Calculator"):""},class:function(){return{"dcg-calc-basic-main":!0,"dcg-inverted-colors":Q.controller.getInvertedColors(),"dcg-projector-mode":Q.controller.isProjectorMode(),"dcg-ipad":e.IS_IPAD,"dcg-has-background-color":Q.controller.hasBackgroundColor(),"dcg-no-hyperlinks":!Q.controller.getAllowLinks()}},style:function(){return{"font-size":Q.controller.getFontSize()+"px",background:Q.controller.getBackgroundColor(),color:Q.controller.getTextColor(),filter:Q.controller.getInvertedColors()?"invert(100%)":"none"}}},t.createElement(m.default,{controller:Q.props.controller}),t.createElement(E,{predicate:function(){return Q.controller.isScientificCalc()&&Q.model.isSingleExpression()}},function(){return t.createElement("div",null,t.createElement(p.default,{controller:Q.props.controller}),t.createElement("div",{class:t.const("dcg-basic-keypad-container")},b(function(){return Q.controller.renderAsBraille()},{true:function(){return t.createElement(r.default,{controller:Q.props.controller})},false:function(){return t.createElement(i.default,{controller:Q.props.controller})}})))}),t.createElement(E,{predicate:function(){return Q.controller.isScientificCalc()&&!Q.model.isSingleExpression()}},function(){return t.createElement("div",null,t.createElement(s.default,{controller:Q.props.controller}),t.createElement("div",{class:t.const("dcg-basic-keypad-container")},b(function(){return Q.controller.renderAsBraille()},{true:function(){return t.createElement(r.default,{controller:Q.props.controller})},false:function(){return t.createElement(n.default,{controller:Q.props.controller})}})))}),t.createElement(E,{predicate:function(){return Q.controller.isFourFunctionCalc()&&Q.model.isSingleExpression()}},function(){return t.createElement("div",null,t.createElement(o.default,{controller:Q.props.controller}),t.createElement("div",{class:t.const("dcg-basic-keypad-container")},b(function(){return Q.controller.renderAsBraille()},{true:function(){return t.createElement(r.default,{controller:Q.props.controller})},false:function(){return t.createElement(d.default,{controller:Q.props.controller})}})))}),t.createElement(E,{predicate:function(){return Q.controller.isFourFunctionCalc()&&!Q.model.isSingleExpression()}},function(){return t.createElement("div",null,t.createElement(h.default,{controller:Q.props.controller}),t.createElement("div",{class:t.const("dcg-basic-keypad-container")},b(function(){return Q.controller.renderAsBraille()},{true:function(){return t.createElement(r.default,{controller:Q.props.controller})},false:function(){return t.createElement(g.default,{controller:Q.props.controller})}})))}))))})},j.prototype.didMountRoot=function(Q){v.monitor(Q)},j.prototype.handleRootKeydown=function(Q){if(c.isUndo(Q))return this.dispatch({type:"undo",source:"keyboard-shortcut"}),!1;if(c.isRedo(Q))return this.dispatch({type:"redo",source:"keyboard-shortcut"}),!1;if(!Q.metaKey&&!Q.shiftKey){if(Q.ctrlKey||Q.altKey||c.lookup(Q)!==c.BACKSPACE){if(Q.ctrlKey===e.IS_APPLE&&Q.altKey===!e.IS_APPLE){var G=c.lookupChar(Q);if(G==="N")return this.dispatch({type:"set-braille-mode",mode:"nemeth"}),y.alert(this.controller.t("Braille mode Nemeth")),!1;if(G==="U")return this.dispatch({type:"set-braille-mode",mode:"ueb"}),y.alert(this.controller.t("Braille mode UEB")),!1;if(G==="Q"||G==="X")return this.dispatch({type:"set-braille-mode",mode:"none"}),y.alert(this.controller.t("Braille mode off")),!1;if(G==="6"){var q=!this.controller.getSixKeyInput();return this.dispatch({type:"set-six-key-input",mode:q}),y.alert(q?this.controller.t("Six Key Braille Input on"):this.controller.t("Six Key Braille Input off")),!1}}}else if(!document.activeElement||v.elIsFocusable(l(document.activeElement)))return!1}return!0},j}(a.DCGViewBasic);u.default=f}),$("api/basic",["require","exports","tslib","dcgview","./abstract","main/shared-worker-pool","basic/controller","basic/main","core/lib/color-helpers","underscore_model","core/lib/deepCopy","lib/console"],function(B,u,w,e,c,t,a,l,h,o,s,p){Object.defineProperty(u,"__esModule",{value:!0});var g=function(d){function i(n){return d.call(this,n)||this}return w.__extends(i,d),i.prototype.init=function(n){var r=this;n=s.default(n),n.backgroundColor&&!h.isValidHexColor(n.backgroundColor)&&(p.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)"),delete n.backgroundColor),n.textColor&&!h.isValidHexColor(n.textColor)&&(p.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)"),delete n.textColor);var m=w.__assign({qwertyKeyboard:!0,links:!0,degreeMode:!1,settingsMenu:!0,invertedColors:!1,backgroundColor:"#fff",textColor:"#000",brailleMode:"none",sixKeyInput:!1,brailleExpressionDownload:!0,projectorMode:!1,capExpressionSize:!1,functionDefinition:!0,autosize:!0,evaluationMode:"scientific",restrictedEditing:!1,additionalFunctions:["sqrt"],typingSlashWritesDivisionSymbol:!1,typingAsteriskWritesTimesSymbol:!1,decimalToFraction:!0,replaceCommaWith10Exp:!1,replaceRoundWithReciprocal:!1},n);this.settings=new o.UnderscoreModel;var y={workerPool:t.default,settingsProxy:this.settings};this.controller=new a.default(m,y),this.controller.onEventEmitted=function(v){v==="render"&&r.updateView(),r.triggerEvent(v,void 0)},this.setupDomChangeDetector(m.autosize)},i.prototype.onCreateView=function(){return e.mountToNode(l.default,this.rootElt,{controller:e.const(this.controller)})},i.prototype.setState=function(n,r){r||(r={}),this.controller.dispatch({type:"set-state-from-api",state:n,opts:{allowUndo:!!r.allowUndo}})},i.prototype.getState=function(){return s.default(this.controller.model.getPersistedState())},i.prototype.undo=function(){this.controller.dispatch({type:"undo",source:"api"})},i.prototype.redo=function(){this.controller.dispatch({type:"redo",source:"api"})},i.prototype.clearHistory=function(){this.controller.dispatch({type:"clear-history"})},i.prototype.setBlank=function(n){n||(n={}),this.controller.dispatch({type:"set-blank",opts:{allowUndo:!!n.allowUndo}})},i.prototype.updateSettings=function(n){if(n!=null)for(var r in n)switch(r){case"fontSize":var m=n[r];if(m===void 0)continue;this.controller.dispatch({type:"update-font-size",size:m});break;case"invertedColors":var y=n[r];if(y===void 0)continue;this.controller.dispatch({type:"update-inverted-colors",mode:y});break;case"backgroundColor":var v=n[r];if(v===void 0||!h.isValidHexColor(v)){p.warn("Invalid backgroundColor. Background color must be a 3- or 6-character hex color (e.g. #cde or #ffaaaa)");continue}this.controller.dispatch({type:"update-background-color",color:v});break;case"textColor":var x=n[r];if(x===void 0||!h.isValidHexColor(x)){p.warn("Invalid textColor. Text color must be a 3- or 6-character hex color (e.g. #000 or #001111)");continue}this.controller.dispatch({type:"update-text-color",color:x});break;case"degreeMode":var E=n[r];if(E===void 0)continue;this.controller.dispatch({type:"update-degree-mode",mode:E});break;case"brailleMode":var b=n[r];this.controller.dispatch({type:"set-braille-mode",mode:b});break;case"sixKeyInput":var f=n[r];if(f===void 0)continue;this.controller.dispatch({type:"set-six-key-input",mode:f});break;case"brailleExpressionDownload":var S=n[r];if(S===void 0)continue;this.controller.dispatch({type:"set-braille-expression-download",mode:S});break;case"projectorMode":var j=n[r];if(j===void 0)continue;this.controller.dispatch({type:"update-projector-mode",mode:j});break;case"capExpressionSize":var Q=n[r];if(Q===void 0)continue;this.controller.dispatch({type:"update-cap-expression-size",mode:Q});break;case"language":var G=n[r];if(G===void 0)continue;this.controller.dispatch({type:"update-language",language:G});break;case"settingsMenu":n.settingsMenu?this.controller.dispatch({type:"enable-settings-menu"}):this.controller.dispatch({type:"disable-settings-menu"});break;case"qwertyKeyboard":this.controller.dispatch({type:"update-options",options:{qwertyKeyboard:!!n.qwertyKeyboard}});var q=this.controller.getKeyboardMode();q!=="qwerty"&&q!=="letters"||this.controller.dispatch({type:"ABC"});break;case"functionDefinition":n.functionDefinition?this.controller.model.enableFunctionDefinition():this.controller.model.disableFunctionDefinition();break;case"links":this.controller.dispatch({type:"update-options",options:{links:!!n.links}});break;case"decimalToFraction":var L=n[r];if(L===void 0)continue;this.controller.dispatch({type:"update-decimal-to-fraction",mode:L});break;case"replaceCommaWith10Exp":var M=n[r];if(M===void 0)continue;this.controller.dispatch({type:"set-replace-comma-with-10-exp",replace:M});break;case"replaceRoundWithReciprocal":var D=n[r];if(D===void 0)continue;this.controller.dispatch({type:"set-replace-round-with-reciprocal",replace:D});break;case"restrictedEditing":this.controller.dispatch({type:"update-options",options:{restrictedEditing:!!n.restrictedEditing}});break;case"typingAsteriskWritesTimesSymbol":var V=n[r];if(V===void 0)continue;this.controller.dispatch({type:"set-typing-asterisk-writes-times-symbol",mode:V})}},i.prototype.focusFirstExpression=function(){this.controller.dispatch({type:"focus-first-expression"})},i.prototype.onResizeView=function(n){this.controller.dispatch({type:"ui/container-resized",size:n})},i.prototype.onDestroyView=function(){e.unmountFromNode(this.rootElt)},i.prototype.destroy=function(){this.controller.model.destroy(),d.prototype.destroy.call(this)},i}(c.default);u.BasicCalculator=g}),$("api/fourfunction",["require","exports","tslib","./basic","core/lib/deepCopy","lib/console"],function(B,u,w,e,c,t){function a(h){if(h=c.default(h),h.hasOwnProperty("typingSlashWritesDivisionSymbol")||(h.typingSlashWritesDivisionSymbol=!0),h.hasOwnProperty("typingAsteriskWritesTimesSymbol")||(h.typingAsteriskWritesTimesSymbol=!0),h.exponentButtonForSquareRoot&&(t.warn(`As of API version 1.0, the 'exponentButtonForSquareRoot' option is deprecated.Use 'additionalFunctions: "exponent"' instead.`),h.additionalFunctions=["exponent"]),h.additionalFunctions){var o=h.additionalFunctions;typeof o=="string"&&(o=[o]),o.length>2&&(t.warn("additionalFunctions can only take up to 2 new functions. Using the first two."),o=o.slice(0,2));for(var s=!0,p=0;p<o.length;p++)["sqrt","exponent","percent"].indexOf(o[p])===-1&&(t.warn("Unrecognized value: '"+o[p]+`' for 'additionalFunction'. Valid values are 'sqrt', 'percent', or 'exponent'. Using default ("sqrt")`),s=!1);h.additionalFunctions=s?o:["sqrt"]}return h.additionalFunctions&&h.additionalFunctions.length||(h.additionalFunctions=["sqrt"]),h.singleExpression?h.evaluationMode="singleExpressionFourFunction":h.evaluationMode="fourFunction",delete h.singleExpression,h.hasOwnProperty("decimalToFraction")||(h.decimalToFraction=!1),h}Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(s,p){var g=h.call(this,s)||this;return g instanceof o?(g.init(a(p||{})),g):new o(s,p)}return w.__extends(o,h),o}(e.BasicCalculator);u.default=l}),$("api/scientific",["require","exports","tslib","./basic","core/lib/deepCopy"],function(B,u,w,e,c){function t(l){return l=c.default(l),l.singleExpression?l.evaluationMode="singleExpressionScientific":l.evaluationMode="scientific",delete l.singleExpression,l}Object.defineProperty(u,"__esModule",{value:!0});var a=function(l){function h(o,s){var p=l.call(this,o)||this;return p instanceof h?(p.init(t(s||{})),p):new h(o,s)}return w.__extends(h,l),h}(e.BasicCalculator);u.default=a}),$("pillow-keypad/controller",["require","exports","flux","keypad/mq-commands","lib/i18n"],function(B,u,w,e,c){Object.defineProperty(u,"__esModule",{value:!0});var t=function(){function a(){var l=this;this.keyboardMode="main",this.dispatcher=new w.Dispatcher,this.t=function(h,o){return c.t(h,o)},this.dispatch=function(h){l.dispatcher.dispatch(h);for(var o;o=l._queuedCallbacks.shift();)o()},this._queuedCallbacks=[],this.dispatcher=new w.Dispatcher,this.hookUpDispatcher()}return a.prototype.getBackgroundColor=function(){return"does-not-matter"},a.prototype.runAfterDispatch=function(l){this._queuedCallbacks.push(l)},a.prototype.enqueueEvent=function(l){var h=this;this.runAfterDispatch(function(){h.onEventEmitted&&h.onEventEmitted(l)})},a.prototype.getKeyboardMode=function(){return this.keyboardMode},a.prototype.updateKeyboardMode=function(l){this.keyboardMode=l},a.prototype.typeIntoFocusedMathquill=function(l){l=l.replace(/\r|\n/g,"");var h=this.activeMQ;h&&h.typedText(l)},a.prototype.pressKeyInFocusedMathquill=function(l,h){var o=this.activeMQ;if(o)return l==="Enter"?(h&&(h.preventDefault(),h.stopPropagation()),void this.enqueueEvent("enter")):void o.keystroke(l,h)},a.prototype.executeCommandInFocusedMathquill=function(l){var h=this.activeMQ;h&&e.execute(h,l)},a.prototype.hookUpDispatcher=function(){var l=this;this.dispatcher.register(function(h){switch(l.enqueueEvent("render"),h.type){case"hide-keypad":l.enqueueEvent("hide-keypad");break;case"set-active-mq":l.activeMQ=h.mq;break;case"keypad/shift":l.updateKeyboardMode(l.keyboardMode==="capitalQwerty"?"qwerty":"capitalQwerty");break;case"main":l.updateKeyboardMode("main");break;case"ABC":l.updateKeyboardMode("qwerty");break;case"functions":l.updateKeyboardMode("functions");break;case"keypad/type-text":l.typeIntoFocusedMathquill(h.text);break;case"keypad/press-key":l.pressKeyInFocusedMathquill(h.key,h.evt);break;case"keypad/custom-command":l.executeCommandInFocusedMathquill(h.command);break;case"keypad/123":case"keypad/abc":break;default:return h}})},a}();u.default=t}),$("pillow-keypad/dcgview-pillow-keypad",["require","exports","tslib","dcgview"],function(B,u,w,e){Object.defineProperty(u,"__esModule",{value:!0});var c=function(t){function a(){return t!==null&&t.apply(this,arguments)||this}return w.__extends(a,t),a.prototype.init=function(){this.controller=this.props.controller(),this.dispatch=this.controller.dispatch,this.t=this.controller.t},a}(e.Class);u.DCGViewPillowKeypad=c}),$("pillow-keypad/main-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(t.default,{controller:this.props.controller},e.createElement(a.default,null,c.view(this,"left",{style:"highlight"}),c.view(this,"right",{style:"highlight"}),c.view(this,"x"),c.view(this,"y"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),c.view(this,"7",{style:"highlight"}),c.view(this,"8",{style:"highlight"}),c.view(this,"9",{style:"highlight"}),c.view(this,"/"),c.view(this,"backspace",{style:"highlight"})),e.createElement(a.default,null,c.view(this,"("),c.view(this,")"),c.view(this,"<"),c.view(this,">"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),c.view(this,"4",{style:"highlight"}),c.view(this,"5",{style:"highlight"}),c.view(this,"6",{style:"highlight"}),c.view(this,"*"),c.view(this,"pi")),e.createElement(a.default,null,c.view(this,"sqrt"),c.view(this,","),c.view(this,"<="),c.view(this,">="),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),c.view(this,"1",{style:"highlight"}),c.view(this,"2",{style:"highlight"}),c.view(this,"3",{style:"highlight"}),c.view(this,"-"),c.view(this,"enter",{style:"tall-blue"})),e.createElement(a.default,null,c.view(this,"a^2"),c.view(this,"a^b"),c.view(this,"|a|"),c.view(this,"a/b"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),c.view(this,"0",{style:"highlight"}),c.view(this,".",{style:"highlight"}),c.view(this,"="),c.view(this,"+"),c.spacer(1)))},s}(l.DCGViewPillowKeypad);u.default=h}),$("pillow-keypad/qwerty-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(t.default,{controller:this.props.controller},e.createElement(a.default,null,c.view(this,"q"),c.view(this,"w"),c.view(this,"e"),c.view(this,"r"),c.view(this,"t"),c.view(this,"y"),c.view(this,"u"),c.view(this,"i"),c.view(this,"o"),c.view(this,"p")),e.createElement(a.default,null,e.createElement("div",{class:e.const("dcg-half-width-placeholder")}),c.view(this,"a"),c.view(this,"s"),c.view(this,"d"),c.view(this,"f"),c.view(this,"g"),c.view(this,"h"),c.view(this,"j"),c.view(this,"k"),c.view(this,"l"),e.createElement("div",{class:e.const("dcg-half-width-placeholder")})),e.createElement(a.default,null,c.view(this,"shift",{style:"highlight"}),c.view(this,"z"),c.view(this,"x"),c.view(this,"c"),c.view(this,"v"),c.view(this,"b"),c.view(this,"n"),c.view(this,"m"),c.view(this,","),c.view(this,"backspace",{style:"highlight"})),e.createElement(a.default,null,c.view(this,"="),c.view(this,"{"),c.view(this,"}"),c.view(this,"["),c.view(this,"]"),c.view(this,"!"),c.view(this,"'"),c.view(this,"pi"),c.view(this,"enter",{style:"blue"})))},s}(l.DCGViewPillowKeypad);u.default=h}),$("pillow-keypad/capital-qwerty-keypad",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","keypad/keys","keypad/keypad","keypad/row"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(a.default,{controller:this.props.controller},e.createElement(l.default,null,t.view(this,"Q"),t.view(this,"W"),t.view(this,"E"),t.view(this,"R"),t.view(this,"T"),t.view(this,"Y"),t.view(this,"U"),t.view(this,"I"),t.view(this,"O"),t.view(this,"P")),e.createElement(l.default,null,e.createElement("div",{class:e.const("dcg-half-width-placeholder")}),t.view(this,"A"),t.view(this,"S"),t.view(this,"D"),t.view(this,"F"),t.view(this,"G"),t.view(this,"H"),t.view(this,"J"),t.view(this,"K"),t.view(this,"L"),e.createElement("div",{class:e.const("dcg-half-width-placeholder")})),e.createElement(l.default,null,t.view(this,"shift",{style:"highlight"}),t.view(this,"Z"),t.view(this,"X"),t.view(this,"C"),t.view(this,"V"),t.view(this,"B"),t.view(this,"N"),t.view(this,"M"),t.view(this,","),t.view(this,"backspace",{style:"highlight"})),e.createElement(l.default,null,t.view(this,"="),t.view(this,"("),t.view(this,")"),t.view(this,"["),t.view(this,"]"),t.view(this,"!"),t.view(this,"'"),t.view(this,"pi"),t.view(this,"enter",{style:"blue"})))},s}(c.DCGViewPillowKeypad);u.default=h}),$("pillow-keypad/functions-keypad",["require","exports","tslib","dcgview","keypad/keys","keypad/keypad","keypad/row","./dcgview-pillow-keypad"],function(B,u,w,e,c,t,a,l){Object.defineProperty(u,"__esModule",{value:!0});var h=function(o){function s(){return o!==null&&o.apply(this,arguments)||this}return w.__extends(s,o),s.prototype.template=function(){return e.createElement(t.default,{controller:this.props.controller},e.createElement(a.default,null,c.view(this,"sin"),c.view(this,"cos"),c.view(this,"tan"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),c.view(this,"ln"),c.view(this,"log"),c.view(this,"backspace",{style:"highlight"})),e.createElement(a.default,null,c.view(this,"arcsin"),c.view(this,"arccos"),c.view(this,"arctan"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),c.view(this,"e^x"),c.view(this,"abs"),c.view(this,"round")),e.createElement(a.default,null,c.view(this,"mean"),c.view(this,"stdev"),c.view(this,"stdevp"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),c.view(this,"a^b"),c.view(this,"sqrt"),c.view(this,"nthroot")),e.createElement(a.default,null,c.view(this,"nPr"),c.view(this,"nCr"),c.view(this,"!"),e.createElement("div",{class:e.const("dcg-partition-placeholder")}),c.view(this,"e"),c.view(this,"%"),c.view(this,"enter",{style:"blue"})))},s}(l.DCGViewPillowKeypad);u.default=h}),$("pillow-keypad/control-bar",["require","exports","tslib","dcgview","keypad/control-bar","keypad/control-btn","./dcgview-pillow-keypad"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(){return h!==null&&h.apply(this,arguments)||this}return w.__extends(o,h),o.prototype.template=function(){var s=this.props.controller();return e.createElement(c.default,{controller:this.props.controller},e.createElement(t.default,{command:this.const("main"),selected:function(){return s.getKeyboardMode()==="main"},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return s.dispatch({type:"main"})}},function(){return s.t("main")}),e.createElement(t.default,{command:this.const("ABC"),selected:function(){return["qwerty","capitalQwerty"].indexOf(s.getKeyboardMode())!==-1},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),ariaLabel:function(){return s.t("A B C")},onTap:function(){return s.dispatch({type:"ABC"})}},function(){return s.t("abc")}),e.createElement(t.default,{command:this.const("functions"),selected:function(){return["functions","restrictedFunctions"].indexOf(s.getKeyboardMode())!==-1},ariaLabel:function(){return s.t("Functions")},ignoreInTabOrder:this.const(!0),selectable:this.const(!0),onTap:function(){return s.dispatch({type:"functions"})}},function(){return s.t("func")}),e.createElement("div",{class:e.const("dcg-hide-keypad-button"),"dcg-command":e.const("hide-keypad"),onTap:function(){return s.dispatch({type:"hide-keypad"})}},e.createElement("i",{class:e.const("dcg-icon-hide")})))},o}(a.DCGViewPillowKeypad);u.default=l}),$("loadcss!pillow-keypad/main",function(){}),$("pillow-keypad/main",["require","exports","tslib","dcgview","./dcgview-pillow-keypad","./main-keypad","./qwerty-keypad","./capital-qwerty-keypad","./functions-keypad","./control-bar","touchtracking","loadcss!./main"],function(B,u,w,e,c,t,a,l,h,o,s){Object.defineProperty(u,"__esModule",{value:!0});var p=e.Components.Switch,g=function(d){function i(){return d!==null&&d.apply(this,arguments)||this}return w.__extends(i,d),i.prototype.template=function(){var n=this;return e.createElement("div",{class:e.const("dcg-calculator-api-container"),style:e.const("width: 100%; height: 100%; position: relative;")},e.createElement("div",{class:e.const("dcg-do-not-blur dcg-container dcg-api-shared-keypad-root"),didMount:this.bindFn(this.didMountRoot)},e.createElement(o.default,{controller:this.props.controller}),e.createElement("div",{role:e.const("group"),"aria-label":function(){return n.t("keypad")}},e.createElement(p,{key:function(){return n.controller.getKeyboardMode()}},function(r){switch(r){case"qwerty":return e.createElement(a.default,{controller:n.props.controller});case"capitalQwerty":return e.createElement(l.default,{controller:n.props.controller});case"functions":return e.createElement(h.default,{controller:n.props.controller});default:return e.createElement(t.default,{controller:n.props.controller})}}))))},i.prototype.didMountRoot=function(n){s.monitor(n)},i}(c.DCGViewPillowKeypad);u.default=g}),$("api/pillow-keypad",["require","exports","tslib","dcgview","./abstract","pillow-keypad/controller","pillow-keypad/main"],function(B,u,w,e,c,t,a){Object.defineProperty(u,"__esModule",{value:!0});var l=function(h){function o(s){var p=h.call(this,s)||this;return p instanceof o?(p.init(),p):new o(s)}return w.__extends(o,h),o.prototype.init=function(){var s=this;this.controller=new t.default,this.controller.onEventEmitted=function(p){p==="render"&&s.updateView(),s.triggerEvent(p,void 0)},this.setupDomChangeDetector(!0)},o.prototype.setActiveMathquill=function(s){this.controller.dispatch({type:"set-active-mq",mq:s})},o.prototype.onCreateView=function(){return e.mountToNode(a.default,this.rootElt,{controller:e.const(this.controller)})},o.prototype.onResizeView=function(s){},o.prototype.onDestroyView=function(){e.unmountFromNode(this.rootElt)},o.prototype.destroy=function(){h.prototype.destroy.call(this)},o}(c.default);u.default=l}),$("core/cl-calculator",["require","exports","core/graphing-calc/migrate-state","core/graphing-calc/json/expression","core/graphing-calc/json/table"],function(B,u,w,e,c){function t(a){function l(i){switch(i.type){case void 0:case"expression":var n=e.computeParsableState(e.inflateDefaults(i));o[n.id]=n;break;case"table":var n=c.computeParsableState(c.inflateDefaults(i));o[n.id]=n;break;case"folder":case"text":case"image":break;default:return i}}for(var h=w.migrateToLatest(a),o={},s=h.graph.degreeMode,p=h.randomSeed,g=0,d=h.expressions.list;g<d.length;g++)l(d[g]);return{setExpression:function(i){l(i)},getChangeSet:function(){return{statements:o,isCompleteState:!0,degreeMode:s,globalRandomSeed:p}}}}Object.defineProperty(u,"__esModule",{value:!0}),u.CLCalculator=t}),$("core/math/tree-queries/count-numbers",["require","exports"],function(B,u){function w(e,c){switch(e.type){case"Mul":case"Div":case"Prime":case"Call":case"ImplicitCall":case"Dot":case"Pipes":case"Sqrt":case"Nthroot":case"Frac":case"Derivative":case"Integral":case"EmptyIntegral":case"Sum":case"Product":case"Piecewise":case"Paren":case"Juxt":case"Superscript":case"Bang":case"Index":case"Equals":case"Inequality":case"Tilde":case"Pos":case"Neg":case"Add":case"Sub":case"List":case"Seq":case"Colon":case"Ellipsis":case"PercentOf":for(var l=0,t=0,a=e.args;t<a.length;t++)l+=w(a[t],c);return l;case"Decimal":return c===void 0||parseFloat(e.val)===c?1:0;case"MixedNumber":if(c===void 0)return 3;var l=0;return parseFloat(e.whole)===c&&(l+=1),parseFloat(e.num)===c&&(l+=1),parseFloat(e.den)===c&&(l+=1),l;case"Letter":case"EmptyPiecewise":case"Cmd":return 0;case"Subscript":return w(e.args[0],c);case"InequalityChain":var l=0;l+=w(e.first,c);for(var h=0,o=e.chain;h<o.length;h++)l+=w(o[h].args[0],c);return l;default:throw"Unexpected surface node "+e.type+"."}}Object.defineProperty(u,"__esModule",{value:!0}),u.countNumbers=w}),$("core/mathtools",["require","exports","parser","core/math/context","core/math/builtinframe","core/math/types","parsenodes","core/cl-calculator","core/math/parser/latex-parser","core/math/parser/expression-parser","core/math/tree-queries/count-numbers","core/lib/color-helpers","core/math/policyGraphing","core/math/policyScientific","core/math/policyFourFunction","core/lib/label"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n){function r(y,v){return y!=null||(y=""),w.parse(y,v)}function m(y){if(y!=null)return o.parse(h.parse(y))}Object.defineProperty(u,"__esModule",{value:!0}),u.CLCalculator=l.CLCalculator,u.colorHelpers=p,u.Label=n,u.parser={parse:r},u.expressionParser={parse:m},u.treeQueries={countNumbers:s.countNumbers},u.context=e,u.builtInFrame=c,u.types=t,u.parseNodes=a,u.policies={graphing:g.PolicyGraphing,scientific:d.PolicyScientific,fourFunction:i.PolicyFourFunction}}),$("api/calculator",["require","exports","mathquill","tslib","graphing/clipping","expressions/colors","graphing-calc/api/sanitize-expression","core/graphing-calc/json/graph-settings","main/font_sizes","expressions/image_file_to_data_url","./graphing","./headless","./fourfunction","./scientific","./pillow-keypad","core/mathtools"],function(B,u,w,e,c,t,a,l,h,o,s,p,g,d,i,n){function r(x){var E=y.enabledFeatures;return!E||E[x]}function m(x){u.DesmosAPI[x]=function(){throw new Error("The Desmos "+x+" is not enabled for this API key.")}}Object.defineProperty(u,"__esModule",{value:!0});var y;typeof Et<"u"?y=Et:(y={},window.Desmos=y),u.GraphingCalculator=s.default,u.HeadlessGraphingCalculator=p.default,u.FourFunctionCalculator=g.default,u.ScientificCalculator=d.default,u.PillowKeypad=i.default,u.DesmosAPI={Colors:{RED:t.RED,BLUE:t.BLUE,GREEN:t.GREEN,ORANGE:t.ORANGE,PURPLE:t.PURPLE,BLACK:t.BLACK},imageFileToDataURL:o.imageFileToDataURL,supportedLanguages:y.locales?Object.keys(y.locales):[],Styles:e.__assign(e.__assign({},a.SanitizedLineStyle),a.SanitizedPointStyle),ColumnModes:a.SanitizedColumnMode,DragModes:a.SanitizedDragMode,AxisArrowModes:l.AxisArrowModes,FontSizes:h,LabelSizes:a.SanitizedLabelSize,LabelOrientations:a.SanitizedLabelOrientation,GraphingCalculator:s.default,Calculator:s.default,FourFunctionCalculator:g.default,ScientificCalculator:d.default,Private:{Mathtools:n,Graphtools:{getClippingGraphType:c.getClippingGraphType,mapSegmentToCanvas:c.mapSegmentToCanvas}},MathQuill:w,PillowKeypad:i.default,HeadlessGraphingCalculator:p.default},r("GraphingCalculator")||(m("GraphingCalculator"),m("Calculator")),r("FourFunctionCalculator")||m("FourFunctionCalculator"),r("ScientificCalculator")||m("ScientificCalculator");for(var v in u.DesmosAPI)u.DesmosAPI.hasOwnProperty(v)&&(y[v]=u.DesmosAPI[v]);u.Calculator=s.default}),$("main/noconflict",["require","jquery","underscore"],function(B){var u=B("jquery"),w=B("underscore");return typeof Et>"u"&&(Et={}),function(){Et.$=u,Et._=w,Et.$.noConflict(!0),Et._.noConflict()}}),typeof Et>"u"&&(Et={}),Et.require=on,Et.requirejs=Tn,on.isBrowser||function(){var B=on("worker_src"),u={define:$,require:on,requirejs:Tn};new Function("ALMOND_OVERRIDES",B)(u)}(),$("toplevel/api",["require","api/calculator","main/noconflict"],function(B){B("api/calculator"),B("main/noconflict")()})}(),Et.require("toplevel/api")}()})(typeof window!==void 0?window:this||{})})()}(xr)),xr.exports}var Vr=Gr();const Yr=jr(Vr),Kr=({expressions:Yn})=>{const _n=vr.useRef(null),kn=vr.useRef(null);return vr.useEffect(()=>{const Cn=_n.current;if(!Cn)return;const Dn=Yr.GraphingCalculator(Cn,{expressions:!0,keypad:!0});return kn.current=Dn,Yn.forEach((hn,Et)=>{Dn.setExpression({id:`expr-${Et}`,latex:hn})}),()=>{var hn,Et;(Et=(hn=kn.current)==null?void 0:hn.destroy)==null||Et.call(hn),kn.current=null}},[Yn]),Ur.jsx("div",{ref:_n,role:"img","aria-label":"Interactive graph",className:"w-full h-96 rounded border bg-white shadow-sm"})};export{Kr as default};
